(self.webpackChunkangular_test=self.webpackChunkangular_test||[]).push([[179],{308:(fi,wi,ut)=>{"use strict";var pr={};ut.r(pr),ut.d(pr,{Curve:()=>Hn,Ellipse:()=>oo,Line:()=>it,Path:()=>mt,Point:()=>ce,Polyline:()=>gr,Rect:()=>Qe,bezier:()=>hG,ellipse:()=>aG,line:()=>xd,normalizeAngle:()=>Fl,point:()=>Yp,random:()=>Dw,rect:()=>lN,scale:()=>nG,snapToGrid:()=>Sd,toDeg:()=>g0,toRad:()=>Io});var U={};ut.r(U),ut.d(U,{absolute:()=>RG,bottom:()=>zG,ellipse:()=>UG,ellipseSpread:()=>GG,fn:()=>LG,left:()=>BG,line:()=>FG,right:()=>jG,top:()=>VG});var _r={};ut.r(_r),ut.d(_r,{bottom:()=>XG,inside:()=>JG,insideOriented:()=>KG,left:()=>HG,manual:()=>ZG,outside:()=>qG,outsideOriented:()=>$G,radial:()=>QG,radialOriented:()=>eU,right:()=>WG,top:()=>YG});var It={};ut.r(It),ut.d(It,{Circle:()=>Zw,Ellipse:()=>oU,Generic:()=>Vn,Image:()=>uU,Path:()=>GN,Polygon:()=>aU,Polyline:()=>lU,Rect:()=>rU,Rhombus:()=>cU,Text:()=>sU,TextBlock:()=>dU,TextBlockView:()=>fU,TextView:()=>iU});var xe={};ut.r(xe),ut.d(xe,{BorderedImage:()=>vU,Circle:()=>hU,Cylinder:()=>IU,DoubleLink:()=>MU,Ellipse:()=>Hw,EmbeddedImage:()=>yU,HeaderedRectangle:()=>bU,Image:()=>mU,InscribedImage:()=>CU,Link:()=>HN,Path:()=>gU,Polygon:()=>ZN,Polyline:()=>pU,Rectangle:()=>UN,ShadowLink:()=>EU,TextBlock:()=>DU});var vn={};ut.r(vn),ut.d(vn,{Atomic:()=>SU,Coupled:()=>xU,Link:()=>TU,Model:()=>Yw});var _i={};ut.r(_i),ut.d(_i,{And:()=>LU,Gate:()=>D0,Gate11:()=>$w,Gate21:()=>Rd,IO:()=>Xw,Input:()=>NU,Nand:()=>BU,Nor:()=>FU,Not:()=>PU,Or:()=>RU,Output:()=>kU,Repeater:()=>OU,Wire:()=>zU,Xnor:()=>VU,Xor:()=>jU});var Gr={};ut.r(Gr),ut.d(Gr,{BishopBlack:()=>$U,BishopWhite:()=>XU,KingBlack:()=>UU,KingWhite:()=>GU,KnightBlack:()=>KU,KnightWhite:()=>qU,PawnBlack:()=>QU,PawnWhite:()=>JU,QueenBlack:()=>HU,QueenWhite:()=>ZU,RookBlack:()=>YU,RookWhite:()=>WU});var un={};ut.r(un),ut.d(un,{Attribute:()=>Jp,Derived:()=>rZ,Entity:()=>WN,ISA:()=>oZ,IdentifyingRelationship:()=>tZ,Key:()=>iZ,Line:()=>aZ,Multivalued:()=>nZ,Normal:()=>sZ,Relationship:()=>YN,WeakEntity:()=>eZ});var Dr={};ut.r(Dr),ut.d(Dr,{Arrow:()=>dZ,EndState:()=>cZ,StartState:()=>uZ,State:()=>lZ});var yn={};ut.r(yn),ut.d(yn,{Arrow:()=>hZ,Member:()=>fZ});var er={};ut.r(er),ut.d(er,{Link:()=>vZ,Place:()=>gZ,PlaceView:()=>pZ,Transition:()=>mZ});var Or={};ut.r(Or),ut.d(Or,{Abstract:()=>yZ,AbstractView:()=>CZ,Aggregation:()=>_Z,Association:()=>MZ,Class:()=>qw,ClassView:()=>Kw,Composition:()=>DZ,EndState:()=>xZ,Generalization:()=>AZ,Implementation:()=>wZ,Interface:()=>bZ,InterfaceView:()=>IZ,StartState:()=>SZ,State:()=>EZ,Transition:()=>TZ});var Qr={};ut.r(Qr),ut.d(Qr,{basic:()=>It,chess:()=>Gr,devs:()=>vn,erd:()=>un,fsa:()=>Dr,logic:()=>_i,org:()=>yn,pn:()=>er,standard:()=>xe,uml:()=>Or});var Jt={};ut.r(Jt),ut.d(Jt,{manhattan:()=>o_,metro:()=>s4,normal:()=>zZ,oneSide:()=>GZ,orthogonal:()=>n_});var ot={};ut.r(ot),ut.d(ot,{jumpover:()=>g4,normal:()=>p4,rounded:()=>m4,smooth:()=>v4});var Xe={};ut.r(Xe),ut.d(Xe,{addClass:()=>A4,mask:()=>b4,opacity:()=>I4,stroke:()=>y4});var ze={};ut.r(ze),ut.d(ze,{connectionClosest:()=>Ik,connectionLength:()=>_4,connectionPerpendicular:()=>E4,connectionRatio:()=>w4,resolveRef:()=>nm});var st={};ut.r(st),ut.d(st,{anchor:()=>O4,bbox:()=>P4,boundary:()=>L4,rectangle:()=>R4});var St={};function Ge(e){return"function"==typeof e}function Wn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}ut.r(St),ut.d(St,{bottom:()=>G4,bottomLeft:()=>Y4,bottomRight:()=>X4,center:()=>V4,left:()=>U4,midSide:()=>q4,modelCenter:()=>K4,perpendicular:()=>$4,right:()=>Z4,top:()=>z4,topLeft:()=>H4,topRight:()=>W4});const _=Wn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ei(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ln{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ge(r))try{r()}catch(s){t=s instanceof _?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Yo(s)}catch(o){t=null!=t?t:[],o instanceof _?t=[...t,...o.errors]:t.push(o)}}if(t)throw new _(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Yo(t);else{if(t instanceof Ln){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ei(n,t)}remove(t){const{_teardowns:n}=this;n&&ei(n,t),t instanceof Ln&&t._removeParent(this)}}Ln.EMPTY=(()=>{const e=new Ln;return e.closed=!0,e})();const Di=Ln.EMPTY;function Wo(e){return e instanceof Ln||e&&"closed"in e&&Ge(e.remove)&&Ge(e.add)&&Ge(e.unsubscribe)}function Yo(e){Ge(e)?e():e.unsubscribe()}const rr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_s={setTimeout(...e){const{delegate:t}=_s;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=_s;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function _o(e){_s.setTimeout(()=>{const{onUnhandledError:t}=rr;if(!t)throw e;t(e)})}function co(){}const Xn=Ds("C",void 0,void 0);function Ds(e,t,n){return{kind:e,value:t,error:n}}let mr=null;function Mr(e){if(rr.useDeprecatedSynchronousErrorHandling){const t=!mr;if(t&&(mr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=mr;if(mr=null,n)throw r}}else e()}class Er extends Ln{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wo(t)&&t.add(this)):this.destination=Sr}static create(t,n,r){return new ti(t,n,r)}next(t){this.isStopped?zi(Ds("N",t,void 0),this):this._next(t)}error(t){this.isStopped?zi(Ds("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?zi(Xn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ti extends Er{constructor(t,n,r){let i;if(super(),Ge(t))i=t;else if(t){let s;({next:i,error:n,complete:r}=t),this&&rr.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe()):s=t,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?is(i):co,error:is(null!=n?n:Da),complete:r?is(r):co}}}function is(e,t){return(...n)=>{try{e(...n)}catch(r){rr.useDeprecatedSynchronousErrorHandling?function(e){rr.useDeprecatedSynchronousErrorHandling&&mr&&(mr.errorThrown=!0,mr.error=e)}(r):_o(r)}}}function Da(e){throw e}function zi(e,t){const{onStoppedNotification:n}=rr;n&&_s.setTimeout(()=>n(e,t))}const Sr={closed:!0,next:co,error:Da,complete:co},hi="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ur(e){return e}let kt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(e){return e&&e instanceof Er||function(e){return e&&Ge(e.next)&&Ge(e.error)&&Ge(e.complete)}(e)&&Wo(e)}(n)?n:new ti(n,r,i);return Mr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Nn(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[hi](){return this}pipe(...n){return function(e){return 0===e.length?Ur:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Nn(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function Nn(e){var t;return null!==(t=null!=e?e:rr.Promise)&&void 0!==t?t:Promise}const q=Wn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class e extends kt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new we(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new q}next(n){Mr(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){Mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Di:(s.push(n),new Ln(()=>ei(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new kt;return n.source=this,n}}return e.create=(t,n)=>new we(t,n),e})();class we extends ne{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Di}}function _e(e){return Ge(null==e?void 0:e.lift)}function Le(e){return t=>{if(_e(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class nt extends Er{constructor(t,n,r,i,s){super(t),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){t.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){t.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function pt(e,t){return Le((n,r)=>{let i=0;n.subscribe(new nt(r,s=>{r.next(e.call(t,s,i++))}))})}function Zi(e){return this instanceof Zi?(this.v=e,this):new Zi(e)}function il(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){r[y]&&(i[y]=function(w){return new Promise(function(M,F){s.push([y,w,M,F])>1||a(y,w)})})}function a(y,w){try{!function(y){y.value instanceof Zi?Promise.resolve(y.value.v).then(d,g):h(s[0][2],y)}(r[y](w))}catch(M){h(s[0][3],M)}}function d(y){a("next",y)}function g(y){a("throw",y)}function h(y,w){y(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Do(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}(a,u,(o=e[s](o)).done,o.value)})}}}const fo=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ll(e){return Ge(null==e?void 0:e.then)}function Ko(e){return Ge(e[hi])}function ni(e){return Symbol.asyncIterator&&Ge(null==e?void 0:e[Symbol.asyncIterator])}function ul(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ss="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function cl(e){return Ge(null==e?void 0:e[ss])}function xa(e){return il(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Zi(n.read());if(i)return yield Zi(void 0);yield yield Zi(r)}}finally{n.releaseLock()}})}function Ta(e){return Ge(null==e?void 0:e.getReader)}function Hi(e){if(e instanceof kt)return e;if(null!=e){if(Ko(e))return function(e){return new kt(t=>{const n=e[hi]();if(Ge(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(fo(e))return function(e){return new kt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ll(e))return function(e){return new kt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,_o)})}(e);if(ni(e))return Hl(e);if(cl(e))return function(e){return new kt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ta(e))return function(e){return Hl(xa(e))}(e)}throw ul(e)}function Hl(e){return new kt(t=>{(function(e,t){var n,r,i,s;return function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(g){try{d(r.next(g))}catch(h){o(h)}}function u(g){try{d(r.throw(g))}catch(h){o(h)}}function d(g){g.done?s(g.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(g.value).then(a,u)}d((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Do(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ri(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Kn(e,t,n=1/0){return Ge(t)?Kn((r,i)=>pt((s,o)=>t(r,s,i,o))(Hi(e(r,i))),n):("number"==typeof t&&(n=t),Le((r,i)=>function(e,t,n,r,i,s,o,a){const u=[];let d=0,g=0,h=!1;const y=()=>{h&&!u.length&&!d&&t.complete()},w=F=>d<r?M(F):u.push(F),M=F=>{d++;let z=!1;Hi(n(F,g++)).subscribe(new nt(t,Y=>{t.next(Y)},()=>{z=!0},void 0,()=>{if(z)try{for(d--;u.length&&d<r;){const Y=u.shift();M(Y)}y()}catch(Y){t.error(Y)}}))};return e.subscribe(new nt(t,w,()=>{h=!0,y()})),()=>{}}(r,i,e,n)))}function Lr(e=1/0){return Kn(Ur,e)}const Zr=new kt(e=>e.complete());function yr(e){return e[e.length-1]}function go(e){return function(e){return e&&Ge(e.schedule)}(yr(e))?e.pop():void 0}function Yl(e,t=0){return Le((n,r)=>{n.subscribe(new nt(r,i=>ri(r,e,()=>r.next(i),t),()=>ri(r,e,()=>r.complete(),t),i=>ri(r,e,()=>r.error(i),t)))})}function Eo(e,t=0){return Le((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Xl(e,t){if(!e)throw new Error("Iterable cannot be null");return new kt(n=>{ri(n,t,()=>{const r=e[Symbol.asyncIterator]();ri(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kn(e,t){return t?function(e,t){if(null!=e){if(Ko(e))return function(e,t){return Hi(e).pipe(Eo(t),Yl(t))}(e,t);if(fo(e))return function(e,t){return new kt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(ll(e))return function(e,t){return Hi(e).pipe(Eo(t),Yl(t))}(e,t);if(ni(e))return Xl(e,t);if(cl(e))return function(e,t){return new kt(n=>{let r;return ri(n,t,()=>{r=e[ss](),ri(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ge(null==r?void 0:r.return)&&r.return()})}(e,t);if(Ta(e))return function(e,t){return Xl(xa(e),t)}(e,t)}throw ul(e)}(e,t):Hi(e)}function So(e){return e<=0?()=>Zr:Le((t,n)=>{let r=0;t.subscribe(new nt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function gi(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(So(1)).subscribe(()=>e())}function An(e){for(let t in e)if(e[t]===An)return t;throw Error("Could not find renamed property on target object.")}function ea(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function jt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(jt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Us(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const po=An({__forward_ref__:An});function wn(e){return e.__forward_ref__=wn,e.toString=function(){return jt(this())},e}function Zt(e){return function(e){return"function"==typeof e&&e.hasOwnProperty(po)&&e.__forward_ref__===wn}(e)?e():e}class Fr extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Gt(e){return"string"==typeof e?e:null==e?"":String(e)}function ii(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Gt(e)}function Pa(e,t){const n=t?` in ${t}`:"";throw new Fr("201",`No provider for ${ii(e)} found${n}`)}function W(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function p(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function C(e){return{providers:e.providers||[],imports:e.imports||[]}}function D(e){return x(e,le)||x(e,Oe)}function x(e,t){return e.hasOwnProperty(t)?e[t]:null}function K(e){return e&&(e.hasOwnProperty(ye)||e.hasOwnProperty(me))?e[ye]:null}const le=An({\u0275prov:An}),ye=An({\u0275inj:An}),Oe=An({ngInjectableDef:An}),me=An({ngInjectorDef:An});var he=(()=>((he=he||{})[he.Default=0]="Default",he[he.Host=1]="Host",he[he.Self=2]="Self",he[he.SkipSelf=4]="SkipSelf",he[he.Optional=8]="Optional",he))();let Ke;function rt(e){const t=Ke;return Ke=e,t}function Zn(e,t,n){const r=D(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&he.Optional?null:void 0!==t?t:void Pa(jt(e),"Injector")}function cr(e){return{toString:e}.toString()}var lt=(()=>((lt=lt||{})[lt.OnPush=0]="OnPush",lt[lt.Default=1]="Default",lt))(),$t=(()=>{return(e=$t||($t={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",$t;var e})();const Jn="undefined"!=typeof globalThis&&globalThis,Jl="undefined"!=typeof window&&window,Gu="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,hn=Jn||"undefined"!=typeof global&&global||Jl||Gu,as={},en=[],Ss=An({\u0275cmp:An}),gl=An({\u0275dir:An}),Zs=An({\u0275pipe:An}),Ql=An({\u0275mod:An}),nn=An({\u0275fac:An}),ls=An({__NG_ELEMENT_ID__:An});let Uu=0;function To(e){return cr(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||en,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||$t.Emulated,id:"c",styles:e.styles||en,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,s=e.features,o=e.pipes;return r.id+=Uu++,r.inputs=Jd(e.inputs,n),r.outputs=Jd(e.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(oi):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Zu):null,r})}function oi(e){return mi(e)||function(e){return e[gl]||null}(e)}function Zu(e){return function(e){return e[Zs]||null}(e)}const Ra={};function pi(e){return cr(()=>{const t={type:e.type,bootstrap:e.bootstrap||en,declarations:e.declarations||en,imports:e.imports||en,exports:e.exports||en,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ra[e.id]=e.type),t})}function Jd(e,t){if(null==e)return as;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const vt=To;function mi(e){return e[Ss]||null}function xs(e,t){const n=e[Ql]||null;if(!n&&!0===t)throw new Error(`Type ${jt(e)} does not have '\u0275mod' property.`);return n}const R=20;function be(e){return Array.isArray(e)&&"object"==typeof e[1]}function ae(e){return Array.isArray(e)&&!0===e[1]}function Me(e){return 0!=(8&e.flags)}function Ie(e){return 2==(2&e.flags)}function je(e){return 1==(1&e.flags)}function Be(e){return null!==e.template}function yt(e){return 0!=(512&e[2])}function ml(e,t){return e.hasOwnProperty(nn)?e[nn]:null}class bC{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xr(e){return e.type.prototype.ngOnChanges&&(e.setInput=IC),$i}function $i(){const e=Kh(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===as)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function IC(e,t,n,r){const i=Kh(e)||function(e,t){return e[Mm]=t}(e,{previous:as,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new bC(u&&u.currentValue,t,o===as),e[r]=t}const Mm="__ngSimpleChanges__";function Kh(e){return e[Mm]||null}let nu;function Tr(e){return!!e.listen}const Em={createRenderer:(e,t)=>void 0!==nu?nu:"undefined"!=typeof document?document:void 0};function $r(e){for(;Array.isArray(e);)e=e[0];return e}function jc(e,t){return $r(t[e])}function L(e,t){return $r(t[e.index])}function $u(e,t){return e.data[t]}function Ut(e,t){const n=t[e];return be(n)?n:n[0]}function Sm(e){return 4==(4&e[2])}function Jh(e){return 128==(128&e[2])}function ks(e,t){return null==t?null:e[t]}function xm(e){e[18]=0}function Qh(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Yt={lFrame:Pm(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Tm(){return Yt.bindingsEnabled}function Pe(){return Yt.lFrame.lView}function Qt(){return Yt.lFrame.tView}function rf(e){return Yt.lFrame.contextLView=e,e[8]}function li(){let e=Nm();for(;null!==e&&64===e.type;)e=e.parent;return e}function Nm(){return Yt.lFrame.currentTNode}function ia(e,t){const n=Yt.lFrame;n.currentTNode=e,n.isParent=t}function ja(){return Yt.lFrame.isParent}function eg(){Yt.lFrame.isParent=!1}function sf(){return Yt.isInCheckNoChangesMode}function of(e){Yt.isInCheckNoChangesMode=e}function ru(){return Yt.lFrame.bindingIndex++}function tg(e,t){const n=Yt.lFrame;n.bindingIndex=n.bindingRootIndex=e,qu(t)}function qu(e){Yt.lFrame.currentDirectiveIndex=e}function rg(){return Yt.lFrame.currentQueryIndex}function ig(e){Yt.lFrame.currentQueryIndex=e}function za(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function af(e,t,n){if(n&he.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&he.Host||(i=za(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Yt.lFrame=Xs();return r.currentTNode=t,r.lView=e,!0}function oa(e){const t=Xs(),n=e[1];Yt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Xs(){const e=Yt.lFrame,t=null===e?null:e.child;return null===t?Pm(e):t}function Pm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function sg(){const e=Yt.lFrame;return Yt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const og=sg;function yl(){const e=sg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fs(){return Yt.lFrame.selectedIndex}function ko(e){Yt.lFrame.selectedIndex=e}function Nr(){const e=Yt.lFrame;return $u(e.tView,e.selectedIndex)}function iu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:g}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),d&&((e.viewHooks||(e.viewHooks=[])).push(n,d),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,d)),null!=g&&(e.destroyHooks||(e.destroyHooks=[])).push(n,g)}}function la(e,t,n){lf(e,t,3,n)}function Gc(e,t,n,r){(3&e[2])===n&&lf(e,t,n,r)}function ki(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function lf(e,t,n,r){const s=null!=r?r:-1,o=t.length-1;let a=0;for(let u=void 0!==r?65535&e[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<s||-1==s)&&(TC(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function TC(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Uc{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function df(e,t,n){const r=Tr(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];hf(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function ff(e){return 3===e||4===e||6===e}function hf(e){return 64===e.charCodeAt(0)}function gf(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Bm(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Bm(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function jm(e){return-1!==e}function su(e){return 32767&e}function Ku(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Zc=!0;function Hc(e){const t=Zc;return Zc=e,t}let RC=0;function Ju(e,t){const n=pf(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,fg(r.data,e),fg(t,null),fg(r.blueprint,null));const i=mf(e,t),s=e.injectorIndex;if(jm(i)){const o=su(i),a=Ku(i,t),u=a[1].data;for(let d=0;d<8;d++)t[s+d]=a[o+d]|u[o+d]}return t[s+8]=i,s}function fg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function mf(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Qu(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ls)&&(r=n[ls]),null==r&&(r=n[ls]=RC++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function vf(e,t,n){if(n&he.Optional)return e;Pa(t,"NodeInjector")}function Gm(e,t,n,r){if(n&he.Optional&&void 0===r&&(r=null),0==(n&(he.Self|he.Host))){const i=e[9],s=rt(void 0);try{return i?i.get(t,r,n&he.Optional):Zn(t,r,n&he.Optional)}finally{rt(s)}}return vf(r,t,n)}function yf(e,t,n,r=he.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ls)?e[ls]:void 0;return"number"==typeof t?t>=0?255&t:LC:t}(n);if("function"==typeof s){if(!af(t,e,r))return r&he.Host?vf(i,n,r):Gm(t,n,r,i);try{const o=s(r);if(null!=o||r&he.Optional)return o;Pa(n)}finally{og()}}else if("number"==typeof s){let o=null,a=pf(e,t),u=-1,d=r&he.Host?t[16][6]:null;for((-1===a||r&he.SkipSelf)&&(u=-1===a?mf(e,t):t[a+8],-1!==u&&$s(r,!1)?(o=t[1],a=su(u),t=Ku(u,t)):a=-1);-1!==a;){const g=t[1];if(Um(s,a,g.data)){const h=FC(a,t,n,o,r,d);if(h!==on)return h}u=t[a+8],-1!==u&&$s(r,t[1].data[a+8]===d)&&Um(s,a,t)?(o=g,a=su(u),t=Ku(u,t)):a=-1}}}return Gm(t,n,r,i)}const on={};function LC(){return new tc(li(),Pe())}function FC(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],g=Il(a,o,n,null==r?Ie(a)&&Zc:r!=o&&0!=(3&a.type),i&he.Host&&s===a);return null!==g?ec(t,o,g,a):on}function Il(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,u=e.directiveStart,g=s>>20,y=i?a+g:e.directiveEnd;for(let w=r?a:a+g;w<y;w++){const M=o[w];if(w<u&&n===M||w>=u&&M.type===n)return w}if(i){const w=o[u];if(w&&Be(w)&&w.type===n)return u}return null}function ec(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof Uc}(i)){const o=i;o.resolving&&function(e,t){throw new Fr("200",`Circular dependency in DI detected for ${e}`)}(ii(s[n]));const a=Hc(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?rt(o.injectImpl):null;af(e,r,he.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Xr(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==u&&rt(u),Hc(a),o.resolving=!1,og()}}return i}function Um(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function $s(e,t){return!(e&he.Self||e&he.Host&&t)}class tc{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return yf(this._tNode,this._lView,t,r,n)}}function ou(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(ff(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(li(),e)}const Ci="__parameters__";function Ua(e,t,n){return cr(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,d,g){const h=u.hasOwnProperty(Ci)?u[Ci]:Object.defineProperty(u,Ci,{value:[]})[Ci];for(;h.length<=g;)h.push(null);return(h[g]=h[g]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Mt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=p({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const gg=new Mt("AnalyzeForEntryComponents");function Ks(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Ks(r,t)):t!==e&&t.push(r)}return t}function Oo(e,t){e.forEach(n=>Array.isArray(n)?Oo(n,t):t(n))}function hs(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Js(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Xc(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Os(e,t,n){let r=ua(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Al(e,t){const n=ua(e,t);if(n>=0)return e[1|n]}function ua(e,t){return function(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const ic={},Kc="__NG_DI_FLAG__",_f="ngTempTokenPath",Za=/\n/gm,bg="__source",WC=An({provide:String,useValue:An});let sc;function Km(e){const t=sc;return sc=e,t}function YC(e,t=he.Default){if(void 0===sc)throw new Error("inject() must be called from an injection context");return null===sc?Zn(e,void 0,t):sc.get(e,t&he.Optional?null:void 0,t)}function Ue(e,t=he.Default){return(Ke||YC)(Zt(e),t)}function Jc(e){const t=[];for(let n=0;n<e.length;n++){const r=Zt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=he.Default;for(let o=0;o<r.length;o++){const a=r[o],u=oc(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}t.push(Ue(i,s))}else t.push(Ue(r))}return t}function wl(e,t){return e[Kc]=t,e.prototype[Kc]=t,e}function oc(e){return e[Kc]}const du=wl(Ua("Inject",e=>({token:e})),-1),qi=wl(Ua("Optional"),8),_l=wl(Ua("SkipSelf"),4);const hv="__ngContext__";function Ji(e,t){e[hv]=t}function id(e){const t=function(e){return e[hv]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Rg(e){return e.ngOriginalError}function Mb(e,...t){e.error(...t)}class uc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=(e=t)&&e.ngErrorLogger||Mb;var e;r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Rg(t);for(;n&&Rg(n);)n=Rg(n);return n||null}}const Lg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(hn))();function ca(e){return e instanceof Function?e():e}var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();function jg(e,t){return undefined(e,t)}function sd(e){const t=e[3];return ae(t)?t[3]:t}function dc(e){return zg(e[13])}function Vg(e){return zg(e[4])}function zg(e){for(;null!==e&&!ae(e);)e=e[4];return e}function El(e,t,n,r,i){if(null!=r){let s,o=!1;ae(r)?s=r:be(r)&&(o=!0,r=r[0]);const a=$r(r);0===e&&null!==n?null==i?xv(t,n,a):gu(t,n,a,i||null,!0):1===e&&null!==n?gu(t,n,a,i||null,!0):2===e?function(e,t,n){const r=zf(e,t);r&&function(e,t,n,r){Tr(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==$r(n)&&El(t,e,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];ad(u[1],u,e,t,r,s)}}(t,e,s,n,i)}}function Bf(e,t,n){return Tr(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Mv(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Qh(i,-1)),n.splice(r,1)}function od(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Mv(i,r),t>0&&(e[n-1][4]=r[4]);const s=Js(e,10+t);!function(e,t){ad(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ug(e,t){if(!(256&t[2])){const n=t[11];Tr(n)&&n.destroyNode&&ad(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Zg(e[1],e);for(;t;){let n=null;if(be(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)be(t)&&Zg(t[1],t),t=t[3];null===t&&(t=e),be(t)&&Zg(t[1],t),n=t&&t[4]}t=n}}(t)}}function Zg(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Uc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(t):$r(t[o]),u=r[i=n[s+2]],d=n[s+3];"boolean"==typeof d?a.removeEventListener(n[s],u,d):d>=0?r[i=d]():r[i=-d].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(e,t),1===t[1].type&&Tr(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&ae(t[3])){n!==t[3]&&Mv(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Ev(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===$t.None||i===$t.Emulated)return null}return L(r,n)}(e,t.parent,n)}function gu(e,t,n,r,i){Tr(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function xv(e,t,n){Tr(e)?e.appendChild(t,n):t.appendChild(n)}function Tv(e,t,n,r,i){null!==r?gu(e,t,n,r,i):xv(e,t,n)}function zf(e,t){return Tr(e)?e.parentNode(t):t.parentNode}function Nv(e,t,n){return kv(e,t,n)}let kv=function(e,t,n){return 40&e.type?L(e,n):null};function Xt(e,t,n,r){const i=Ev(e,r,t),s=t[11],a=Nv(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Tv(s,i,n[u],a,!1);else Tv(s,i,n,a,!1)}function Gf(e,t){if(null!==t){const n=t.type;if(3&n)return L(t,e);if(4&n)return br(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Gf(e,r);{const i=e[t.index];return ae(i)?br(-1,i):$r(i)}}if(32&n)return jg(t,e)()||$r(e[t.index]);{const r=ps(e,t);return null!==r?Array.isArray(r)?r[0]:Gf(sd(e[16]),r):Gf(e,t.next)}}return null}function ps(e,t){return null!==t?e[16][6].projection[t.projection]:null}function br(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Gf(r,i)}return t[7]}function da(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===t&&(a&&Ji($r(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)da(e,t,n.child,r,i,s,!1),El(t,e,i,a,s);else if(32&u){const d=jg(n,r);let g;for(;g=d();)El(t,e,i,g,s);El(t,e,i,a,s)}else 16&u?Pv(e,t,r,n,i,s):El(t,e,i,a,s);n=o?n.projectionNext:n.next}}function ad(e,t,n,r,i,s){da(n,r,e.firstChild,t,i,s,!1)}function Pv(e,t,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)El(t,e,i,u[d],s);else da(e,t,u,o[3],i,s,!0)}function Uf(e,t,n){Tr(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Wg(e,t,n){Tr(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function fa(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const ld="ng-template";function Ir(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==fa(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Ar(e){return 4===e.type&&e.value!==ld}function Rv(e,t,n){return t===(4!==e.type||n?e.value:ld)}function Jb(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(ff(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Rv(e,u,n)||""===u&&1===t.length){if(Lo(r))return!1;o=!0}}else{const d=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Ir(e.attrs,d,n)){if(Lo(r))return!1;o=!0}continue}const h=Qb(8&r?"class":u,i,Ar(e),n);if(-1===h){if(Lo(r))return!1;o=!0;continue}if(""!==d){let y;y=h>s?"":i[h+1].toLowerCase();const w=8&r?y:null;if(w&&-1!==fa(w,d,0)||2&r&&d!==y){if(Lo(r))return!1;o=!0}}}}else{if(!o&&!Lo(r)&&!Lo(u))return!1;if(o&&Lo(u))continue;o=!1,r=u|1&r}}return Lo(r)||o}function Lo(e){return 0==(1&e)}function Qb(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Lv(e,t,n=!1){for(let r=0;r<t.length;r++)if(Jb(e,t[r],n))return!0;return!1}function ud(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Zf(e,t){return e?":not("+t.trim()+")":t}function nI(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Lo(o)&&(t+=Zf(s,i),i=""),r=o,s=s||!Lo(r);n++}return""!==i&&(t+=Zf(s,i)),t}const Ct={};function Rs(e){jv(Qt(),Pe(),fs()+e,sf())}function jv(e,t,n,r){if(!r)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&la(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Gc(t,s,0,n)}ko(n)}function Wf(e,t){return e<<17|t<<2}function Fo(e){return e>>17&32767}function Bo(e){return 2|e}function Vt(e){return(131068&e)>>2}function Yf(e,t){return-131069&e|t<<2}function Xf(e){return 1|e}function qv(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=e.data[s];ig(i),o.contentQueries(2,t[s],s)}}}function fd(e,t,n,r,i,s,o,a,u,d){const g=t.blueprint.slice();return g[0]=i,g[2]=140|r,xm(g),g[3]=g[15]=e,g[8]=n,g[10]=o||e&&e[10],g[11]=a||e&&e[11],g[12]=u||e&&e[12]||null,g[9]=d||e&&e[9]||null,g[6]=s,g[16]=2==t.type?e[16]:g,g}function hc(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=Nm(),o=ja(),u=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(e,t,n,r,i),Yt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const e=Yt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ia(s,!0),s}function mu(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function hd(e,t,n){oa(t);try{const r=e.viewQuery;null!==r&&lp(1,r,n);const i=e.template;null!==i&&Kv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&qv(e,t),e.staticViewQueries&&lp(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)TI(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,yl()}}function gc(e,t,n,r){const i=t[2];if(256==(256&i))return;oa(t);const s=sf();try{xm(t),function(e){Yt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Kv(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const d=e.preOrderCheckHooks;null!==d&&la(t,d,null)}else{const d=e.preOrderHooks;null!==d&&Gc(t,d,0,null),ki(t,0)}if(function(e){for(let t=dc(e);null!==t;t=Vg(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Qh(s,1),i[2]|=1024}}}(t),function(e){for(let t=dc(e);null!==t;t=Vg(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Jh(r)&&gc(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&qv(e,t),!s)if(o){const d=e.contentCheckHooks;null!==d&&la(t,d)}else{const d=e.contentHooks;null!==d&&Gc(t,d,1),ki(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ko(~i);else{const s=i,o=n[++r],a=n[++r];tg(o,s),a(2,t[s])}}}finally{ko(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)xI(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&lp(2,u,r),!s)if(o){const d=e.viewCheckHooks;null!==d&&la(t,d)}else{const d=e.viewHooks;null!==d&&Gc(t,d,2),ki(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Qh(t[3],-1))}finally{yl()}}function hI(e,t,n,r){const i=t[10],s=!sf(),o=Sm(t);try{s&&!o&&i.begin&&i.begin(),o&&hd(e,t,r),gc(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Kv(e,t,n,r,i){const s=fs(),o=2&r;try{ko(-1),o&&t.length>R&&jv(e,t,R,sf()),n(r,i)}finally{ko(s)}}function Qv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Jf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Jf(e,t,n,r,i,s,o,a,u,d){const g=R+r,h=g+i,y=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ct);return n}(g,h),w="function"==typeof d?d():d;return y[1]={type:e,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1}}function ny(e,t,n,r){const i=cy(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&dy(e).push(r,i.length-1))}function ry(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function no(e,t,n,r,i,s,o,a){const u=L(t,n);let g,d=t.inputs;!a&&null!=d&&(g=d[r])?(gy(e,n,g,r,i),Ie(t)&&function(e,t){const n=Ut(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,Tr(s)?s.setProperty(u,r,i):hf(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function np(e,t,n,r,i,s){const o=s.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const u=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function eh(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function sy(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ls(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Be(t)&&(n[""]=e)}}function th(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function oy(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ml(i.type)),o=new Uc(s,Be(i),null);e.blueprint[r]=o,n[r]=o,np(e,t,0,r,mu(e,n,i.hostVars,Ct),i)}function DI(e,t,n){const r=L(t,e),i=Qv(n),s=e[10],o=rh(e,fd(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function ha(e,t,n,r,i,s){const o=L(e,t);!function(e,t,n,r,i,s,o){if(null==s)Tr(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?Gt(s):o(s,r||"",i);Tr(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}function ip(e,t,n,r,i,s){const o=s[t];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const d=o[u++],g=o[u++],h=o[u++];null!==a?r.setInput(n,h,d,g):n[g]=h}}}function MI(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function xI(e,t){const n=Ut(t,e);if(Jh(n)){const r=n[1];80&n[2]?gc(r,n,r.template,n[8]):n[5]>0&&nh(n)}}function nh(e){for(let r=dc(e);null!==r;r=Vg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];gc(o,s,o.template,s[8])}else s[5]>0&&nh(s)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ut(n[r],e);Jh(i)&&i[5]>0&&nh(i)}}function TI(e,t){const n=Ut(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),hd(r,n,n[8])}function rh(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function gd(e){for(;e;){e[2]|=64;const t=sd(e);if(yt(e)&&!t)return e;e=t}return null}function ap(e,t,n){const r=t[10];r.begin&&r.begin();try{gc(e,t,e.template,n)}catch(i){throw hy(t,i),i}finally{r.end&&r.end()}}function uy(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=id(n),i=r[1];hI(i,r,i.template,n)}}(e[8])}function lp(e,t,n){ig(0),t(e,n)}const PI=(()=>Promise.resolve(null))();function cy(e){return e[7]||(e[7]=[])}function dy(e){return e.cleanup||(e.cleanup=[])}function hy(e,t){const n=e[9],r=n?n.get(uc,null):null;r&&r.handleError(t)}function gy(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=t[o],d=e.data[o];null!==d.setInput?d.setInput(u,i,r,a):u[a]=i}}function Wa(e,t,n){const r=jc(t,e);!function(e,t,n){Tr(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ih(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Us(i,a):2==s&&(r=Us(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const up=new Mt("INJECTOR",-1);class py{get(t,n=ic){if(n===ic){const r=new Error(`NullInjectorError: No provider for ${jt(t)}!`);throw r.name="NullInjectorError",r}return n}}const cp=new Mt("Set Injector scope."),l={},c={};let m;function b(){return void 0===m&&(m=new py),m}function T(e,t=null,n=null,r){const i=j(e,t,n,r);return i._resolveInjectorDefTypes(),i}function j(e,t=null,n=null,r){return new ee(e,n,t||b(),r)}class ee{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Oo(n,a=>this.processProvider(a,t,n)),Oo([t],a=>this.processInjectorType(a,[],s)),this.records.set(up,Ne(void 0,this));const o=this.records.get(cp);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:jt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=ic,r=he.Default){this.assertNotDestroyed();const i=Km(this),s=rt(void 0);try{if(!(r&he.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Mt)&&D(t);a=u&&this.injectableDefInScope(u)?Ne(re(t),l):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&he.Self?b():this.parent).get(t,n=r&he.Optional&&n===ic?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[_f]=o[_f]||[]).unshift(jt(t)),i)throw o;return function(e,t,n,r){const i=e[_f];throw t[bg]&&i.unshift(t[bg]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=jt(t);if(Array.isArray(t))i=t.map(jt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):jt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Za,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[_f]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{rt(s),Km(i)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(jt(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=Zt(t)))return!1;let i=K(t);const s=null==i&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=K(s)),null==i)return!1;if(null!=i.imports&&!a){let g;r.push(o);try{Oo(i.imports,h=>{this.processInjectorType(h,n,r)&&(void 0===g&&(g=[]),g.push(h))})}finally{}if(void 0!==g)for(let h=0;h<g.length;h++){const{ngModule:y,providers:w}=g[h];Oo(w,M=>this.processProvider(M,y,w||en))}}this.injectorDefTypes.add(o);const u=ml(o)||(()=>new o);this.records.set(o,Ne(u,l));const d=i.providers;if(null!=d&&!a){const g=t;Oo(d,h=>this.processProvider(h,g,d))}return void 0!==s&&void 0!==t.providers}processProvider(t,n,r){let i=qt(t=Zt(t))?t:Zt(t&&t.provide);const s=function(e,t,n){return Ye(e)?Ne(void 0,e.useValue):Ne(Se(e),l)}(t);if(qt(t)||!0!==t.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ne(void 0,l,!0),o.factory=()=>Jc(o.multi),this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,s)}hydrate(t,n){return n.value===l&&(n.value=c,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Zt(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function re(e){const t=D(e),n=null!==t?t.factory:ml(e);if(null!==n)return n;if(e instanceof Mt)throw new Error(`Token ${jt(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=Xc(t,"?");throw new Error(`Can't resolve all parameters for ${jt(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[le]||e[Oe]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Se(e,t,n){let r;if(qt(e)){const i=Zt(e);return ml(i)||re(i)}if(Ye(e))r=()=>Zt(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Jc(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Ue(Zt(e.useExisting));else{const i=Zt(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ml(i)||re(i);r=()=>new i(...Jc(e.deps))}return r}function Ne(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ye(e){return null!==e&&"object"==typeof e&&WC in e}function qt(e){return"function"==typeof e}let Gn=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return T({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return T({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=ic,e.NULL=new py,e.\u0275prov=p({token:e,providedIn:"any",factory:()=>Ue(up)}),e.__NG_ELEMENT_ID__=-1,e})();function X2(e,t){iu(id(e)[1],li())}function Qn(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Be(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const o=e;o.inputs=BI(e.inputs),o.declaredInputs=BI(e.declaredInputs),o.outputs=BI(e.outputs);const a=i.hostBindings;a&&J2(e,a);const u=i.viewQuery,d=i.contentQueries;if(u&&q2(e,u),d&&K2(e,d),ea(e.inputs,i.inputs),ea(e.declaredInputs,i.declaredInputs),ea(e.outputs,i.outputs),Be(i)&&i.data.animation){const g=e.data;g.animation=(g.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Qn&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=gf(i.hostAttrs,n=gf(n,i.hostAttrs))}}(r)}function BI(e){return e===as?{}:e===en?[]:e}function q2(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function K2(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,s)=>{t(r,i,s),n(r,i,s)}:t}function J2(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let my=null;function sh(){if(!my){const e=hn.Symbol;if(e&&e.iterator)my=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(my=r)}}}return my}function fp(e){return!!jI(e)&&(Array.isArray(e)||!(e instanceof Map)&&sh()in e)}function jI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Fs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Co(e,t,n,r){const i=Pe();return Fs(i,ru(),t)&&(Qt(),ha(Nr(),i,e,t,n,r)),Co}function ah(e,t,n,r){return Fs(e,ru(),n)?t+Gt(n)+r:Ct}function ph(e){return function(e,t){return e[t]}(Yt.lFrame.contextLView,R+e)}function Te(e,t=he.Default){const n=Pe();return null===n?Ue(e,t):yf(li(),n,Zt(e),t)}function ZI(){throw new Error("invalid")}function gp(e,t,n){const r=Pe();return Fs(r,ru(),t)&&no(Qt(),Nr(),r,e,t,r[11],n,!1),gp}function HI(e,t,n,r,i){const o=i?"class":"style";gy(e,n,t.inputs[o],o,r)}function Tt(e,t,n,r){const i=Pe(),s=Qt(),o=R+e,a=i[11],u=i[o]=Bf(a,t,Yt.lFrame.currentNamespace),d=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,d=hc(t,e,2,i,ks(a,s));return function(e,t,n,r){let i=!1;if(Tm()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Lv(n,o.selectors,!1)&&(i||(i=[]),Qu(Ju(n,t),e,o.type),Be(o)?(sy(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,th(n,e.data.length,s.length);for(let g=0;g<s.length;g++){const h=s[g];h.providersResolver&&h.providersResolver(h)}let a=!1,u=!1,d=mu(e,t,s.length,null);for(let g=0;g<s.length;g++){const h=s[g];n.mergedAttrs=gf(n.mergedAttrs,h.hostAttrs),oy(e,n,t,d,h),Ls(d,h,o),null!==h.contentQueries&&(n.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=128);const y=h.type.prototype;!a&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),u=!0),d++}!function(e,t){const r=t.directiveEnd,i=e.data,s=t.attrs,o=[];let a=null,u=null;for(let d=t.directiveStart;d<r;d++){const g=i[d],h=g.inputs,y=null===s||Ar(t)?null:MI(h,s);o.push(y),a=ry(h,d,a),u=ry(g.outputs,d,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=u}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new Fr("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],s)}}}(n,r,o)}n.mergedAttrs=gf(n.mergedAttrs,n.attrs)}(t,n,d,ks(a,o)),null!==d.attrs&&ih(d,d.attrs,!1),null!==d.mergedAttrs&&ih(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(o,s,i,0,t,n,r):s.data[o];ia(d,!0);const g=d.mergedAttrs;null!==g&&df(a,u,g);const h=d.classes;null!==h&&Wg(a,u,h);const y=d.styles;null!==y&&Uf(a,u,y),64!=(64&d.flags)&&Xt(s,i,u,d),0===Yt.lFrame.elementDepthCount&&Ji(u,i),Yt.lFrame.elementDepthCount++,je(d)&&(function(e,t,n){!Tm()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Ju(n,t),Ji(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const u=e.data[a],d=Be(u);d&&DI(t,n,u);const g=ec(t,e,a,n);Ji(g,t),null!==o&&ip(0,a-i,g,u,0,o),d&&(Ut(n.index,t)[8]=g)}}(e,t,n,L(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Yt.lFrame.currentDirectiveIndex;try{ko(o);for(let u=r;u<i;u++){const d=e.data[u],g=t[u];qu(u),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&eh(d,g)}}finally{ko(-1),qu(a)}}(e,t,n))}(s,i,d),function(e,t,n){if(Me(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,d,i)),null!==r&&function(e,t,n=L){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}(i,d)}function Nt(){let e=li();ja()?eg():(e=e.parent,ia(e,!1));const t=e;Yt.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(iu(n,e),Me(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&HI(n,t,Pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&HI(n,t,Pe(),t.stylesWithoutHost,!1)}function Li(e,t,n,r){Tt(e,t,n,r),Nt()}function pp(e){return!!e&&"function"==typeof e.then}const WI=function(e){return!!e&&"function"==typeof e.subscribe};function On(e,t,n,r){const i=Pe(),s=Qt(),o=li();return function(e,t,n,r,i,s,o,a){const u=je(r),g=e.firstCreatePass&&dy(e),h=t[8],y=cy(t);let w=!0;if(3&r.type||a){const z=L(r,t),Y=a?a(z):z,G=y.length,I=a?S=>a($r(S[r.index])):r.index;if(Tr(n)){let S=null;if(!a&&u&&(S=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,w=!1;else{s=YI(r,t,h,s,!1);const k=n.listen(Y,i,s);y.push(s,k),g&&g.push(i,I,G,G+1)}}else s=YI(r,t,h,s,!0),Y.addEventListener(i,s,o),y.push(s),g&&g.push(i,I,G,o)}else s=YI(r,t,h,s,!1);const M=r.outputs;let F;if(w&&null!==M&&(F=M[i])){const z=F.length;if(z)for(let Y=0;Y<z;Y+=2){const H=t[F[Y]][F[Y+1]].subscribe(s),Q=y.length;y.push(s,H),g&&g.push(i,r.index,Q,-(Q+1))}}}(s,i,i[11],o,e,t,!!n,r),On}function jE(e,t,n,r){try{return!1!==n(r)}catch(i){return hy(e,i),!1}}function YI(e,t,n,r,i){return function s(o){if(o===Function)return r;const a=2&e.flags?Ut(e.index,t):t;0==(32&t[2])&&gd(a);let u=jE(t,0,r,o),d=s.__ngNextListenerFn__;for(;d;)u=jE(t,0,d,o)&&u,d=d.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function kR(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?Lv(e,s,!0):ud(r,s))return i}else n=i}return n}function XI(e){const t=Pe()[16][6];if(!t.projection){const r=t.projection=Xc(e?e.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const o=e?kR(s,e):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function $I(e,t=0,n){const r=Pe(),i=Qt(),s=hc(i,R+e,16,null,n||null);null===s.projection&&(s.projection=t),eg(),64!=(64&s.flags)&&function(e,t,n){Pv(t[11],0,t,n,Ev(e,n,t),Nv(n.parent||t[6],n,t))}(i,r,s)}function mp(e,t,n){return qI(e,"",t,"",n),mp}function qI(e,t,n,r,i){const s=Pe(),o=ah(s,t,n,r);return o!==Ct&&no(Qt(),Nr(),s,e,o,s[11],i,!1),qI}function XE(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?Fo(s):Vt(s),u=!1;for(;0!==a&&(!1===u||o);){const g=e[a+1];RR(e[a],t)&&(u=!0,e[a+1]=r?Xf(g):Bo(g)),a=r?Fo(g):Vt(g)}u&&(e[n+1]=r?Bo(s):Xf(s))}function RR(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ua(e,t)>=0}function vu(e,t){return function(e,t,n,r){const i=Pe(),s=Qt(),o=function(e){const t=Yt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[fs()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Yt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=vp(n=KI(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=KI(i,e,t,n,r),null===s){let u=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Vt(r))return e[Fo(r)]}(e,t,r);void 0!==u&&Array.isArray(u)&&(u=KI(null,e,t,u[1],r),u=vp(u,t.attrs,r),function(e,t,n,r){e[Fo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,u))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=vp(r,e[s].hostAttrs,n);return vp(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Fo(o),u=Vt(o);e[r]=n;let g,d=!1;if(Array.isArray(n)){const h=n;g=h[1],(null===g||ua(h,g)>0)&&(d=!0)}else g=n;if(i)if(0!==u){const y=Fo(e[a+1]);e[r+1]=Wf(y,a),0!==y&&(e[y+1]=Yf(e[y+1],r)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Wf(a,0),0!==a&&(e[a+1]=Yf(e[a+1],r)),a=r;else e[r+1]=Wf(u,0),0===a?a=r:e[u+1]=Yf(e[u+1],r),u=r;d&&(e[r+1]=Bo(e[r+1])),XE(e,g,r,!0),XE(e,g,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&ua(s,t)>=0&&(n[r+1]=Xf(n[r+1]))}(t,g,e,r,s),o=Wf(a,u),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}(s,e,o,r),t!==Ct&&Fs(i,o,t)&&function(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const u=e.data,d=u[a+1];Cy(function(e){return 1==(1&e)}(d)?a1(u,t,n,i,Vt(d),o):void 0)||(Cy(s)||function(e){return 2==(2&e)}(d)&&(s=a1(u,null,n,i,a,o)),function(e,t,n,r,i){const s=Tr(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Qs.DashCase;if(null==i)s?e.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Qs.Important),s?e.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,jc(fs(),n),i,s))}(s,s.data[fs()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=jt(function(e){return e instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,o)}(e,t,null,!0),vu}function KI(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=vp(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function vp(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Os(e,o,!!n||t[++s]))}return void 0===e?null:e}function a1(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const u=e[i],d=Array.isArray(u),g=d?u[1]:u,h=null===g;let y=n[i+1];y===Ct&&(y=h?en:void 0);let w=h?Al(y,r):g===r?y:void 0;if(d&&!Cy(w)&&(w=Al(u,r)),Cy(w)&&(a=w,o))return a;const M=e[i+1];i=o?Fo(M):Vt(M)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(a=Al(u,r))}return a}function Cy(e){return void 0!==e}function Br(e,t=""){const n=Pe(),r=Qt(),i=e+R,s=r.firstCreatePass?hc(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Tr(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Xt(r,n,o,s),ia(s,!1)}function JI(e){return QI("",e,""),JI}function QI(e,t,n){const r=Pe(),i=ah(r,e,t,n);return i!==Ct&&Wa(r,fs(),i),QI}function eA(e,t,n){const r=Pe();return Fs(r,ru(),t)&&no(Qt(),Nr(),r,e,t,r[11],n,!0),eA}const md=void 0;var mL=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let yh={};function S1(e){return e in yh||(yh[e]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[e]),yh[e]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const by="en-US";let x1=by;function rA(e,t,n,r,i){if(e=Zt(e),Array.isArray(e))for(let s=0;s<e.length;s++)rA(e[s],t,n,r,i);else{const s=Qt(),o=Pe();let a=qt(e)?e:Zt(e.provide),u=Se(e);const d=li(),g=1048575&d.providerIndexes,h=d.directiveStart,y=d.providerIndexes>>20;if(qt(e)||!e.multi){const w=new Uc(u,i,Te),M=sA(a,t,i?g:g+y,h);-1===M?(Qu(Ju(d,o),s,a),iA(s,e,t.length),t.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(w),o.push(w)):(n[M]=w,o[M]=w)}else{const w=sA(a,t,g+y,h),M=sA(a,t,g,g+y),F=w>=0&&n[w],z=M>=0&&n[M];if(i&&!z||!i&&!F){Qu(Ju(d,o),s,a);const Y=function(e,t,n,r,i){const s=new Uc(e,n,Te);return s.multi=[],s.index=t,s.componentProviders=0,Q1(s,i,r&&!n),s}(i?gF:hF,n.length,i,r,u);!i&&z&&(n[M].providerFactory=Y),iA(s,e,t.length,0),t.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(Y),o.push(Y)}else iA(s,e,w>-1?w:M,Q1(n[i?M:w],u,!i&&r));!i&&r&&z&&n[M].componentProviders++}}}function iA(e,t,n,r){const i=qt(t),s=function(e){return!!e.useClass}(t);if(i||s){const u=(s?Zt(t.useClass):t).prototype.ngOnDestroy;if(u){const d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const g=d.indexOf(n);-1===g?d.push(n,[r,u]):d[g+1].push(r,u)}else d.push(n,u)}}}function Q1(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sA(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function hF(e,t,n,r){return oA(this.multi,[])}function gF(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ec(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),oA(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],oA(i,s);return s}function oA(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ir(e,t=[]){return n=>{n.providersResolver=(r,i)=>function(e,t,n){const r=Qt();if(r.firstCreatePass){const i=Be(e);rA(n,r.data,r.blueprint,i,!0),rA(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class eS{}class yF{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${jt(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let bh=(()=>{class e{}return e.NULL=new yF,e})();function CF(){return Ih(li(),Pe())}function Ih(e,t){return new Qi(L(e,t))}let Qi=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=CF,e})();function bF(e){return e instanceof Qi?e.nativeElement:e}class Ap{}let wF=(()=>{class e{}return e.\u0275prov=p({token:e,providedIn:"root",factory:()=>null}),e})();class vd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _F=new vd("13.1.1"),aA={};function Dy(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push($r(s)),ae(s))for(let a=10;a<s.length;a++){const u=s[a],d=u[1].firstChild;null!==d&&Dy(u[1],u,d,r)}const o=n.type;if(8&o)Dy(e,t,n.child,r);else if(32&o){const a=jg(n,t);let u;for(;u=a();)r.push(u)}else if(16&o){const a=ps(t,n);if(Array.isArray(a))r.push(...a);else{const u=sd(t[16]);Dy(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class wp{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Dy(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ae(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(od(t,r),Js(n,r))}this._attachedToViewContainer=!1}Ug(this._lView[1],this._lView)}onDestroy(t){ny(this._lView[1],this._lView,null,t)}markForCheck(){gd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ap(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){of(!0);try{ap(e,t,n)}finally{of(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ad(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class DF extends wp{constructor(t){super(t),this._view=t}detectChanges(){uy(this._view)}checkNoChanges(){!function(e){of(!0);try{uy(e)}finally{of(!1)}}(this._view)}get context(){return null}}class nS extends bh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=mi(t);return new lA(n,this.ngModule)}}function rS(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const EF=new Mt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Lg});class lA extends eS{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(nI).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return rS(this.componentDef.inputs)}get outputs(){return rS(this.componentDef.outputs)}create(t,n,r,i){const s=(i=i||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,aA,i);return s!==aA||r===aA?s:t.get(n,r,i)}}}(t,i.injector):t,o=s.get(Ap,Em),a=s.get(wF,null),u=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",g=r?function(e,t,n){if(Tr(e))return e.selectRootElement(t,n===$t.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Bf(o.createRenderer(null,this.componentDef),d,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(d)),h=this.componentDef.onPush?576:528,y=function(e,t){return{components:[],scheduler:e||Lg,clean:PI,playerHandler:t||null,flags:0}}(),w=Jf(0,null,null,1,0,null,null,null,null,null),M=fd(null,w,y,h,null,null,o,u,a,s);let F,z;oa(M);try{const Y=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const u=hc(o,20,2,"#host",null),d=u.mergedAttrs=t.hostAttrs;null!==d&&(ih(u,d,!0),null!==e&&(df(i,e,d),null!==u.classes&&Wg(i,e,u.classes),null!==u.styles&&Uf(i,e,u.styles)));const g=r.createRenderer(e,t),h=fd(n,Qv(t),null,t.onPush?64:16,n[20],u,r,g,s||null,null);return o.firstCreatePass&&(Qu(Ju(u,n),o,t.type),sy(o,u),th(u,n.length,1)),rh(n,h),n[20]=h}(g,this.componentDef,M,o,u);if(g)if(r)df(u,g,["ng-version",_F.full]);else{const{attrs:G,classes:I}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!Lo(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);G&&df(u,g,G),I&&I.length>0&&Wg(u,g,I.join(" "))}if(z=$u(w,R),void 0!==n){const G=z.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const S=n[I];G.push(null!=S?Array.from(S):null)}}F=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=li();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),oy(e,r,t,mu(e,t,1,null),n));const i=ec(t,e,r.directiveStart,r);Ji(i,t);const s=L(r,t);return s&&Ji(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(u=>u(o,t)),t.contentQueries){const u=li();t.contentQueries(1,o,u.directiveStart)}const a=li();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ko(a.index),np(n[1],a,0,a.directiveStart,a.directiveEnd,t),eh(t,o)),o}(Y,this.componentDef,M,y,[X2]),hd(w,M,null)}finally{yl()}return new TF(this.componentType,F,Ih(z,M),M,z)}}class TF extends class{}{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new DF(i),this.componentType=t}get injector(){return new tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Cu{}class iS{}const Ah=new Map;class aS extends Cu{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nS(this);const r=xs(t);this._bootstrapComponents=ca(r.bootstrap),this._r3Injector=j(t,n,[{provide:Cu,useValue:this},{provide:bh,useValue:this.componentFactoryResolver}],jt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Gn.THROW_IF_NOT_FOUND,r=he.Default){return t===Gn||t===Cu||t===up?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class uA extends iS{constructor(t){super(),this.moduleType=t,null!==xs(t)&&function(e){const t=new Set;!function n(r){const i=xs(r,!0),s=i.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${jt(t)} vs ${jt(t.name)}`)}(s,Ah.get(s),r),Ah.set(s,r));const o=ca(i.imports);for(const a of o)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new aS(this.moduleType,t)}}function lS(e,t,n,r){return function(e,t,n,r,i,s){const o=t+n;return Fs(e,o,i)?function(e,t,n){return e[t]=n}(e,o+1,s?r.call(s,i):r(i)):function(e,t){const n=e[t];return n===Ct?void 0:n}(e,o+1)}(Pe(),function(){const e=Yt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function cA(e){return t=>{setTimeout(e,void 0,t)}}const fr=class extends ne{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,s,o;let a=t,u=n||(()=>null),d=r;if(t&&"object"==typeof t){const h=t;a=null===(i=h.next)||void 0===i?void 0:i.bind(h),u=null===(s=h.error)||void 0===s?void 0:s.bind(h),d=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}this.__isAsync&&(u=cA(u),a&&(a=cA(a)),d&&(d=cA(d)));const g=super.subscribe({next:a,error:u,complete:d});return t instanceof Ln&&t.add(g),g}};function qF(){return this._results[sh()]()}class dA{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=sh(),r=dA.prototype;r[n]||(r[n]=qF)}get changes(){return this._changes||(this._changes=new fr)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Ks(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let bu=(()=>{class e{}return e.__NG_ELEMENT_ID__=QF,e})();const KF=bu,JF=class extends KF{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=fd(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),hd(n,r,t),new wp(r)}};function QF(){return My(li(),Pe())}function My(e,t){return 4&e.type?new JF(t,e,Ih(e,t)):null}let qa=(()=>{class e{}return e.__NG_ELEMENT_ID__=e3,e})();function e3(){return mS(li(),Pe())}const t3=qa,gS=class extends t3{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ih(this._hostTNode,this._hostLView)}get injector(){return new tc(this._hostTNode,this._hostLView)}get parentInjector(){const t=mf(this._hostTNode,this._hostLView);if(jm(t)){const n=Ku(t,this._hostLView),r=su(t);return new tc(n[1].data[r+8],n)}return new tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=pS(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,s){const o=t&&!function(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const h=n||{};a=h.index,r=h.injector,i=h.projectableNodes,s=h.ngModuleRef}const u=o?t:new lA(mi(t)),d=r||this.parentInjector;if(!s&&null==u.ngModule&&d){const h=d.get(Cu,null);h&&(s=h)}const g=u.create(d,i,void 0,s);return this.insert(g.hostView,a),g}insert(t,n){const r=t._lView,i=r[1];if(ae(r[3])){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const h=r[3],y=new gS(h,h[6],h[3]);y.detach(y.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],hs(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,o,s);const a=br(s,o),u=r[11],d=zf(u,o[7]);return null!==d&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,ad(e,r,n,1,i,s)}(i,o[6],u,r,d,a),t.attachToViewContainerRef(),hs(fA(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=pS(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=od(this._lContainer,n);r&&(Js(fA(this._lContainer),n),Ug(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=od(this._lContainer,n);return r&&null!=Js(fA(this._lContainer),n)?new wp(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function pS(e){return e[8]}function fA(e){return e[8]||(e[8]=[])}function mS(e,t){let n;const r=t[e.index];if(ae(r))n=r;else{let i;if(8&e.type)i=$r(r);else{const s=t[11];i=s.createComment("");const o=L(e,t);gu(s,zf(s,o),i,function(e,t){return Tr(e)?e.nextSibling(t):t.nextSibling}(s,o),!1)}t[e.index]=n=function(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),rh(t,n)}return new gS(n,e,t)}class hA{constructor(t){this.queryList=t,this.matches=null}clone(){return new hA(this.queryList)}setDirty(){this.queryList.setDirty()}}class gA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new gA(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==IS(t,n).matches&&this.queries[n].setDirty()}}class vS{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class pA{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new pA(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class mA{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new mA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,s3(n,s)),this.matchTNodeWithReadOption(t,n,Il(n,t,s,!1,!1))}else r===bu?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Il(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Qi||i===qa||i===bu&&4&n.type)this.addMatch(n.index,-2);else{const s=Il(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function s3(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function a3(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ih(e,t):4&e.type?My(e,t):null}(t,e):-2===n?function(e,t,n){return n===Qi?Ih(t,e):n===bu?My(t,e):n===qa?mS(t,e):void 0}(e,t,r):ec(e,e[1],n,t)}function yS(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const d=o[u];a.push(d<0?null:a3(t,s[d],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function vA(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=yS(e,t,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const d=s[a+1],g=t[-u];for(let h=10;h<g.length;h++){const y=g[h];y[17]===y[3]&&vA(y[1],y,d,r)}if(null!==g[9]){const h=g[9];for(let y=0;y<h.length;y++){const w=h[y];vA(w[1],w,d,r)}}}}}return r}function yd(e){const t=Pe(),n=Qt(),r=rg();ig(r+1);const i=IS(n,r);if(e.dirty&&Sm(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?vA(n,t,r,[]):yS(n,t,i,r);e.reset(s,bF),e.notifyOnChanges()}return!0}return!1}function Mp(e,t,n){const r=Qt();r.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new pA),e.queries.track(new mA(t,n))}(r,new vS(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function(e,t,n){const r=new dA(4==(4&n));ny(e,t,r,r.destroy),null===t[19]&&(t[19]=new gA),t[19].queries.push(new hA(r))}(r,Pe(),t)}function Cd(){return e=Pe(),t=rg(),e[19].queries[t].queryList;var e,t}function IS(e,t){return e.queries.getByIndex(t)}function xy(...e){}const Ty=new Mt("Application Initializer");let _h=(()=>{class e{constructor(n){this.appInits=n,this.resolve=xy,this.reject=xy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(pp(s))n.push(s);else if(WI(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ue(Ty,8))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();const Sp=new Mt("AppId"),x3={provide:Sp,useFactory:function(){return`${_A()}${_A()}${_A()}`},deps:[]};function _A(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BS=new Mt("Platform Initializer"),Ny=new Mt("Platform ID"),jS=new Mt("appBootstrapListener");let VS=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();const Iu=new Mt("LocaleId"),zS=new Mt("DefaultCurrencyCode");class T3{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let ky=(()=>{class e{compileModuleSync(n){return new uA(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ca(xs(n).declarations).reduce((o,a)=>{const u=mi(a);return u&&o.push(new lA(u)),o},[]);return new T3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();const k3=(()=>Promise.resolve(0))();function DA(e){"undefined"==typeof Zone?k3.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class wr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fr(!1),this.onMicrotaskEmpty=new fr(!1),this.onStable=new fr(!1),this.onError=new fr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=hn.requestAnimationFrame,t=hn.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(hn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,EA(e),e.isCheckStableRunning=!0,MA(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),EA(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return GS(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),US(e)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return GS(e),n.invoke(i,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),US(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,EA(e),MA(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,P3,xy,xy);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const P3={};function MA(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function EA(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function GS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function US(e){e._nesting--,MA(e)}class F3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fr,this.onMicrotaskEmpty=new fr,this.onStable=new fr,this.onError=new fr}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let SA=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wr.assertNotInAngularZone(),DA(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DA(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ue(wr))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),ZS=(()=>{class e{constructor(){this._applications=new Map,xA.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return xA.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();class B3{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let Ka,xA=new B3;const HS=new Mt("AllowMultipleToken");class WS{constructor(t,n){this.name=t,this.token=n}}function YS(e,t,n=[]){const r=`Platform: ${t}`,i=new Mt(r);return(s=[])=>{let o=XS();if(!o||o.injector.get(HS,!1))if(e)e(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:cp,useValue:"platform"});!function(e){if(Ka&&!Ka.destroyed&&!Ka.injector.get(HS,!1))throw new Fr("400","");Ka=e.get($S);const t=e.get(BS,null);t&&t.forEach(n=>n())}(Gn.create({providers:a,name:r}))}return function(e){const t=XS();if(!t)throw new Fr("401","");return t}()}}function XS(){return Ka&&!Ka.destroyed?Ka:null}let $S=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(e,t){let n;return n="noop"===e?new F3:("zone.js"===e?void 0:e)||new wr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:wr,useValue:a}];return a.run(()=>{const d=Gn.create({providers:u,parent:this.injector,name:n.moduleType.name}),g=n.create(d),h=g.injector.get(uc,null);if(!h)throw new Fr("402","");return a.runOutsideAngular(()=>{const y=a.onError.subscribe({next:w=>{h.handleError(w)}});g.onDestroy(()=>{TA(this._modules,g),y.unsubscribe()})}),function(e,t,n){try{const r=n();return pp(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(h,a,()=>{const y=g.injector.get(_h);return y.runInitializers(),y.donePromise.then(()=>(function(e){W(e,"Expected localeId to be defined"),"string"==typeof e&&(x1=e.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Iu,by)||by),this._moduleDoBootstrap(g),g))})})}bootstrapModule(n,r=[]){const i=qS({},r);return function(e,t,n){const r=new uA(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(xp);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Fr("403","");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fr("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ue(Gn))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();function qS(e,t){return Array.isArray(t)?t.reduce(qS,e):Object.assign(Object.assign({},e),t)}let xp=(()=>{class e{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new kt(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),u=new kt(d=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{wr.assertNotInAngularZone(),DA(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{wr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{g.unsubscribe(),h.unsubscribe()}});this.isStable=function(...e){const t=go(e),n=function(e,t){return"number"==typeof yr(e)?e.pop():1/0}(e),r=e;return r.length?1===r.length?Hi(r[0]):Lr(n)(kn(r,t)):Zr}(a,u.pipe(function(e={}){const{connector:t=(()=>new ne),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o=null,a=null,u=null,d=0,g=!1,h=!1;const y=()=>{null==a||a.unsubscribe(),a=null},w=()=>{y(),o=u=null,g=h=!1},M=()=>{const F=o;w(),null==F||F.unsubscribe()};return Le((F,z)=>{d++,!h&&!g&&y();const Y=u=null!=u?u:t();z.add(()=>{d--,0===d&&!h&&!g&&(a=gi(M,i))}),Y.subscribe(z),o||(o=new ti({next:G=>Y.next(G),error:G=>{h=!0,y(),a=gi(w,n,G),Y.error(G)},complete:()=>{g=!0,y(),a=gi(w,r),Y.complete()}}),kn(F).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Fr("405","");let i;i=n instanceof eS?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Cu),a=i.create(Gn.NULL,[],r||i.selector,s),u=a.location.nativeElement,d=a.injector.get(SA,null),g=d&&a.injector.get(ZS);return d&&g&&g.registerApplication(u,d),a.onDestroy(()=>{this.detachView(a.hostView),TA(this.components,a),g&&g.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Fr("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;TA(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(jS,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Ue(wr),Ue(Gn),Ue(uc),Ue(bh),Ue(_h))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();function TA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let JS=!0,Oy=(()=>{class e{}return e.__NG_ELEMENT_ID__=$3,e})();function $3(e){return function(e,t,n){if(Ie(e)&&!n){const r=Ut(e.index,t);return new wp(r,r)}return 47&e.type?new wp(t[16],t):null}(li(),Pe(),16==(16&e))}class sx{constructor(){}supports(t){return fp(t)}create(t){return new nB(t)}}const tB=(e,t)=>t;class nB{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tB}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<ax(r,i,s)?n:r,a=ax(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const d=a-i,g=u-i;if(d!=g){for(let y=0;y<d;y++){const w=y<s.length?s[y]:s[y]=0,M=w+y;g<=M&&M<d&&(s[y]=w+1)}s[o.previousIndex]=g-d}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!fp(t))throw new Error(`Error trying to diff '${jt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[sh()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new rB(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new ox),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ox),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rB{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iB{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class ox{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new iB,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ax(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class lx{constructor(){}supports(t){return t instanceof Map||jI(t)}create(){return new sB}}class sB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||jI(t)))throw new Error(`Error trying to diff '${jt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new oB(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class oB{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ux(){return new Tp([new sx])}let Tp=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ux()),deps:[[e,new _l,new qi]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=p({token:e,providedIn:"root",factory:ux}),e})();function cx(){return new Dh([new lx])}let Dh=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||cx()),deps:[[e,new _l,new qi]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=p({token:e,providedIn:"root",factory:cx}),e})();const lB=[new lx],cB=new Tp([new sx]),dB=new Dh(lB),fB=YS(null,"core",[{provide:Ny,useValue:"unknown"},{provide:$S,deps:[Gn]},{provide:ZS,deps:[]},{provide:VS,deps:[]}]),vB=[{provide:xp,useClass:xp,deps:[wr,Gn,uc,bh,_h]},{provide:EF,deps:[wr],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:_h,useClass:_h,deps:[[new qi,Ty]]},{provide:ky,useClass:ky,deps:[]},x3,{provide:Tp,useFactory:function(){return cB},deps:[]},{provide:Dh,useFactory:function(){return dB},deps:[]},{provide:Iu,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||by},deps:[[new du(Iu),new qi,new _l]]},{provide:zS,useValue:"USD"}];let CB=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ue(xp))},e.\u0275mod=pi({type:e}),e.\u0275inj=C({providers:vB}),e})(),Ry=null;function Pl(){return Ry}const Bi=new Mt("DocumentToken");let Id=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:function(){return Ue(dx)},providedIn:"platform"}),e})();const _B=new Mt("Location Initialized");let dx=(()=>{class e extends Id{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pl().getBaseHref(this._doc)}onPopState(n){const r=Pl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){fx()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){fx()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Ue(Bi))},e.\u0275prov=p({token:e,factory:function(){return new dx(Ue(Bi))},providedIn:"platform"}),e})();function fx(){return!!window.history.pushState}function RA(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function hx(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Au(e){return e&&"?"!==e[0]?"?"+e:e}let Mh=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:function(){return function(e){const t=Ue(Bi).location;return new gx(Ue(Id),t&&t.origin||"")}()},providedIn:"root"}),e})();const LA=new Mt("appBaseHref");let gx=(()=>{class e extends Mh{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return RA(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Au(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Au(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Au(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(Ue(Id),Ue(LA,8))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),EB=(()=>{class e extends Mh{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=RA(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Au(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Au(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(Ue(Id),Ue(LA,8))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),FA=(()=>{class e{constructor(n,r){this._subject=new fr,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=hx(px(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Au(r))}normalize(n){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,px(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Au(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Au(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Au,e.joinWithSlash=RA,e.stripTrailingSlash=hx,e.\u0275fac=function(n){return new(n||e)(Ue(Mh),Ue(Id))},e.\u0275prov=p({token:e,factory:function(){return new FA(Ue(Mh),Ue(Id))},providedIn:"root"}),e})();function px(e){return e.replace(/\/index.html$/,"")}var bi=(()=>((bi=bi||{})[bi.Zero=0]="Zero",bi[bi.One=1]="One",bi[bi.Two=2]="Two",bi[bi.Few=3]="Few",bi[bi.Many=4]="Many",bi[bi.Other=5]="Other",bi))();const LB=function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=S1(t);if(n)return n;const r=t.split("-")[0];if(n=S1(r),n)return n;if("en"===r)return mL;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[tt.PluralCase]};class Hy{}let dj=(()=>{class e extends Hy{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(LB(r||this.locale)(n)){case bi.Zero:return"zero";case bi.One:return"one";case bi.Two:return"two";case bi.Few:return"few";case bi.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(Ue(Iu))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),Hj=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e}),e.\u0275inj=C({providers:[{provide:Hy,useClass:dj}]}),e})();const Sx="browser";let qj=(()=>{class e{}return e.\u0275prov=p({token:e,providedIn:"root",factory:()=>new Kj(Ue(Bi),window)}),e})();class Kj{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=xx(this.window.history)||xx(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function xx(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class qA extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new qA,Ry||(Ry=e)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=(Op=Op||document.querySelector("base"),Op?Op.getAttribute("href"):null);return null==n?null:function(e){Wy=Wy||document.createElement("a"),Wy.setAttribute("href",e);const t=Wy.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Op=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Wy,Op=null;const Tx=new Mt("TRANSITION_ID"),iV=[{provide:Ty,useFactory:function(e,t,n){return()=>{n.get(_h).donePromise.then(()=>{const r=Pl(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Tx,Bi,Gn],multi:!0}];class KA{static init(){var e;e=new KA,xA=e}addToWindow(t){hn.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},hn.getAllAngularTestabilities=()=>t.getAllTestabilities(),hn.getAllAngularRootElements=()=>t.getAllRootElements(),hn.frameworkStabilizers||(hn.frameworkStabilizers=[]),hn.frameworkStabilizers.push(r=>{const i=hn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?Pl().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let sV=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();const Yy=new Mt("EventManagerPlugins");let Xy=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ue(Yy),Ue(wr))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();class Nx{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Pl().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let kx=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),Pp=(()=>{class e extends kx{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Ox),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Ox))}}return e.\u0275fac=function(n){return new(n||e)(Ue(Bi))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();function Ox(e){Pl().remove(e)}const JA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},QA=/%COMP%/g;function $y(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?$y(e,i,n):(i=i.replace(QA,e),n.push(i))}return n}function Lx(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let qy=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ew(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case $t.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new dV(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case $t.ShadowDom:return new fV(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=$y(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ue(Xy),Ue(Pp),Ue(Sp))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();class ew{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(JA[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=JA[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=JA[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Qs.DashCase|Qs.Important)?t.style.setProperty(n,r,i&Qs.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Qs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,Lx(r)):this.eventManager.addEventListener(t,n,Lx(r))}}class dV extends ew{constructor(t,n,r,i){super(t),this.component=r;const s=$y(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(QA,i+"-"+r.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(QA,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class fV extends ew{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$y(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let hV=(()=>{class e extends Nx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Ue(Bi))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();const Bx=["alt","control","meta","shift"],pV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let vV=(()=>{class e extends Nx{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pl().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="";if(Bx.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&jx.hasOwnProperty(t)&&(t=jx[t]))}return pV[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Bx.forEach(s=>{s!=i&&mV[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{e.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ue(Bi))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();const AV=YS(fB,"browser",[{provide:Ny,useValue:Sx},{provide:BS,useValue:function(){qA.makeCurrent(),KA.init()},multi:!0},{provide:Bi,useFactory:function(){return e=document,nu=e,document;var e},deps:[]}]),wV=[{provide:cp,useValue:"root"},{provide:uc,useFactory:function(){return new uc},deps:[]},{provide:Yy,useClass:hV,multi:!0,deps:[Bi,wr,Ny]},{provide:Yy,useClass:vV,multi:!0,deps:[Bi]},{provide:qy,useClass:qy,deps:[Xy,Pp,Sp]},{provide:Ap,useExisting:qy},{provide:kx,useExisting:Pp},{provide:Pp,useClass:Pp,deps:[Bi]},{provide:SA,useClass:SA,deps:[wr]},{provide:Xy,useClass:Xy,deps:[Yy,wr]},{provide:class{},useClass:sV,deps:[]}];let Vx=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:Sp,useValue:n.appId},{provide:Tx,useExisting:Sp},iV]}}}return e.\u0275fac=function(n){return new(n||e)(Ue(e,12))},e.\u0275mod=pi({type:e}),e.\u0275inj=C({providers:wV,imports:[Hj,CB]}),e})();function an(...e){return kn(e,go(e))}"undefined"!=typeof window&&window;class ya extends ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:PV}=Array,{getPrototypeOf:RV,prototype:LV,keys:FV}=Object;const{isArray:jV}=Array;function zV(...e){const t=go(e),n=function(e){return Ge(yr(e))?e.pop():void 0}(e),{args:r,keys:i}=function(e){if(1===e.length){const t=e[0];if(PV(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&RV(e)===LV}(t)){const n=FV(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return kn([],t);const s=new kt(function(e,t,n=Ur){return r=>{Wx(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Wx(t,()=>{const d=kn(e[u],t);let g=!1;d.subscribe(new nt(r,h=>{s[u]=h,g||(g=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):Ur));return n?s.pipe(function(e){return pt(t=>function(e,t){return jV(t)?e(...t):e(t)}(e,t))}(n)):s}function Wx(e,t,n){e?ri(n,e,t):t()}const Ky=Wn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function nw(...e){return Lr(1)(kn(e,go(e)))}function Yx(e){return new kt(t=>{Hi(e()).subscribe(t)})}function Xx(){return Le((e,t)=>{let n=null;e._refCount++;const r=new nt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class ZV extends kt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_e(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ln;const n=this.getSubject();t.add(this.source.subscribe(new nt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ln.EMPTY)}return t}refCount(){return Xx()(this)}}function Ad(e,t){return Le((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new nt(r,u=>{null==i||i.unsubscribe();let d=0;const g=s++;Hi(e(u,g)).subscribe(i=new nt(r,h=>r.next(t?t(u,h,g,d++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function WV(e,t,n,r,i){return(s,o)=>{let a=n,u=t,d=0;s.subscribe(new nt(o,g=>{const h=d++;u=a?e(u,g,h):(a=!0,g),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function $x(e,t){return Le(WV(e,t,arguments.length>=2,!0))}function wd(e,t){return Le((n,r)=>{let i=0;n.subscribe(new nt(r,s=>e.call(t,s,i++)&&r.next(s)))})}function mc(e){return Le((t,n)=>{let s,r=null,i=!1;r=t.subscribe(new nt(n,void 0,void 0,o=>{s=Hi(e(o,mc(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Rp(e,t){return Ge(t)?Kn(e,t,1):Kn(e,1)}function rw(e){return e<=0?()=>Zr:Le((t,n)=>{let r=[];t.subscribe(new nt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qx(e=YV){return Le((t,n)=>{let r=!1;t.subscribe(new nt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function YV(){return new Ky}function Kx(e){return Le((t,n)=>{let r=!1;t.subscribe(new nt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Eh(e,t){const n=arguments.length>=2;return r=>r.pipe(e?wd((i,s)=>e(i,s,r)):Ur,So(1),n?Kx(t):qx(()=>new Ky))}function jo(e,t,n){const r=Ge(e)||t||n?{next:e,error:t,complete:n}:e;return r?Le((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new nt(s,u=>{var d;null===(d=r.next)||void 0===d||d.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,u),s.error(u)},()=>{var u,d;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Ur}class _u{constructor(t,n){this.id=t,this.url=n}}class iw extends _u{constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lp extends _u{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jx extends _u{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qV extends _u{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KV extends _u{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JV extends _u{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QV extends _u{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ez extends _u{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tz extends _u{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qx{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eT{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nz{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rz{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iz{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sz{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tT{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bn="primary";class oz{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Sh(e){return new oz(e)}const nT="ngNavigationCancelingError";function sw(e){const t=Error("NavigationCancelingError: "+e);return t[nT]=!0,t}function lz(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Rl(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!rT(e[i],t[i]))return!1;return!0}function rT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function iT(e){return Array.prototype.concat.apply([],e)}function sT(e){return e.length>0?e[e.length-1]:null}function vs(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ll(e){return WI(e)?e:pp(e)?kn(Promise.resolve(e)):an(e)}const dz={exact:function lT(e,t,n){if(!Dd(e.segments,t.segments)||!Jy(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!lT(e.children[r],t.children[r],n))return!1;return!0},subset:uT},oT={exact:function(e,t){return Rl(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>rT(e[n],t[n]))},ignored:()=>!0};function aT(e,t,n){return dz[n.paths](e.root,t.root,n.matrixParams)&&oT[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function uT(e,t,n){return cT(e,t,t.segments,n)}function cT(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Dd(i,n)||t.hasChildren()||!Jy(i,n,r))}if(e.segments.length===n.length){if(!Dd(e.segments,n)||!Jy(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!uT(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Dd(e.segments,i)&&Jy(e.segments,i,r)&&e.children[bn])&&cT(e.children[bn],t,s,r)}}function Jy(e,t,n){return t.every((r,i)=>oT[n](e[i].parameters,r.parameters))}class _d{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sh(this.queryParams)),this._queryParamMap}toString(){return mz.serialize(this)}}class xn{constructor(t,n){this.segments=t,this.children=n,this.parent=null,vs(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qy(this)}}class Fp{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Sh(this.parameters)),this._parameterMap}toString(){return pT(this)}}function Dd(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class dT{}class fT{parse(t){const n=new Dz(t);return new _d(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Bp(t.root,!0)}`,r=function(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${e0(n)}=${e0(i)}`).join("&"):`${e0(n)}=${e0(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);var e;return`${n}${r}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const mz=new fT;function Qy(e){return e.segments.map(t=>pT(t)).join("/")}function Bp(e,t){if(!e.hasChildren())return Qy(e);if(t){const n=e.children[bn]?Bp(e.children[bn],!1):"",r=[];return vs(e.children,(i,s)=>{s!==bn&&r.push(`${s}:${Bp(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(e,t){let n=[];return vs(e.children,(r,i)=>{i===bn&&(n=n.concat(t(r,i)))}),vs(e.children,(r,i)=>{i!==bn&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===bn?[Bp(e.children[bn],!1)]:[`${i}:${Bp(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[bn]?`${Qy(e)}/${n[0]}`:`${Qy(e)}/(${n.join("//")})`}}function hT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function e0(e){return hT(e).replace(/%3B/gi,";")}function ow(e){return hT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function t0(e){return decodeURIComponent(e)}function gT(e){return t0(e.replace(/\+/g,"%20"))}function pT(e){return`${ow(e.path)}${function(e){return Object.keys(e).map(t=>`;${ow(t)}=${ow(e[t])}`).join("")}(e.parameters)}`}const bz=/^[^\/()?;=#]+/;function n0(e){const t=e.match(bz);return t?t[0]:""}const Iz=/^[^=?&#]+/,wz=/^[^&#]+/;class Dz{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[bn]=new xn(t,n)),r}parseSegment(){const t=n0(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Fp(t0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=n0(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=n0(this.remaining);i&&(r=i,this.capture(r))}t[t0(n)]=t0(r)}parseQueryParam(t){const n=function(e){const t=e.match(Iz);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(e){const t=e.match(wz);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=gT(n),s=gT(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=n0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=bn);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[bn]:new xn([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class mT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=aw(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=aw(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=lw(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return lw(t,this._root).map(n=>n.value)}}function aw(e,t){if(e===t.value)return t;for(const n of t.children){const r=aw(e,n);if(r)return r}return null}function lw(e,t){if(e===t.value)return[t];for(const n of t.children){const r=lw(e,n);if(r.length)return r.unshift(t),r}return[]}class Du{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function xh(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class vT extends mT{constructor(t,n){super(t),this.snapshot=n,uw(this,t)}toString(){return this.snapshot.toString()}}function yT(e,t){const n=function(e,t){const o=new r0([],{},{},"",{},bn,t,null,e.root,-1,{});return new bT("",new Du(o,[]))}(e,t),r=new ya([new Fp("",{})]),i=new ya({}),s=new ya({}),o=new ya({}),a=new ya(""),u=new Th(r,i,o,a,s,bn,t,n.root);return u.snapshot=n.root,new vT(new Du(u,[]),n)}class Th{constructor(t,n,r,i,s,o,a,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pt(t=>Sh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pt(t=>Sh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CT(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class r0{constructor(t,n,r,i,s,o,a,u,d,g,h){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=d,this._lastPathIndex=g,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bT extends mT{constructor(t,n){super(n),this.url=t,uw(this,n)}toString(){return IT(this._root)}}function uw(e,t){t.value._routerState=e,t.children.forEach(n=>uw(e,n))}function IT(e){const t=e.children.length>0?` { ${e.children.map(IT).join(", ")} } `:"";return`${e.value}${t}`}function cw(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Rl(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Rl(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Rl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Rl(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function dw(e,t){const n=Rl(e.params,t.params)&&function(e,t){return Dd(e,t)&&e.every((n,r)=>Rl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||dw(e.parent,t.parent))}function jp(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return jp(e,r,i);return jp(e,r)})}(e,t,n);return new Du(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>jp(e,a)),o}}const r=function(e){return new Th(new ya(e.url),new ya(e.params),new ya(e.queryParams),new ya(e.fragment),new ya(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>jp(e,s));return new Du(r,i)}}function s0(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Vp(e){return"object"==typeof e&&null!=e&&e.outlets}function fw(e,t,n,r,i){let s={};return r&&vs(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new _d(n.root===e?t:AT(n.root,e,t),s,i)}function AT(e,t,n){const r={};return vs(e.children,(i,s)=>{r[s]=i===t?n:AT(i,t,n)}),new xn(e.segments,r)}class wT{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&s0(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Vp);if(i&&i!==sT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hw{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function _T(e,t,n){if(e||(e=new xn([],{})),0===e.segments.length&&e.hasChildren())return o0(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(Vp(a))break;const u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&d&&"object"==typeof d&&void 0===d.outlets){if(!MT(u,d,o))return s;r+=2}else{if(!MT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new xn(e.segments.slice(0,r.pathIndex),{});return s.children[bn]=new xn(e.segments.slice(r.pathIndex),e.children),o0(s,0,i)}return r.match&&0===i.length?new xn(e.segments,{}):r.match&&!e.hasChildren()?gw(e,t,n):r.match?o0(e,0,i):gw(e,t,n)}function o0(e,t,n){if(0===n.length)return new xn(e.segments,{});{const r=function(e){return Vp(e[0])?e[0].outlets:{[bn]:e}}(n),i={};return vs(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=_T(e.children[o],t,s))}),vs(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new xn(e.segments,i)}}function gw(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Vp(s)){const u=Fz(s.outlets);return new xn(r,u)}if(0===i&&s0(n[0])){r.push(new Fp(e.segments[t].path,DT(n[0]))),i++;continue}const o=Vp(s)?s.outlets[bn]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&s0(a)?(r.push(new Fp(o,DT(a))),i+=2):(r.push(new Fp(o,{})),i++)}return new xn(r,{})}function Fz(e){const t={};return vs(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=gw(new xn([],{}),0,n))}),t}function DT(e){const t={};return vs(e,(n,r)=>t[r]=`${n}`),t}function MT(e,t,n){return e==n.path&&Rl(t,n.parameters)}class jz{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),cw(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=xh(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),vs(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=xh(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=xh(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=xh(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new sz(s.value.snapshot))}),t.children.length&&this.forwardEvent(new rz(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(cw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cw(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class pw{constructor(t,n){this.routes=t,this.module=n}}function vc(e){return"function"==typeof e}function Md(e){return e instanceof _d}const zp=Symbol("INITIAL_VALUE");function Gp(){return Ad(e=>zV(e.map(t=>t.pipe(So(1),function(...e){const t=go(e);return Le((n,r)=>{(t?nw(e,n,t):nw(e,n)).subscribe(r)})}(zp)))).pipe($x((t,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==zp?i:(s===zp&&(r=!0),r||!1!==s&&o!==n.length-1&&!Md(s)?i:s),t)},zp),wd(t=>t!==zp),pt(t=>Md(t)?t:!0===t),So(1)))}class Wz{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Up,this.attachRef=null}}class Up{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Wz,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let mw=(()=>{class e{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new fr,this.deactivateEvents=new fr,this.attachEvents=new fr,this.detachEvents=new fr,this.name=s||bn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new Yz(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(Te(Up),Te(qa),Te(bh),ou("name"),Te(Oy))},e.\u0275dir=vt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class Yz{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Th?this.route:t===Up?this.childContexts:this.parent.get(t,n)}}let ET=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=To({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Li(0,"router-outlet")},directives:[mw],encapsulation:2}),e})();function ST(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Xz(r,$z(t,r))}}function Xz(e,t){e.children&&ST(e.children,t)}function $z(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function vw(e){const t=e.children&&e.children.map(vw),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==bn&&(n.component=ET),n}function Ca(e){return e.outlet||bn}function xT(e,t){const n=e.filter(r=>Ca(r)===t);return n.push(...e.filter(r=>Ca(r)!==t)),n}const TT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function a0(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},TT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||lz)(n,e,t);if(!s)return Object.assign({},TT);const o={};vs(s.posParams,(u,d)=>{o[d]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function l0(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(r=>u0(e,t,r)&&Ca(r)!==bn)}(e,n,r)){const o=new xn(t,function(e,t,n,r){const i={};i[bn]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Ca(s)!==bn){const o=new xn([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,i[Ca(s)]=o}return i}(e,t,r,new xn(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(r=>u0(e,t,r))}(e,n,r)){const o=new xn(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(u0(e,n,a)&&!i[Ca(a)]){const u=new xn([],{});u._sourceSegment=e,u._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Ca(a)]=u}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const s=new xn(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function u0(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function NT(e,t,n,r){return!!(Ca(e)===r||r!==bn&&u0(t,n,e))&&("**"===e.path||a0(t,e,n).matched)}function kT(e,t,n){return 0===t.length&&!e.children[n]}class Zp{constructor(t){this.segmentGroup=t||null}}class OT{constructor(t){this.urlTree=t}}function c0(e){return new kt(t=>t.error(new Zp(e)))}function PT(e){return new kt(t=>t.error(new OT(e)))}function e5(e){return new kt(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class r5{constructor(t,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Cu)}apply(){const t=l0(this.urlTree.root,[],[],this.config).segmentGroup,n=new xn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,bn).pipe(pt(s=>this.createUrlTree(yw(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mc(s=>{if(s instanceof OT)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Zp?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,bn).pipe(pt(i=>this.createUrlTree(yw(i),t.queryParams,t.fragment))).pipe(mc(i=>{throw i instanceof Zp?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new xn([],{[bn]:t}):t;return new _d(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(pt(s=>new xn([],s))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return kn(i).pipe(Rp(s=>{const o=r.children[s],a=xT(n,s);return this.expandSegmentGroup(t,a,o,s).pipe(pt(u=>({segment:u,outlet:s})))}),$x((s,o)=>(s[o.outlet]=o.segment,s),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?wd((i,s)=>e(i,s,r)):Ur,rw(1),n?Kx(t):qx(()=>new Ky))}())}expandSegment(t,n,r,i,s,o){return kn(r).pipe(Rp(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,s,o).pipe(mc(d=>{if(d instanceof Zp)return an(null);throw d}))),Eh(a=>!!a),mc((a,u)=>{if(a instanceof Ky||"EmptyError"===a.name){if(kT(n,i,s))return an(new xn([],{}));throw new Zp(n)}throw a}))}expandSegmentAgainstRoute(t,n,r,i,s,o,a){return NT(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o):c0(n):c0(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?PT(s):this.lineralizeSegments(r,s).pipe(Kn(o=>{const a=new xn(o,{});return this.expandSegment(t,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:d,positionalParamSegments:g}=a0(n,i,s);if(!a)return c0(n);const h=this.applyRedirectCommands(u,i.redirectTo,g);return i.redirectTo.startsWith("/")?PT(h):this.lineralizeSegments(i,h).pipe(Kn(y=>this.expandSegment(t,n,r,y.concat(s.slice(d)),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?an(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(pt(y=>(r._loadedConfig=y,new xn(i,{})))):an(new xn(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=a0(n,r,i);if(!o)return c0(n);const d=i.slice(u);return this.getChildConfig(t,r,i).pipe(Kn(h=>{const y=h.module,w=h.routes,{segmentGroup:M,slicedSegments:F}=l0(n,a,d,w),z=new xn(M.segments,M.children);if(0===F.length&&z.hasChildren())return this.expandChildren(y,w,z).pipe(pt(S=>new xn(a,S)));if(0===w.length&&0===F.length)return an(new xn(a,{}));const Y=Ca(r)===s;return this.expandSegment(y,z,w,F,Y?bn:s,!0).pipe(pt(I=>new xn(a.concat(I.segments),I.children)))}))}getChildConfig(t,n,r){return n.children?an(new pw(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?an(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(Kn(i=>{return i?this.configLoader.load(t.injector,n).pipe(pt(s=>(n._loadedConfig=s,s))):(e=n,new kt(t=>t.error(sw(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))));var e})):an(new pw([],t))}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?an(i.map(o=>{const a=t.get(o);let u;if((e=a)&&vc(e.canLoad))u=a.canLoad(n,r);else{if(!vc(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}var e;return Ll(u)})).pipe(Gp(),jo(o=>{if(!Md(o))return;const a=sw(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),pt(o=>!0===o)):an(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return an(r);if(i.numberOfChildren>1||!i.children[bn])return e5(t.redirectTo);i=i.children[bn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new _d(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return vs(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return vs(n.children,(a,u)=>{o[u]=this.createSegmentGroup(t,a,r,i)}),new xn(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function yw(e){const t={};for(const r of Object.keys(e.children)){const s=yw(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function(e){if(1===e.numberOfChildren&&e.children[bn]){const t=e.children[bn];return new xn(e.segments.concat(t.segments),t.children)}return e}(new xn(e.segments,t))}class RT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class d0{constructor(t,n){this.component=t,this.route=n}}function o5(e,t,n){const r=e._root;return Hp(r,t?t._root:null,n,[r.value])}function f0(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Hp(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xh(t);return e.children.forEach(o=>{(function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Dd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Dd(e.url,t.url)||!Rl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dw(e,t)||!Rl(e.queryParams,t.queryParams);default:return!dw(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new RT(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Hp(e,t,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new d0(a.outlet.component,o))}else o&&Wp(t,a,i),i.canActivateChecks.push(new RT(r)),Hp(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),vs(s,(o,a)=>Wp(o,n.getContext(a),i)),i}function Wp(e,t,n){const r=xh(e),i=e.value;vs(r,(s,o)=>{Wp(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new d0(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class C5{}function LT(e){return new kt(t=>t.error(e))}class I5{constructor(t,n,r,i,s,o){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=l0(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,bn);if(null===n)return null;const r=new r0([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Du(r,n),s=new bT(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const n=t.value,r=CT(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=xT(t,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=FT(r);return i.sort((t,n)=>t.value.outlet===bn?-1:n.value.outlet===bn?1:t.value.outlet.localeCompare(n.value.outlet)),i}processSegment(t,n,r,i){for(const s of t){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return kT(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!NT(t,n,r,i))return null;let s,o=[],a=[];if("**"===t.path){const w=r.length>0?sT(r).parameters:{};s=new r0(r,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VT(t),Ca(t),t.component,t,BT(n),jT(n)+r.length,zT(t))}else{const w=a0(n,t,r);if(!w.matched)return null;o=w.consumedSegments,a=r.slice(w.lastChild),s=new r0(o,w.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VT(t),Ca(t),t.component,t,BT(n),jT(n)+o.length,zT(t))}const u=(e=t).children?e.children:e.loadChildren?e._loadedConfig.routes:[],{segmentGroup:d,slicedSegments:g}=l0(n,o,a,u.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution);var e;if(0===g.length&&d.hasChildren()){const w=this.processChildren(u,d);return null===w?null:[new Du(s,w)]}if(0===u.length&&0===g.length)return[new Du(s,[])];const h=Ca(t)===i,y=this.processSegment(u,d,g,h?bn:i);return null===y?null:[new Du(s,y)]}}function _5(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function FT(e){const t=[],n=new Set;for(const r of e){if(!_5(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=FT(r.children);t.push(new Du(r.value,i))}return t.filter(r=>!n.has(r))}function BT(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function jT(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function VT(e){return e.data||{}}function zT(e){return e.resolve||{}}function Cw(e){return Ad(t=>{const n=e(t);return n?kn(n).pipe(pt(()=>t)):an(t)})}class k5 extends class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const bw=new Mt("ROUTES");class GT{constructor(t,n,r,i){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(t);return new pw(iT(o.injector.get(bw,void 0,he.Self|he.Optional)).map(vw),o)}),mc(s=>{throw n._loader$=void 0,s}));return n._loader$=new ZV(i,()=>new ne).pipe(Xx()),n._loader$}loadModuleFactory(t){return Ll(t()).pipe(Kn(n=>n instanceof iS?an(n):kn(this.compiler.compileModuleAsync(n))))}}class P5{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function R5(e){throw e}function L5(e,t,n){return t.parse("/")}function UT(e,t){return an(null)}const F5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vo=(()=>{class e{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ne,this.errorHandler=R5,this.malformedUriErrorHandler=L5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:UT,afterPreactivation:UT},this.urlHandlingStrategy=new P5,this.routeReuseStrategy=new k5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Cu),this.console=o.get(VS);const h=o.get(wr);this.isNgZoneEnabled=h instanceof wr&&wr.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new _d(new xn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new GT(o,a,y=>this.triggerEvent(new Qx(y)),y=>this.triggerEvent(new eT(y))),this.routerState=yT(this.currentUrlTree,this.rootComponentType),this.transitions=new ya({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(wd(i=>0!==i.id),pt(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ad(i=>{let s=!1,o=!1;return an(i).pipe(jo(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ad(a=>{const u=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return h0(a.source)&&(this.browserUrlTree=a.extractedUrl),an(a).pipe(Ad(h=>{const y=this.transitions.getValue();return r.next(new iw(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions.getValue()?Zr:Promise.resolve(h)}),function(e,t,n,r){return Ad(i=>function(e,t,n,r,i){return new r5(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(pt(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jo(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function(e,t,n,r,i){return Kn(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new I5(e,t,n,r,i,s).recognize();return null===o?LT(new C5):an(o)}catch(o){return LT(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(pt(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),jo(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const w=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(w,h)}this.browserUrlTree=h.urlAfterRedirects}const y=new KV(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);r.next(y)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:y,extractedUrl:w,source:M,restoredState:F,extras:z}=a,Y=new iw(y,this.serializeUrl(w),M,F);r.next(Y);const G=yT(w,this.rootComponentType).snapshot;return an(Object.assign(Object.assign({},a),{targetSnapshot:G,urlAfterRedirects:w,extras:Object.assign(Object.assign({},z),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Zr}),Cw(a=>{const{targetSnapshot:u,id:d,extractedUrl:g,rawUrl:h,extras:{skipLocationChange:y,replaceUrl:w}}=a;return this.hooks.beforePreactivation(u,{navigationId:d,appliedUrlTree:g,rawUrlTree:h,skipLocationChange:!!y,replaceUrl:!!w})}),jo(a=>{const u=new JV(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),pt(a=>Object.assign(Object.assign({},a),{guards:o5(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(e,t){return Kn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?an(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return kn(e).pipe(Kn(i=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?an(s.map(a=>{const u=f0(a,t,i);let d;if(function(e){return e&&vc(e.canDeactivate)}(u))d=Ll(u.canDeactivate(e,t,n,r));else{if(!vc(u))throw new Error("Invalid CanDeactivate guard");d=Ll(u(e,t,n,r))}return d.pipe(Eh())})).pipe(Gp()):an(!0)}(i.component,i.route,n,t,r)),Eh(i=>!0!==i,!0))}(o,r,i,e).pipe(Kn(a=>a&&function(e){return"boolean"==typeof e}(a)?function(e,t,n,r){return kn(t).pipe(Rp(i=>nw(function(e,t){return null!==e&&t&&t(new nz(e)),an(!0)}(i.route.parent,r),function(e,t){return null!==e&&t&&t(new iz(e)),an(!0)}(i.route,r),function(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Yx(()=>an(o.guards.map(u=>{const d=f0(u,o.node,n);let g;if(function(e){return e&&vc(e.canActivateChild)}(d))g=Ll(d.canActivateChild(r,e));else{if(!vc(d))throw new Error("Invalid CanActivateChild guard");g=Ll(d(r,e))}return g.pipe(Eh())})).pipe(Gp())));return an(s).pipe(Gp())}(e,i.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return an(!0);const i=r.map(s=>Yx(()=>{const o=f0(s,t,n);let a;if(function(e){return e&&vc(e.canActivate)}(o))a=Ll(o.canActivate(t,e));else{if(!vc(o))throw new Error("Invalid CanActivate guard");a=Ll(o(t,e))}return a.pipe(Eh())}));return an(i).pipe(Gp())}(e,i.route,n))),Eh(i=>!0!==i,!0))}(r,s,e,t):an(a)),pt(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),jo(a=>{if(Md(a.guardsResult)){const d=sw(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw d.url=a.guardsResult,d}const u=new QV(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),wd(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Cw(a=>{if(a.guards.canActivateChecks.length)return an(a).pipe(jo(u=>{const d=new ez(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(d)}),Ad(u=>{let d=!1;return an(u).pipe(function(e,t){return Kn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return an(n);let s=0;return kn(i).pipe(Rp(o=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return an({});const s={};return kn(i).pipe(Kn(o=>function(e,t,n,r){const i=f0(e,t,r);return Ll(i.resolve?i.resolve(t,n):i(t,n))}(e[o],t,n,r).pipe(jo(a=>{s[o]=a}))),rw(1),Kn(()=>Object.keys(s).length===i.length?an(s):Zr))}(e._resolve,e,t,r).pipe(pt(s=>(e._resolvedData=s,e.data=Object.assign(Object.assign({},e.data),CT(e,n).resolve),null)))}(o.route,r,e,t)),jo(()=>s++),rw(1),Kn(o=>s===i.length?an(n):Zr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),jo({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),jo(u=>{const d=new tz(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(d)}))}),Cw(a=>{const{targetSnapshot:u,id:d,extractedUrl:g,rawUrl:h,extras:{skipLocationChange:y,replaceUrl:w}}=a;return this.hooks.afterPreactivation(u,{navigationId:d,appliedUrlTree:g,rawUrlTree:h,skipLocationChange:!!y,replaceUrl:!!w})}),pt(a=>{const u=function(e,t,n){const r=jp(e,t._root,n?n._root:void 0);return new vT(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),jo(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>pt(r=>(new jz(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),jo({next(){s=!0},complete(){s=!0}}),function(e){return Le((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),mc(a=>{if(o=!0,function(e){return e&&e[nT]}(a)){const u=Md(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const d=new Jx(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(d),u?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h0(i.source)};this.scheduleNavigation(g,"imperative",null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new qV(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(d){i.reject(d)}}return Zr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){ST(n),this.config=n.map(vw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,d=i||this.routerState.root,g=u?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return fw(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wT(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return vs(s.outlets,(u,d)=>{a[d]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new wT(n,t,r)}(n);if(s.toRoot())return fw(t.root,new xn([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new hw(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new hw(s,s===t.root,0)}const r=s0(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new hw(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?o0(o.segmentGroup,o.index,s.commands):_T(o.segmentGroup,o.index,s.commands);return fw(o.segmentGroup,a,t,r,i)}(d,this.currentUrlTree,n,h,null!=g?g:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Md(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},F5):!1===r?Object.assign({},B5):r,Md(n))return aT(this.currentUrlTree,n,i);const s=this.parseUrl(n);return aT(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Lp(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u,d;if(this.disposed)return Promise.resolve(!1);const g=this.transitions.value,h=h0(r)&&g&&!h0(g.source),y=g.rawUrl.toString()===n.toString(),w=g.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(h&&y&&w)return Promise.resolve(!0);let F,z,Y;o?(F=o.resolve,z=o.reject,Y=o.promise):Y=new Promise((S,k)=>{F=S,z=k});const G=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),I=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):I=0,this.setTransition({id:G,targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:F,reject:z,promise:Y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Y.catch(S=>Promise.reject(S))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new Jx(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){ZI()},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();function h0(e){return"imperative"!==e}class ZT{}class HT{preload(t,n){return an(null)}}let WT=(()=>{class e{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new GT(i,r,u=>n.triggerEvent(new Qx(u)),u=>n.triggerEvent(new eT(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(wd(n=>n instanceof Lp),Rp(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Cu);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return kn(i).pipe(Lr(),pt(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?an(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Kn(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(Ue(Vo),Ue(ky),Ue(Gn),Ue(ZT))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),ww=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof iw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Lp&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof tT&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new tT(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){ZI()},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();const Ed=new Mt("ROUTER_CONFIGURATION"),YT=new Mt("ROUTER_FORROOT_GUARD"),U5=[FA,{provide:dT,useClass:fT},{provide:Vo,useFactory:function(e,t,n,r,i,s,o={},a,u){const d=new Vo(null,e,t,n,r,i,iT(s));return a&&(d.urlHandlingStrategy=a),u&&(d.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(o,d),o.enableTracing&&d.events.subscribe(g=>{var h,y;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(y=console.groupEnd)||void 0===y||y.call(console)}),d},deps:[dT,Up,FA,Gn,ky,bw,Ed,[class{},new qi],[class{},new qi]]},Up,{provide:Th,useFactory:function(e){return e.routerState.root},deps:[Vo]},WT,HT,class{preload(t,n){return n().pipe(mc(()=>an(null)))}},{provide:Ed,useValue:{enableTracing:!1}}];function Z5(){return new WS("Router",Vo)}let XT=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[U5,$T(n),{provide:YT,useFactory:Y5,deps:[[Vo,new qi,new _l]]},{provide:Ed,useValue:r||{}},{provide:Mh,useFactory:W5,deps:[Id,[new du(LA),new qi],Ed]},{provide:ww,useFactory:H5,deps:[Vo,qj,Ed]},{provide:ZT,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:HT},{provide:WS,multi:!0,useFactory:Z5},[_w,{provide:Ty,multi:!0,useFactory:K5,deps:[_w]},{provide:qT,useFactory:J5,deps:[_w]},{provide:jS,multi:!0,useExisting:qT}]]}}static forChild(n){return{ngModule:e,providers:[$T(n)]}}}return e.\u0275fac=function(n){return new(n||e)(Ue(YT,8),Ue(Vo,8))},e.\u0275mod=pi({type:e}),e.\u0275inj=C({}),e})();function H5(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ww(e,t,n)}function W5(e,t,n={}){return n.useHash?new EB(e,t):new gx(e,t)}function Y5(e){return"guarded"}function $T(e){return[{provide:gg,multi:!0,useValue:e},{provide:bw,multi:!0,useValue:e}]}let _w=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ne}appInitializer(){return this.injector.get(_B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Vo),o=this.injector.get(Ed);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?an(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Ed),i=this.injector.get(WT),s=this.injector.get(ww),o=this.injector.get(Vo),a=this.injector.get(xp);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(Ue(Gn))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();function K5(e){return e.appInitializer.bind(e)}function J5(e){return e.bootstrapListener.bind(e)}const qT=new Mt("Router Initializer");var Bs=ut(66),In=ut(489),nr=ut(259);const{round:eG,floor:tG,PI:KT}=Math,nG={linear:function(e,t,n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]||0}},Fl=function(e){return e%360+(e<0?360:0)},Sd=function(e,t){return t*eG(e/t)},g0=function(e){return 180*e/KT%360},Io=function(e,t){return(e=(t=t||!1)?e:e%360)*KT/180},Dw=function(e,t){if(void 0===t)t=void 0===e?1:e,e=0;else if(t<e){const n=e;e=t,t=n}return tG(Math.random()*(t-e+1)+e)},{cos:p0,sin:Mw,atan2:rG}=Math,JT=function(e,t){var n=Io(e.y),r=Io(t.y),o=Io(t.x-e.x),a=Mw(o)*p0(r),u=p0(n)*Mw(r)-Mw(n)*p0(r)*p0(o),h=g0(rG(a,u))-22.5;return h<0&&(h+=360),["NE","E","SE","S","SW","W","NW","N"][h=parseInt(h/45)]},Ew=function(e,t){var n=e.x,r=e.y;return(n-=t.x)*n+(r-=t.y)*r},QT=function(e,t){return Math.sqrt(Ew(e,t))},{abs:m0,cos:Sw,sin:xw,sqrt:eN,min:tN,max:nN,atan2:iG,round:rN,pow:sG,PI:iN}=Math,ce=function(e,t){if(!(this instanceof ce))return new ce(e,t);if("string"==typeof e){var n=e.split(-1===e.indexOf("@")?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=void 0===e?0:e,this.y=void 0===t?0:t};ce.fromPolar=function(e,t,n){n=new ce(n);var r=m0(e*Sw(t)),i=m0(e*xw(t)),s=Fl(g0(t));return s<90?i=-i:s<180?(r=-r,i=-i):s<270&&(r=-r),new ce(n.x+r,n.y+i)},ce.random=function(e,t,n,r){return new ce(Dw(e,t),Dw(n,r))},ce.prototype={chooseClosest:function(e){var t=e.length;if(1===t)return new ce(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var s=new ce(e[i]),o=this.squaredDistance(s);o<r&&(n=s,r=o)}return n},adhereToRect:function(e){return e.containsPoint(this)||(this.x=tN(nN(this.x,e.x),e.x+e.width),this.y=tN(nN(this.y,e.y),e.y+e.height)),this},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return JT(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new ce(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ce(this.x-(e||0),this.y-(t||0))},distance:function(e){return QT(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){return new ce((1-t)*this.x+t*e.x,(1-t)*this.y+t*e.y)},magnitude:function(){return eN(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return m0(e.x-this.x)+m0(e.y-this.y)},move:function(e,t){var n=Io(new ce(e).theta(this));return this.offset(Sw(n)*t,-xw(n)*t)},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ce(e).move(this,this.distance(e))},rotate:function(e,t){if(0===t)return this;e=e||new ce(0,0),t=Io(Fl(-t));var n=Sw(t),r=xw(t),s=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=n*(this.x-e.x)-r*(this.y-e.y)+e.x,this.y=s,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=sG(10,e)}return this.x=rN(this.x*t)/t,this.y=rN(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new ce(n)||new ce(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=Sd(this.x,e),this.y=Sd(this.y,t||e),this},squaredDistance:function(e){return Ew(this,e)},theta:function(e){e=new ce(e);var r=iG(-(e.y-this.y),e.x-this.x);return r<0&&(r=2*iN+r),180*r/iN},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ce(e)||new ce(0,0);var t=this.x,n=this.y;return this.x=eN((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=Io(e.theta(new ce(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){return new ce(0,0).angleBetween(this,e)}},ce.prototype.translate=ce.prototype.offset;const Yp=ce,{max:Tw,min:Nw}=Math,it=function(e,t){return this instanceof it?e instanceof it?new it(e.start,e.end):(this.start=new ce(e),void(this.end=new ce(t))):new it(e,t)};it.prototype={angle:function(){var e=new ce(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=Nw(this.start.x,this.end.x),t=Nw(this.start.y,this.end.y),n=Tw(this.start.x,this.end.x),r=Tw(this.start.y,this.end.y);return new Qe(e,t,n-e,r-t)},bearing:function(){return JT(this.start,this.end)},clone:function(){return new it(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new it(this.start,e).vector()),n=Nw(1,Tw(0,t/this.squaredLength()));return n!=n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(0!==t.cross(e,n))return!1;var r=this.length();return!(new it(t,e).length()>r||new it(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new it(this.start,t),new it(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new it(this.start,t),new it(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof it&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new ce(this.end.x-this.start.x,this.end.y-this.start.y),n=new ce(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new ce(e.start.x-this.start.x,e.start.y-this.start.y),s=i.x*n.y-i.y*n.x,o=i.x*t.y-i.y*t.x;if(0===r||s*r<0||o*r<0)return null;if(r>0){if(s>r||o>r)return null}else if(s<r||o<r)return null;return[new ce(this.start.x+s*t.x/r,this.start.y+s*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return QT(this.start,this.end)},midpoint:function(){return new ce((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:n,end:r}=t,i=n.clone().rotate(r,270),s=r.clone().rotate(n,90);return n.move(s,e),r.move(i,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new ce(e);var t=this.start,n=this.end;return((n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x))/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return Ew(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new it(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new it(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ce(this.end.x-this.start.x,this.end.y-this.start.y)}},it.prototype.intersection=it.prototype.intersect;const xd=it,{sqrt:sN,round:v0,pow:oG}=Math,oo=function(e,t,n){return this instanceof oo?e instanceof oo?new oo(new ce(e.x,e.y),e.a,e.b):(e=new ce(e),this.x=e.x,this.y=e.y,this.a=t,void(this.b=n)):new oo(e,t,n)};oo.fromRect=function(e){return e=new Qe(e),new oo(e.center(),e.width/2,e.height/2)},oo.prototype={bbox:function(){return new Qe(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ce(this.x,this.y)},clone:function(){return new oo(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,s=this.b,o=e.vector(),a=n.difference(new ce(this)),u=new ce(o.x/(i*i),o.y/(s*s)),d=new ce(a.x/(i*i),a.y/(s*s)),g=o.dot(u),h=o.dot(d),w=h*h-g*(a.dot(d)-1);if(w<0)return null;if(w>0){var M=sN(w),F=(-h-M)/g,z=(-h+M)/g;if((F<0||1<F)&&(z<0||1<z))return null;0<=F&&F<=1&&t.push(n.lerp(r,F)),0<=z&&z<=1&&t.push(n.lerp(r,z))}else{var Y=-h/g;if(!(0<=Y&&Y<=1))return null;t.push(n.lerp(r,Y))}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ce(e),t&&e.rotate(new ce(this.x,this.y),t);var i,n=e.x-this.x,r=e.y-this.y;if(0===n)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new ce(this.x,this.y),-t):i;var s=r/n,d=sN(1/(1/(this.a*this.a)+s*s/(this.b*this.b)));return i=new ce(this.x+(d=n<0?-d:d),this.y+s*d),t?i.rotate(new ce(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,s=this.x,o=this.y;return(t-s)*(t-s)/(r*r)+(n-o)*(n-o)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=oG(10,e)}return this.x=v0(this.x*t)/t,this.y=v0(this.y*t)/t,this.a=v0(this.a*t)/t,this.b=v0(this.b*t)/t,this},tangentTheta:function(e){var h,y,n=e.x,r=e.y,i=this.a,s=this.b,o=this.bbox().center(),a=o.x,u=o.y;return n>o.x+i/2||n<o.x-i/2?y=i*i/(n-a)-i*i*(r-u)*((h=n>o.x?r-30:r+30)-u)/(s*s*(n-a))+a:h=s*s/(r-u)-s*s*(n-a)*((y=r>o.y?n+30:n-30)-a)/(i*i*(r-u))+u,new ce(y,h).theta(e)},toString:function(){return new ce(this.x,this.y).toString()+" "+this.a+" "+this.b}};const aG=oo,{abs:oN,cos:lG,sin:uG,min:Xp,max:aN,round:y0,pow:cG}=Math,Qe=function(e,t,n,r){if(!(this instanceof Qe))return new Qe(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=void 0===e?0:e,this.y=void 0===t?0:t,this.width=void 0===n?0:n,this.height=void 0===r?0:r};Qe.fromEllipse=function(e){return e=new oo(e),new Qe(e.x-e.a,e.y-e.b,2*e.a,2*e.b)},Qe.fromPointUnion=function(...e){if(0===e.length)return null;const t=new ce;let n,r,i,s;n=r=1/0,i=s=-1/0;for(let o=0;o<e.length;o++){t.update(e[o]);const a=t.x,u=t.y;a<n&&(n=a),a>i&&(i=a),u<r&&(r=u),u>s&&(s=u)}return new Qe(n,r,i-n,s-r)},Qe.fromRectUnion=function(...e){if(0===e.length)return null;const t=new Qe;let n,r,i,s;n=r=1/0,i=s=-1/0;for(let o=0;o<e.length;o++){t.update(e[o]);const a=t.x,u=t.y,d=a+t.width,g=u+t.height;a<n&&(n=a),d>i&&(i=d),u<r&&(r=u),g>s&&(s=g)}return new Qe(n,r,i-n,s-r)},Qe.prototype={bbox:function(e){if(!e)return this.clone();var t=Io(e),n=oN(uG(t)),r=oN(lG(t)),i=this.width*r+this.height*n,s=this.width*n+this.height*r;return new Qe(this.x+(this.width-i)/2,this.y+(this.height-s)/2,i,s)},bottomLeft:function(){return new ce(this.x,this.y+this.height)},bottomLine:function(){return new it(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ce(this.x+this.width/2,this.y+this.height)},center:function(){return new ce(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Qe(this)},containsPoint:function(e){return(e=new ce(e)).x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Qe(this).normalize(),n=new Qe(e).normalize(),r=t.width,i=t.height,s=n.width,o=n.height;if(!(r&&i&&s&&o))return!1;var a=t.x,u=t.y,d=n.x,g=n.y;return s+=d,r+=a,o+=g,i+=u,a<=d&&s<=r&&u<=g&&o<=i},corner:function(){return new ce(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Qe(this).normalize(),n=new Qe(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var s=aN(t.x,r.x),o=aN(t.y,r.y);return new Qe(s,o,Xp(n.x,i.x)-s,Xp(n.y,i.y)-o)},intersectionWithLine:function(e){var s,o,t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],r=[],i=[],a=n.length;for(o=0;o<a;o++)null!==(s=e.intersect(n[o]))&&i.indexOf(s.toString())<0&&(r.push(s),i.push(s.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ce(e);var r,n=new ce(this.x+this.width/2,this.y+this.height/2);t&&e.rotate(n,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],s=new it(n,e),o=i.length-1;o>=0;--o){var a=i[o].intersection(s);if(null!==a){r=a;break}}return r&&t&&r.rotate(n,-t),r},leftLine:function(){return new it(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ce(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Qe(e),t||(t=e.center());var n,r,i,s,o,a,u,d,g=t.x,h=t.y;n=r=i=s=o=a=u=d=1/0;var y=e.topLeft();y.x<g&&(n=(this.x-g)/(y.x-g)),y.y<h&&(o=(this.y-h)/(y.y-h));var w=e.bottomRight();w.x>g&&(r=(this.x+this.width-g)/(w.x-g)),w.y>h&&(a=(this.y+this.height-h)/(w.y-h));var M=e.topRight();M.x>g&&(i=(this.x+this.width-g)/(M.x-g)),M.y<h&&(u=(this.y-h)/(M.y-h));var F=e.bottomLeft();return F.x<g&&(s=(this.x-g)/(F.x-g)),F.y>h&&(d=(this.y+this.height-h)/(F.y-h)),{sx:Xp(n,r,i,s),sy:Xp(o,a,u,d)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return Xp(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return ce.prototype.offset.call(this,e,t)},origin:function(){return new ce(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ce(e),this.containsPoint(e))switch(this.sideNearestToPoint(e)){case"right":return new ce(this.x+this.width,e.y);case"left":return new ce(this.x,e.y);case"bottom":return new ce(e.x,this.y+this.height);case"top":return new ce(e.x,this.y)}return e.adhereToRect(this)},rightLine:function(){return new it(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ce(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=cG(10,e)}return this.x=y0(this.x*t)/t,this.y=y0(this.y*t)/t,this.width=y0(this.width*t)/t,this.height=y0(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ce(e);var n=this.x+this.width-e.x,r=e.y-this.y,s=e.x-this.x,o="left";return n<s&&(s=n,o="right"),r<s&&(s=r,o="top"),this.y+this.height-e.y<s&&(o="bottom"),o},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new it(this.topLeft(),this.topRight())},topMiddle:function(){return new ce(this.x+this.width/2,this.y)},topRight:function(){return new ce(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Qe.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}},Qe.prototype.bottomRight=Qe.prototype.corner,Qe.prototype.topLeft=Qe.prototype.origin,Qe.prototype.translate=Qe.prototype.offset;const lN=Qe,{abs:uN}=Math,gr=function(e){return this instanceof gr?"string"==typeof e?new gr.parse(e):void(this.points=Array.isArray(e)?e.map(ce):[]):new gr(e)};gr.parse=function(e){if(""===(e=e.trim()))return new gr;for(var t=[],n=e.split(/\s*,\s*|\s+/),r=n.length,i=0;i<r;i+=2)t.push({x:+n[i],y:+n[i+1]});return new gr(t)},gr.prototype={bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,s=i.length;if(0===s)return null;for(var o=0;o<s;o++){var a=i[o],u=a.x,d=a.y;u<e&&(e=u),u>t&&(t=u),d<n&&(n=d),d>r&&(r=d)}return new Qe(e,n,t-e,r-n)},clone:function(){var e=this.points,t=e.length;if(0===t)return new gr;for(var n=[],r=0;r<t;r++){var i=e[r].clone();n.push(i)}return new gr(n)},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.points,n=t.length;if(0===n||1===n)return 0;for(var r,i=1/0,s=0,o=n-1,a=0;a<o;a++){var u=new it(t[a],t[a+1]),d=u.length(),g=u.closestPointNormalizedLength(e),y=u.pointAt(g).squaredDistance(e);y<i&&(i=y,r=s+g*d),s+=d}return r},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(0===t)return 0;var n=this.length();return 0===n?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(0===n)return!1;for(var r=e.x,i=e.y,s=n-1,o=0,a=0;o<n;o++){var u=t[s],d=t[o];if(e.equals(u))return!0;var g=new it(u,d);if(g.containsPoint(e))return!0;if(i<=u.y&&i>d.y||i>u.y&&i<=d.y){var h=u.x-r>d.x-r?u.x-r:d.x-r;if(h>=0){var y=new ce(r+h,i),w=new it(e,y);g.intersect(w)&&a++}}s=o}return a%2==1},convexHull:function(){var e,t,i,n=this.points,r=n.length;if(0===r)return new gr;for(e=0;e<r;e++)(void 0===i||n[e].y<i.y||n[e].y===i.y&&n[e].x>i.x)&&(i=n[e]);var s=[];for(e=0;e<r;e++){var o=i.theta(n[e]);0===o&&(o=360),s.push([n[e],e,o])}s.sort(function(ke,Fe){var He=ke[2]-Fe[2];return 0===He&&(He=Fe[1]-ke[1]),He}),s.length>2&&s.unshift(s[s.length-1]);for(var h,y,w,M,F,z,d={},g=[];0!==s.length;)if(y=(h=s.pop())[0],!d.hasOwnProperty(h[0]+"@@"+h[1]))for(var Y=!1;!Y;)if(g.length<2)g.push(h),Y=!0;else{M=(w=g.pop())[0];var G=(z=(F=g.pop())[0]).cross(M,y);if(G<0)g.push(F),g.push(w),g.push(h),Y=!0;else if(0===G){var S=M.angleBetween(z,y);uN(S-180)<1e-10||M.equals(y)||z.equals(M)?(d[w[0]+"@@"+w[1]]=M,g.push(F)):uN((S+1)%360-1)<1e-10&&(g.push(F),s.push(w))}else d[w[0]+"@@"+w[1]]=M,g.push(F)}g.length>2&&g.pop();var k,H=-1;for(t=g.length,e=0;e<t;e++){var Q=g[e][1];(void 0===k||Q<k)&&(k=Q,H=e)}var ue=[];if(H>0){var ge=g.slice(H),Ce=g.slice(0,H);ue=ge.concat(Ce)}else ue=g;var Re=[];for(t=ue.length,e=0;e<t;e++)Re.push(ue[e][0]);return new gr(Re)},equals:function(e){if(!e)return!1;var t=this.points,r=t.length;if(e.points.length!==r)return!1;for(var i=0;i<r;i++)if(!t[i].equals(e.points[i]))return!1;return!0},intersectionWithLine:function(e){for(var t=new it(e),n=[],r=this.points,i=0,s=r.length-1;i<s;i++){var u=new it(r[i],r[i+1]),d=t.intersectionWithLine(u);d&&n.push(d[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(0===t)return!1;for(var n=t-1,r=0;r<n;r++)if(new it(e[r],e[r+1]).isDifferentiable())return!0;return!1},length:function(){var e=this.points,t=e.length;if(0===t)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length();return this.pointAtLength(r*e)},pointAtLength:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,s=n-1,o=0;o<s;o++){var a=r?o:s-1-o,u=t[a],d=t[a+1],g=new it(u,d),h=u.distance(d);if(e<=i+h)return g.pointAtLength((r?1:-1)*(e-i));i+=h}return(r?t[n-1]:t[0]).clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,i=r.length,s=0;s<i;s++)r[s].scale(e,t,n);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const n=e.threshold||0;let r=0;for(;t[r+2];){const s=r+1,u=t[s];new it(t[r],t[r+2]).closestPoint(u).distance(u)<=n?t.splice(s,1):r+=1}return this},tangentAt:function(e){var n=this.points.length;if(0===n||1===n)return null;e<0&&(e=0),e>1&&(e=1);var r=this.length();return this.tangentAtLength(r*e)},tangentAtLength:function(e){var t=this.points,n=t.length;if(0===n||1===n)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,s=0,o=n-1,a=0;a<o;a++){var u=r?a:o-1-a,d=t[u],g=t[u+1],h=new it(d,g),y=d.distance(g);if(h.isDifferentiable()){if(e<=s+y)return h.tangentAtLength((r?1:-1)*(e-s));i=h}s+=y}return i?i.tangentAt(r?1:0):null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(0===t)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}},Object.defineProperty(gr.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(gr.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points.length;return 0===t?null:this.points[t-1]}});const{abs:C0,sqrt:dG,min:cN,max:dN,pow:kw}=Math,Hn=function(e,t,n,r){return this instanceof Hn?e instanceof Hn?new Hn(e.start,e.controlPoint1,e.controlPoint2,e.end):(this.start=new ce(e),this.controlPoint1=new ce(t),this.controlPoint2=new ce(n),void(this.end=new ce(r))):new Hn(e,t,n,r)};Hn.throughPoints=function(){function t(n){var r=n.length,i=[],s=[],o=2;i[0]=n[0]/o;for(var a=1;a<r;a++)s[a]=1/o,i[a]=(n[a]-i[a-1])/(o=(a<r-1?4:3.5)-s[a]);for(a=1;a<r;a++)i[r-a-1]-=s[r-a]*i[r-a];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=function(n){var o,r=[],i=[],s=n.length-1;if(1==s)return r[0]=new ce((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new ce(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var a=[];for(o=1;o<s-1;o++)a[o]=4*n[o].x+2*n[o+1].x;a[0]=n[0].x+2*n[1].x,a[s-1]=(8*n[s-1].x+n[s].x)/2;var u=t(a);for(o=1;o<s-1;++o)a[o]=4*n[o].y+2*n[o+1].y;a[0]=n[0].y+2*n[1].y,a[s-1]=(8*n[s-1].y+n[s].y)/2;var d=t(a);for(o=0;o<s;o++)r.push(new ce(u[o],d[o])),i.push(o<s-1?new ce(2*n[o+1].x-u[o+1],2*n[o+1].y-d[o+1]):new ce((n[s].x+u[s-1])/2,(n[s].y+d[s-1])/2));return[r,i]}(n),i=[],s=r[0].length,o=0;o<s;o++){var a=new ce(r[0][o].x,r[0][o].y),u=new ce(r[1][o].x,r[1][o].y);i.push(new Hn(n[o],a,u,n[o+1]))}return i}}(),Hn.prototype={bbox:function(){for(var F,z,Y,G,I,S,k,H,e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end,i=e.x,s=e.y,o=t.x,a=t.y,u=n.x,d=n.y,g=r.x,h=r.y,y=new Array,w=new Array,M=[new Array,new Array],Q=0;Q<2;++Q)if(0===Q?(z=6*i-12*o+6*u,F=-3*i+9*o-9*u+3*g,Y=3*o-3*i):(z=6*s-12*a+6*d,F=-3*s+9*a-9*d+3*h,Y=3*a-3*s),C0(F)<1e-12){if(C0(z)<1e-12)continue;0<(G=-Y/z)&&G<1&&w.push(G)}else H=dG(k=z*z-4*Y*F),!(k<0)&&(0<(I=(-z+H)/(2*F))&&I<1&&w.push(I),0<(S=(-z-H)/(2*F))&&S<1&&w.push(S));for(var Ce,Re,ke,ue=w.length,ge=ue;ue--;)M[0][ue]=Re=(Ce=1-(G=w[ue]))*Ce*Ce*i+3*Ce*Ce*G*o+3*Ce*G*G*u+G*G*G*g,M[1][ue]=ke=Ce*Ce*Ce*s+3*Ce*Ce*G*a+3*Ce*G*G*d+G*G*G*h,y[ue]={X:Re,Y:ke};w[ge]=0,w[ge+1]=1,y[ge]={X:i,Y:s},y[ge+1]={X:g,Y:h},M[0][ge]=i,M[1][ge]=s,M[0][ge+1]=g,M[1][ge+1]=h,w.length=ge+2,M[0].length=ge+2,M[1].length=ge+2,y.length=ge+2;var Fe=cN.apply(null,M[0]),He=cN.apply(null,M[1]),$e=dN.apply(null,M[0]),De=dN.apply(null,M[1]);return new Qe(Fe,He,$e-Fe,De-He)},clone:function(){return new Hn(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},s=this.closestPointLength(e,i);if(!s)return 0;var o=this.length(i);return 0===o?0:s/o},closestPointT:function(e,t){for(var i,s,o,a,u,d,g,n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions,h=r.length,y=h?1/h:0,w=0;w<h;w++){var M=r[w],F=M.start.distance(e),z=M.end.distance(e),Y=F+z;(!g||Y<g)&&(i=M,s=w*y,o=(w+1)*y,a=F,u=z,d=M.start.distance(M.end),g=Y)}for(var G=kw(10,-n);;){var I=a?C0(a-u)/a:0,S=u?C0(a-u)/u:0;if(I<G||S<G||!a||a<d*G||!u||u<d*G)return a<=u?s:o;var ge=i.divide(.5);y/=2;var Ce=ge[0].start.distance(e),Re=ge[0].end.distance(e),ke=Ce+Re,Fe=ge[1].start.distance(e),He=ge[1].end.distance(e);ke<=Fe+He?(i=ge[0],o-=y,a=Ce,u=Re):(i=ge[1],s+=y,a=Fe,u=He)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){return this.toPolyline(t).containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new Hn(t,t,t,t),new Hn(t,n,r,i)];if(e>=1)return[new Hn(t,n,r,i),new Hn(i,i,i,i)];var s=this.getSkeletonPoints(e),u=s.divider,d=s.dividerControlPoint1,g=s.dividerControlPoint2;return[new Hn(t,s.startControlPoint1,s.startControlPoint2,u),new Hn(u,d,g,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var s=new it(t,n).pointAt(e),o=new it(n,r).pointAt(e),a=new it(r,i).pointAt(e),u=new it(s,o).pointAt(e),d=new it(o,a).pointAt(e);return{startControlPoint1:s,startControlPoint2:u,divider:new it(u,d).pointAt(e),dividerControlPoint1:d,dividerControlPoint2:a}},getSubdivisions:function(e){var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=[new Hn(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===t)return n;for(var r=this.endpointDistance(),i=kw(10,-t),s=0;;){s+=1;for(var o=[],a=n.length,u=0;u<a;u++){var g=n[u].divide(.5);o.push(g[0],g[1])}for(var h=0,y=o.length,w=0;w<y;w++)h+=o[w].endpointDistance();if(s>1&&(0!==h?(h-r)/h:0)<i)return o;n=o,r=h}},isDifferentiable:function(){var t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){for(var n=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,r=0,i=n.length,s=0;s<i;s++)r+=n[s].endpointDistance();return r},lengthAtT:function(e,t){if(e<=0)return 0;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:n})},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,i=t.divider,s=new it(n,t.dividerControlPoint1);return s.translate(i.x-n.x,i.y-n.y),s},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},s=this.length(i);return this.tAtLength(s*e,i)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e);for(var o,a,u,d,g,r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:r}):t.subdivisions,s={precision:r,subdivisions:i},h=0,y=i.length,w=1/y,M=0;M<y;M++){var F=n?M:y-1-M,z=i[M],Y=z.endpointDistance();if(e<=h+Y){o=z,a=F*w,u=(F+1)*w,d=n?e-h:Y+h-e,g=n?Y+h-e:e-h;break}h+=Y}if(!o)return n?1:0;for(var G=this.length(s),I=kw(10,-r);;){if((0!==G?d/G:0)<I)return a;if((0!==G?g/G:0)<I)return u;var k,H,Q=o.divide(.5);w/=2;var ue=Q[0].endpointDistance(),ge=Q[1].endpointDistance();d<=ue?(o=Q[0],u-=w,H=ue-(k=d)):(o=Q[1],a+=w,H=ge-(k=d-ue)),d=k,g=H}},toPoints:function(e){for(var n=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,r=[n[0].start.clone()],i=n.length,s=0;s<i;s++)r.push(n[s].end.clone());return r},toPolyline:function(e){return new gr(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}},Hn.prototype.divide=Hn.prototype.divideAtT;const mt=function(e){if(!(this instanceof mt))return new mt(e);if("string"==typeof e)return new mt.parse(e);var t,n;if(this.segments=[],e)if(Array.isArray(e)&&0!==e.length)if(n=(e=e.reduce(function(a,u){return a.concat(u)},[])).length,e[0].isSegment)for(t=0;t<n;t++)this.appendSegment(e[t]);else{var i=null;for(t=0;t<n;t++){var s=e[t];if(!(s instanceof it||s instanceof Hn))throw new Error("Cannot construct a path segment from the provided object.");0===t&&this.appendSegment(mt.createSegment("M",s.start)),i&&!i.end.equals(s.start)&&this.appendSegment(mt.createSegment("M",s.start)),s instanceof it?this.appendSegment(mt.createSegment("L",s.end)):s instanceof Hn&&this.appendSegment(mt.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),i=s}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof it)this.appendSegment(mt.createSegment("M",e.start)),this.appendSegment(mt.createSegment("L",e.end));else if(e instanceof Hn)this.appendSegment(mt.createSegment("M",e.start)),this.appendSegment(mt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else{if(!(e instanceof gr))throw new Error("Cannot construct a path from the provided object.");if(!e.points||0===e.points.length)return;for(n=e.points.length,t=0;t<n;t++){this.appendSegment(mt.createSegment(0===t?"M":"L",e.points[t]))}}};function Bl(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}function b0(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(n=r.length,t=0;t<n;t++){var o,a,s=r[t];for(a in s)s.hasOwnProperty(a)&&(delete i[a],o=Object.getOwnPropertyDescriptor(s,a),Object.defineProperty(i,a,o))}return i}mt.parse=function(e){if(!e)return new mt;for(var t=new mt,r=e.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),i=r.length,s=0;s<i;s++){var u=r[s].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),d=mt.createSegment.apply(this,u);t.appendSegment(d)}return t},mt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=mt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return Bl(t,n)},mt.prototype={appendSegment:function(e){var r,t=this.segments,n=t.length,i=0!==n?t[n-1]:null;if(Array.isArray(e)){if(!(e=e.reduce(function(d,g){return d.concat(g)},[]))[0].isSegment)throw new Error("Segments required.");for(var o=e.length,a=0;a<o;a++)r=this.prepareSegment(e[a],i,null),t.push(r),i=r}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,i,null),t.push(r)}},bbox:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n,r=0;r<t;r++){var i=e[r];if(i.isVisible){var s=i.bbox();n=n?n.union(s):s}}if(n)return n;var o=e[t-1];return new Qe(o.end.x,o.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new mt,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},s=this.closestPointT(e,i);return s?this.lengthAtT(s,i):0},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},s=this.closestPointLength(e,i);if(0===s)return 0;var o=this.length(i);return 0===o?0:s/o},closestPointT:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var o,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a=1/0,u=0;u<r;u++){var d=n[u];if(d.isVisible){var h=d.closestPointT(e,{precision:i,subdivisions:s[u]}),y=d.pointAtT(h),w=new it(y,e).squaredLength();w<a&&(o={segmentIndex:u,value:h},a=w)}}return o||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var o,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a=1/0,u=0;u<r;u++){var d=n[u],g=s[u];if(d.isDifferentiable()){var h=d.closestPointT(e,{precision:i,subdivisions:g}),y=d.pointAtT(h),w=new it(y,e).squaredLength();w<a&&(o=d.tangentAtT(h),a=w)}}return o||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,s=0;s<r;s++)n[s].containsPoint(e)&&i++;return i%2==1},divideAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(o);return this.divideAtLength(a*e,o)},divideAtLength:function(e,t){var n=this.segments.length;if(0===n)return null;var r=!0;e<0&&(r=!1,e=-e);var o,a,d,g,h,y,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,u=0;for(o=0;o<n;o++){var M=r?o:n-1-o;a=this.getSegment(M);var F=s[M],z=a.length({precision:i,subdivisions:F});if(a.isDifferentiable()&&(h=a,y=M,e<=u+z)){g=M,d=a.divideAtLength((r?1:-1)*(e-u),{precision:i,subdivisions:F});break}u+=z}if(!h)return null;d||(g=y,d=h.divideAtT(r?1:0));var Y=this.clone();Y.replaceSegment(g,d);var G=g,I=g+1,S=g+2;d[0].isDifferentiable()||(Y.removeSegment(G),I-=1,S-=1);var k=Y.getSegment(I).start;Y.insertSegment(I,mt.createSegment("M",k)),S+=1,d[1].isDifferentiable()||(Y.removeSegment(S-1),S-=1);var H=S-G-1;for(o=S;o<Y.segments.length;o++){var Q=this.getSegment(o-H);if("Z"===(a=Y.getSegment(o)).type&&!Q.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var ue=mt.createSegment("L",Q.end);Y.replaceSegment(o,ue)}}return[new mt(Y.segments.slice(0,I)),new mt(Y.segments.slice(I))]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var s=t[i],o=n[i];if(s.type!==o.type||!s.equals(o))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){for(var t=this.segments,n=t.length,r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=[],s=0;s<n;s++){var a=t[s].getSubdivisions({precision:r});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,n=t.length,r=[];for(let i=0;i<n;i++){const s=t[i];s.isSubpathStart?r.push(new mt(s)):r[r.length-1].appendSegment(s)}return r},insertSegment:function(e,t){var n=this.segments,r=n.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i,s=null,o=null;if(0!==r&&(o=e>=1?(s=n[e-1]).nextSegment:n[0]),Array.isArray(t)){if(!(t=t.reduce(function(g,h){return g.concat(h)},[]))[0].isSegment)throw new Error("Segments required.");for(var a=t.length,u=0;u<a;u++)i=this.prepareSegment(t[u],s,o),n.splice(e+u,0,i),s=i}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,o),n.splice(e,0,i)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,s=r.length;i<s;i++){var a=e.intersect(r[i]);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++)if(e[n].isDifferentiable())return!0;return!1},isValid:function(){var e=this.segments;return 0===e.length||"M"===e[0].type},length:function(e){var t=this.segments,n=t.length;if(0===n)return 0;for(var i=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,s=0,o=0;o<n;o++)s+=t[o].length({subdivisions:i[o]});return s},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(0===r)return 0;var i=e.segmentIndex;if(i<0)return 0;var s=e.value;i>=r?(i=r-1,s=1):s<0?s=0:s>1&&(s=1);for(var o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,d=0,g=0;g<i;g++){var h=n[g];d+=h.length({precisison:o,subdivisions:a[g]})}return d+(h=n[i]).lengthAtT(s,{precisison:o,subdivisions:a[i]})},pointAt:function(e,t){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(o);return this.pointAtLength(a*e,o)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;if(0===e)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e);for(var a,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,u=0,d=0;d<r;d++){var g=i?d:r-1-d,h=n[g],y=o[g],w=h.length({precision:s,subdivisions:y});if(h.isVisible){if(e<=u+w)return h.pointAtLength((i?1:-1)*(e-u),{precision:s,subdivisions:y});a=h}u+=w}return a?i?a.end:a.start:n[r-1].end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,s=r.nextSegment;i&&(i.nextSegment=s),s&&(s.previousSegment=i),r.isSubpathStart&&s&&this.updateSubpathStartSegment(s)},replaceSegment:function(e,t){var n=this.segments,r=n.length;if(0===r)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var i,s=n[e],o=s.previousSegment,a=s.nextSegment,u=s.isSubpathStart;if(Array.isArray(t)){if(!(t=t.reduce(function(y,w){return y.concat(w)},[]))[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var d=t.length,g=0;g<d;g++)i=this.prepareSegment(t[g],o,a),n.splice(e+g,0,i),o=i,u&&i.isSubpathStart&&(u=!1)}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,a),n.splice(e,1,i),u&&i.isSubpathStart&&(u=!1)}u&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.segments,i=r.length,s=0;s<i;s++)r[s].scale(e,t,n);return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(o);return this.segmentIndexAtLength(a*e,o)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,a=null,u=0,d=0;d<r;d++){var g=i?d:r-1-d,h=n[g],w=h.length({precision:s,subdivisions:o[g]});if(h.isVisible){if(e<=u+w)return g;a=g}u+=w}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(o);return this.tangentAtLength(a*e,o)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var a,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,u=0,d=0;d<r;d++){var g=i?d:r-1-d,h=n[g],y=o[g],w=h.length({precision:s,subdivisions:y});if(h.isDifferentiable()){if(e<=u+w)return h.tangentAtLength((i?1:-1)*(e-u),{precision:s,subdivisions:y});a=h}u+=w}return a?a.tangentAtT(i?1:0):null},tangentAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(0===n)return null;for(var i=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,s=[],o=[],a=0;a<n;a++){var u=t[a];if(u.isVisible){var d=i[a];if(d.length>0){var g=d.map(function(h){return h.start});Array.prototype.push.apply(o,g)}else o.push(u.start)}else o.length>0&&(o.push(t[a-1].end),s.push(o),o=[])}return o.length>0&&(o.push(this.end),s.push(o)),s},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new gr(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++)n+=e[r].serialize()+" ";return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)e.subpathStartSegment=t?t.subpathStartSegment:null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,mt.createSegment("M",0,0)),this}},Object.defineProperty(mt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}}),Object.defineProperty(mt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});var Td={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Td,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(Td,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(Td,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var ys=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof ys))return Bl(ys,e);if(0===t)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof it){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(2===t)return this.end=new ce(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(Bl(ys,i));return r}if(1===t)return this.end=new ce(e[0]),this;for(r=[],n=0;n<t;n+=1)r.push(new ys(e[n]));return r},fN={clone:function(){return new ys(this.end)},divideAt:function(e){var n=new it(this.start,this.end).divideAt(e);return[new ys(n[0]),new ys(n[1])]},divideAtLength:function(e){var n=new it(this.start,this.end).divideAtLength(e);return[new ys(n[0]),new ys(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(fN,"type",{configurable:!0,enumerable:!0,value:"L"}),ys.prototype=b0(Td,it.prototype,fN);var zo=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof zo))return Bl(zo,e);if(0===t)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r,s;if(e[0]instanceof Hn){if(1===t)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(6===t)return this.controlPoint1=new ce(+e[0],+e[1]),this.controlPoint2=new ce(+e[2],+e[3]),this.end=new ce(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=6)i=e.slice(n,n+6),r.push(Bl(zo,i));return r}if(3===t)return this.controlPoint1=new ce(e[0]),this.controlPoint2=new ce(e[1]),this.end=new ce(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");for(r=[],n=0;n<t;n+=3)s=e.slice(n,n+3),r.push(Bl(zo,s));return r},hN={clone:function(){return new zo(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new Hn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(e,t);return[new zo(r[0]),new zo(r[1])]},divideAtLength:function(e,t){var r=new Hn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(e,t);return[new zo(r[0]),new zo(r[1])]},divideAtT:function(e){var n=new Hn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(e);return[new zo(n[0]),new zo(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(hN,"type",{configurable:!0,enumerable:!0,value:"C"}),zo.prototype=b0(Td,Hn.prototype,hN);var Nd=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Nd))return Bl(Nd,e);if(0===t)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r,s;if(e[0]instanceof it){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}if(e[0]instanceof Hn){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(2===t)return this.end=new ce(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(Bl(0===n?Nd:ys,i));return r}if(1===t)return this.end=new ce(e[0]),this;for(r=[],n=0;n<t;n+=1)s=e[n],r.push(0===n?new Nd(s):new ys(s));return r},Ow={bbox:function(){return null},clone:function(){return new Nd(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(Ow,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(Ow,"type",{configurable:!0,enumerable:!0,value:"M"}),Nd.prototype=b0(Td,Ow);var kh=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof kh))return Bl(kh,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},Pw={clone:function(){return new kh},divideAt:function(e){var n=new it(this.start,this.end).divideAt(e);return[n[1].isDifferentiable()?new ys(n[0]):this.clone(),new ys(n[1])]},divideAtLength:function(e){var n=new it(this.start,this.end).divideAtLength(e);return[n[1].isDifferentiable()?new ys(n[0]):this.clone(),new ys(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Pw,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(Pw,"type",{configurable:!0,enumerable:!0,value:"Z"}),kh.prototype=b0(Td,it.prototype,Pw);var fG=mt.segmentTypes={L:ys,C:zo,M:Nd,Z:kh,z:kh};mt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(fG).join("")+",.]*$"),mt.isDataSupported=function(e){return"string"==typeof e&&this.regexSupportedData.test(e)};const hG={curveThroughPoints:function(e){return console.warn("deprecated"),new mt(Hn.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var i,t=[],n=[],r=e.length-1;if(1==r)return t[0]=new ce((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new ce(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var s=[];for(i=1;i<r-1;i++)s[i]=4*e[i].x+2*e[i+1].x;s[0]=e[0].x+2*e[1].x,s[r-1]=(8*e[r-1].x+e[r].x)/2;var o=this.getFirstControlPoints(s);for(i=1;i<r-1;++i)s[i]=4*e[i].y+2*e[i+1].y;s[0]=e[0].y+2*e[1].y,s[r-1]=(8*e[r-1].y+e[r].y)/2;var a=this.getFirstControlPoints(s);for(i=0;i<r;i++)t.push(new ce(o[i],a[i])),n.push(i<r-1?new ce(2*e[i+1].x-o[i+1],2*e[i+1].y-a[i+1]):new ce((e[r].x+o[r-1])/2,(e[r].y+a[r-1])/2));return[t,n]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new Hn(e,t,n,r);return function(o){var a=i.divide(o);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var s=1;s<t;s++)r[s]=1/i,n[s]=(e[s]-n[s-1])/(i=(s<t-1?4:3.5)-r[s]);for(s=1;s<t;s++)n[t-s-1]-=r[t-s]*n[t-s];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new Hn(e,t,n,r);return function(o){return i.closestPointT(o)}}},Ae=function(){if("object"!=typeof window||!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r=Math,i=r.PI,s=r.atan2,o=r.sqrt,a=r.min,u=r.max,d=r.cos,g=r.sin,h=function(I,S,k){if(!(this instanceof h))return h.apply(Object.create(h.prototype),arguments);if(I){if(h.isV(I)&&(I=I.node),S=S||{},h.isString(I)){if("svg"===I.toLowerCase())I=h.createSvgDocument();else if("<"===I[0]){var H=h.createSvgDocument(I);if(H.childNodes.length>1){var ue,ge,Q=[];for(ue=0,ge=H.childNodes.length;ue<ge;ue++){var Ce=H.childNodes[ue];Q.push(new h(document.importNode(Ce,!0)))}return Q}I=document.importNode(H.firstChild,!0)}else I=document.createElementNS(t.svg,I);h.ensureId(I)}return this.node=I,this.setAttributes(S),k&&this.append(k),this}},y=h.prototype;function M(I,S,k){k||(k={});for(var H=k.includeAnnotationIndices,Q=k.eol,ue=k.lineHeight,ge=k.baseSize,Ce=0,Re={},ke=S.length-1,Fe=0;Fe<=ke;Fe++){var He=S[Fe],$e=null;if(h.isObject(He)){var De=He.attrs,Ze=h("tspan",De),qe=Ze.node,bt=He.t;Q&&Fe===ke&&(bt+=Q),qe.textContent=bt;var et=De.class;et&&Ze.addClass(et),H&&Ze.attr("annotations",He.annotations),$e=parseFloat(De["font-size"]),isFinite($e)||($e=ge),$e&&$e>Ce&&(Ce=$e)}else Q&&Fe===ke&&(He+=Q),qe=document.createTextNode(He||" "),ge&&ge>Ce&&(Ce=ge);I.appendChild(qe)}return Ce&&(Re.maxFontSize=Ce),ue?Re.lineHeight=ue:Ce&&(Re.lineHeight=1.2*Ce),Re}Object.defineProperty(y,"id",{enumerable:!0,get:function(){return this.node.id},set:function(I){this.node.id=I}}),y.getTransformToElement=function(I){var S=this.node;if(h.isSVGGraphicsElement(I)&&h.isSVGGraphicsElement(S)){var k=h.toNode(I).getScreenCTM(),H=S.getScreenCTM();if(k&&H)return k.inverse().multiply(H)}return h.createSVGMatrix()},y.transform=function(I,S){var k=this.node;if(h.isUndefined(I))return h.transformStringToMatrix(this.attr("transform"));if(S&&S.absolute)return this.attr("transform",h.matrixToTransformString(I));var H=h.createSVGTransform(I);return k.transform.baseVal.appendItem(H),this},y.translate=function(I,S,k){k=k||{},S=S||0;var H=this.attr("transform")||"",Q=h.parseTransformString(H);return H=Q.value,h.isUndefined(I)?Q.translate:(H=H.replace(/translate\([^)]*\)/g,"").trim(),this.attr("transform",("translate("+(k.absolute?I:Q.translate.tx+I)+","+(k.absolute?S:Q.translate.ty+S)+") "+H).trim()),this)},y.rotate=function(I,S,k,H){H=H||{};var Q=this.attr("transform")||"",ue=h.parseTransformString(Q);return Q=ue.value,h.isUndefined(I)?ue.rotate:(Q=Q.replace(/rotate\([^)]*\)/g,"").trim(),I%=360,this.attr("transform",(Q+" rotate("+(H.absolute?I:ue.rotate.angle+I)+(void 0!==S&&void 0!==k?","+S+","+k:"")+")").trim()),this)},y.scale=function(I,S){S=h.isUndefined(S)?I:S;var k=this.attr("transform")||"",H=h.parseTransformString(k);return k=H.value,h.isUndefined(I)?H.scale:(k=k.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(k+" scale("+I+","+S+")").trim()),this)},y.bbox=function(I,S){var k,H=this.node,Q=H.ownerSVGElement;if(!Q)return new Qe(0,0,0,0);try{k=H.getBBox()}catch(ge){k={x:H.clientLeft,y:H.clientTop,width:H.clientWidth,height:H.clientHeight}}if(I)return new Qe(k);var ue=this.getTransformToElement(S||Q);return h.transformRect(k,ue)},y.getBBox=function(I){var k,S={},H=this.node;if(!H.ownerSVGElement||!h.isSVGGraphicsElement(H))return new Qe(0,0,0,0);if(I&&(I.target&&(S.target=h.toNode(I.target)),I.recursive&&(S.recursive=I.recursive)),S.recursive){var ge=this.children(),Ce=ge.length;if(0===Ce)return this.getBBox({target:S.target,recursive:!1});S.target||(S.target=this);for(var Re=0;Re<Ce;Re++){var Fe,ke=ge[Re];Fe=0===ke.children().length?ke.getBBox({target:S.target,recursive:!1}):ke.getBBox({target:S.target,recursive:!0}),k=k?k.union(Fe):Fe}return k}try{k=H.getBBox()}catch(He){k={x:H.clientLeft,y:H.clientTop,width:H.clientWidth,height:H.clientHeight}}if(S.target){var ue=this.getTransformToElement(S.target);return h.transformRect(k,ue)}return new Qe(k)};var F=/em$/;function z(I,S){var k=parseFloat(I);return F.test(I)?k*S:k}y.text=function(I,S){if(I&&"string"!=typeof I)throw new Error("Vectorizer: text() expects the first argument to be a string.");I=h.sanitizeText(I),S||(S={});var k=S.displayEmpty,H=S.eol,Q=S.textPath,ue=S.textVerticalAnchor,ge="middle"===ue||"bottom"===ue||"top"===ue,Ce=S.x;void 0===Ce&&(Ce=this.attr("x")||0);var Re=S.includeAnnotationIndices,ke=S.annotations;ke&&!h.isArray(ke)&&(ke=[ke]);var Fe=S.lineHeight,He="auto"===Fe,$e=He?"1.5em":Fe||"1em";this.empty(),this.attr({"xml:space":"preserve",display:I||k?null:"none"});var De=parseFloat(this.attr("font-size"));De||(De=16,(ge||ke)&&this.attr("font-size",De));var qe,Ze=document;Q?("string"==typeof Q&&(Q={d:Q}),qe=function(I,S){I||(I={});var k=h("textPath"),H=I.d;if(H&&void 0===I["xlink:href"]){var Q=h("path").attr("d",H).appendTo(S.defs());k.attr("xlink:href","#"+Q.id)}return h.isObject(I)&&k.attr(I),k.node}(Q,this)):qe=Ze.createDocumentFragment();for(var at,bt=0,et=I.split("\n"),_t=[],ht=0,ct=et.length-1;ht<=ct;ht++){var dn,Rn=$e,Un="v-line",Pt=Ze.createElementNS(t.svg,"tspan"),Yn=et[ht];if(Yn)if(ke){var ln=(dn=M(Pt,h.annotateString(Yn,ke,{offset:-bt,includeAnnotationIndices:Re}),{includeAnnotationIndices:Re,eol:ht!==ct&&H,lineHeight:He?null:$e,baseSize:De})).lineHeight;ln&&He&&0!==ht&&(Rn=ln),0===ht&&(at=.8*dn.maxFontSize)}else H&&ht!==ct&&(Yn+=H),Pt.textContent=Yn;else{Pt.textContent="-",Un+=" v-empty-line";var Et=Pt.style;Et.fillOpacity=0,Et.strokeOpacity=0,ke&&(dn={})}dn&&_t.push(dn),ht>0&&Pt.setAttribute("dy",Rn),(ht>0||Q)&&Pt.setAttribute("x",Ce),Pt.className.baseVal=Un,qe.appendChild(Pt),bt+=Yn.length+1}if(ge)if(ke)Rn=function(I,S,k,H){if(!Array.isArray(S))return 0;var Q=S.length;if(!Q)return 0;for(var ue=S[0],ge=z(ue.maxFontSize,k)||k,Ce=0,Re=z(H,k),ke=1;ke<Q;ke++)Ce+=z((ue=S[ke]).lineHeight,k)||Re;var $e,He=z(ue.maxFontSize,k)||k;switch(I){case"middle":$e=ge/2-.15*He-Ce/2;break;case"bottom":$e=-.25*He-Ce;break;default:$e=.8*ge}return $e}(ue,_t,De,$e);else if("top"===ue)Rn="0.8em";else{var Je;switch(ct>0?(Je=parseFloat($e)||1,Je*=ct,F.test($e)||(Je/=De)):Je=0,ue){case"middle":Rn=.3-Je/2+"em";break;case"bottom":Rn=-Je-.3+"em"}}else 0===ue?Rn="0em":ue?Rn=ue:(Rn=0,null===this.attr("y")&&this.attr("y",at||"0.8em"));return qe.firstChild.setAttribute("dy",Rn),this.append(qe),this},y.removeAttr=function(I){var S=h.qualifyAttr(I),k=this.node;return S.ns?k.hasAttributeNS(S.ns,S.local)&&k.removeAttributeNS(S.ns,S.local):k.hasAttribute(I)&&k.removeAttribute(I),this},y.attr=function(I,S){if(h.isUndefined(I)){for(var k=this.node.attributes,H={},Q=0;Q<k.length;Q++)H[k[Q].name]=k[Q].value;return H}if(h.isString(I)&&h.isUndefined(S))return this.node.getAttribute(I);if("object"==typeof I)for(var ue in I)I.hasOwnProperty(ue)&&this.setAttribute(ue,I[ue]);else this.setAttribute(I,S);return this},y.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",h.normalizePathData(this.attr("d"))),this},y.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},y.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},y.setAttributes=function(I){for(var S in I)I.hasOwnProperty(S)&&this.setAttribute(S,I[S]);return this},y.append=function(I){h.isArray(I)||(I=[I]);for(var S=0,k=I.length;S<k;S++)this.node.appendChild(h.toNode(I[S]));return this},y.prepend=function(I){var S=this.node.firstChild;return S?h(S).before(I):this.append(I)},y.before=function(I){var S=this.node,k=S.parentNode;if(k){h.isArray(I)||(I=[I]);for(var H=0,Q=I.length;H<Q;H++)k.insertBefore(h.toNode(I[H]),S)}return this},y.appendTo=function(I){return h.toNode(I).appendChild(this.node),this},y.svg=function(){return this.node instanceof window.SVGSVGElement?this:h(this.node.ownerSVGElement)},y.tagName=function(){return this.node.tagName.toUpperCase()},y.defs=function(){var I=this.svg()||this,S=I.node.getElementsByTagName("defs")[0];return S?h(S):h("defs").appendTo(I)},y.clone=function(){var I=h(this.node.cloneNode(!0));return I.node.id=h.uniqueId(),I},y.findOne=function(I){var S=this.node.querySelector(I);return S?h(S):void 0},y.find=function(I){var S=[],k=this.node.querySelectorAll(I);if(k)for(var H=0;H<k.length;H++)S.push(h(k[H]));return S},y.children=function(){for(var I=this.node.childNodes,S=[],k=0;k<I.length;k++)1===I[k].nodeType&&S.push(h(I[k]));return S},y.parent=function(){return h(this.node.parentNode)||null},y.index=function(){for(var I=0,S=this.node.previousSibling;S;)1===S.nodeType&&I++,S=S.previousSibling;return I},y.findParentByClass=function(I,S){for(var k=this.node.ownerSVGElement,H=this.node.parentNode;H&&H!==S&&H!==k;){var Q=h(H);if(Q.hasClass(I))return Q;H=H.parentNode}return null},y.contains=function(I){var S=this.node,k=h.toNode(I),H=k&&k.parentNode;return S===H||!!(H&&1===H.nodeType&&16&S.compareDocumentPosition(H))},y.toLocalPoint=function(I,S){var k=this.svg().node,H=k.createSVGPoint();H.x=I,H.y=S;try{var Q=H.matrixTransform(k.getScreenCTM().inverse()),ue=this.getTransformToElement(k).inverse()}catch(ge){return H}return Q.matrixTransform(ue)},y.translateCenterToPoint=function(I){var k=this.getBBox({target:this.svg()}).center();return this.translate(I.x-k.x,I.y-k.y),this},y.translateAndAutoOrient=function(I,S,k){I=new ce(I),S=new ce(S),k||(k=this.svg());var H=this.scale();this.attr("transform","");var Q=this.getBBox({target:k}).scale(H.sx,H.sy),ue=h.createSVGTransform();ue.setTranslate(-Q.x-Q.width/2,-Q.y-Q.height/2);var ge=h.createSVGTransform(),Ce=I.angleBetween(S,I.clone().offset(1,0));Ce&&ge.setRotate(Ce,0,0);var Re=h.createSVGTransform(),ke=I.clone().move(S,Q.width/2);Re.setTranslate(2*I.x-ke.x,2*I.y-ke.y);var Fe=this.getTransformToElement(k),He=h.createSVGTransform();return He.setMatrix(Re.matrix.multiply(ge.matrix.multiply(ue.matrix.multiply(Fe.scale(H.sx,H.sy))))),this.attr("transform",h.matrixToTransformString(He.matrix)),this},y.animateAlongPath=function(I,S){S=h.toNode(S);var k=h.ensureId(S),H=h("animateMotion",I),Q=h("mpath",{"xlink:href":"#"+k});H.append(Q),this.append(H);try{H.node.beginElement()}catch($e){if("fake"===document.documentElement.getAttribute("smiling")){var ue=H.node;ue.animators=[];var ge=ue.getAttribute("id");ge&&(id2anim[ge]=ue);for(var Ce=getTargets(ue),Re=0,ke=Ce.length;Re<ke;Re++){var He=new Animator(ue,Ce[Re],Re);animators.push(He),ue.animators[Re]=He,He.register()}}}return this},y.hasClass=function(I){return new RegExp("(\\s|^)"+I+"(\\s|$)").test(this.node.getAttribute("class"))},y.addClass=function(I){if(I&&!this.hasClass(I)){var S=this.node.getAttribute("class")||"";this.node.setAttribute("class",(S+" "+I).trim())}return this},y.removeClass=function(I){if(I&&this.hasClass(I)){var S=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+I+"(\\s|$)","g"),"$2");this.node.setAttribute("class",S)}return this},y.toggleClass=function(I,S){return(h.isUndefined(S)?this.hasClass(I):!S)?this.removeClass(I):this.addClass(I),this},y.sample=function(I){I=I||1;for(var ue,S=this.node,k=S.getTotalLength(),H=[],Q=0;Q<k;)ue=S.getPointAtLength(Q),H.push({x:ue.x,y:ue.y,distance:Q}),Q+=I;return H},y.convertToPath=function(){var I=h("path");I.attr(this.attr());var S=this.convertToPathData();return S&&I.attr("d",S),I},y.convertToPathData=function(){var I=this.tagName();switch(I){case"PATH":return this.attr("d");case"LINE":return h.convertLineToPathData(this.node);case"POLYGON":return h.convertPolygonToPathData(this.node);case"POLYLINE":return h.convertPolylineToPathData(this.node);case"ELLIPSE":return h.convertEllipseToPathData(this.node);case"CIRCLE":return h.convertCircleToPathData(this.node);case"RECT":return h.convertRectToPathData(this.node)}throw new Error(I+" cannot be converted to PATH.")},h.prototype.toGeometryShape=function(){var I,S,k,H,Q,ue,ge,Ce,Re,ke,Fe,He,$e,De,Ze;switch(this.tagName()){case"RECT":return I=parseFloat(this.attr("x"))||0,S=parseFloat(this.attr("y"))||0,k=parseFloat(this.attr("width"))||0,H=parseFloat(this.attr("height"))||0,new Qe(I,S,k,H);case"CIRCLE":return Q=parseFloat(this.attr("cx"))||0,ue=parseFloat(this.attr("cy"))||0,ge=parseFloat(this.attr("r"))||0,new oo({x:Q,y:ue},ge,ge);case"ELLIPSE":return Q=parseFloat(this.attr("cx"))||0,ue=parseFloat(this.attr("cy"))||0,Ce=parseFloat(this.attr("rx"))||0,Re=parseFloat(this.attr("ry"))||0,new oo({x:Q,y:ue},Ce,Re);case"POLYLINE":return ke=h.getPointsFromSvgNode(this),new gr(ke);case"POLYGON":return(ke=h.getPointsFromSvgNode(this)).length>1&&ke.push(ke[0]),new gr(ke);case"PATH":return Fe=this.attr("d"),mt.isDataSupported(Fe)||(Fe=h.normalizePathData(Fe)),new mt(Fe);case"LINE":return He=parseFloat(this.attr("x1"))||0,De=parseFloat(this.attr("y1"))||0,$e=parseFloat(this.attr("x2"))||0,Ze=parseFloat(this.attr("y2"))||0,new it({x:He,y:De},{x:$e,y:Ze})}return this.getBBox()},y.findIntersection=function(I,S){var k=this.svg().node,H=this.getBBox({target:S=S||k}),Q=H.center();if(H.intersectionWithLineFromCenterToPoint(I)){var ue,ge=this.tagName();if("RECT"===ge){var Ce=new Qe(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),Re=this.getTransformToElement(S),ke=h.decomposeMatrix(Re),Fe=k.createSVGTransform();Fe.setRotate(-ke.rotation,Q.x,Q.y);var He=h.transformRect(Ce,Fe.matrix.multiply(Re));ue=new Qe(He).intersectionWithLineFromCenterToPoint(I,ke.rotation)}else if("PATH"===ge||"POLYGON"===ge||"POLYLINE"===ge||"CIRCLE"===ge||"ELLIPSE"===ge){var bt,et,_t,ht,ct,De=("PATH"===ge?this:this.convertToPath()).sample(),Ze=1/0,qe=[];for(bt=0;bt<De.length;bt++)_t=(_t=h.createSVGPoint((et=De[bt]).x,et.y)).matrixTransform(this.getTransformToElement(S)),(ct=(et=new ce(_t)).distance(Q)+(ht=1.1*et.distance(I)))<Ze?(Ze=ct,qe=[{sample:et,refDistance:ht}]):ct<Ze+1&&qe.push({sample:et,refDistance:ht});qe.sort(function(Rn,Un){return Rn.refDistance-Un.refDistance}),qe[0]&&(ue=qe[0].sample)}return ue}},y.setAttribute=function(I,S){var k=this.node;if(null===S)return this.removeAttr(I),this;var H=h.qualifyAttr(I);return H.ns?k.setAttributeNS(H.ns,I,S):"id"===I?k.id=S:k.setAttribute(I,S),this},h.createSvgDocument=function(I){if(I){const k=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="1.1">${I}</svg>`,{documentElement:H}=h.parseXML(k,{async:!1});return H}const S=document.createElementNS(t.svg,"svg");return S.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),S.setAttribute("version","1.1"),S},h.createSVGStyle=function(I){const{node:S}=h("style",{type:"text/css"},[h.createCDATASection(I)]);return S},h.createCDATASection=function(I=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(I)},h.idCounter=0,h.uniqueId=function(){return"v-"+ ++h.idCounter},h.toNode=function(I){return h.isV(I)?I.node:I.nodeName&&I||I[0]},h.ensureId=function(I){return(I=h.toNode(I)).id||(I.id=h.uniqueId())},h.sanitizeText=function(I){return(I||"").replace(/ /g,"\xa0")},h.isUndefined=function(I){return void 0===I},h.isString=function(I){return"string"==typeof I},h.isObject=function(I){return I&&"object"==typeof I},h.isArray=Array.isArray,h.parseXML=function(I,S){var k;S=S||{};try{var H=new DOMParser;h.isUndefined(S.async)||(H.async=S.async),k=H.parseFromString(I,"text/xml")}catch(Q){k=void 0}if(!k||k.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+I);return k},h.qualifyAttr=function(I){if(-1!==I.indexOf(":")){var S=I.split(":");return{ns:t[S[0]],local:S[1]}}return{ns:null,local:I}},h.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,h.transformSeparatorRegex=/[ ,]+/,h.transformationListRegex=/^(\w+)\((.*)\)/,h.transformStringToMatrix=function(I){var S=h.createSVGMatrix(),k=I&&I.match(h.transformRegex);if(!k)return S;for(var H=0,Q=k.length;H<Q;H++){var ge=k[H].match(h.transformationListRegex);if(ge){var Ce,Re,ke,Fe,He,$e=h.createSVGMatrix(),De=ge[2].split(h.transformSeparatorRegex);switch(ge[1].toLowerCase()){case"scale":Ce=parseFloat(De[0]),Re=void 0===De[1]?Ce:parseFloat(De[1]),$e=$e.scaleNonUniform(Ce,Re);break;case"translate":ke=parseFloat(De[0]),Fe=parseFloat(De[1]),$e=$e.translate(ke,Fe);break;case"rotate":He=parseFloat(De[0]),ke=parseFloat(De[1])||0,Fe=parseFloat(De[2])||0,$e=0!==ke||0!==Fe?$e.translate(ke,Fe).rotate(He).translate(-ke,-Fe):$e.rotate(He);break;case"skewx":He=parseFloat(De[0]),$e=$e.skewX(He);break;case"skewy":He=parseFloat(De[0]),$e=$e.skewY(He);break;case"matrix":$e.a=parseFloat(De[0]),$e.b=parseFloat(De[1]),$e.c=parseFloat(De[2]),$e.d=parseFloat(De[3]),$e.e=parseFloat(De[4]),$e.f=parseFloat(De[5]);break;default:continue}S=S.multiply($e)}}return S},h.matrixToTransformString=function(I){return I||(I=!0),"matrix("+(void 0!==I.a?I.a:1)+","+(void 0!==I.b?I.b:0)+","+(void 0!==I.c?I.c:0)+","+(void 0!==I.d?I.d:1)+","+(void 0!==I.e?I.e:0)+","+(void 0!==I.f?I.f:0)+")"},h.parseTransformString=function(I){var S,k,H;if(I){var Q=h.transformSeparatorRegex;if(I.trim().indexOf("matrix")>=0){var ue=h.transformStringToMatrix(I),ge=h.decomposeMatrix(ue);H=[ge.scaleX,ge.scaleY],k=[ge.rotation];var Ce=[];(0!==(S=[ge.translateX,ge.translateY])[0]||0!==S[1])&&Ce.push("translate("+S+")"),(1!==H[0]||1!==H[1])&&Ce.push("scale("+H+")"),0!==k[0]&&Ce.push("rotate("+k+")"),I=Ce.join(" ")}else{var Re=I.match(/translate\((.*?)\)/);Re&&(S=Re[1].split(Q));var ke=I.match(/rotate\((.*?)\)/);ke&&(k=ke[1].split(Q));var Fe=I.match(/scale\((.*?)\)/);Fe&&(H=Fe[1].split(Q))}}var He=H&&H[0]?parseFloat(H[0]):1;return{value:I,translate:{tx:S&&S[0]?parseInt(S[0],10):0,ty:S&&S[1]?parseInt(S[1],10):0},rotate:{angle:k&&k[0]?parseInt(k[0],10):0,cx:k&&k[1]?parseInt(k[1],10):void 0,cy:k&&k[2]?parseInt(k[2],10):void 0},scale:{sx:He,sy:H&&H[1]?parseFloat(H[1]):He}}},h.deltaTransformPoint=function(I,S){return{x:S.x*I.a+S.y*I.c+0,y:S.x*I.b+S.y*I.d+0}},h.decomposeMatrix=function(I){var S=h.deltaTransformPoint(I,{x:0,y:1}),k=h.deltaTransformPoint(I,{x:1,y:0}),H=180/i*s(S.y,S.x)-90,Q=180/i*s(k.y,k.x);return{translateX:I.e,translateY:I.f,scaleX:o(I.a*I.a+I.b*I.b),scaleY:o(I.c*I.c+I.d*I.d),skewX:H,skewY:Q,rotation:H}},h.matrixToScale=function(I){var S,k,H,Q;return I?(S=h.isUndefined(I.a)?1:I.a,Q=h.isUndefined(I.d)?1:I.d,k=I.b,H=I.c):S=Q=1,{sx:k?o(S*S+k*k):S,sy:H?o(H*H+Q*Q):Q}},h.matrixToRotate=function(I){var S={x:0,y:1};return I&&(S=h.deltaTransformPoint(I,S)),{angle:Fl(g0(s(S.y,S.x))-90)}},h.matrixToTranslate=function(I){return{tx:I&&I.e||0,ty:I&&I.f||0}},h.isV=function(I){return I instanceof h},h.isVElement=h.isV,h.isSVGGraphicsElement=function(I){return!!I&&(I=h.toNode(I))instanceof SVGElement&&"function"==typeof I.getScreenCTM};var G=h("svg").node;return h.createSVGMatrix=function(I){var S=G.createSVGMatrix();for(var k in I)S[k]=I[k];return S},h.createSVGTransform=function(I){return h.isUndefined(I)?G.createSVGTransform():(I instanceof SVGMatrix||(I=h.createSVGMatrix(I)),G.createSVGTransformFromMatrix(I))},h.createSVGPoint=function(I,S){var k=G.createSVGPoint();return k.x=I,k.y=S,k},h.transformRect=function(I,S){var k=G.createSVGPoint();k.x=I.x,k.y=I.y;var H=k.matrixTransform(S);k.x=I.x+I.width,k.y=I.y;var Q=k.matrixTransform(S);k.x=I.x+I.width,k.y=I.y+I.height;var ue=k.matrixTransform(S);k.x=I.x,k.y=I.y+I.height;var ge=k.matrixTransform(S),Ce=a(H.x,Q.x,ue.x,ge.x),Re=u(H.x,Q.x,ue.x,ge.x),ke=a(H.y,Q.y,ue.y,ge.y),Fe=u(H.y,Q.y,ue.y,ge.y);return new Qe(Ce,ke,Re-Ce,Fe-ke)},h.transformPoint=function(I,S){return new ce(h.createSVGPoint(I.x,I.y).matrixTransform(S))},h.transformLine=function(I,S){return new it(h.transformPoint(I.start,S),h.transformPoint(I.end,S))},h.transformPolyline=function(I,S){var k=I instanceof gr?I.points:I;h.isArray(k)||(k=[]);for(var H=[],Q=0,ue=k.length;Q<ue;Q++)H[Q]=h.transformPoint(k[Q],S);return new gr(H)},h.styleToObject=function(I){for(var S={},k=I.split(";"),H=0;H<k.length;H++){var ue=k[H].split("=");S[ue[0].trim()]=ue[1].trim()}return S},h.createSlicePathData=function(I,S,k,H){var Q=2*i-1e-6,ue=I,ge=S,Ce=k,Re=H,ke=(Re<Ce&&(ke=Ce,Ce=Re,Re=ke),Re-Ce),Fe=ke<i?"0":"1",He=d(Ce),$e=g(Ce),De=d(Re),Ze=g(Re);return ke>=Q?ue?"M0,"+ge+"A"+ge+","+ge+" 0 1,1 0,"+-ge+"A"+ge+","+ge+" 0 1,1 0,"+ge+"M0,"+ue+"A"+ue+","+ue+" 0 1,0 0,"+-ue+"A"+ue+","+ue+" 0 1,0 0,"+ue+"Z":"M0,"+ge+"A"+ge+","+ge+" 0 1,1 0,"+-ge+"A"+ge+","+ge+" 0 1,1 0,"+ge+"Z":ue?"M"+ge*He+","+ge*$e+"A"+ge+","+ge+" 0 "+Fe+",1 "+ge*De+","+ge*Ze+"L"+ue*De+","+ue*Ze+"A"+ue+","+ue+" 0 "+Fe+",0 "+ue*He+","+ue*$e+"Z":"M"+ge*He+","+ge*$e+"A"+ge+","+ge+" 0 "+Fe+",1 "+ge*De+","+ge*Ze+"L0,0Z"},h.mergeAttrs=function(I,S){for(var k in S)I[k]="class"===k?I[k]?I[k]+" "+S[k]:S[k]:"style"===k?h.isObject(I[k])&&h.isObject(S[k])?h.mergeAttrs(I[k],S[k]):h.isObject(I[k])?h.mergeAttrs(I[k],h.styleToObject(S[k])):h.isObject(S[k])?h.mergeAttrs(h.styleToObject(I[k]),S[k]):h.mergeAttrs(h.styleToObject(I[k]),h.styleToObject(S[k])):S[k];return I},h.annotateString=function(I,S,k){S=S||[];for(var ue,Ce,Re,H=(k=k||{}).offset||0,Q=[],ge=[],ke=0;ke<I.length;ke++){Ce=ge[ke]=I[ke];for(var Fe=0;Fe<S.length;Fe++){var He=S[Fe];ke>=He.start+H&&ke<He.end+H&&(h.isObject(Ce)?Ce.attrs=h.mergeAttrs(h.mergeAttrs({},Ce.attrs),He.attrs):Ce=ge[ke]={t:I[ke],attrs:He.attrs},k.includeAnnotationIndices&&(Ce.annotations||(Ce.annotations=[])).push(Fe))}(Re=ge[ke-1])?h.isObject(Ce)&&h.isObject(Re)?JSON.stringify(Ce.attrs)===JSON.stringify(Re.attrs)?ue.t+=Ce.t:(Q.push(ue),ue=Ce):h.isObject(Ce)||h.isObject(Re)?(Q.push(ue),ue=Ce):ue=(ue||"")+Ce:ue=Ce}return ue&&Q.push(ue),Q},h.findAnnotationsAtIndex=function(I,S){var k=[];return I&&I.forEach(function(H){H.start<S&&S<=H.end&&k.push(H)}),k},h.findAnnotationsBetweenIndexes=function(I,S,k){var H=[];return I&&I.forEach(function(Q){(S>=Q.start&&S<Q.end||k>Q.start&&k<=Q.end||Q.start>=S&&Q.end<k)&&H.push(Q)}),H},h.shiftAnnotations=function(I,S,k){return I&&I.forEach(function(H){H.start<S&&H.end>=S?H.end+=k:H.start>=S&&(H.start+=k,H.end+=k)}),I},h.convertLineToPathData=function(I){return["M",(I=h(I)).attr("x1"),I.attr("y1"),"L",I.attr("x2"),I.attr("y2")].join(" ")},h.convertPolygonToPathData=function(I){var S=h.getPointsFromSvgNode(I);return 0===S.length?null:h.svgPointsToPath(S)+" Z"},h.convertPolylineToPathData=function(I){var S=h.getPointsFromSvgNode(I);return 0===S.length?null:h.svgPointsToPath(S)},h.svgPointsToPath=function(I){for(var S=0,k=I.length;S<k;S++)I[S]=I[S].x+" "+I[S].y;return"M "+I.join(" L")},h.getPointsFromSvgNode=function(I){var S=[],k=(I=h.toNode(I)).points;if(k)for(var H=0,Q=k.numberOfItems;H<Q;H++)S.push(k.getItem(H));return S},h.KAPPA=.551784,h.convertCircleToPathData=function(I){I=h(I);var S=parseFloat(I.attr("cx"))||0,k=parseFloat(I.attr("cy"))||0,H=parseFloat(I.attr("r")),Q=H*h.KAPPA;return["M",S,k-H,"C",S+Q,k-H,S+H,k-Q,S+H,k,"C",S+H,k+Q,S+Q,k+H,S,k+H,"C",S-Q,k+H,S-H,k+Q,S-H,k,"C",S-H,k-Q,S-Q,k-H,S,k-H,"Z"].join(" ")},h.convertEllipseToPathData=function(I){I=h(I);var S=parseFloat(I.attr("cx"))||0,k=parseFloat(I.attr("cy"))||0,H=parseFloat(I.attr("rx")),Q=parseFloat(I.attr("ry"))||H,ue=H*h.KAPPA,ge=Q*h.KAPPA;return["M",S,k-Q,"C",S+ue,k-Q,S+H,k-ge,S+H,k,"C",S+H,k+ge,S+ue,k+Q,S,k+Q,"C",S-ue,k+Q,S-H,k+ge,S-H,k,"C",S-H,k-ge,S-ue,k-Q,S,k-Q,"Z"].join(" ")},h.convertRectToPathData=function(I){return I=h(I),h.rectToPath({x:parseFloat(I.attr("x"))||0,y:parseFloat(I.attr("y"))||0,width:parseFloat(I.attr("width"))||0,height:parseFloat(I.attr("height"))||0,rx:parseFloat(I.attr("rx"))||0,ry:parseFloat(I.attr("ry"))||0})},h.rectToPath=function(I){var k=I.x,H=I.y,Q=I.width,ue=I.height,ge=a(I.rx||I["top-rx"]||0,Q/2),Ce=a(I.rx||I["bottom-rx"]||0,Q/2),Re=a(I.ry||I["top-ry"]||0,ue/2),ke=a(I.ry||I["bottom-ry"]||0,ue/2);return(ge||Ce||Re||ke?["M",k,H+Re,"v",ue-Re-ke,"a",Ce,ke,0,0,0,Ce,ke,"h",Q-2*Ce,"a",Ce,ke,0,0,0,Ce,-ke,"v",-(ue-ke-Re),"a",ge,Re,0,0,0,-ge,-Re,"h",-(Q-2*ge),"a",ge,Re,0,0,0,-ge,Re,"Z"]:["M",k,H,"H",k+Q,"V",H+ue,"H",k,"V",H,"Z"]).join(" ")},h.normalizePathData=function(){var I="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",S=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),k=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),H=Math,Q=H.PI,ue=H.sin,ge=H.cos,Ce=H.tan,Re=H.asin,ke=H.sqrt,Fe=H.abs;function He(et,_t,at,ht,ct,Rn){var Un=1/3,Pt=2/3;return[Un*et+Pt*at,Un*_t+Pt*ht,Un*ct+Pt*at,Un*Rn+Pt*ht,ct,Rn]}function $e(et,_t,at){return{x:et*ge(at)-_t*ue(at),y:et*ue(at)+_t*ge(at)}}function De(et,_t,at,ht,ct,Rn,Un,Pt,Yn,dn){var Je,Rt=120*Q/180,ln=Q/180*(+ct||0),Et=[];if(dn)ws=dn[0],di=dn[1],Am=dn[2],wm=dn[3];else{_t=(Je=$e(et,_t,-ln)).y;var As=((et=Je.x)-(Pt=(Je=$e(Pt,Yn,-ln)).x))/2,Vs=(_t-(Yn=Je.y))/2,Nu=As*As/(at*at)+Vs*Vs/(ht*ht);Nu>1&&(at*=Nu=ke(Nu),ht*=Nu);var gM=at*at,pM=ht*ht,O2=(Rn==Un?-1:1)*ke(Fe((gM*pM-gM*Vs*Vs-pM*As*As)/(gM*Vs*Vs+pM*As*As))),Am=O2*at*Vs/ht+(et+Pt)/2,wm=O2*-ht*As/at+(_t+Yn)/2,ws=Re(((_t-wm)/ht).toFixed(9)),di=Re(((Yn-wm)/ht).toFixed(9));(ws=et<Am?Q-ws:ws)<0&&(ws=2*Q+ws),(di=Pt<Am?Q-di:di)<0&&(di=2*Q+di),Un&&ws>di&&(ws-=2*Q),!Un&&di>ws&&(di-=2*Q)}var mM=di-ws;if(Fe(mM)>Rt){var IX=di,AX=Pt,wX=Yn;Et=De(Pt=Am+at*ge(di=ws+Rt*(Un&&di>ws?1:-1)),Yn=wm+ht*ue(di),at,ht,ct,0,Un,AX,wX,[di,IX,Am,wm])}mM=di-ws;var _X=ge(ws),DX=ue(ws),MX=ge(di),EX=ue(di),P2=Ce(mM/4),R2=4/3*(at*P2),L2=4/3*(ht*P2),F2=[et,_t],Yh=[et+R2*DX,_t-L2*_X],B2=[Pt+R2*EX,Yn-L2*MX],j2=[Pt,Yn];if(Yh[0]=2*F2[0]-Yh[0],Yh[1]=2*F2[1]-Yh[1],dn)return[Yh,B2,j2].concat(Et);for(var V2=[],SX=(Et=[Yh,B2,j2].concat(Et).join().split(",")).length,xc=0;xc<SX;xc++)V2[xc]=xc%2?$e(Et[xc-1],Et[xc],ln).y:$e(Et[xc],Et[xc+1],ln).x;return V2}function bt(et){var _t=function(et){if((!Array.isArray(et)||!Array.isArray(et&&et[0]))&&(et=function(et){if(!et)return null;var _t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},at=[];return String(et).replace(S,function(ht,ct,Rn){var Un=[],Pt=ct.toLowerCase();for(Rn.replace(k,function(Yn,dn){dn&&Un.push(+dn)}),"m"===Pt&&Un.length>2&&(at.push([ct].concat(Un.splice(0,2))),Pt="l",ct="m"===ct?"l":"L");Un.length>=_t[Pt]&&(at.push([ct].concat(Un.splice(0,_t[Pt]))),_t[Pt]););}),at}(et)),!et||!et.length)return[["M",0,0]];for(var Pt,_t=[],at=0,ht=0,ct=0,Rn=0,Yn=et.length,dn=0;dn<Yn;dn++){var Rt=[];_t.push(Rt);var Et,Je,ln=et[dn];if((Pt=ln[0])!=Pt.toUpperCase())switch(Rt[0]=Pt.toUpperCase(),Rt[0]){case"A":Rt[1]=ln[1],Rt[2]=ln[2],Rt[3]=ln[3],Rt[4]=ln[4],Rt[5]=ln[5],Rt[6]=+ln[6]+at,Rt[7]=+ln[7]+ht;break;case"V":Rt[1]=+ln[1]+ht;break;case"H":Rt[1]=+ln[1]+at;break;case"M":for(ct=+ln[1]+at,Rn=+ln[2]+ht,Et=ln.length,Je=1;Je<Et;Je++)Rt[Je]=+ln[Je]+(Je%2?at:ht);break;default:for(Et=ln.length,Je=1;Je<Et;Je++)Rt[Je]=+ln[Je]+(Je%2?at:ht)}else for(var As=ln.length,Vs=0;Vs<As;Vs++)Rt[Vs]=ln[Vs];switch(Rt[0]){case"Z":at=+ct,ht=+Rn;break;case"H":at=Rt[1];break;case"V":ht=Rt[1];break;case"M":ct=Rt[Rt.length-2],Rn=Rt[Rt.length-1],at=Rt[Rt.length-2],ht=Rt[Rt.length-1];break;default:at=Rt[Rt.length-2],ht=Rt[Rt.length-1]}}return _t}(et),at={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function ht(Et,Je,As){var Vs,Nu;if(!Et)return["C",Je.x,Je.y,Je.x,Je.y,Je.x,Je.y];switch(Et[0]in{T:1,Q:1}||(Je.qx=null,Je.qy=null),Et[0]){case"M":Je.X=Et[1],Je.Y=Et[2];break;case"A":Et=0===parseFloat(Et[1])||0===parseFloat(Et[2])?["L",Et[6],Et[7]]:["C"].concat(De.apply(0,[Je.x,Je.y].concat(Et.slice(1))));break;case"S":"C"===As||"S"===As?(Vs=2*Je.x-Je.bx,Nu=2*Je.y-Je.by):(Vs=Je.x,Nu=Je.y),Et=["C",Vs,Nu].concat(Et.slice(1));break;case"T":"Q"===As||"T"===As?(Je.qx=2*Je.x-Je.qx,Je.qy=2*Je.y-Je.qy):(Je.qx=Je.x,Je.qy=Je.y),Et=["C"].concat(He(Je.x,Je.y,Je.qx,Je.qy,Et[1],Et[2]));break;case"Q":Je.qx=Et[1],Je.qy=Et[2],Et=["C"].concat(He(Je.x,Je.y,Et[1],Et[2],Et[3],Et[4]));break;case"H":Et=["L"].concat(Et[1],Je.y);break;case"V":Et=["L"].concat(Je.x,Et[1])}return Et}function ct(Et,Je){if(Et[Je].length>7){Et[Je].shift();for(var As=Et[Je];As.length;)Rn[Je]="A",Et.splice(Je++,0,["C"].concat(As.splice(0,6)));Et.splice(Je,1),Yn=_t.length}}for(var Rn=[],Un="",Pt="",Yn=_t.length,dn=0;dn<Yn;dn++){_t[dn]&&(Un=_t[dn][0]),"C"!==Un&&(Rn[dn]=Un,dn>0&&(Pt=Rn[dn-1])),_t[dn]=ht(_t[dn],at,Pt),"A"!==Rn[dn]&&"C"===Un&&(Rn[dn]="C"),ct(_t,dn);var Rt=_t[dn],ln=Rt.length;at.x=Rt[ln-2],at.y=Rt[ln-1],at.bx=parseFloat(Rt[ln-4])||at.x,at.by=parseFloat(Rt[ln-3])||at.y}return(!_t[0][0]||"M"!==_t[0][0])&&_t.unshift(["M",0,0]),_t}return function(et){return bt(et).join(",").split(",").join(" ")}}(),h.namespace=t,h.g=pr,h}(),el={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default"},tl=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,el.classNamePrefix.length)!==el.classNamePrefix&&(t=el.classNamePrefix+t),t}).join(" ")},gG=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,el.classNamePrefix.length)===el.classNamePrefix&&(t=t.substr(el.classNamePrefix.length)),t}).join(" ")},gN=function(e,t){for(var n={},r={},i=Ae.namespace.svg,s=t||i,o=document.createDocumentFragment(),a=[e,o,s];a.length>0;){s=a.pop();for(var u=a.pop(),d=a.pop(),g=0,h=d.length;g<h;g++){var y=d[g];if(!y.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var w=y.tagName;y.hasOwnProperty("namespaceURI")&&(s=y.namespaceURI);var M=document.createElementNS(s,w),F=s===i,z=F?Ae:nr,Y=y.attributes;Y&&z(M).attr(Y);var G=y.style;if(G&&nr(M).css(G),y.hasOwnProperty("className")){var I=y.className;F?M.className.baseVal=I:M.className=I}if(y.hasOwnProperty("textContent")&&(M.textContent=y.textContent),y.hasOwnProperty("selector")){var S=y.selector;if(n[S])throw new Error("json-dom-parser: selector must be unique");n[S]=M,z(M).attr("joint-selector",S)}if(y.hasOwnProperty("groupSelector")){var k=y.groupSelector;Array.isArray(k)||(k=[k]);for(var H=0,Q=k.length;H<Q;H++){var ue=k[H],ge=r[ue];ge||(ge=r[ue]=[]),ge.push(M)}}u.appendChild(M);var Ce=y.children;Array.isArray(Ce)&&a.push(Ce,M,s)}}return{fragment:o,selectors:n,groupSelectors:r}},Rw=function(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},$p=function(e,t,n){for(var i,r=Array.isArray(t)?t:t.split(n||"/"),s=0,o=r.length;s<o;){if(i=r[s++],Object(e)!==e||!(i in e))return;e=e[i]}return e},pN=function(e,t){return"string"!=typeof t&&"number"!=typeof t&&(t=String(t)),!("constructor"===t&&"function"==typeof e[t]||"__proto__"===t)},Lw=function(e,t,n,r){const i=Array.isArray(t)?t:t.split(r||"/"),s=i.length-1;let o=e,a=0;for(;a<s;a++){const u=i[a];if(!pN(o,u))return e;o=o[u]||(o[u]={})}return o[i[s]]=n,e},mN=function(e,t,n){const r=Array.isArray(t)?t:t.split(n||"/"),i=r.length-1;let s=e,o=0;for(;o<i;o++){const a=r[o];if(!pN(s,a))return e;const u=s[a];if(!u)return e;s=u}return delete s[r[i]],e},I0=function(e){return I0.id=I0.id||1,e.id=void 0===e.id?"j_"+I0.id++:e.id,e.id},vG=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},Jr=function(e){var t=e,n=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];if(n){for(var r in e)void 0===n[r]&&(n[r]=e[r]);t=n}var i=t.target;if(i){var s=i.correspondingUseElement;s&&(t.target=s)}return t},Fw=function(){var e;if("undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),s=setTimeout(function(){n(r+i)},i);return t=r+i,s}}return function(n,r,...i){return e(void 0!==r?n.bind(r,...i):n)}}(),Bw=((t="undefined"!=typeof window)&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e),ao=function(e){return Cs(e)&&"%"===e.slice(-1)},yG=function(e,t){var r=parseFloat(e);if(Number.isNaN(r))return null;var s,i={};if(i.value=r,null==t)s="[A-Za-z]*";else if(Array.isArray(t)){if(0===t.length)return null;s=t.join("|")}else Cs(t)&&(s=t);var u,o=(u=new RegExp("(?:\\d+(?:\\.\\d+)*)("+s+")$").exec(e))?u[1]:null;return null===o?null:(i.unit=o,i)},vN=function(e,t,n={},r={}){var i=t.width,s=t.height,o=r.svgDocument||Ae("svg").node,a=Ae("tspan").node,u=Ae("text").attr(n).append(a).node,d=document.createTextNode("");u.style.opacity=0,u.style.display="block",a.style.display="block",a.appendChild(d),o.appendChild(u),r.svgDocument||document.body.appendChild(o);var g=r.separator||" ",h=r.eol||"\n",y=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,w=r.maxLineCount;wo(w)||(w=1/0);for(var Y,G,I,M=e.split(g),F=[],z=[],S=0,k=0,H=M.length;S<H;S++){var Q=M[S];if(Q){var ue=!1;if(h&&Q.indexOf(h)>=0){if(Q.length>1){for(var ge=Q.split(h),Ce=0,Re=ge.length-1;Ce<Re;Ce++)ge.splice(2*Ce+1,0,h);M.splice(S,1,...ge.filter(at=>""!==at)),S--,H=M.length;continue}z[++k]="",ue=!0}if(!ue)if(d.data=z[k]?z[k]+" "+Q:Q,a.getComputedTextLength()<=i)z[k]=d.data,(Y||G)&&(F[k++]=!0,Y=0,G=0);else{if(!z[k]||Y){var ke=!!Y;if(Y=Q.length-1,ke||!Y){if(!Y){if(!z[k]){z=[];break}M.splice(S,2,Q+M[S+1]),H--,F[k++]=!0,S--;continue}M[S]=Q.substring(0,Y),M[S+1]=Q.substring(Y)+(void 0===M[S+1]?"":M[S+1])}else{if(G)M.splice(S,2,M[S]+M[S+1]),G=0;else{var Fe=Q.search(y);Fe>-1&&Fe!==Q.length-1&&0!==Fe&&(G=Fe+1,Y=0),M.splice(S,1,Q.substring(0,G||Y),Q.substring(G||Y)),H++}k&&!F[k-1]&&k--}S--;continue}k++,S--}var He=null;if(z.length>w)He=w-1;else if(void 0!==s){var $e;void 0===I&&(I=($e="auto"===n.lineHeight?{value:1.5,unit:"em"}:yG(n.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===$e.unit&&(I*=u.getBBox().height)),I*z.length>s&&(He=Math.floor(s/I)-1)}if(null!==He){z.splice(He+1);var De=r.ellipsis;if(!De||He<0)break;"string"!=typeof De&&(De="\u2026");var Ze=z[He];if(!Ze&&!ue)break;var bt,et,qe=Ze.length;do{if(et=Ze[qe],bt=Ze.substring(0,qe),et?et.match(g)&&(bt+=et):bt+="string"==typeof g?g:" ",d.data=bt+=De,a.getComputedTextLength()<=i){z[He]=bt;break}qe--}while(qe>=0);break}}}return r.svgDocument?o.removeChild(u):document.body.removeChild(o),z.join(h)},CG=function(e){var t=nr(nr.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var n=this;nr.each(n.attributes,function(){var i=this.name,s=this.value;(i.startsWith("on")||s.startsWith("javascript:")||s.startsWith("data:")||s.startsWith("vbscript:"))&&nr(n).removeAttr(i)})}),t.html()},kd=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,s;return n=r=i=s=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=s=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(s=+e.left),{top:n,right:r,bottom:i,left:s}},wG={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},yN={number:function(e,t){var n=t-e;return function(r){return e+n*r}},object:function(e,t){var n=Object.keys(e);return function(r){var i,s,o={};for(i=n.length-1;-1!=i;i--)o[s=n[i]]=e[s]+(t[s]-e[s])*r;return o}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=255&n,s=(255&r)-i,o=65280&n,a=(65280&r)-o,u=16711680&n,d=(16711680&r)-u;return function(g){return"#"+(1<<24|i+s*g&255|o+a*g&65280|u+d*g&16711680).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),s=i[1].indexOf("."),o=s>0?i[1].length-s-1:0,a=+i[1]-(e=+r[1]),u=r[2];return function(d){return(e+a*d).toFixed(o)+u}}},_G={outline:function(e){var n=Number.isFinite(e.margin)?e.margin:2,r=Number.isFinite(e.width)?e.width:1;return js('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){return js('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return js('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return js(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return js('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return js('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return js('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return js('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return js('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return js('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return js('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},js=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(r){for(var i=Array.from(arguments),s=i.slice(1,4).find(function(u){return!!u}),o=s.split("."),a=n[o.shift()];void 0!==a&&o.length;)a=a[o.shift()];return void 0!==a?a:""})}},wt=In.assign,Go=In.defaults,jw=In.defaultsDeep,jl=In.invokeMap||In.invoke,CN=In.sortedIndexBy||In.sortedIndex,Oh=In.uniqBy||In.uniq,ba=In.clone,Ao=In.cloneDeep,yc=In.isEmpty,Vw=In.isEqual,sr=In.isFunction,es=In.isPlainObject,En=In.toArray,DG=In.groupBy,MG=In.flattenDeep,bN=In.without,IN=In.difference,AN=In.union,Vl=In.has,ts=In.result,Cc=In.omit,EG=In.pick,Ia=In.forIn,SG=In.camelCase,xG=In.uniqueId,ns=function(){if(In.mergeWith){var e=Array.from(arguments),t=e[e.length-1],n=sr(t)?t:wN;return e.push(function(r,i){var s=n(r,i);return void 0!==s?s:Array.isArray(r)&&!Array.isArray(i)?i:void 0}),In.mergeWith.apply(this,e)}return In.merge.apply(this,arguments)},Vr=function(e){return!!e&&("object"==typeof e||"function"==typeof e)},wo=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"===Object.prototype.toString.call(e)},Cs=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&"[object String]"===Object.prototype.toString.call(e)},wN=function(){};var e,t;function _N(e){e=Oh(e);const t=En(e).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return En(e).forEach(function(n){const r=t[n.id];if(r.isLink()){const o=r.source(),a=r.target();o.id&&t[o.id]&&r.prop("source/id",t[o.id].id),a.id&&t[a.id]&&r.prop("target/id",t[a.id].id)}const i=n.get("parent");i&&t[i]&&r.set("parent",t[i].id);const s=En(n.get("embeds")).reduce(function(o,a){return t[a]&&o.push(t[a].id),o},[]);yc(s)||r.set("embeds",s)}),t}const Od={width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},NG=Object.keys(Od).map(e=>Od[e]).join(""),DN="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",kG=/\s/g,OG=/calc\(([^)]*)\)/g,MN=new RegExp(`^(${DN}\\*)?([${NG}])([-+]${DN})?$`,"g");function EN(e){return"string"==typeof e&&e.includes("calc")}function SN(e,t){return e.replace(OG,function(n,r){return function(e,t){const n=MN.exec(e.replace(kG,""));if(!n)throw new Error(`Invalid calc() expression: ${e}`);MN.lastIndex=0;const[,r=1,i,s=0]=n,{width:o,height:a}=t;let u=0;switch(i){case Od.width:u=o;break;case Od.height:u=a;break;case Od.minimum:u=Math.min(a,o);break;case Od.maximum:u=Math.max(a,o);break;case Od.diagonal:u=Math.sqrt(a*a+o*o)}return parseFloat(r)*u+parseFloat(s)}(r,t)})}function bc(e,t){return function(n,r){var i=ao(n);n=parseFloat(n),i&&(n/=100);var s={};if(isFinite(n)){var o=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);s[e]=o}return s}}function A0(e,t,n){return function(r,i){var o,s=ao(r);if(r=parseFloat(r),s&&(r/=100),isFinite(r)){var a=i[n]();o=s||r>0&&r<1?a[e]+i[t]*r:a[e]+r}var u=ce();return u[e]=o||0,u}}function xN(e,t,n){return function(r,i){var s;s="middle"===r?i[t]/2:r===n?i[t]:isFinite(r)?r>-1&&r<1?-i[t]*r:-r:ao(r)?i[t]*parseFloat(r)/100:0;var o=ce();return o[e]=-(i[e]+s),o}}function TN(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(i,s,o){var a=nr(o),u=a.data(n);if(!u||u.value!==i){var d=e(i);u={value:i,shape:d,shapeBBox:d.bbox()},a.data(n,u)}var g=u.shape.clone(),h=u.shapeBBox.clone(),y=h.origin(),w=s.origin();h.x=w.x,h.y=w.y;var M=s.maxRectScaleToFit(h,w);return g.scale(0===h.width||0===s.width?1:M.sx,0===h.height||0===s.height?1:M.sy,y),r&&g.translate(-y.x,-y.y),g}}function NN(e){var n=TN(function(r){return new mt(Ae.normalizePathData(r))},e);return function(r,i,s){return{d:n(r,i,s).serialize()}}}function kN(e){var t=TN(gr,e);return function(n,r,i){return{points:t(n,r,i).serialize()}}}function w0(e,t){var n=new ce(1,0);return function(r){var i,s,o=this[e](r);return o?(s=t.rotate?o.vector().vectorAngle(n):0,i=o.start):(i=this.path.start,s=0),0===s?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+s+")"}}}function Ph(e,t,n){return void 0!==n.text}function qp(){return this.model.isLink()}function zw(e){var t={},n=e.stroke;"string"==typeof n&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return void 0===r&&(r=e["stroke-opacity"]),void 0===r&&(r=e.opacity),void 0!==r&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}const Sn={xlinkHref:{set:"xlink:href"},xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},filter:{qualify:es,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:es,set:function(e){return"url(#"+this.paper.defineGradient(e)+")"}},stroke:{qualify:es,set:function(e){return"url(#"+this.paper.defineGradient(e)+")"}},sourceMarker:{qualify:es,set:function(e,t,n,r){return e=wt(zw(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:es,set:function(e,t,n,r){return e=wt(zw(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:es,set:function(e,t,n,r){return e=wt(zw(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!es(n.textWrap)},set:function(e,t,n,r){var i=nr(n),s="joint-text",o=i.data(s),a=EG(r,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:u}=a;EN(u)&&(a.x=SN(u,t));var d=a.fontSize=r["font-size"]||r.fontSize,g=JSON.stringify([e,a]);if(void 0===o||o!==g){d&&n.setAttribute("font-size",d);var h=a.textPath;if(Vr(h)){var y=h.selector;if("string"==typeof y){var w=this.findBySelector(y)[0];w instanceof SVGPathElement&&(a.textPath=wt({"xlink:href":"#"+w.id},h))}}Ae(n).text(""+e,a),i.data(s,g)}}},textWrap:{qualify:es,set:function(e,t,n,r){var i=e.width||0;ao(i)?t.width*=parseFloat(i)/100:i<=0?t.width+=i:t.width=i;var s=e.height||0;ao(s)?t.height*=parseFloat(s)/100:s<=0?t.height+=s:t.height=s;var o,a=e.text;void 0===a&&(a=r.text),o=void 0!==a?vN(""+a,t,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,maxLineCount:e.maxLineCount}):"",Sn.text.set.call(this,o,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var r=nr(n),i="joint-title",s=r.data(i);if(void 0===s||s!==e){r.data(i,e);var o=n.firstChild;if(o&&"TITLE"===o.tagName.toUpperCase())o.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,o)}}}},lineHeight:{qualify:Ph},textVerticalAnchor:{qualify:Ph},textPath:{qualify:Ph},annotations:{qualify:Ph},eol:{qualify:Ph},displayEmpty:{qualify:Ph},port:{set:function(e){return null===e||void 0===e.id?e:e.id}},style:{qualify:es,set:function(e,t,n){nr(n).css(e)}},html:{set:function(e,t,n){nr(n).html(e+"")}},ref:{},refX:{position:A0("x","width","origin")},refY:{position:A0("y","height","origin")},refDx:{position:A0("x","width","corner")},refDy:{position:A0("y","height","corner")},refWidth:{set:bc("width","width")},refHeight:{set:bc("height","height")},refRx:{set:bc("rx","width")},refRy:{set:bc("ry","height")},refRInscribed:{set:function(e){var t=bc("r","width"),n=bc("r","height");return function(r,i){return(i.height>i.width?t:n)(r,i)}}()},refRCircumscribed:{set:function(e,t){var n=ao(e);e=parseFloat(e),n&&(e/=100);var i,r=Math.sqrt(t.height*t.height+t.width*t.width);return isFinite(e)&&(i=n||e>=0&&e<=1?e*r:Math.max(e+r,0)),{r:i}}},refCx:{set:bc("cx","width")},refCy:{set:bc("cy","height")},xAlignment:{offset:xN("x","width","right")},yAlignment:{offset:xN("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:NN({resetOffset:!0})},refDKeepOffset:{set:NN({resetOffset:!1})},refPointsResetOffset:{set:kN({resetOffset:!0})},refPointsKeepOffset:{set:kN({resetOffset:!1})},connection:{qualify:qp,set:function({stubs:e=0}){let t;if(isFinite(e)&&0!==e){let n;n=e<0?(this.getConnectionLength()+e)/2:e;const r=this.getConnection(),i=r.divideAtLength(n),s=r.divideAtLength(-n);i&&s&&(t=`${i[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:qp,set:w0("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:qp,set:w0("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:qp,set:w0("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:qp,set:w0("getTangentAtRatio",{rotate:!1})}};["transform","d","points","width","height","cx","cy","r","rx","ry","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{Sn[e]={qualify:EN,set:function(n,r){return{[e]:SN(n,r)}}}}),Sn.refR=Sn.refRInscribed,Sn.refD=Sn.refDResetOffset,Sn.refPoints=Sn.refPointsResetOffset,Sn.atConnectionLength=Sn.atConnectionLengthKeepGradient,Sn.atConnectionRatio=Sn.atConnectionRatioKeepGradient,Sn.refX2=Sn.refX,Sn.refY2=Sn.refY,Sn.refWidth2=Sn.refWidth,Sn.refHeight2=Sn.refHeight,Sn["ref-x"]=Sn.refX,Sn["ref-y"]=Sn.refY,Sn["ref-dy"]=Sn.refDy,Sn["ref-dx"]=Sn.refDx,Sn["ref-width"]=Sn.refWidth,Sn["ref-height"]=Sn.refHeight,Sn["x-alignment"]=Sn.xAlignment,Sn["y-alignment"]=Sn.yAlignment;const ON=Sn,zl=Bs.Model.extend({constructor:function(e,t){var n,r=e||{};"function"==typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=xG("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=ts(this,"defaults"))&&(r=ns({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){const t=ts(this.constructor.prototype,"defaults").attrs||{},r={};Ia(this.attributes.attrs,function(s,o){const a=t[o];Ia(s,function(u,d){Vr(u)&&!Array.isArray(u)?Ia(u,function(g,h){(!a||!a[d]||!Vw(a[d][h],g))&&(r[o]=r[o]||{},(r[o][d]||(r[o][d]={}))[h]=g)}):(!a||!Vw(a[d],u))&&(r[o]=r[o]||{},r[o][d]=u)})});const i=Ao(Cc(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(e){(!e||!e.id)&&this.set("id",this.generateId(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},processPorts:function(){var e=this.ports,t={};Ia(this.get("attrs"),function(s,o){s&&s.port&&(void 0!==s.port.id?t[s.port.id]=s.port:t[s.port]={id:s.port})});var n={};Ia(e,function(s,o){t[o]||(n[o]=!0)}),this.graph&&!yc(n)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(s){n[s.get("target").port]&&s.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(s){n[s.get("source").port]&&s.remove()})),this.ports=t},remove:function(e={}){const{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,e);const i=this.getEmbeddedCells();for(let s=0,o=i.length;s<o;s++){const a=i[s];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=e||{};var r,n=t.maxZIndex();e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst})).unshift(this):r=[this],n=n-r.length+1;var i=t.get("cells"),s=i.indexOf(this)!==i.length-r.length;s||(s=r.some(function(o,a){return o.get("z")!==n+a})),s&&(this.startBatch("to-front"),n+=r.length,r.forEach(function(o,a){o.set("z",n+a,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=e||{};var r,n=t.minZIndex();e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst})).unshift(this):r=[this];var s=0!==t.get("cells").indexOf(this);s||(s=r.some(function(o,a){return o.get("z")!==n+a})),s&&(this.startBatch("to-back"),n-=r.length,r.forEach(function(o,a){o.set("z",n+a,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return void 0===e?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){if(this===e||this.isEmbeddedIn(e))throw new Error("Recursive embedding not allowed.");this.startBatch("embed");var n=wt([],this.get("embeds"));return n[e.isLink()?"unshift":"push"](e.id),e.parent(this.id,t),this.set("embeds",Oh(n),t),this.stopBatch("embed"),this},unembed:function(e,t){return this.startBatch("unembed"),e.unset("parent",t),this.set("embeds",bN(this.get("embeds"),e.id),t),this.stopBatch("unembed"),this},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},this.graph){var t;if(e.deep)if(e.breadthFirst){t=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();t.push(r),n.push.apply(n,r.getEmbeddedCells())}}else(t=this.getEmbeddedCells()).forEach(function(i){t.push.apply(t,i.getEmbeddedCells(e))});else t=En(this.get("embeds")).map(this.graph.getCell,this.graph);return t}return[]},isEmbeddedIn:function(e,t){var n=Cs(e)?e:e.id,r=this.parent();if(t=Go({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if((e=e||{}).deep)return En(_N([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Bs.Model.prototype.clone.apply(this,arguments);return t.set("id",this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var r="/",i=Cs(e);if(i||Array.isArray(e)){if(arguments.length>1){var s,o;i?o=(s=e).split("/"):(s=e.join(r),o=e.slice());var a=o[0],u=o.length;if((n=n||{}).propertyPath=s,n.propertyValue=t,n.propertyPathArray=o,1===u)return this.set(a,t,n);for(var d={},g=d,h=a,y=1;y<u;y++){var w=o[y],M=Number.isFinite(i?Number(w):w);g=g[h]=M?[]:{},h=w}d=Lw(d,o,t,"/");var F=ns({},this.attributes);n.rewrite&&mN(F,s,"/");var z=ns(F,d);return this.set(a,z[a],n)}return $p(this.attributes,e,r)}return this.set(ns({},this.attributes,e),t)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if("attrs"===r&&(t.dirty=!0),1===n.length)return this.unset(e,t);var i=n.slice(1),s=Ao(this.get(r));return mN(s,i,"/"),this.set(r,s,t)},attr:function(e,t,n){var r=Array.from(arguments);return 0===r.length?this.get("attrs"):(r[0]=Array.isArray(e)?["attrs"].concat(e):Cs(e)?"attrs/"+e:{attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/",n=wt({duration:100,delay:10,timingFunction:wG.linear,valueFunction:yN.number},n);var o,s=0,a=function(d){var g,h,y;(h=(d-=s=s||d)/n.duration)<1?this._transitionIds[e]=g=Fw(a):(h=1,delete this._transitionIds[e]),y=o(n.timingFunction(h)),n.transitionId=g,this.prop(e,y,n),g||this.trigger("transition:end",this,e)}.bind(this),u=function(d){this.stopTransitions(e),o=n.valueFunction($p(this.attributes,e,r),t),this._transitionIds[e]=Fw(d),this.trigger("transition:start",this,e)}.bind(this);return setTimeout(u,n.delay,a)},getTransitions:function(){return Object.keys(this._transitionIds)},stopTransitions:function(e,t){t=t||"/";var n=e&&e.split(t);return Object.keys(this._transitionIds).filter(n&&function(r){return Vw(n,r.split(t).slice(0,n.length))}).forEach(function(r){Bw(this._transitionIds[r]),delete this._transitionIds[r],this.trigger("transition:end",this,r)},this),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,wt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,wt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new ce(0,0)},getPointFromConnectedLink:function(){return new ce},getBBox:function(){return new Qe(0,0,0,0)}},{getAttributeDefinition:function(e){var t=this.attributes;return t&&t[e]||ON[e]},define:function(e,t,n,r){n=wt({defaults:jw({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return"undefined"!=typeof joint&&Vl(joint,"shapes")&&Lw(joint.shapes,e,i,"."),i}});function PN(e,t,n){var r=e.toJSON();return r.angle=t||0,Go({},n,r)}function Kp(e,t,n){return e.map(function(r,i,s){var o=this.pointAt((i+.5)/s.length);return(r.dx||r.dy)&&o.offset(r.dx||0,r.dy||0),PN(o.round(),0,r)},xd(t,n))}function RN(e,t,n,r){var i=t.center(),s=t.width/t.height,o=t.topMiddle(),a=oo.fromRect(t);return e.map(function(u,d,g){var h=n+r(d,g.length),y=o.clone().rotate(i,-h).scale(s,1,i),w=u.compensateRotation?-a.tangentTheta(y):0;return(u.dx||u.dy)&&y.offset(u.dx||0,u.dy||0),u.dr&&y.move(i,u.dr),PN(y.round(),w,u)})}function Gw(e,t){var n=t.x;Cs(n)&&(n=parseFloat(n)/100*e.width);var r=t.y;return Cs(r)&&(r=parseFloat(r)/100*e.height),Yp(n||0,r||0)}const RG=function(e,t,n){return e.map(Gw.bind(null,t))},LG=function(e,t,n){return n.fn(e,t,n)},FG=function(e,t,n){return Kp(e,Gw(t,n.start||t.origin()),Gw(t,n.end||t.corner()))},BG=function(e,t,n){return Kp(e,t.origin(),t.bottomLeft())},jG=function(e,t,n){return Kp(e,t.topRight(),t.corner())},VG=function(e,t,n){return Kp(e,t.origin(),t.topRight())},zG=function(e,t,n){return Kp(e,t.bottomLeft(),t.corner())},GG=function(e,t,n){var i=n.step||360/e.length;return RN(e,t,n.startAngle||0,function(s){return s*i})},UG=function(e,t,n){var i=n.step||20;return RN(e,t,n.startAngle||0,function(s,o){return(s+.5-o/2)*i})};function Ic(e,t){return jw({},e,t,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function LN(e,t,n,r){r=Go({},r,{offset:15});var o,a,u,d,i=t.center().theta(e),s=FN(t),g=r.offset,h=0;i<s[1]||i>s[2]?(u=".3em",o=g,a=0,d="start"):i<s[0]?(u="0",o=0,a=-g,n?(h=-90,d="start"):d="middle"):i<s[3]?(u=".3em",o=-g,a=0,d="end"):(u=".6em",o=0,a=g,n?(h=90,d="start"):d="middle");var y=Math.round;return Ic({x:y(o),y:y(a),angle:h,attrs:{".":{y:u,"text-anchor":d}}})}function FN(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner());return[n,t.theta(e.topRight()),i,r]}function BN(e,t,n,r){var s,o,a,u,i=t.center().theta(e),d=(r=Go({},r,{offset:15})).offset,g=0,h=FN(t);i<h[1]||i>h[2]?(a=".3em",s=-d,o=0,u="end"):i<h[0]?(a=".6em",s=0,o=d,n?(g=90,u="start"):u="middle"):i<h[3]?(a=".3em",s=d,o=0,u="start"):(a="0em",s=0,o=-d,n?(g=-90,u="start"):u="middle");var y=Math.round;return Ic({x:y(s),y:y(o),angle:g,attrs:{".":{y:a,"text-anchor":u}}})}function jN(e,t,n){n=Go({},n,{offset:20});var u,r=Yp(0,0),i=-e.theta(r),s=i,o=e.clone().move(r,n.offset).difference(e).round(),a=".3em";(i+90)%180==0?(u=t?"end":"middle",!t&&-270===i&&(a="0em")):i>-270&&i<-90?(u="start",s=i-180):u="end";var d=Math.round;return Ic({x:d(o.x),y:d(o.y),angle:t?s:0,attrs:{".":{y:a,"text-anchor":u}}})}const ZG=function(e,t,n){return Ic(n,t)},HG=function(e,t,n){return Ic(n,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},WG=function(e,t,n){return Ic(n,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},YG=function(e,t,n){return Ic(n,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},XG=function(e,t,n){return Ic(n,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},$G=function(e,t,n){return LN(e,t,!0,n)},qG=function(e,t,n){return LN(e,t,!1,n)},KG=function(e,t,n){return BN(e,t,!0,n)},JG=function(e,t,n){return BN(e,t,!1,n)},QG=function(e,t,n){return jN(e.difference(t.center()),!1,n)},eU=function(e,t,n){return jN(e.difference(t.center()),!0,n)};var VN=function(e){var t=Ao(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=U,this.portLabelLayoutNamespace=_r,this._init(t)};VN.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},s=i.name,o=this.portLayoutNamespace;o[s]||(s="left");var a=i.args||{},u=r.map(function(h){return h&&h.position&&h.position.args}),d=o[s](u,t,a),g={ports:r,result:[]};return En(d).reduce(function(h,y,w){var M=h.ports[w];return h.result.push({portId:M.id,portTransformation:y,labelTransformation:this._getPortLabelLayout(M,ce(y),t),portAttrs:M.attrs,portSize:M.size,labelSize:M.label.size}),h}.bind(this),g),g.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if(Vr(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var s=En(e.items),o=0,a=s.length;o<a;o++)this.ports.push(this._evaluatePort(s[o]))},_evaluateGroup:function(e){return ns(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=wt({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=ns({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=ns({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=wt({},n.size,t.size),t},_getZIndex:function(e,t){return wo(t.z)?t.z:wo(e.z)||"auto"===e.z?e.z:"auto"},_createPositionNode:function(e,t){return ns({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r,n={};sr(e)?(r="fn",n.fn=e):Cs(e)?r=e:void 0===e?r=t?"left":null:Array.isArray(e)?(r="absolute",n.x=e[0],n.y=e[1]):Vr(e)&&(r=e.name,wt(n,e.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};const tU={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};En(e.items).forEach(function(a){t[a.id]=!0});var n=this.previous("ports")||{},r={};En(n.items).forEach(function(a){t[a.id]||(r[a.id]=!0)});var i=this.graph;i&&!yc(r)&&(i.getConnectedLinks(this,{inbound:!0}).forEach(function(a){r[a.get("target").port]&&a.remove()}),i.getConnectedLinks(this,{outbound:!0}).forEach(function(a){r[a.get("source").port]&&a.remove()}))},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return-1!==this.getPortIndex(e)},getPorts:function(){return Ao(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=En(this.prop(["ports","items"])).filter(n=>n.group===e);return Ao(t)},getPort:function(e){return Ao(En(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){return this._portSettingsData.getGroupPortsMetrics(e,Qe(this.size())).reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(e){var t=Vr(e)?e.id:e;return this._isValidPortId(t)?En(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!Vr(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=wt([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){const r="number"==typeof e?e:this.getPortIndex(e);if(!Vr(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=wt([],this.prop("ports/items"));return i.splice(r,0,t),this.prop("ports/items",i,n),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(-1===i)throw new Error("Element: unable to find port with id "+e);var s=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?s[0]=["ports","items",i].concat(t):Cs(t)?s[0]=["ports/items/",i,"/",t].join(""):(s=["ports/items/"+i],es(t)&&(s.push(t),s.push(n))),this.prop.apply(this,s)},_validatePorts:function(){var e=this.get("ports")||{},t=[],n=En((e=e||{}).items);return n.forEach(function(r){"object"!=typeof r&&t.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),Oh(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return null!=e&&!Vr(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",wt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const n=t||{},r=this.getPortIndex(e);if(-1!==r){const i=wt([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},0===e.length)return this.this;r=wt([],this.prop(["ports","items"])).filter(function(s){return!e.some(function(o){const a=Vr(o)?o.id:o;return s.id===a})})}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t,e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new VN(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(s){if(!t.find(function(o){return o.id===s.id}))return s}),i=t.filter(function(s){if(!n.find(function(o){return o.id===s.id}))return s});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},nU={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=DG(this.model._portSettingsData.getPorts(),"z"),s="auto";En(i[s]).forEach(function(g){var h=this._getPortElement(g);t.append(h),e.push(h)},this);for(var o=Object.keys(i),a=0;a<o.length;a++){var u=o[a];if(u!==s){var d=parseInt(u,10);this._appendPorts(i[u],d,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=En(e).map(this._getPortElement,this);n[t]||t<0?Ae(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const n=this._portElementsCache[e];if(!n)return null;const r=n.portContentElement.node,i=n.portContentSelectors,[s=null]=this.findBySelector(t,r,i);return s},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){jl(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){var t,n,s,r=Ae(this.portContainerMarkup).addClass("joint-port"),i=this._getPortMarkup(e);if(Array.isArray(i)){var o=this.parseDOMJSON(i,r.node),a=o.fragment;t=a.childNodes.length>1?Ae("g").append(a):Ae(a.firstChild),s=o.selectors}else t=Ae(i),Array.isArray(t)&&(t=Ae("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});var d,y,u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){var g=this.parseDOMJSON(u,r.node),h=g.fragment;n=h.childNodes.length>1?Ae("g").append(h):Ae(h.firstChild),d=g.selectors}else n=Ae(u),Array.isArray(n)&&(n=Ae("g").append(n));if(!n)throw new Error("ElementView: Invalid port label markup.");if(s&&d){for(var w in d)if(s[w]&&w!==this.selector)throw new Error("ElementView: selectors within port must be unique.");y=wt({},s,d)}else y=s||d;return r.append([t.addClass("joint-port-body"),n.addClass("joint-port-label")]),this._portElementsCache[e.id]={portElement:r,portLabelElement:n,portSelectors:y,portLabelSelectors:d,portContentElement:t,portContentSelectors:s},r},_updatePortGroup:function(e){for(var t=Qe(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var s=n[r],a=this._portElementsCache[s.portId]||{},u=s.portTransformation;this.applyPortTransform(a.portElement,u),this.updateDOMSubtreeAttributes(a.portElement.node,s.portAttrs,{rootBBox:new Qe(s.portSize),selectors:a.portSelectors});var d=s.labelTransformation;d&&(this.applyPortTransform(a.portLabelElement,d,-u.angle||0),this.updateDOMSubtreeAttributes(a.portLabelElement.node,d.attrs,{rootBBox:new Qe(s.labelSize),selectors:a.portLabelSelectors}))}},applyPortTransform:function(e,t,n){var r=Ae.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},zr=zl.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),zl.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){var r=wo(t);if((n=(r?n:e)||{}).parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var i=this.getParentCell(),s=i&&!i.isLink()?i.get("position"):{x:0,y:0}}if(r){if(n.parentRelative&&(e+=s.x,t+=s.y),n.deep){var o=this.get("position");this.translate(e-o.x,t-o.y,n)}else this.set("position",{x:e,y:t},n);return this}var a=ce(this.get("position"));return n.parentRelative?a.difference(s):a},translate:function(e,t,n){if(t=t||0,0===(e=e||0)&&0===t)return this;(n=n||{}).translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if("function"==typeof i){var s=i.call(this,r.x+e,r.y+t,n);e=s.x-r.x,t=s.y-r.y}else{var o=this.getBBox({deep:!0}),a=r.x-o.x,u=r.y-o.y,d=Math.max(i.x+a,Math.min(i.x+i.width+a-o.width,r.x+e)),g=Math.max(i.y+u,Math.min(i.y+i.height+u-o.height,r.y+t));e=d-r.x,t=g-r.y}var h={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(Vr(n.transition)||(n.transition={}),this.transition("position",h,wt({},n.transition,{valueFunction:yN.object})),jl(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",h,n),jl(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return void 0===e?{width:r.width,height:r.height}:(Vr(e)&&(n=t,t=wo(e.height)?e.height:r.height,e=wo(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(this.startBatch("resize",n=n||{}),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width}var o,i=Fl(this.get("angle")||0),s=this.getBBox();if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((i+45)/90),a%=4);var u=s[["bottomLeft","corner","topRight","origin"][a]](),d=ce(u).rotate(s.center(),-i),g=Math.sqrt(e*e+t*t)/2,h=a*Math.PI/2;h+=Math.atan(a%2==0?t/e:e/t),h-=Io(i);var y=ce.fromPolar(g,h,d);o=ce(y).offset(e/-2,t/-2)}else switch(o=s.topLeft(),n.direction){case"top":case"top-right":o.offset(0,s.height-t);break;case"left":case"bottom-left":o.offset(s.width-e,0);break;case"top-left":o.offset(s.width-e,s.height-t)}this.set("size",{width:e,height:t},n),this.position(o.x,o.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(h=>h.isElement());if(0===n.length)return this;this.startBatch("fit-embeds",e),e.deep&&jl(n,"fitEmbeds",e);const{left:r,right:i,top:s,bottom:o}=kd(e.padding);let{x:a,y:u,width:d,height:g}=t.getCellsBBox(n);return a-=r,u-=s,d+=r+i,g+=o+s,this.set({position:{x:a,y:u},size:{width:d,height:g}},e),this.stopBatch("fit-embeds"),this},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),s=this.get("size"),o=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-s.width/2-o.x,u=i.y-s.height/2-o.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(o.x+a,o.y+u,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return Fl(this.get("angle")||0)},getBBox:function(e){if((e=e||{}).deep&&this.graph){var t=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return t.push(this),this.graph.getCellsBBox(t)}var n=this.get("position"),r=this.get("size");return new Qe(n.x,n.y,r.width,r.height)},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var s=i.port;if(!s||!this.hasPort(s))return r;var o=this.portProp(s,["group"]),a=this.getPortsPositions(o),u=new ce(a[s]).offset(n.origin()),d=this.angle();return d&&u.rotate(r,-d),u}});wt(zr.prototype,tU);const Pd={},Mu=Bs.View.extend({options:{},theme:null,themeClassNamePrefix:tl("theme-"),requireSetThemeOverride:!1,defaultTheme:el.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=wt({},this.options,e),Bs.View.call(this,e)},initialize:function(){Pd[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},renderChildren:function(e){if(e||(e=ts(this,"children")),e){var t=this.svgElement,r=gN(e,Ae.namespace[t?"svg":"xhtml"]);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&1===n.nodeType;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(ts(this,"el"));else{var e=ts(this,"tagName"),t=wt({},ts(this,"attributes")),n=wt({},ts(this,"style"));this.id&&(t.id=ts(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(Ae.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Bs.$?e:Bs.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=Ae(this.el))},_ensureElClassName:function(){var e=ts(this,"className");if(e){var t=tl(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override||(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e),this},addThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Pd[this.cid]=null,Bs.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var i in t){var s=t[i];"function"!=typeof s&&(s=this[s]),s&&nr(e).on(i+r,n,s.bind(this))}return this},undelegateElementEvents:function(e){return nr(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=ts(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return void 0===t?n&&n[r]||{}:(n||(n=e.data={}),n[r]||(n[r]={}),wt(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&wt({},e[0])||{},n=e[1]&&wt({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return"function"==typeof r&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,Bs.View.extend.call(this,t,n)}});function Uw(e){return e?Array.isArray(e)?e:[e]:[]}const Ac=Mu.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,transformGroup:null,requestUpdate(e,t){const{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return this.update(e,t),this.mount(),this.transform(),0},findNode(e,t=null){let n;if("string"==typeof t)[n]=e.findBySelector(t);else if(es(t)){const r=e.model.isLink(),{label:i=null,port:s,selector:o}=t;r&&null!==i?n=e.findLabelNode(i,o):!r&&s?n=e.findPortNode(s,o):[n]=e.findBySelector(o)}else t&&(n=Ae.toNode(t),n instanceof SVGElement||(n=null));return n||null},mount(){const{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:i}=this;if(!e||i)return;const{vel:s,paper:o}=t,{layer:a}=r;a?this.transformGroup=Ae("g").addClass("highlight-transform").append(n).appendTo(o.getLayerNode(a)):(!n.parentNode||n.nextSibling)&&s.append(n)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:n}=this;!e||(t?(this.transformGroup=null,t.remove()):n.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;const r=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),s=r.multiply(i);e.attr("transform",Ae.matrixToTransformString(s))},update(){const{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;const s=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),s?(this.highlight(t,s),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){}},{_views:{},highlight:function(e,t,n){const r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){const r=this.uniqueId(t,n);this.remove(e,r)},get(e,t=null){const{cid:n}=e,{_views:r}=this,i=r[n];if(null===t){const s=[];if(!i)return s;for(let o in i){const a=i[o];a instanceof this&&s.push(a)}return s}if(!i)return null;if(t in i){const s=i[t];if(s instanceof this)return s}return null},add(e,t,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const i=Ac.get(e,n);i&&i.remove();const s=new this(r);return s.id=n,this._addRef(e,n,s),s.requestUpdate(e,t),s},_addRef(e,t,n){const{cid:r}=e,{_views:i}=this;let s=i[r];s||(s=i[r]={}),s[t]=n},_removeRef(e,t){const{cid:n}=e,{_views:r}=this,i=r[n];if(i){t&&delete i[t];for(let s in i)return;delete r[n]}},remove(e,t=null){Uw(this.get(e,t)).forEach(n=>{n.remove()})},update(e,t=null,n=!1){Uw(this.get(e,t)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(e,t=null){Uw(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},uniqueId:(e,t="")=>Ae.ensureId(e)+JSON.stringify(t)}),Rh={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Pn=Mu.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,r,i){e.push("type-"+i.slice(0,r+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var r,i,s,e={},t={},n=0,o=ts(this,"presentationAttributes");for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];for(Array.isArray(u)||(u=[u]),r=0,i=u.length;r<i;r++){var d=e[s=u[r]];d||(d=e[s]=1<<n++),t[a]|=d}}var g=ts(this,"initFlag");for(Array.isArray(g)||(g=[g]),r=0,i=g.length;r<i;r++)e[s=g[r]]||(e[s]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||I0(this),Mu.call(this,e)},initialize:function(){this.setFlags(),Mu.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){const{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=gN(e),r=n.selectors,i=n.groupSelectors;for(var s in i){if(r[s])throw new Error("dia.CellView: ambiguous group selector");r[s]=i[s]}if(t){var o=this.selector;if(r[o])throw new Error("dia.CellView: ambiguous root selector.");r[o]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=sr(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Vr(t)&&!1!==t[e]||function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"===Object.prototype.toString.call(e)}(t)&&!1!==t},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||"."===e)return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return el.useCSSSelectors?nr(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix(),i=this.getRootRotateMatrix();return Ae.transformRect(t,r.multiply(i).multiply(n))},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return Ae.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model.position();return Ae.createSVGMatrix().translate(t.x,t.y)},getRootRotateMatrix:function(){var e=Ae.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,s=r.height/2;e=e.translate(i,s).rotate(n).translate(-i,-s)}return e},_notifyHighlight:function(e,t,n={}){const{el:r}=this;let i;if([i=r]="string"==typeof t?this.findBySelector(t):this.$(t),n.partial=i!==r,void 0===n.type){let s;switch(!0){case n.embedding:s=Rh.EMBEDDING;break;case n.connecting:s=Rh.CONNECTING;break;case n.magnetAvailability:s=Rh.MAGNET_AVAILABILITY;break;case n.elementAvailability:s=Rh.ELEMENT_AVAILABILITY;break;default:s=Rh.DEFAULT}n.type=s}return this.notify(e,i,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let n=this.$(e)[0];n||(n=t);do{const r=n.getAttribute("magnet"),i=n===t;if((r||i)&&"false"!==r)return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return e},getSelector:function(e,t){var n;if(e===this.el)return"string"==typeof t&&(n="> "+t),n;if(e){var r=Ae(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,s=r.getDefaultLink(this,e);return s.set({source:this.getLinkEnd(e,t,n,s,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),s.findView(r)},getLinkEnd:function(e,...t){var n=this.model,r=n.id,i=this.findAttribute("port",e),s=e.getAttribute("joint-selector"),o={id:r};return null!=s&&(o.magnet=s),null!=i?(o.port=i,!n.hasPort(i)&&!s&&(o.selector=this.getSelector(e))):null==s&&this.el!==e&&(o.selector=this.getSelector(e)),this.customizeLinkEnd(o,e,...t)},customizeLinkEnd:function(e,t,n,r,i,s){const{paper:o}=this,{connectionStrategy:a}=o.options;if("function"==typeof a){var u=a.call(o,e,this,t,new ce(n,r),i,s,o);if(u)return u}return e},getMagnetFromLinkEnd:function(e){var s,t=this.el,n=e.port,r=e.magnet,i=this.model;return null!=n&&i.isElement()&&i.hasPort(n)?s=this.findPortNode(n,r)||t:(r||(r=e.selector),!r&&null!=n&&(r='[port="'+n+'"]'),s=this.findBySelector(r,t,this.selectors)[0]),this.findProxyNode(s,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var s=this.paper,o=s.options.magnetThreshold,a=this.getEventTarget(e),u=r.targetMagnet;if("onleave"===o){if(u===a||Ae(u).contains(a))return}else if(s.eventData(e).mousemoved<=o)return;this.dragLinkStart(e,u,t,n)}},dragLinkEnd:function(e,t,n){var i=this.eventData(e).linkView;!i||(i.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){yc(t)||(e instanceof SVGElement?Ae(e).attr(t):nr(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,s,o,a,u,d,g,h=[];for(n in t)!t.hasOwnProperty(n)||(r=t[n],!(i=this.getAttributeDefinition(n))||sr(i.qualify)&&!i.qualify.call(this,r,e,t)?(a||(a={}),a[vG(n)]=r):(Cs(i.set)&&(a||(a={}),a[i.set]=r),null!==r&&h.push(n,i)));for(s=0,o=h.length;s<o;s+=2)r=t[n=h[s]],sr((i=h[s+1]).set)&&(u||(u={}),u[n]=r),sr(i.position)&&(d||(d={}),d[n]=r),sr(i.offset)&&(g||(g={}),g[n]=r);return{raw:t,normal:a,set:u,position:d,offset:g}},updateRelativeAttributes:function(e,t,n,r){r||(r={});var i,s,a=t.raw||{},u=t.normal||{},d=t.set,g=t.position,h=t.offset;for(i in d){s=d[i];var y=this.getAttributeDefinition(i).set.call(this,s,n.clone(),e,a);Vr(y)?wt(u,y):void 0!==y&&(u[i]=y)}if(e instanceof HTMLElement)this.setNodeAttributes(e,u);else{var z,Y,G,w=u.transform,M=Ae.transformStringToMatrix(w),F=ce(M.e,M.f);if(w&&(u=Cc(u,"transform"),M.e=M.f=0),g||h){var I=this.getNodeScale(e,r.scalableNode);z=I.sx,Y=I.sy}var S=!1;for(i in g)s=g[i],(G=this.getAttributeDefinition(i).position.call(this,s,n.clone(),e,a))&&(F.offset(ce(G).scale(z,Y)),S||(S=!0));this.setNodeAttributes(e,u);var k=!1;if(h){var H=this.getNodeBoundingRect(e);if(H.width>0&&H.height>0){var Q=Ae.transformRect(H,M).scale(1/z,1/Y);for(i in h)s=h[i],(G=this.getAttributeDefinition(i).offset.call(this,s,Q,e,a))&&(F.offset(ce(G).scale(z,Y)),k||(k=!0))}}(void 0!==w||S||k)&&(F.round(1),M.e=F.x,M.f=F.y,e.setAttribute("transform",Ae.matrixToTransformString(M)))}},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=Ae.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return void 0===t.boundingRect&&(t.boundingRect=Ae(e).getBBox()),new Qe(t.boundingRect)},getNodeMatrix:function(e){var t=this.nodeCache(e);if(void 0===t.magnetMatrix){var n=this.rotatableNode||this.el;t.magnetMatrix=Ae(e).getTransformToElement(n)}return Ae.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return void 0===t.geometryShape&&(t.geometryShape=Ae(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,s,o,a,u={},d=[];for(var g in e)if(e.hasOwnProperty(g)&&es(o=e[g])){var h=n[g]=this.findBySelector(g,t,r);for(i=0,s=h.length;i<s;i++){var y=h[i];a=Ae.ensureId(y);var w=r&&r[g]===y,M=u[a];if(M){M.array||(d.push(a),M.array=!0,M.attributes=[M.attributes],M.selectedLength=[M.selectedLength]);var F=M.attributes,z=M.selectedLength;if(w)F.unshift(o),z.unshift(-1);else{var Y=CN(z,s);F.splice(Y,0,o),z.splice(Y,0,s)}}else u[a]={attributes:o,selectedLength:w?-1:s,node:y,array:!1}}}for(i=0,s=d.length;i<s;i++)(o=u[a=d[i]]).attributes=ns({},...o.attributes.reverse());return u},getEventTarget:function(e,t={}){const{target:n,type:r,clientX:i=0,clientY:s=0}=e;return t.fromPoint||"touchmove"===r||"touchend"===r?document.elementFromPoint(i,s):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=Qe()),n.selectors||(n.selectors=this.selectors);var a,u,d,g,h,r={},i={},s=[],o=[],y=n.roAttributes,w=this.findNodesAttributes(y||t,e,r,n.selectors),M=y?this.findNodesAttributes(t,e,r,n.selectors):w;for(var F in w)if((h=this.processNodeAttributes(u=(g=w[F]).node,d=g.attributes)).set||h.position||h.offset){var G,z=M[F]&&M[F].attributes,Y=z&&void 0===d.ref?z.ref:d.ref;if(Y){if(!(G=(r[Y]||this.findBySelector(Y,e,n.selectors))[0]))throw new Error('dia.CellView: "'+Y+'" reference does not exist.')}else G=null;if(a={node:u,refNode:G,processedAttributes:h,allAttributes:z},G){var I=o.findIndex(function(Fe){return Fe.refNode===u});I>-1?o.splice(I,0,a):o.push(a)}else s.push(a)}else this.setNodeAttributes(u,h.normal);s.push(...o);for(var S,k=0,H=s.length;k<H;k++){u=(a=s[k]).node,G=a.refNode;var Q=Ae(n.rotatableNode),ue=G?Ae.ensureId(G):"",ge=!!Q&&!!G&&Q.contains(G),Ce=i[ue];if(!Ce){var Re=ge?Q:e;Ce=i[ue]=G?Ae(G).getBBox({target:Re}):n.rootBBox}y?(h=this.processNodeAttributes(u,a.allAttributes),this.mergeProcessedAttributes(h,a.processedAttributes)):h=a.processedAttributes;var ke=Ce;ge&&!Q.contains(u)&&(S||(S=Ae.transformStringToMatrix(Q.attr("transform"))),ke=Ae.transformRect(Ce,S)),this.updateRelativeAttributes(u,h,ke,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),wt(e.set,t.set),wt(e.position,t.position),wt(e.offset,t.offset);var n=e.normal&&e.normal.transform;void 0!==n&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return!(!t||e&&t.getName()!==e)},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){Ac.remove(this)},updateHighlighters:function(e=!1){Ac.update(this,null,e)},transformHighlighters:function(){Ac.transform(this)},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){const{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){const{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t}=this;t.isAsync()&&t.dumpView(this);const n=this.getEventTarget(e,{fromPoint:!0}),r=t.findView(n);r!==this&&(this.mouseleave(e),r&&r.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Highlighting:Rh,addPresentationAttributes:function(e){return ns({},ts(this.prototype,"presentationAttributes"),e,function(t,n){if(t&&n&&("string"==typeof t&&(t=[t]),"string"==typeof n&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return Oh(t.concat(n))})}}),Tn={UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",TOOLS:"TOOLS",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Ai=Pn.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Pn.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Pn.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Tn.UPDATE],position:[Tn.TRANSLATE,Tn.TOOLS],size:[Tn.RESIZE,Tn.PORTS,Tn.TOOLS],angle:[Tn.ROTATE,Tn.TOOLS],markup:[Tn.RENDER],ports:[Tn.PORTS]},initFlag:[Tn.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){const{useCSSSelectors:n}=el;this.hasFlag(e,Tn.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,Tn.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[Tn.RENDER,Tn.UPDATE,Tn.RESIZE,Tn.TRANSLATE,Tn.ROTATE,Tn.PORTS,Tn.TOOLS]);else{let i=!1;this.hasFlag(e,Tn.RESIZE)&&(this.resize(t),i=!0,e=this.removeFlag(e,[Tn.RESIZE,Tn.UPDATE])),this.hasFlag(e,Tn.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,Tn.UPDATE),i=!0,n&&(e=this.removeFlag(e,Tn.PORTS))),this.hasFlag(e,Tn.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,Tn.TRANSLATE),r=!0),this.hasFlag(e,Tn.ROTATE)&&(this.rotate(),e=this.removeFlag(e,Tn.ROTATE),r=!0),this.hasFlag(e,Tn.PORTS)&&(this._renderPorts(),i=!0,e=this.removeFlag(e,Tn.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,Tn.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Tn.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();const{useCSSSelectors:n}=el;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new Qe(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=Ae(n[this.rotatableSelector])||null,this.scalableNode=Ae(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(Ae(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),el.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,s=!1;i.node.getElementsByTagName("path").length>0&&(s=!0);var o=i.getBBox({recursive:s});i.attr("transform","scale("+r.width/(o.width||1)+","+r.height/(o.height||1)+")");var d=this.rotatableNode,g=d&&d.attr("transform");if(g){d.attr("transform",g+" rotate("+-n+","+r.width/2+","+r.height/2+")");var h=i.getBBox({target:this.paper.cells});t.set("position",{x:h.x,y:h.y},wt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,r=(e.paper||this.paper).model,i=e.initialZIndices={},s=t.getEmbeddedCells({deep:!0}),o=r.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...s,...o].forEach(d=>i[d.id]=d.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=r.getElements().reduce((d,g)=>Math.max(d,g.attributes.z||0),0);o.forEach(d=>{d.attributes.z<=a&&d.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const u=t.parent();u?(r.getCell(u).unembed(t,{ui:!0}),e.initialParentId=u):e.initialParentId=null},processEmbedding:function(e){e||(e={});var t=e.model||this.model,n=e.paper||this.paper,r=n.options,i=[];i=sr(r.findParentBy)?En(r.findParentBy.call(n.model,this)).filter(function(h){return h instanceof zl&&this.model.id!==h.id&&!h.isEmbeddedIn(this.model)}.bind(this)):n.model.findModelsUnderElement(t,{searchBy:r.findParentBy}),r.frontParentOnly&&(i=i.slice(-1));for(var o=null,a=e.candidateEmbedView,u=i.length-1;u>=0;u--){var d=i[u];if(a&&a.model.id==d.id){o=a;break}var g=d.findView(n);if(r.validateEmbedding.call(n,this,g)){o=g;break}}o&&o!=a&&(this.clearEmbedding(e),e.candidateEmbedView=o.highlight(o.findProxyNode(null,"container"),{embedding:!0})),!o&&a&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=r.options,{initialParentId:s}=e;if(s&&"function"==typeof i&&!i.call(r,this))return void this._disallowUnembed(e)}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,s=(e.paper||this.paper).model;switch(n){case"remove":r.remove({ui:!0});break;case"revert":{const{initialParentId:o,initialPosition:a,initialZIndices:u}=e;if(a){const{x:g,y:h}=a;r.position(g,h,{deep:!0,ui:!0})}u&&Object.keys(u).forEach(g=>{const h=s.getCell(g);h&&h.set("z",u[g],{ui:!0})});const d=s.getCell(o);d&&d.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const r=this.findAttribute("port",e);if(r){const i=this.findPortNode(r,n);if(i)return i}else{const[i]=this.findBySelector(n);if(i)return i}}return e},notifyPointerdown(e,t,n){Pn.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){Pn.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),Pn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Pn.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Pn.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){Pn.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.isPropagationStopped(e)||(this.notifyPointerdown(e,t,n),this.dragStart(e,t,n))},pointermove:function(e,t,n){var r=this.eventData(e);switch(r.action){case"magnet":this.dragMagnet(e,t,n);break;case"move":(r.delegatedView||this).drag(e,t,n);default:this.notifyPointermove(e,t,n)}this.eventData(e,r)},pointerup:function(e,t,n){var r=this.eventData(e);switch(r.action){case"magnet":this.dragMagnetEnd(e,t,n);break;case"move":(r.delegatedView||this).dragEnd(e,t,n);default:this.notifyPointerup(e,t,n)}var i=r.targetMagnet;i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){Pn.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Pn.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Pn.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Pn.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){Pn.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){this.dragMagnetStart(e,t,n)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:"move",delegatedView:r});const i=r.model.position();r.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){if(this.can("addLinkFromMagnet")){var r=e.currentTarget,i=this.paper;this.eventData(e,{targetMagnet:r}),e.stopPropagation(),i.options.validateMagnet(this,r,e)?(i.options.magnetThreshold<=0&&this.dragLinkStart(e,r,t,n),this.eventData(e,{action:"magnet"}),this.stopPropagation(e)):this.pointerdown(e,t,n),i.delegateDragEvents(this,e.data)}},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,s=this.model,o=this.eventData(e),{pointerOffset:a,restrictedArea:u,embedding:d}=o,g=Sd(t+a.x,i),h=Sd(n+a.y,i);s.position(g,h,{restrictedArea:u,deep:!0,ui:!0}),r.options.embeddingMode&&(d||(this.prepareEmbedding(o),d=!0),this.processEmbedding(o)),this.eventData(e,{embedding:d})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:Tn});wt(Ai.prototype,nU);const zN={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(void 0!==n)return n;try{n=t()}catch(r){n=!1}return this._results[e]=n,n}},Vn=zr.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),rU=Vn.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),iU=Ai.extend({presentationAttributes:Ai.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=Ai.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),sU=Vn.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),Zw=Vn.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),oU=Vn.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),aU=Vn.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),lU=Vn.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),uU=Vn.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),GN=Vn.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),cU=GN.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),_0=zN.test("svgforeignobject"),dU=Vn.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',_0?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),Vn.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":wt({},t),div:{style:wt({},t)}})},updateContent:function(e,t){this.attr(_0?{".content":{html:CG(t)}}:{".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),fU=Ai.extend({presentationAttributes:_0?Ai.prototype.presentationAttributes:Ai.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=Ai.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var n=this.model;if(_0)Ai.prototype.update.call(this,n,t);else{var r=Cc(t||n.get("attrs"),".content");Ai.prototype.update.call(this,n,r),(!t||Vl(t,".content"))&&this.updateContent(n,t)}},updateContent:function(e,t){var n=ns({},(t||e.get("attrs"))[".content"]);n=Cc(n,"text");var r=vN(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),i=Lw({},".content",n,"/");i[".content"].text=r,Ai.prototype.update.call(this,e,i)}}),rs=zl.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){return void 0===e?ba(this.get("source")):e instanceof zl?((r=ba(t)||{}).id=e.id,this.set("source",r,n)):es(e)?this.set("source",r=e,t):((r=ba(t)||{}).x=e.x,r.y=e.y,this.set("source",r,n));var r},target:function(e,t,n){return void 0===e?ba(this.get("target")):e instanceof zl?((r=ba(t)||{}).id=e.id,this.set("target",r,n)):es(e)?this.set("target",r=e,t):((r=ba(t)||{}).x=e.x,r.y=e.y,this.set("target",r,n));var r},router:function(e,t,n){if(void 0===e){var r=this.get("router");return r?"object"==typeof r?ba(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("router",i?e:{name:e,args:t},i?t:n)},connector:function(e,t,n){if(void 0===e){var r=this.get("connector");return r?"object"==typeof r?ba(r):r:this.get("smooth")?{name:"smooth"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("connector",i?e:{name:e,args:t},i?t:n)},label:function(e,t,n){var r=this.labels();return(e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return 0===arguments.length?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if((e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(0===arguments.length)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var i=e[r],s=this._normalizeVertex(i);n.push(s)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1);var s=this._normalizeVertex(t);return r.splice(e,0,s),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){return es(e)?e:{x:e.x,y:e.y}},translate:function(e,t,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(r){return{x:(r.x||0)+e,y:(r.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(i){return ce(i).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!sr(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=e(r)),i.id||(n.target=e(i));var s=this.vertices();return s.length>0&&(n.vertices=s.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ce(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ce(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ce),this.getTargetPoint()];return new gr(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(t=n===r||n.isEmbeddedIn(r)?r:r.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,r)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,i=n.id;if(!r||!i)return!1;var s=r===i;if(!s&&e.deep&&this.graph){var o=this.getSourceCell(),a=this.getTargetCell();s=o.isEmbeddedIn(a)||a.isEmbeddedIn(o)}return s},getSourceCell:function(){const{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Cs(e)||wo(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){return e.id===t.id&&(e.port===t.port||!e.port&&!t.port)}}),UN=zr.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),hU=zr.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Hw=zr.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),gU=zr.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),ZN=zr.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),pU=zr.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),mU=zr.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),vU=zr.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),yU=zr.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),CU=zr.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),bU=zr.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),IU=zr.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(void 0===e)return this.attr("body/lateralArea");var n=ao(e);return this.attr({body:{lateralArea:e},top:n?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e}},t)}},{attributes:{lateralArea:{set:function(e,t){var n=ao(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,s=t.width,o=t.height,u=n?o*e:e,d=Ae.KAPPA,g=d*(s/2),h=d*(n?o*e:e),w=r+s/2,M=r+s,F=i+u,z=F-u,Y=i+o-u,G=i+o;return{d:["M",r,F,"L",r,Y,"C",r,Y+h,w-g,G,w,G,"C",w+g,G,M,Y+h,M,Y,"L",M,F,"C",M,F-h,w+g,z,w,z,"C",w-g,z,r,F-h,r,F,"Z"].join(" ")}}}}});var _U=zN.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};const DU=zr.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},_U]},{attributes:{text:{set:function(e,t,n,r){if(!(n instanceof HTMLElement)){var i=r.style||{},s={text:e,width:-5,height:"100%"},o=wt({textVerticalAnchor:"middle"},i);return ON.textWrap.set.call(this,s,t,n,o),{fill:i.color||null}}n.textContent=e},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),HN=rs.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),MU=rs.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),EU=rs.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),Yw=Vn.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){Vn.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,n){var r=Oh(this.get("inPorts")),i=IN(Oh(this.get("outPorts")),r),s=this.createPortItems("in",r),o=this.createPortItems("out",i);this.prop("ports/items",s.concat(o),wt({rewrite:!0},n))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return En(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,n){var r=this.get(t);return this.set(t,Array.isArray(r)?r.concat(e):[e],n)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,n){return this.set(t,bN(this.get(t),e),n)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,n){return this.prop("ports/groups/"+e,Vr(t)?t:{},n)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),SU=Yw.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),xU=Yw.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),TU=rs.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),D0=Vn.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),Xw=D0.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),NU=Xw.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),kU=Xw.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),$w=D0.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),Rd=D0.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),OU=$w.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),PU=$w.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),RU=Rd.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),LU=Rd.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),FU=Rd.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),BU=Rd.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),jU=Rd.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),VU=Rd.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),zU=rs.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),GU=Vn.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),UU=Vn.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),ZU=Vn.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),HU=Vn.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),WU=Vn.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),YU=Vn.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),XU=Vn.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),$U=Vn.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),qU=Vn.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),KU=Vn.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),JU=Vn.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),QU=Vn.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),WN=zr.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),eZ=WN.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),YN=zr.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),tZ=YN.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Jp=zr.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),nZ=Jp.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),rZ=Jp.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),iZ=Jp.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),sZ=Jp.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),oZ=zr.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),aZ=rs.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}}),lZ=Zw.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),uZ=zr.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),cZ=zr.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),dZ=rs.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),fZ=zr.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),hZ=rs.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),gZ=Vn.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),pZ=Ai.extend({presentationAttributes:Ai.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Ai.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...e){let t=Ai.prototype.confirmUpdate.call(this,...e);return this.hasFlag(t,"TOKENS")&&(this.renderTokens(),this.update(),t=this.removeFlag(t,"TOKENS")),t},renderTokens:function(){const e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){e.removeClass(n)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(Ae("circle"));break;case 2:e.addClass("two"),e.append([Ae("circle"),Ae("circle")]);break;case 3:e.addClass("three"),e.append([Ae("circle"),Ae("circle"),Ae("circle")]);break;default:e.addClass("alot"),e.append(Ae("text").text(t+""))}}}),mZ=Vn.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),vZ=rs.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),qw=Vn.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),Vn.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;t.forEach(function(r){var i=Array.isArray(r.text)?r.text:[r.text],s=20*i.length+20;e[".uml-class-"+r.type+"-text"].text=i.join("\n"),e[".uml-class-"+r.type+"-rect"].height=s,e[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=s})}}),Kw=Ai.extend({initialize:function(){Ai.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),yZ=qw.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),CZ=Kw,bZ=qw.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),IZ=Kw,AZ=rs.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),wZ=rs.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),_Z=rs.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),DZ=rs.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),MZ=rs.define("uml.Association"),EZ=Vn.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),Vn.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),SZ=Zw.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),xZ=Vn.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),TZ=rs.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}});function XN(e,t){return 0===t?"0%":Math.round(e/t*100)+"%"}function $N(e){return function(t,n,r,i){return(n.isNodeConnection(r)?kZ:NZ)(e,t,n,r,i)}}function NZ(e,t,n,r,i){var s=n.model.angle(),o=n.getNodeUnrotatedBBox(r),a=n.model.getBBox().center();i.rotate(a,s);var u=i.x-o.x,d=i.y-o.y;return e&&(u=XN(u,o.width),d=XN(d,o.height)),t.anchor={name:"topLeft",args:{dx:u,dy:d,rotate:!0}},t}function kZ(e,t,n,r,i){var s=n.getConnection();if(!s)return t;var o=s.closestPointLength(i);if(e){var a=s.length();t.anchor={name:"connectionRatio",args:{ratio:o/a}}}else t.anchor={name:"connectionLength",args:{length:o}};return t}$N(!1);const OZ=$N(!0),Ld=Mu.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:n}=this;return!t||!n||t.guard(e,n)}});function qN(e,t,n){return OZ.call(this.paper,{},t,n,e,this.model).anchor}function KN(e,t){const{model:n}=e;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}var JN=Mu.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(e,t){this.vel.attr({cx:e,cy:t})},onPointerDown:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.trigger("will-change",this,e))},onPointerMove:function(e){this.trigger("changing",this,e)},onDoubleClick:function(e){this.trigger("remove",this,e)},onPointerUp:function(e){this.trigger("changed",this,e),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}}),RZ=Ld.extend({name:"vertices",options:{handleClass:JN,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){return this.relatedView.model.vertices().length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},renderHandles:function(){for(var t=this.relatedView.model.vertices(),n=0,r=t.length;n<r;n++){var i=t[n],s=new this.options.handleClass({index:n,paper:this.paper,guard:o=>this.guard(o)});s.render(),s.position(i.x,i.y),this.simulateRelatedView(s.el),s.vel.appendTo(this.el),this.handles.push(s),this.startHandleListening(s)}},updateHandles:function(){for(var t=this.relatedView.model.vertices(),n=0,r=t.length;n<r;n++){var i=t[n],s=this.handles[n];if(!s)return;s.position(i.x,i.y)}},updatePath:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(e){var t=this.relatedView;t.can("vertexMove")&&(this.listenTo(e,"will-change",this.onHandleWillChange),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"changed",this.onHandleChanged)),t.can("vertexRemove")&&this.listenTo(e,"remove",this.onHandleRemove)},getNeighborPoints:function(e){var t=this.relatedView,n=t.model.vertices(),i=e<n.length-1?n[e+1]:t.targetAnchor;return{prev:new ce(e>0?n[e-1]:t.sourceAnchor),next:new ce(i)}},onHandleWillChange:function(e,t){this.focus();const{relatedView:n,options:r}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),r.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(t))},onHandleChanging:function(e,t){const{options:n,relatedView:r}=this;var i=e.options.index,[s,o,a]=r.paper.getPointerArgs(t),u={x:o,y:a};this.snapVertex(u,i),r.model.vertex(i,u,{ui:!0,tool:this.cid}),e.position(u.x,u.y),n.stopPropagation||r.notifyPointermove(s,o,a)},onHandleChanged:function(e,t){const{options:n,relatedView:r}=this;if(n.vertexAdding&&this.updatePath(),n.redundancyRemoval){r.removeRedundantLinearVertices({ui:!0,tool:this.cid})&&this.render(),this.blur(),r.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(t).vertexAdded&&r.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[s,o,a]=r.paper.getPointerArgs(t);n.stopPropagation||r.notifyPointerup(s,o,a),r.checkMouseleave(s)}},snapVertex:function(e,t){var n=this.options.snapRadius;if(n>0){var r=this.getNeighborPoints(t),i=r.prev,s=r.next;Math.abs(e.x-i.x)<n?e.x=i.x:Math.abs(e.x-s.x)<n&&(e.x=s.x),Math.abs(e.y-i.y)<n?e.y=r.prev.y:Math.abs(e.y-s.y)<n&&(e.y=s.y)}},onHandleRemove:function(e,t){var r=this.relatedView;r.model.removeVertex(e.options.index,{ui:!0}),this.options.vertexAdding&&this.updatePath(),r.checkMouseleave(Jr(t))},onPathPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=Jr(e),n=this.paper.snapToGrid(t.clientX,t.clientY).toJSON(),r=this.relatedView;r.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var i=r.getVertexIndex(n.x,n.y);this.snapVertex(n,i),r.model.insertVertex(i,n,{ui:!0,tool:this.cid}),this.render();var s=this.handles[i];this.eventData(t,{vertexAdded:!0}),s.onPointerDown(t)}},onRemove:function(){this.resetHandles()}},{VertexHandle:JN}),QN=Mu.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(e,t,n,r){var i=Ae.createSVGMatrix().translate(e,t).rotate(n),s=this.childNodes.handle;s.setAttribute("transform",Ae.matrixToTransformString(i)),s.setAttribute("cursor",n%180==0?"row-resize":"col-resize");var o=r.getClosestPoint(new ce(e,t)),a=this.childNodes.line;a.setAttribute("x1",e),a.setAttribute("y1",t),a.setAttribute("x2",o.x),a.setAttribute("y2",o.y)},onPointerDown:function(e){this.options.guard(e)||(this.trigger("change:start",this,e),e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data))},onPointerMove:function(e){this.trigger("changing",this,e)},onPointerUp:function(e){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,e)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}}),ek=(Ld.extend({name:"segments",precision:.5,options:{handleClass:QN,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:qN,snapRadius:10,snapHandle:!0,stopPropagation:!0},handles:null,onRender:function(){this.resetHandles();var e=this.relatedView,t=e.model.vertices();t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var n=0,r=t.length;n<r-1;n++){var o=this.renderHandle(t[n],t[n+1]);this.simulateRelatedView(o.el),this.handles.push(o),o.options.index=n}return this},renderHandle:function(e,t){var n=new this.options.handleClass({paper:this.paper,guard:r=>this.guard(r)});return n.render(),this.updateHandle(n,e,t),n.vel.appendTo(this.el),this.startHandleListening(n),n},update:function(){return this.render(),this},startHandleListening:function(e){this.listenTo(e,"change:start",this.onHandleChangeStart),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},shiftHandleIndexes:function(e){for(var t=this.handles,n=0,r=t.length;n<r;n++)t[n].options.index+=e},resetAnchor:function(e,t){var n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(e,t,n){var r=e.options.index,o=this.relatedView.model.vertices(),a=e.options.axis,u=o[r-2]||n.sourceAnchor,d=o[r+1]||n.targetAnchor,g=this.options.snapRadius;return Math.abs(t[a]-u[a])<g?t[a]=u[a]:Math.abs(t[a]-d[a])<g&&(t[a]=d[a]),t},onHandleChanging:function(e,t){const{options:n}=this;var r=this.eventData(t),i=this.relatedView,s=i.paper,o=e.options.index-1,a=Jr(t),u=s.snapToGrid(a.clientX,a.clientY),d=this.snapHandle(e,u.clone(),r),g=e.options.axis,h=this.options.snapHandle?0:u[g]-d[g],y=i.model,w=Ao(y.vertices()),M=w[o],F=w[o+1],z=this.options.anchor;"function"!=typeof z&&(z=null);var Y=i.sourceView,G=i.sourceBBox,I=!1,S=!1;if(M?0===o?G.containsPoint(M)?(w.shift(),this.shiftHandleIndexes(-1),I=!0):(M[g]=d[g],S=!0):M[g]=d[g]:((M=i.sourceAnchor.toJSON())[g]=d[g],G.containsPoint(M)?(M[g]=d[g],I=!0):(w.unshift(M),this.shiftHandleIndexes(1),S=!0)),z&&Y){if(I){var k=r.sourceAnchor.clone();k[g]=d[g];var H=z.call(i,k,Y,i.sourceMagnet||Y.el,"source",i);this.resetAnchor("source",H)}S&&this.resetAnchor("source",r.sourceAnchorDef)}var Q=i.targetView,ue=i.targetBBox,ge=!1,Ce=!1;if(F?o===w.length-2?ue.containsPoint(F)?(w.pop(),ge=!0):(F[g]=d[g],Ce=!0):F[g]=d[g]:((F=i.targetAnchor.toJSON())[g]=d[g],ue.containsPoint(F)?ge=!0:(w.push(F),Ce=!0)),z&&Q){if(ge){var Re=r.targetAnchor.clone();Re[g]=d[g];var ke=z.call(i,Re,Q,i.targetMagnet||Q.el,"target",i);this.resetAnchor("target",ke)}Ce&&this.resetAnchor("target",r.targetAnchorDef)}y.vertices(w,{ui:!0,tool:this.cid}),this.updateHandle(e,M,F,h),n.stopPropagation||i.notifyPointermove(a,u.x,u.y)},onHandleChangeStart:function(e,t){const{options:n,handles:r,relatedView:i}=this,{model:s,paper:o}=i;var a=e.options.index;if(Array.isArray(r)){for(var u=0,d=r.length;u<d;u++)u!==a&&r[u].hide();this.focus(),this.eventData(t,{sourceAnchor:i.sourceAnchor.clone(),targetAnchor:i.targetAnchor.clone(),sourceAnchorDef:ba(s.prop(["source","anchor"])),targetAnchorDef:ba(s.prop(["target","anchor"]))}),s.startBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||i.notifyPointerdown(...o.getPointerArgs(t))}},onHandleChangeEnd:function(e,t){const{options:n,relatedView:r}=this,{paper:i,model:s}=r;n.redundancyRemoval&&r.removeRedundantLinearVertices({ui:!0,tool:this.cid});const o=Jr(t),a=i.snapToGrid(o.clientX,o.clientY);this.render(),this.blur(),s.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||r.notifyPointerup(o,a.x,a.y),r.checkMouseleave(o)},updateHandle:function(e,t,n,r){var i=Math.abs(t.x-n.x)<this.precision,s=Math.abs(t.y-n.y)<this.precision;if(i||s){var o=new it(t,n);if(o.length()<this.options.segmentLengthThreshold)e.hide();else{var u=o.midpoint(),d=i?"x":"y";u[d]+=r||0;var g=o.vector().vectorAngle(new ce(1,0));e.position(u.x,u.y,g,this.relatedView),e.show(),e.options.axis=d}}else e.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:QN}),Ld.extend({tagName:"path",xAxisVector:new ce(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},onRender:function(){this.update()},update:function(){var r,i,e=this.ratio,t=this.relatedView,n=t.getTangentAtRatio(e);if(n?(r=n.start,i=n.vector().vectorAngle(this.xAxisVector)||0):(r=t.getPointAtRatio(e),i=0),!r)return this;var s=Ae.createSVGMatrix().translate(r.x,r.y).rotate(i);return this.vel.transform(s,{absolute:!0}),this},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.relatedView;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.can("arrowheadMove")&&(t.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),t.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(e){var t=Jr(e),n=this.paper.snapToGrid(t.clientX,t.clientY);this.relatedView.pointermove(t,n.x,n.y)},onPointerUp:function(e){this.undelegateDocumentEvents();var t=this.relatedView,n=t.paper,r=Jr(e),i=n.snapToGrid(r.clientX,r.clientY);t.pointerup(r,i.x,i.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",t.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}})),LZ=(ek.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),ek.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),Ld.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{relatedView:e,vel:t}=this,n=e.model.isLink()?this.getLinkMatrix():this.getElementMatrix();t.transform(n,{absolute:!0})},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:n=0,y:r=0,offset:i={},useModelGeometry:s,rotate:o}=t,a=KN(e,s);const u=e.model.angle();o||(a=a.bbox(u));const{x:d=0,y:g=0}=i;ao(n)&&(n=parseFloat(n)/100*a.width),ao(r)&&(r=parseFloat(r)/100*a.height);let h=Ae.createSVGMatrix().translate(a.x+a.width/2,a.y+a.height/2);return o&&(h=h.rotate(u)),h=h.translate(n+d-a.width/2,r+g-a.height/2),h},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:n=0,distance:r=0,rotate:i}=t;let s,o,a;s=ao(r)?e.getTangentAtRatio(parseFloat(r)/100):e.getTangentAtLength(r),s?(o=s.start,a=s.vector().vectorAngle(new ce(1,0))||0):(o=e.getConnection().start,a=0);let u=Ae.createSVGMatrix().translate(o.x,o.y).rotate(a).translate(0,n);return i||(u=u.rotate(-a)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;"function"==typeof t&&t.call(this.relatedView,e,this.relatedView,this)}}})),FZ=LZ.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}}),BZ=Ld.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:e,options:t,vel:n}=this,{useModelGeometry:r,rotate:i}=t,s=kd(t.padding);let o=KN(e,r).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});var a=e.model;if(a.isElement()){var u=a.angle();if(u)if(i){var d=a.getBBox().center();n.rotate(u,d.x,d.y,{absolute:!0})}else o=o.bbox(u)}return n.attr(o.toJSON()),this}}),tk=Ld.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:function(e,t,n,r,i,s){var o=s.options.snapRadius,a="source"===r,d=this.model.vertex(a?0:-1)||this.getEndAnchor(a?"target":"source");return d&&(Math.abs(d.x-e.x)<o&&(e.x=d.x),Math.abs(d.y-e.y)<o&&(e.y=d.y)),e},anchor:qN,resetAnchor:!0,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){return this.relatedView.getEndView(this.type)?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var e=this.childNodes;if(e){var t=e.anchor;if(t){var n=this.relatedView,r=this.type,i=n.getEndAnchor(r),s=this.options,o=n.model.prop([r,"anchor"]);t.setAttribute("transform","translate("+i.x+","+i.y+")");var a=o?s.customAnchorAttributes:s.defaultAnchorAttributes;for(var u in a)t.setAttribute(u,a[u])}}},updateArea:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var u,d,g,n=this.relatedView,r=this.type,i=n.getEndView(r),s=i.model,o=n.getEndMagnet(r),a=this.options.areaPadding;isFinite(a)||(a=0),i.isNodeConnection(o)?(d=0,g=(u=i.getBBox()).center()):(u=i.getNodeUnrotatedBBox(o),d=s.angle(),g=u.center(),d&&g.rotate(s.getBBox().center(),-d)),u.inflate(a),t.setAttribute("x",-u.width/2),t.setAttribute("y",-u.height/2),t.setAttribute("width",u.width),t.setAttribute("height",u.height),t.setAttribute("transform","translate("+g.x+","+g.y+") rotate("+d+")")}}},toggleArea:function(e){this.childNodes.area.style.display=e?"":"none"},onPointerDown:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(e){var t=this.type,n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(e){var t=this.relatedView,n=this.type,r=t.getEndView(n),i=r.model,s=t.getEndMagnet(n),o=Jr(e),a=this.paper.clientToLocalPoint(o.clientX,o.clientY),u=this.options.snap;if("function"==typeof u&&(a=u.call(t,a,r,s,n,t,this),a=new ce(a)),this.options.restrictArea)if(r.isNodeConnection(s)){var d=r.getClosestPoint(a);d&&(a=d)}else{var g=r.getNodeUnrotatedBBox(s),h=i.angle(),y=i.getBBox().center(),w=a.clone().rotate(y,h);g.containsPoint(w)||(a=g.pointNearestToPoint(w).rotate(y,-h))}var M,F=this.options.anchor;"function"==typeof F&&(M=F.call(t,a,r,s,n,t)),this.resetAnchor(M),this.update()},onPointerUp:function(e){this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var t=this.relatedView;this.options.redundancyRemoval&&t.removeRedundantLinearVertices({ui:!0,tool:this.cid}),t.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){var e=this.options.resetAnchor;!1!==e&&(!0===e&&(e=null),this.resetAnchor(Ao(e)),this.update())}});tk.extend({name:"source-anchor",type:"source"}),tk.extend({name:"target-anchor",type:"target"});const Jw={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof zl?r=t:r instanceof zl&&(t.length>1&&t.pop(),r=t)),i instanceof zl&&(i={}),e.call(this,r,i)}}},VZ=Bs.Collection.extend({initialize:function(e,t){this.cellNamespace=t.cellNamespace?t.cellNamespace:"undefined"!=typeof joint&&Vl(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,s=new("link"===e.type?rs:$p(n.cellNamespace,e.type,".")||zr)(e,t);return t.dry||(s.graph=n.graph),s},comparator:function(e){return e.get("z")||0}}),Qw=Bs.Model.extend({initialize:function(e,t){var n=new VZ([],{model:(t=t||{}).cellModel,cellNamespace:t.cellNamespace,graph:this});Bs.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Bs.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return"object"==typeof e?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=Cc(r,"cells")),Bs.Model.prototype.set.call(this,r,n)},clear:function(e){e=wt({},e,{clear:!0});var t=this.get("cells");if(0===t.length)return this;this.startBatch("clear",e);var n=t.sortBy(function(r){return r.isLink()?1:2});do{n.shift().remove(e)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof Bs.Model?(n=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):n=e,!Cs(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Bs.Model?e.has("z")||e.set("z",this.maxZIndex()+1):void 0===e.z&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return 0===e.length||(e=MG(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t)),this},resetCells:function(e,t){var n=En(e).map(function(r){return this._prepareCell(r,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),jl(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){var n=(t=t||{}).indirect,r=t.inbound,i=t.outbound;void 0===r&&void 0===i&&(r=i=!0);var s=[],o={};function a(h,y){if(Ia(h.getOutboundEdges(y.id),function(M,F){if(!o[F]){var z=h.getCell(F);s.push(z),o[F]=!0,n&&(r&&u(h,z),i&&a(h,z))}}.bind(h)),n&&y.isLink()){var w=y.getTargetCell();w&&w.isLink()&&(o[w.id]||(s.push(w),a(h,w)))}}function u(h,y){if(Ia(h.getInboundEdges(y.id),function(M,F){if(!o[F]){var z=h.getCell(F);s.push(z),o[F]=!0,n&&(r&&u(h,z),i&&a(h,z))}}.bind(h)),n&&y.isLink()){var w=y.getSourceCell();w&&w.isLink()&&(o[w.id]||(s.push(w),u(h,w)))}}if(i&&a(this,e),r&&u(this,e),t.deep){var d=e.getEmbeddedCells({deep:!0}),g={};d.forEach(function(h){h.isElement()&&(g[h.id]=!0)}),d.forEach(function(h){h.isLink()||(i&&Ia(this.getOutboundEdges(h.id),function(y,w){if(!o[w]){var M=this.getCell(w),{source:F,target:z}=M.attributes,Y=F.id,G=z.id;if(!t.includeEnclosed&&Y&&g[Y]&&G&&g[G])return;s.push(this.getCell(w)),o[w]=!0}}.bind(this)),r&&Ia(this.getInboundEdges(h.id),function(y,w){if(!o[w]){var M=this.getCell(w),{source:F,target:z}=M.attributes,Y=F.id,G=z.id;if(!t.includeEnclosed&&Y&&g[Y]&&G&&g[G])return;s.push(this.getCell(w)),o[w]=!0}}.bind(this)))},this)}return s},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;void 0===n&&void 0===r&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce(function(a,u){var{source:d,target:g}=u.attributes,h=u.hasLoop(t);if(n&&Vl(d,"id")&&!a[d.id]){var y=this.getCell(d.id);y.isElement()&&(h||y&&y!==e&&(!t.deep||!y.isEmbeddedIn(e)))&&(a[d.id]=y)}if(r&&Vl(g,"id")&&!a[g.id]){var w=this.getCell(g.id);w.isElement()&&(h||w&&w!==e&&(!t.deep||!w.isEmbeddedIn(e)))&&(a[g.id]=w)}return a}.bind(this),{});if(e.isLink()){if(n){var s=e.getSourceCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}if(r){var o=e.getTargetCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}}return En(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);e=e.sort(function(n,r){return n.length-r.length});var t=En(e.shift()).find(function(n){return e.every(function(r){return r.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){var n=[];return this.search(e,function(r){r!==e&&n.push(r)},wt({},t=t||{},{outbound:!0})),n},cloneCells:_N,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],s=[];return En(e).forEach(function(o){r[o.id]||(n.push(o),r[o.id]=o,o.isLink()?s.push(o):i.push(o)),t.deep&&o.getEmbeddedCells({deep:!0}).forEach(function(u){r[u.id]||(n.push(u),r[u.id]=u,u.isLink()?s.push(u):i.push(u))})}),s.forEach(function(o){var{source:a,target:u}=o.attributes;if(a.id&&!r[a.id]){var d=this.getCell(a.id);n.push(d),r[d.id]=d,i.push(d)}if(u.id&&!r[u.id]){var g=this.getCell(u.id);n.push(this.getCell(u.id)),r[g.id]=g,i.push(g)}},this),i.forEach(function(o){this.getConnectedLinks(o,t).forEach(function(u){var{source:d,target:g}=u.attributes;!r[u.id]&&d.id&&r[d.id]&&g.id&&r[g.id]&&(n.push(u),r[u.id]=u)})},this),n},getPredecessors:function(e,t){var n=[];return this.search(e,function(r){r!==e&&n.push(r)},wt({},t=t||{},{inbound:!0})),n},search:function(e,t,n){(n=n||{}).breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){const r={},i={},s=[];for(s.push(e),i[e.id]=0;s.length>0;){var o=s.shift();if(r[o.id]||(r[o.id]=!0,!1===t.call(this,o,i[o.id])))continue;const a=this.getNeighbors(o,n);for(let u=0,d=a.length;u<d;u++){const g=a[u];i[g.id]=i[o.id]+1,s.push(g)}}},dfs:function(e,t,n={}){const r={},i={},s=[];for(s.push(e),i[e.id]=0;s.length>0;){const o=s.pop();if(r[o.id]||(r[o.id]=!0,!1===t.call(this,o,i[o.id])))continue;const a=this.getNeighbors(o,n),u=s.length;for(let d=0,g=a.length;d<g;d++){const h=a[d];i[h.id]=i[o.id]+1,s.splice(u,0,h)}}},getSources:function(){var e=[];return Ia(this._nodes,function(t,n){(!this._in[n]||yc(this._in[n]))&&e.push(this.getCell(n))}.bind(this)),e},getSinks:function(){var e=[];return Ia(this._nodes,function(t,n){(!this._out[n]||yc(this._out[n]))&&e.push(this.getCell(n))}.bind(this)),e},isSource:function(e){return!this._in[e.id]||yc(this._in[e.id])},isSink:function(e){return!this._out[e.id]||yc(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){var r=(n=n||{}).inbound,i=n.outbound;void 0===r&&void 0===i&&(r=i=!0);var s=!1;return this.getConnectedLinks(e,n).forEach(function(o){var{source:a,target:u}=o.attributes;if(r&&Vl(a,"id")&&a.id===t.id||i&&Vl(u,"id")&&u.id===t.id)return s=!0,!1}),s},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){jl(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(function(t){return t.getBBox().containsPoint(e)})},findModelsInArea:function(e,t){e=lN(e);var n=(t=Go(t||{},{strict:!1})).strict?"containsRect":"intersect";return this.getElements().filter(function(r){return e[n](r.getBBox())})},findModelsUnderElement:function(e,t){t=Go(t||{},{searchBy:"bbox"});var n=e.getBBox();return("bbox"===t.searchBy?this.findModelsInArea(n):this.findModelsFromPoint(n[t.searchBy]())).filter(function(i){return e.id!==i.id&&!i.isEmbeddedIn(e)})},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t){return t||(t={}),En(e).reduce(function(n,r){var i=r.getBBox(t);if(!i)return n;var s=r.angle();return s&&(i=i.bbox(s)),n?n.union(i):i},null)},translate:function(e,t,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return jl(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var s=Math.max(e/i.width,0),o=Math.max(t/i.height,0);jl(n,"scale",s,o,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",wt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",wt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let n;return n=0===arguments.length?Object.keys(t):Array.isArray(e)?e:[e],n.some(r=>t[r]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var i=t.getSourceCell();if(i&&e.getConnectedLinks(i,{outbound:!0}).filter(function(a){var{source:u,target:d}=a.attributes;return u&&u.id===n.id&&(!u.port||u.port===n.port)&&d&&d.id===r.id&&(!d.port||d.port===r.port)}).length>1)return!1}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});!function(e,t,n){if(Cs(n)){if(!Jw[n])throw new Error('Unknown wrapper: "'+n+'"');n=Jw[n]}if(!sr(n))throw new Error("Wrapper must be a function.");En(["resetCells","addCells","removeCells"]).forEach(function(r){e[r]=n(e[r])})}(Qw.prototype,0,Jw.cells);const nk=Mu.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null,component:!1},configure:function(e){var t=(e=wt(this.options,e)).tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof Pn))return this;for(var r=this.tools=[],i=0,s=t.length;i<s;i++){var o=t[i];o instanceof Ld&&(o.configure(n,this),this.vel.append(o.el),r.push(o))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,r=0,i=t.length;r<i;r++){var s=t[r];n?e.tool!==s.cid&&s.isVisible()&&s.update():s.render()}return n||(this.mount(),this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){var e=this.options,t=e.relatedView;return t&&(e.component?t.el:t.paper.tools).appendChild(this.el),this}}),zZ=function(e,t,n){return e},GZ=function(e,t,n){var d,g,h,r=t.side||"bottom",i=kd(t.padding||40),s=n.sourceBBox,o=n.targetBBox,a=s.center(),u=o.center();switch(r){case"bottom":h=1,d="y",g="height";break;case"top":h=-1,d="y",g="height";break;case"left":h=-1,d="x",g="width";break;case"right":h=1,d="x",g="width";break;default:throw new Error("Router: invalid side")}return a[d]+=h*(s[g]/2+i[r]),u[d]+=h*(o[g]/2+i[r]),h*(a[d]-u[d])>0?u[d]=a[d]:a[d]=u[d],[a].concat(e,u)};var UZ={N:"S",S:"N",E:"W",W:"E"},ZZ={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function M0(e,t,n){var r=new ce(e.x,t.y);return n.containsPoint(r)&&(r=new ce(t.x,e.y)),r}function e_(e,t){return e["W"===t||"E"===t?"width":"height"]}function lo(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function E0(e){return new Qe(e.x,e.y,0,0)}function S0(e){var t=kd(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function rk(e,t){return e.sourceBBox.clone().moveAndExpand(S0(t))}function ik(e,t){return e.targetBBox.clone().moveAndExpand(S0(t))}function sk(e,t,n){var r=new ce(e.x,t.y),i=new ce(t.x,e.y),s=lo(e,r),o=lo(e,i),a=UZ[n],u=s===n||s!==a&&(o===a||o!==n)?r:i;return{points:[u],direction:lo(u,t)}}function x0(e,t,n){var r=M0(e,t,n);return{points:[r],direction:lo(r,t)}}function YZ(e,t,n,r){var u,i={},s=[new ce(e.x,t.y),new ce(t.x,e.y)],o=s.filter(function(h){return!n.containsPoint(h)}),a=o.filter(function(h){return lo(h,e)!==r});if(a.length>0)u=a.filter(function(h){return lo(e,h)===r}).pop(),i.points=[u=u||a[0]],i.direction=lo(u,t);else{u=IN(s,o)[0];var d=new ce(t).move(u,-e_(n,r)/2),g=M0(d,e,n);i.points=[g,d],i.direction=lo(d,t)}return i}function XZ(e,t,n,r){var i=x0(t,e,r),s=i.points[0];if(n.containsPoint(s)){var o=(i=x0(e,t,n)).points[0];if(r.containsPoint(o)){var a=new ce(e).move(o,-e_(n,lo(e,o))/2),u=new ce(t).move(s,-e_(r,lo(t,s))/2),d=new it(a,u).midpoint(),g=x0(e,d,n),h=sk(d,t,g.direction);i.points=[g.points[0],h.points[0]],i.direction=h.direction}}return i}function t_(e,t,n,r,i){var g,h,y,s={},o=n.union(r).inflate(1),a=o.center().distance(t)>o.center().distance(e),u=a?t:e,d=a?e:t;return i?(g=ce.fromPolar(o.width+o.height,ZZ[i],u),g=o.pointNearestToPoint(g).move(g,-1)):g=o.pointNearestToPoint(u).move(u,1),h=M0(g,d,o),g.round().equals(h.round())?(h=ce.fromPolar(o.width+o.height,Io(g.theta(u))+Math.PI/2,d),y=M0(g,h=o.pointNearestToPoint(h).move(d,1).round(),o),s.points=a?[h,y,g]:[g,y,h]):s.points=a?[h,g]:[g,h],s.direction=lo(a?g:h,t),s}function n_(e,t,n){var r=rk(n,t),i=ik(n,t),s=function(e,t){return e.sourceAnchor?e.sourceAnchor:rk(e,t).center()}(n,t),o=function(e,t){return e.targetAnchor?e.targetAnchor:ik(e,t).center()}(n,t);r=r.union(E0(s)),i=i.union(E0(o)),(e=En(e).map(ce)).unshift(s),e.push(o);for(var a,u=[],d=0,g=e.length-1;d<g;d++){var h=null,y=e[d],w=e[d+1],M=!!lo(y,w);if(0===d)d+1===g?r.intersect(i.clone().inflate(1))?h=t_(y,w,r,i):M||(h=XZ(y,w,r,i)):r.containsPoint(w)?h=t_(y,w,r,E0(w).moveAndExpand(S0(t))):M||(h=x0(y,w,r));else if(d+1===g){var F=M&&lo(w,y)===a;i.containsPoint(y)||F?h=t_(y,w,E0(y).moveAndExpand(S0(t)),i,a):M||(h=YZ(y,w,i,a))}else M||(h=sk(y,w,a));h?(Array.prototype.push.apply(u,h.points),a=h.direction):a=lo(y,w),d+1<g&&u.push(w)}return u}var ok={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!sr(n_))throw new Error("Manhattan requires the orthogonal router as default fallback.");return n_(e,wt({},ok,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function r_(e){this.map={},this.options=e,this.mapGridSize=100}function Fd(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function ak(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function lk(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function uk(e,t){return e.sourceAnchor?e.sourceAnchor:ak(e,t).center()}function i_(e,t,n,r,i){var s=360/n,o=e.theta(function(e,t,n,r){var i=r.step;return new ce(e.x+(t.x-e.x)/n.x*i,e.y+(t.y-e.y)/n.y*i)}(e,t,r,i)),a=Fl(o+s/2);return s*Math.floor(a/s)}function ck(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function dk(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);return r?t+(n-r*t)/r:n}function Qp(e,t){return e.round(t)}function T0(e,t,n){return Qp(function(e,t){var n=t.source,r=Sd(e.x-n.x,t.x)+n.x,i=Sd(e.y-n.y,t.y)+n.y;return new ce(r,i)}(e.clone(),t),n)}function em(e){return e.clone().toString()}function s_(e){return new ce(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function e4(e,t,n,r,i,s,o){for(var h,a=[],u=s_(i.difference(n)),d=em(n),g=e[d];g;){var y=s_((h=t[d]).difference(g));y.equals(u)||(a.unshift(h),u=y),g=e[d=em(g)]}var w=t[d];return s_(w.difference(r)).equals(u)||a.unshift(w),a}function fk(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var s=e.manhattanDistance(t[r]);s<n&&(n=s)}return n}function hk(e,t,n,r,i){var s=i.precision,o=i.directionMap,a=e.difference(t.center()),u=Vr(o)?Object.keys(o):[],d=En(n),g=u.reduce(function(h,y){if(d.includes(y)){for(var G,w=o[y],M=new ce(e.x+w.x*(Math.abs(a.x)+t.width),e.y+w.y*(Math.abs(a.y)+t.height)),z=new it(e,M).intersect(t)||[],Y=z.length,I=null,S=0;S<Y;S++){var k=z[S],H=e.squaredDistance(k);(void 0===G||H>G)&&(G=H,I=k)}if(I){var Q=T0(I,r,s);t.containsPoint(Q)&&(Q=T0(Q.offset(w.x*r.x,w.y*r.y),r,s)),h.push(Q)}}return h},[]);return t.containsPoint(e)||g.push(T0(e,r,s)),g}function t4(e,t,n,r){var s,o,i=r.precision;s=Qp(e instanceof Qe?uk(this,r).clone():e.clone(),i),o=Qp(t instanceof Qe?function(e,t){return e.targetAnchor?e.targetAnchor:lk(e,t).center()}(this,r).clone():t.clone(),i);var u,d,g,h,a=function(e,t,n){return{source:t.clone(),x:dk(n.x-t.x,e),y:dk(n.y-t.y,e)}}(r.step,s,o);if(g=e instanceof Qe?hk(u=s,e,r.startDirections,a,r):[u=s],t instanceof Qe?(d=o,h=hk(o,t,r.endDirections,a,r)):h=[d=o],g=g.filter(ln=>!n(ln)),h=h.filter(ln=>!n(ln)),g.length>0&&h.length>0){for(var y=new Fd,w={},M={},F={},z=0,Y=g.length;z<Y;z++){var G=g[z],I=em(G);y.add(I,fk(G,h)),w[I]=G,F[I]=0}var H,Q,S=r.previousDirectionAngle,k=void 0===S,ue=r.directions;!function(e,t,n){var r=n.step;En(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*t.x,i.gridOffsetY=i.offsetY/r*t.y})}(0,a,r);for(var ge=ue.length,Ce=En(h).reduce(function(ln,Et){var Je=em(Et);return ln.push(Je),ln},[]),Re=r.maximumLoops;!y.isEmpty()&&Re>0;){var qe,ke=y.pop(),Fe=w[ke],He=M[ke],$e=F[ke],De=void 0===He,Ze=Fe.equals(u);qe=De?k?Ze?null:i_(u,Fe,ge,a,r):S:i_(He,Fe,ge,a,r);var bt=g.length===h.length;if(bt)for(var et=0;et<g.length;et++)if(!g[et].equals(h[et])){bt=!1;break}if((!De||!bt)&&Ce.indexOf(ke)>=0)return r.previousDirectionAngle=qe,e4(M,w,Fe,u,d);for(z=0;z<ge;z++){var at=(H=ue[z]).angle;if(Q=ck(qe,at),k&&Ze||!(Q>r.maxAllowedDirectionChange)){var ht=T0(Fe.clone().offset(H.gridOffsetX,H.gridOffsetY),a,i),ct=em(ht);if(!y.isClose(ct)&&!n(ht)){if(Ce.indexOf(ct)>=0&&!ht.equals(d)&&ck(at,i_(ht,d,ge,a,r))>r.maxAllowedDirectionChange)continue;var Rt=$e+H.cost+(Ze?0:r.penalties[Q]);(!y.isOpen(ct)||Rt<F[ct])&&(w[ct]=ht,M[ct]=Fe,F[ct]=Rt,y.add(ct,Rt+fk(ht,h)))}}}Re--}}return r.fallbackRoute.call(this,u,d,r)}r_.prototype.build=function(e,t){var n=this.options,r=En(n.excludeEnds).reduce(function(u,d){var g=t.get(d);if(g){var h=e.getCell(g.id);h&&u.push(h)}return u},[]),i=[],s=e.getCell(t.get("source").id);s&&(i=AN(i,s.getAncestors().map(function(u){return u.id})));var o=e.getCell(t.get("target").id);o&&(i=AN(i,o.getAncestors().map(function(u){return u.id})));var a=this.mapGridSize;return e.getElements().reduce(function(u,d){var g=En(n.excludeTypes).includes(d.get("type")),h=r.find(function(S){return S.id===d.id}),y=i.includes(d.id);if(!(g||h||y))for(var M=d.getBBox().moveAndExpand(n.paddingBox),F=M.origin().snapToGrid(a),z=M.corner().snapToGrid(a),Y=F.x;Y<=z.x;Y+=a)for(var G=F.y;G<=z.y;G+=a){var I=Y+"@"+G;u[I]=u[I]||[],u[I].push(M)}return u},this.map),this},r_.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return En(this.map[t]).every(function(n){return!n.containsPoint(e)})},Fd.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=CN(this.items,e,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,e)},Fd.prototype.remove=function(e){this.hash[e]=this.CLOSE},Fd.prototype.isOpen=function(e){return this.hash[e]===this.OPEN},Fd.prototype.isClose=function(e){return this.hash[e]===this.CLOSE},Fd.prototype.isEmpty=function(){return 0===this.items.length},Fd.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};const o_=function(e,t,n){return function(e,t,n){(function(e){if(e.directions=ts(e,"directions"),e.penalties=ts(e,"penalties"),e.paddingBox=ts(e,"paddingBox"),e.padding=ts(e,"padding"),e.padding){var t=kd(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}En(e.directions).forEach(function(n){var r=new ce(0,0),i=new ce(n.offsetX,n.offsetY);n.angle=Fl(r.theta(i))})})(t),n.options.perpendicular=!!t.perpendicular;var r=ak(n,t),i=lk(n,t),s=uk(n,t);let o;if("function"==typeof t.isPointObstacle)o=t.isPointObstacle;else{const I=new r_(t);I.build(n.paper.model,n.model),o=S=>!I.isPointAccessible(S)}for(var g,h,a=En(e).map(ce),u=[],d=s,y=0,w=a.length;y<=w;y++){var M=null;if(h=g||r,!(g=a[y])&&(g=i,(!n.model.get("source").id||!n.model.get("target").id)&&sr(t.draggingRoute))){var z=h===r?s:h,Y=g.origin();M=t.draggingRoute.call(n,z,Y,t)}if(null===(M=M||t4.call(n,h,g,o,t)))return t.fallbackRouter(e,t,n);var G=M[0];G&&G.equals(d)&&M.shift(),d=M[M.length-1]||d,Array.prototype.push.apply(u,M)}return u}(e,wt({},ok,t),n)};var i4={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],s={x:t.x,y:e.y},o={x:e.x,y:t.y};if(r%180>90){var a=s;s=o,o=a}var u=r%90<45?s:o,d=new it(e,u),g=90*Math.ceil(r/90),h=ce.fromPolar(d.squaredLength(),Io(g+135),u),y=new it(t,h),w=d.intersection(y),M=w||t,z=360/n.directions.length,Y=(w?M:e).theta(t),G=Fl(Y+z/2),I=z*Math.floor(G/z);return n.previousDirectionAngle=I,M&&i.push(M.round()),i.push(t),i}};const s4=function(e,t,n){if(!sr(o_))throw new Error("Metro requires the manhattan router.");return o_(e,wt({},i4,t),n)};var gk=["arc","gap","cubic"],l4=["smooth"],N0=1/3,k0=2/3;function a_(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(i,s,o){var a=r[o+1];return null!=a&&(i[o]=xd(s,a)),i},[])}function mk(e,t){return xd(e,t).squaredLength()}function vk(e,t,n,r){var s,i=new mt;return s=mt.createSegment("M",e[0].start),i.appendSegment(s),En(e).forEach(function(o,a){if(o.isJump){var u,d,g,h;if("arc"===n){u=-90,d=o.start.difference(o.end);var y=Number(d.x<0||0===d.x&&d.y<0);y&&(u+=180);var F,w=o.midpoint(),M=new it(w,o.end).rotate(w,u);g=(F=new it(o.start,w)).pointAt(2/3).rotate(o.start,u),h=M.pointAt(1/3).rotate(M.end,-u),s=mt.createSegment("C",g,h,M.end),i.appendSegment(s),F=new it(w,o.end),g=M.pointAt(1/3).rotate(M.end,u),h=F.pointAt(1/3).rotate(o.end,-u),s=mt.createSegment("C",g,h,o.end),i.appendSegment(s)}else if("gap"===n)s=mt.createSegment("M",o.end),i.appendSegment(s);else if("cubic"===n){u=o.start.theta(o.end);var z=.6*t,Y=1.35*t;d=o.start.difference(o.end),(y=Number(d.x<0||0===d.x&&d.y<0))&&(Y*=-1),g=ce(o.start.x+z,o.start.y+Y).rotate(o.start,u),h=ce(o.end.x-z,o.end.y+Y).rotate(o.end,u),s=mt.createSegment("C",g,h,o.end),i.appendSegment(s)}}else{var G=e[a+1];0==r||!G||G.isJump?(s=mt.createSegment("L",o.end),i.appendSegment(s)):function(e,t,n,r,i){var w,s=n.distance(r)/2,o=n.distance(i)/2,a=-Math.min(e,s),u=-Math.min(e,o),d=n.clone().move(r,a).round(),g=n.clone().move(i,u).round(),h=new ce(N0*d.x+k0*n.x,k0*n.y+N0*d.y),y=new ce(N0*g.x+k0*n.x,k0*n.y+N0*g.y);w=mt.createSegment("L",d),t.appendSegment(w),w=mt.createSegment("C",h,y,g),t.appendSegment(w)}(r,i,o.end,o.start,G.end)}}),i}const g4=function(e,t,n,r){!function(e){var t=e.paper,n=t._jumpOverUpdateList;if(null==n){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",function(){this.hasActiveBatch()||function(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){const r=t[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}(t)}),r.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}(this);var i=r.raw,s=r.size||5,o=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||0,u=r.ignoreConnectors||l4;-1===gk.indexOf(o)&&(o=gk[0]);var d=this.paper,h=d.model.getLinks();if(1===h.length)return vk(a_(e,t,n),s,o,a);var y=this.model,w=h.indexOf(y),M=d.options.defaultConnector||{},F=h.filter(function(k,H){var Q=k.get("connector")||M;return!(En(u).includes(Q.name)||H>w&&"jumpover"===Q.name)}),z=F.map(function(k){return d.findViewByModel(k)}),Y=a_(e,t,n),G=z.map(function(k){return null==k?[]:k===this?Y:a_(k.sourcePoint,k.targetPoint,k.route)},this),I=Y.reduce(function(k,H){var Q=F.reduce(function(ue,ge,Ce){if(ge!==y){var Re=function(e,t){return En(t).reduce(function(n,r){var i=e.intersection(r);return i&&n.push(i),n},[])}(H,G[Ce]);ue.push.apply(ue,Re)}return ue},[]).sort(function(ue,ge){return mk(H.start,ue)-mk(H.start,ge)});return Q.length>0?k.push.apply(k,function(e,t,n){return t.reduce(function(r,i,s){if(!0===i.skip)return r;var o=r.pop()||e,a=Yp(i).move(o.start,-n),u=Yp(i).move(o.start,+n),d=t[s+1];if(null!=d){var g=u.distance(d);g<=n&&(u=d.move(o.start,g),d.skip=!0)}else if(a.distance(o.end)<2*n+1)return r.push(o),r;if(u.distance(o.start)<2*n+1)return r.push(o),r;var w=xd(a,u);return w.isJump=!0,r.push(xd(o.start,a),w,xd(u,o.end)),r},[])}(H,Q,s)):k.push(H),k},[]),S=vk(I,s,o,a);return i?S:S.serialize()},p4=function(e,t,n,r){var i=r&&r.raw,s=[e].concat(n).concat([t]),o=new gr(s),a=new mt(o);return i?a:a.serialize()},m4=function(e,t,n,r){r||(r={});var a,i=r.radius||10,s=r.raw,o=new mt;a=mt.createSegment("M",e),o.appendSegment(a);for(var g,h,y,w,M,F,z,Y,G,I,S,u=1/3,d=2/3,k=0,H=n.length;k<H;k++)g=new ce(n[k]),h=n[k-1]||e,y=n[k+1]||t,w=M||g.distance(h)/2,M=g.distance(y)/2,F=-Math.min(i,w),z=-Math.min(i,M),Y=g.clone().move(h,F).round(),G=g.clone().move(y,z).round(),I=new ce(u*Y.x+d*g.x,d*g.y+u*Y.y),S=new ce(u*G.x+d*g.x,d*g.y+u*G.y),a=mt.createSegment("L",Y),o.appendSegment(a),a=mt.createSegment("C",I,S,G),o.appendSegment(a);return a=mt.createSegment("L",t),o.appendSegment(a),s?o:o.serialize()},v4=function(e,t,n,r){var s,i=r&&r.raw;if(n&&0!==n.length){var o=[e].concat(n).concat([t]),a=Hn.throughPoints(o);s=new mt(a)}else{var u;if(s=new mt,u=mt.createSegment("M",e),s.appendSegment(u),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var d=(e.x+t.x)/2;u=mt.createSegment("C",d,e.y,d,t.y,t.x,t.y),s.appendSegment(u)}else{var g=(e.y+t.y)/2;u=mt.createSegment("C",e.x,g,t.x,g,t.x,t.y),s.appendSegment(u)}}return i?s:s.serialize()},Kt={RENDER:"RENDER",UPDATE:"UPDATE",TOOLS:"TOOLS",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},tm=Pn.extend({className:function(){var e=Pn.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Pn.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Kt.RENDER],attrs:[Kt.UPDATE],router:[Kt.UPDATE],connector:[Kt.CONNECTOR],smooth:[Kt.UPDATE],manhattan:[Kt.UPDATE],toolMarkup:[Kt.LEGACY_TOOLS],labels:[Kt.LABELS],labelMarkup:[Kt.LABELS],vertices:[Kt.VERTICES,Kt.UPDATE],vertexMarkup:[Kt.VERTICES],source:[Kt.SOURCE,Kt.UPDATE],target:[Kt.TARGET,Kt.UPDATE]},initFlag:[Kt.RENDER,Kt.SOURCE,Kt.TARGET,Kt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Kt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Kt.SOURCE)}if(this.hasFlag(e,Kt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Kt.TARGET)}const{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,Kt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),this.removeFlag(e,[Kt.RENDER,Kt.UPDATE,Kt.VERTICES,Kt.LABELS,Kt.TOOLS,Kt.LEGACY_TOOLS,Kt.CONNECTOR]);let s=!1;this.hasFlag(e,Kt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Kt.VERTICES));const{model:o}=this,{attributes:a}=o;let u=this.hasFlag(e,Kt.LABELS),d=this.hasFlag(e,Kt.LEGACY_TOOLS);u&&(this.onLabelsChange(o,a.labels,t),e=this.removeFlag(e,Kt.LABELS),s=!0),d&&(this.renderTools(),e=this.removeFlag(e,Kt.LEGACY_TOOLS));const g=this.hasFlag(e,Kt.UPDATE),h=this.hasFlag(e,Kt.CONNECTOR);return(g||h)&&(g?t.translateBy&&o.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Kt.UPDATE,Kt.TOOLS,Kt.CONNECTOR]),u=!1,d=!1,s=!0),u&&this.updateLabelPositions(),d&&this.updateToolsPosition(),s&&this.updateHighlighters(),this.hasFlag(e,Kt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Kt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Kt.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1&&t[n[1]]){if(2===r)return"markup"in Object(e.propertyValue);if("markup"!==n[2])return!1}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=Ae(e);Array.isArray(t)||(t=[t]);for(var n=this._V,r=0,i=t.length;r<i;r++){var s=t[r],o=s.attr("class");o&&(o=gG(o),n[nr.camelCase(o)]=s)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if("string"==typeof e)return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=Ae(e),n=document.createDocumentFragment();if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.appendChild(t[r].node);else n.appendChild(t.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment&&e.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n,r=t.childNodes;return(n=r.length>1||"G"!==r[0].nodeName.toUpperCase()?Ae("g").append(t):Ae(r[0])).addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,s=i.attributes.labels||[],o=s.length;if(0===o)return t&&t.remove(),this;t?t.empty():t=e.labels=Ae("g").addClass("labels");for(var a=t.node,u=0;u<o;u++){var h,y,g=this._normalizeLabelMarkup(this._getLabelMarkup(s[u].markup));if(g)h=g.node,y=g.selectors;else{var M=this._normalizeLabelMarkup(this._getLabelMarkup(i._builtins.defaultLabel.markup)),F=i._getDefaultLabel(),Y=this._normalizeLabelMarkup(this._getLabelMarkup(F.markup))||M;h=Y.node,y=Y.selectors}h.setAttribute("label-idx",u),a.appendChild(h),n[u]=h;var G=this.selector;if(y[G])throw new Error("dia.LinkView: ambiguous label root selector.");y[G]=h,r[u]=y}return a.parentNode||this.el.appendChild(a),this.updateLabels(),this},findLabelNode:function(e,t){const n=this._labelCache[e];if(!n)return null;const r=this._labelSelectors[e],[i=null]=this.findBySelector(t,n,r);return i},_mergeLabelAttrs:function(e,t,n,r){return null===t?null:void 0===t?null===n?null:void 0===n?e?void 0:r:e?n:ns({},r,n):e?ns({},n,t):ns({},r,n,t)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),i=e._builtins.defaultLabel.attrs,s=e._getDefaultLabel(),o=s.markup,a=s.attrs,u=0,d=t.length;u<d;u++){var g=this._labelCache[u];g.setAttribute("cursor",n?"move":"default");var h=this._labelSelectors[u],y=t[u],F=this._mergeLabelAttrs(y.markup||o,y.attrs,a,i);this.updateDOMSubtreeAttributes(g,F,{rootBBox:new Qe(y.size),selectors:h})}return this},renderTools:function(){if(!this._V.linkTools)return this;var r,e=nr(this._V.linkTools.node).empty(),t=js(this.model.get("toolMarkup")||this.model.toolMarkup),n=Ae(t());return e.append(n.node),this._toolCache=n,this.options.doubleLinkTools&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=js(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=Ae(t())):r=n.clone(),e.append(r.node),this._tool2Cache=r),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=nr(this._V.markerVertices.node).empty(),t=js(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){e.append(Ae(t(wt({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=nr(this._V.markerArrowheads.node);e.empty();var t=js(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=Ae(t({end:"source"})),this._V.targetArrowhead=Ae(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],s=i.length,o=new gr(i);o.simplify({threshold:.001});const a=o.points.map(d=>d.toJSON()),u=a.length;return s===u?0:(n.vertices(a.slice(1,u-1),e),s-u)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ce(this.sourceAnchor);case"target":return new ce(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ce(this.sourcePoint);case"target":return new ce(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:n,path:r}=this;if(!n||!r)return;const i=new gr(n);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,s=this.findRoute(t);this.route=s;var o=this.findConnectionPoints(s,r,i);this.sourcePoint=o.source,this.targetPoint=o.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findMarkerPoints(e,t,n),i=this.findPath(e,r.source||t,r.target||n);this.path=i},findMarkerPoints:function(e,t,n){var o,a,r=e[0],i=e[e.length-1],s=this._markerCache;return this._V.markerSource&&(s.sourceBBox=s.sourceBBox||this._V.markerSource.getBBox(),o=ce(t).move(r||n,s.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(s.targetBBox=s.targetBBox||this._V.markerTarget.getBBox(),a=ce(n).move(i||t,s.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),s.sourcePoint=o||t.clone(),s.targetPoint=a||n.clone(),{source:o,target:a}},findAnchorsOrdered:function(e,t,n,r){var i,s,o,a,u=this.model,d=u.get(e),g=u.get(n),h=this.getEndView(e),y=this.getEndView(n),w=this.getEndMagnet(e),M=this.getEndMagnet(n);h?(o=t?new ce(t):y?M:new ce(g),i=this.getAnchor(d.anchor,h,w,o,e)):i=new ce(d),y?(a=new ce(r||i),s=this.getAnchor(g.anchor,y,M,a,n)):s=new ce(g);var F={};return F[e]=i,F[n]=s,F},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var h,y,w,Y,r=e[0],i=e[e.length-1],s=this.model,o=s.get("source"),a=s.get("target"),u=this.sourceView,d=this.targetView,g=this.paper.options;if(u&&!u.isNodeConnection(this.sourceMagnet)){h=this.sourceMagnet||u.el;var M=o.connectionPoint||g.defaultConnectionPoint,z=new it(r||n,t);w=this.getConnectionPoint(M,u,h,z,"source")}else w=t;if(d&&!d.isNodeConnection(this.targetMagnet)){y=this.targetMagnet||d.el;var G=a.connectionPoint||g.defaultConnectionPoint,S=new it(i||t,n);Y=this.getConnectionPoint(G,d,y,S,"target")}else Y=n;return{source:w,target:Y}},getAnchor:function(e,t,n,r,i){var a,s=t.isNodeConnection(n),o=this.paper.options;if(e||(e=s?o.defaultLinkAnchor:o.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:o.defaultAnchor),!e)throw new Error("Anchor required.");if("function"==typeof e)a=e;else{var u=e.name;if("function"!=typeof(a=o[s?"linkAnchorNamespace":"anchorNamespace"][u]))throw new Error("Unknown anchor: "+u)}var g=a.call(this,t,n,r,e.args||{},i,this);return g?g.round(this.decimalsRounding):new ce},getConnectionPoint:function(e,t,n,r,i){var s,d,o=r.end,a=this.paper.options;if("function"==typeof a.linkConnectionPoint&&(s=a.linkConnectionPoint(this,t,n===t.el?void 0:n,r.start,i)))return s;if(!e)return o;if("function"==typeof e)d=e;else{var g=e.name;if("function"!=typeof(d=a.connectionPointNamespace[g]))throw new Error("Unknown connection point: "+g)}return(s=d.call(this,r,t,n,e.args||{},i,this))?s.round(this.decimalsRounding):o},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_normalizeLabelPosition:function(e){return"number"==typeof e?{distance:e,offset:null,angle:0,args:null}:e},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var t=this.model,n=t.get("labels")||[];if(!n.length)return this;for(var i=t._builtins.defaultLabel.position,s=t._getDefaultLabel(),o=this._normalizeLabelPosition(s.position),a=ns({},i,o),u=0,d=n.length;u<d;u++){var g=this._labelCache[u];if(g){var y=this._normalizeLabelPosition(n[u].position),w=ns({},a,y),M=this._getLabelTransformationMatrix(w);g.setAttribute("transform",Ae.matrixToTransformString(M)),this._cleanLabelMatrices(u)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let i in r){const{id:s}=r[i];s&&s in t&&delete t[s].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength?(r=this.getPointAtLength(n-(this.options.doubleLinkToolsOffset||t)),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("visibility","visible")):this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===nr.css(this._V.markerArrowheads.node,"display"))return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:n}=this,r=`${e}View`,i=t.get(e),s=i&&i.id;if(!s)return this[r]=null,this.updateEndMagnet(e),!0;const o=n.getModelById(s);if(!o)throw new Error("LinkView: invalid "+e+" cell.");const a=o.findView(n);return!!a&&(this[r]=a,this.updateEndMagnet(e),!0)},updateEndMagnet:function(e){const t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=En(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionAngle:function(e){return(this.model.label(e).position||{}).angle||0},_getLabelPositionArgs:function(e){return(this.model.label(e).position||{}).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(e,t){return null===e?null:void 0===e?null===t?null:t:ns({},t,e)},addLabel:function(e,t,n,r){var i,s,a,o=0;"number"!=typeof e?(i=e.x,s=e.y,"number"==typeof t?(o=t,a=n):a=t):(i=e,s=t,"number"==typeof n?(o=n,a=r):a=n);var u=this._getDefaultLabelPositionArgs(),g=this._mergeLabelPositionArgs(a,u),h={position:this.getLabelPosition(i,s,o,g)};return this.model.insertLabel(-1,h,a),-1},addVertex:function(e,t,n){var r="number"!=typeof e,i=r?e.x:e,s=r?e.y:t,o=r?t:n,a={x:i,y:s},u=this.getVertexIndex(i,s);return this.model.insertVertex(u,a,o),u},sendToken:function(e,t,n){var i,s,o;Vr(t)?(i=t.duration,s="reverse"===t.direction,o=t.connection):(i=t,s=!1,o=null);var a={dur:(i=i||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};s&&(a.keyPoints="1;0",a.keyTimes="0;1");var d,h,y,u=Ae(e);if("string"==typeof o)d=this.findBySelector(o,this.el,this.selectors)[0];else{var g=this._V;d=g.connection?g.connection.node:this.el.querySelector("path")}if(!(d instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");u.appendTo(this.paper.cells).animateAlongPath(a,d),setTimeout((h=u,y=n,function(){h.remove(),"function"==typeof y&&y()}),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||Jt,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n){if(!r)return e.map(ce);n=r}var i=sr(n)?n:t[n.name];if(!sr(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');return i.call(this,e,n.args||{},this)||e.map(ce)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||ot,i=this.model.connector();i||(i=this.paper.options.defaultConnector||{});var o=sr(i)?i:r[i.name];if(!sr(o))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=ba(i.args||{});a.raw=!0;var u=o.call(this,t,n,e,a,this);return"string"==typeof u&&(u=new mt(Ae.normalizePathData(u))),u},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(ao(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var o,i={},s=0;"number"==typeof n?(s=n,o=r):o=n,o&&(i.args=o);var F,z,a=!(o&&o.absoluteDistance),u=o&&o.absoluteDistance&&o.reverseDistance,d=o&&o.absoluteOffset,g=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},y=new ce(e,t),w=g.closestPointT(y,h),M=g.lengthAtT(w,h);if(a&&(M=M/this.getConnectionLength()||0),u&&(M=-1*(this.getConnectionLength()-M)||1),i.distance=M,d||(F=g.tangentAtT(w)),F)z=F.pointOffset(y);else{var Y=g.pointAtT(w),G=y.difference(Y);z={x:G.x,y:G.y}}return i.offset=z,i.angle=s,i},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if("number"==typeof e)t=e;else{if("number"!=typeof e.distance)throw new Error("dia.LinkView: invalid label position distance.");r=e.args||{},t=e.distance,n=e.angle||0}var i=t>0&&t<=1,s=0,o={x:0,y:0};if(e.offset){var a=e.offset;"number"==typeof a&&(s=a),a.x&&(o.x=a.x),a.y&&(o.y=a.y)}var F,u=0!==o.x||0!==o.y||0===s,d=r.keepGradient,g=r.ensureLegibility,h=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},w=i?t*this.getConnectionLength():t,M=h.tangentAtLength(w,y),z=n;if(M){if(u)(F=M.start).offset(o);else{var Y=M.clone();Y.rotate(M.start,-90),Y.setLength(s),F=Y.end}d&&(z=M.angle()+n,g&&(z=Fl((z+90)%180-90)))}else F=h.start,u&&F.offset(o);return Ae.createSVGMatrix().translate(F.x,F.y).rotate(z)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ce(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model.vertices(),i=this.getClosestPointLength(new ce(e,t)),s=0,o=r.length;s<o&&!(i<this.getClosestPointLength(r[s]));s++);return s},notifyPointerdown(e,t,n){Pn.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){Pn.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),Pn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Pn.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Pn.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){Pn.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){switch(this.notifyPointerdown(e,t,n),e.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(e,t,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(e,t,n);case"marker-arrowhead":return void this.dragArrowheadStart(e,t,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(e,t,n);case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;switch(r&&this.eventData(e,r),this.eventData(e).action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n)}r&&wt(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;switch(r&&(this.eventData(e,r),this._dragData=null),this.eventData(e).action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){Pn.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Pn.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Pn.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Pn.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){Pn.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){var i=Ae(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools")){if("remove"===t)return void this.model.remove({ui:!0});this.notify(t,e,n,r)}this.notifyPointerdown(e,n,r),this.paper.delegateDragEvents(this,e.data)}else Pn.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n),this.eventData(e).stopPropagation&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){var i=parseInt(e.currentTarget.getAttribute("label-idx"),10),s=this._getLabelPositionAngle(i),o=this._getLabelPositionArgs(i),a=this._getDefaultLabelPositionArgs(),u=this._mergeLabelPositionArgs(o,a);this.eventData(e,{action:"label-move",labelIdx:i,positionAngle:s,positionArgs:u,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var i=parseInt(e.target.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var i=parseInt(e.target.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var i=e.target.getAttribute("end"),s=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,s)}},dragStart:function(e,t,n){!this.can("linkMove")||this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t,n,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset,this.model.label(r.labelIdx,i)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?this._snapArrowhead(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){"remove"===e.whenNotAllowed?this.model.remove({ui:!0}):this.model.set(e.arrowhead,e.initialEnd,{ui:!0})},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n);if(i&&!rs.endsEqual(r,i)){var o=this.paper;r.id&&this.notify("link:disconnect",t,o.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,o.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapArrowhead:function(e,t,n){const r=this.eventData(e);var i=this.paper.options.snapLinks.radius||50,s=this.paper.findViewsInArea({x:t-i,y:n-i,width:2*i,height:2*i}),o=r.closestView||null,a=r.closestMagnet||null,u=r.magnetProxy||null;r.closestView=r.closestMagnet=r.magnetProxy=null;var d=Number.MAX_VALUE,g=new ce(t,n),h=this.paper;s.forEach(function(G){const I=[];"false"!==G.el.getAttribute("magnet")&&I.push({bbox:G.model.getBBox(),magnet:G.el}),G.$("[magnet]").toArray().forEach(S=>{I.push({bbox:G.getNodeBBox(S),magnet:S})}),I.forEach(S=>{const{magnet:k,bbox:H}=S,Q=H.center().squaredDistance(g);Q<d&&(a===k||h.options.validateConnection.apply(h,r.validateConnectionArgs(G,G.el===k?null:k)))&&(d=Q,r.closestView=G,r.closestMagnet=k)})},this);var y,w=null,M=r.closestView,F=r.closestMagnet;F&&(w=r.magnetProxy=M.findProxyNode(F,"highlighter"));var z=r.arrowhead,Y=a!==F;if(o&&Y&&o.unhighlight(u,{connecting:!0,snapping:!0}),M){if(!Y)return;M.highlight(w,{connecting:!0,snapping:!0}),y=M.getLinkEnd(F,t,n,this.model,z)}else y={x:t,y:n};this.model.set(z,y||{x:t,y:n},{ui:!0}),o&&this.notify("link:snap:disconnect",e,o,a,z),M&&this.notify("link:snap:connect",e,M,F,z)},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){const{paper:i,model:s}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const o=r.viewUnderPointer=i.findView(e);if(o){const a=r.magnetUnderPointer=o.findMagnet(e),u=r.magnetProxy=o.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(o,a))?u&&o.highlight(u,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,s.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){const{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:s,magnetProxy:o,arrowhead:a}=e;if(!s||!o||!i)return;i.unhighlight(o,{connecting:!0});const u=i.getLinkEnd(s,t,n,r,a);r.set(a,u,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){null!==e.z&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,r=0,i=0;"source"===e?(r=2,n="target"):(i=2,n="source");var s=this.model.get(n);if(s.id){var o=t[r]=this.paper.findViewByModel(s.id),a=o.getMagnetFromLinkEnd(s);a===o.el&&(a=void 0),t[r+1]=a}return function(d,g){return t[i]=d,t[i+1]=d.el===g?void 0:g,t}},_markAvailableMagnets:function(e){function t(h,y){var w=h.paper;return w.options.validateConnection.apply(w,this.validateConnectionArgs(h,y))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,s=r.length;i<s;i++){var o=r[i].findView(n);if(o){var a=Array.prototype.slice.call(o.el.querySelectorAll("[magnet]"));"false"!==o.el.getAttribute("magnet")&&a.push(o.el);var u=a.filter(t.bind(e,o));if(u.length>0){for(var d=0,g=u.length;d<g;d++)o.highlight(u[d],{magnetAvailability:!0});o.highlight(null,{elementAvailability:!0}),e.marked[o.model.id]=u}}}},_unmarkAvailableMagnets:function(e){for(var n,r,t=Object.keys(e.marked),i=0,s=t.length;i<s;i++){r=e.marked[n=t[i]];var o=this.paper.findViewByModel(n);if(o){for(var a=0,u=r.length;a<u;a++)o.unhighlight(r[a],{magnetAvailability:!0});o.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:ba(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),!0!==t.ignoreBackwardsCompatibility&&(this._dragData=n),n}},{Flags:Kt});Object.defineProperty(tm.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Qe(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new Qe(this.sourceAnchor):e.getNodeBBox(n||e.el)}}),Object.defineProperty(tm.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Qe(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new Qe(this.targetAnchor):e.getNodeBBox(n||e.el)}});const y4=Ac.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:n}=this,{useFirstSubpath:r}=n;let i;try{const s=Ae(t);if(i=s.convertToPathData().trim(),"PATH"===s.tagName()&&r){const o=i.search(/.M/i)+1;o>0&&(i=i.substr(0,o))}}catch(s){const o=e.getNodeBoundingRect(t);i=Ae.rectToPath(wt({},n,o.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:n,options:r}=this,{padding:i,layer:s}=r;let o=e.getNodeMatrix(t);if(i){!s&&t===e.el&&n.remove();let a=e.getNodeBoundingRect(t);const u=a.x+a.width/2,d=a.y+a.height/2;a=Ae.transformRect(a,o);const g=Math.max(a.width,1),h=Math.max(a.height,1),y=(g+i)/g,w=(h+i)/h,M=Ae.createSVGMatrix({a:y,b:0,c:0,d:w,e:u-y*u,f:d-w*d});o=o.multiply(M)}n.attr({d:this.getPathData(e,t),transform:Ae.matrixToTransformString(o)})},highlight(e,t){const{vel:n,options:r}=this;n.attr(r.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),yk=20,b4=Ac.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:yk,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,s=t.tagName();if(!Ae.isSVGGraphicsElement(t)||i.includes(s))return t.remove(),!1;if(r.includes(s)){const o=e.vel.findOne(`#${t.id}`);if(o){const{node:a}=o;let u=e.getNodeBoundingRect(a);e.model.isElement()&&(u=Ae.transformRect(u,e.getNodeMatrix(a)));const d=Ae("rect",u.toJSON()),{x:g,y:h}=u.center(),{angle:y,cx:w=g,cy:M=h}=o.rotate();y&&d.rotate(y,w,M),t.parent().append(d)}return t.remove(),!1}return n.forEach(o=>{"fill"===o&&"none"===t.attr("fill")||t.removeAttr(o)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{t.removeAttr(r)})},getMaskShape(e,t){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,s=t.tagName();let o;if("G"===s){if(!i)return null;o=t.clone(),function(e,t){const n=e.children();for(;n.length>0;){const r=n.shift();t(r)&&n.push(...r.children())}}(o,a=>this.transformMaskChild(e,a))}else{if(r.includes(s))return null;o=t.clone()}return this.transformMaskRoot(e,o),o},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:s,attrs:o}=i,a="stroke-width"in o?o["stroke-width"]:1,u="none"!==t.attr("fill");let d=parseFloat(t.attr("stroke-width"));isNaN(d)&&(d=1);const g=d+2*s,h=g+2*a;let y=this.getMaskShape(e,t);if(!y){const w=e.getNodeBoundingRect(t.node);w.inflate(w.width?0:.5,w.height?0:.5),y=Ae("rect",w.toJSON())}return y.attr(o),Ae("mask",{id:this.getMaskId()}).append([y.clone().attr({fill:u?n:"none",stroke:n,"stroke-width":h}),y.clone().attr({fill:u?r:"none",stroke:r,"stroke-width":g})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:n,vel:r}=this,{padding:i,attrs:s,maskClip:o=yk,layer:a}=n,u="stroke"in s?s.stroke:"#000000";!a&&t===e.el&&r.remove();const d=e.getNodeBoundingRect(t).inflate(i+o),g=this.getMask(e,Ae(t));this.addMask(e.paper,g),r.attr(d.toJSON()),r.attr({transform:Ae.matrixToTransformString(e.getNodeMatrix(t)),mask:`url(#${g.id})`,fill:u})},unhighlight(e){this.removeMask(e.paper)}}),I4=Ac.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:tl("highlight-opacity"),highlight:function(e,t){Ae(t).addClass(this.opacityClassName)},unhighlight:function(e,t){Ae(t).removeClass(this.opacityClassName)}}),Ck=tl("highlighted"),A4=Ac.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:Ck},highlight:function(e,t){Ae(t).addClass(this.options.className)},unhighlight:function(e,t){Ae(t).removeClass(this.options.className)}},{className:Ck});function w4(e,t,n,r){return e.getPointAtRatio("ratio"in r?r.ratio:.5)}function _4(e,t,n,r){return e.getPointAtLength("length"in r?r.length:20)}function nm(e){return function(t,n,r,i){if(r instanceof Element){var o,s=this.paper.findView(r);if(s)if(s.isNodeConnection(r)){var a="fixedAt"in i?i.fixedAt:"50%";o=bk(s,a)}else o=s.getNodeBBox(r).center();else o=new ce;return e.call(this,t,n,o,i)}return e.apply(this,arguments)}}function bk(e,t){var n=parseFloat(t);return ao(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}const E4=nm(function(e,t,n,r){var i=1e6,s=e.getConnection(),o=e.getConnectionSubdivisions(),a=new it(n.clone().offset(0,i),n.clone().offset(0,-i)),u=new it(n.clone().offset(i,0),n.clone().offset(-i,0)),d=a.intersect(s,{segmentSubdivisions:o}),g=u.intersect(s,{segmentSubdivisions:o}),h=[];return d&&Array.prototype.push.apply(h,d),g&&Array.prototype.push.apply(h,g),h.length>0?n.chooseClosest(h):"fallbackAt"in r?bk(e,r.fallbackAt):Ik(e,t,n,r)}),Ik=nm(function(e,t,n,r){return e.getClosestPoint(n)||new ce});function O0(e,t,n){if(es(n)){const{x:i,y:s}=n;if(isFinite(s)){const o=new it(t,e),{start:a,end:u}=o.parallel(s);t=a,e=u}n=i}if(!isFinite(n))return e;var r=e.distance(t);return 0===n&&r>0?e:e.move(t,-Math.min(n,r-1))}function l_(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}function Ak(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate(l_(n)/2);var s=e.intersect(i);return O0(s?e.start.chooseClosest(s):e.end,e.start,r.offset)}var u_="segmentSubdivisons",c_="shapeBBox";const O4=function(e,t,n,r){let{offset:i,alignOffset:s,align:o}=r;return o&&function(e,t,n=0){let r,i,s,o;const{start:a,end:u}=e;switch(t){case"left":r="x",i=u,s=a,o=-1;break;case"right":r="x",i=a,s=u,o=1;break;case"top":r="y",i=u,s=a,o=-1;break;case"bottom":r="y",i=a,s=u,o=1;break;default:return}a[r]<u[r]?i[r]=s[r]:s[r]=i[r],isFinite(n)&&(i[r]+=o*n,s[r]+=o*n)}(e,o,s),O0(e.end,e.start,i)},P4=Ak,R4=function(e,t,n,r){var i=t.model.angle();if(0===i)return Ak(e,t,n,r);var s=t.getNodeUnrotatedBBox(n);r.stroke&&s.inflate(l_(n)/2);var o=s.center(),a=e.clone().rotate(o,i),u=a.setLength(1e6).intersect(s);return O0(u?a.start.chooseClosest(u).rotate(o,-i):e.end,e.start,r.offset)},L4=function(e,t,n,r){var i,s,o=r.selector,a=e.end;if(i="string"==typeof o?t.findBySelector(o)[0]:Array.isArray(o)?$p(n,o):function(e){if(!e)return null;var t=e;do{var n=t.tagName;if("string"!=typeof n)return null;if("G"===(n=n.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}(n),!Ae.isSVGGraphicsElement(i)){if(i===n||!Ae.isSVGGraphicsElement(n))return a;i=n}var G,u=t.getNodeShape(i),d=t.getNodeMatrix(i),g=t.getRootTranslateMatrix(),h=t.getRootRotateMatrix(),y=g.multiply(h).multiply(d),w=y.inverse(),M=Ae.transformLine(e,w),F=M.start.clone(),z=t.getNodeData(i);if(!1===r.insideout&&(z[c_]||(z[c_]=u.bbox()),z[c_].containsPoint(F)))return a;if(u instanceof mt){var I=r.precision||2;z[u_]||(z[u_]=u.getSegmentSubdivisions({precision:I})),G={precision:I,segmentSubdivisions:z[u_]}}!0===r.extrapolate&&M.setLength(1e6),(s=M.intersect(u,G))?Ae.isArray(s)&&(s=F.chooseClosest(s)):!0===r.sticky&&(s=u instanceof Qe?u.pointNearestToPoint(F):u instanceof oo?u.intersectionWithLineFromCenterToPoint(F):u.closestPoint(F,G));var S=s?Ae.transformPoint(s,y):a,k=r.offset||0;return r.stroke&&(k+=l_(i)/2),O0(S,e.start,k)};function Eu(e){return function(t,n,r,i){var s=!!i.rotate,o=s?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=o[e](),u=i.dx;if(u){var d=ao(u);u=parseFloat(u),isFinite(u)&&(d&&(u/=100,u*=o.width),a.x+=u)}var g=i.dy;if(g){var h=ao(g);g=parseFloat(g),isFinite(g)&&(h&&(g/=100,g*=o.height),a.y+=g)}return s?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}const V4=Eu("center"),z4=Eu("topMiddle"),G4=Eu("bottomMiddle"),U4=Eu("leftMiddle"),Z4=Eu("rightMiddle"),H4=Eu("origin"),W4=Eu("topRight"),Y4=Eu("bottomLeft"),X4=Eu("corner"),$4=nm(function(e,t,n,r){var i=e.model.angle(),s=e.getNodeBBox(t),o=s.center(),a=s.origin(),u=s.corner(),d=r.padding;if(isFinite(d)||(d=0),a.y+d<=n.y&&n.y<=u.y-d){var g=n.y-o.y;o.x+=0===i||180===i?0:1*g/Math.tan(Io(i)),o.y+=g}else if(a.x+d<=n.x&&n.x<=u.x-d){var h=n.x-o.x;o.y+=90===i||270===i?0:h*Math.tan(Io(i)),o.x+=h}return o}),q4=nm(function(e,t,n,r){var s,o,a,i=!!r.rotate;i?(s=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),o=e.model.angle()):s=e.getNodeBBox(t);var g,u=r.padding;switch(isFinite(u)&&s.inflate(u),i&&n.rotate(a,o),s.sideNearestToPoint(n)){case"left":g=s.leftMiddle();break;case"right":g=s.rightMiddle();break;case"top":g=s.topMiddle();break;case"bottom":g=s.bottomMiddle()}return i?g.rotate(a,-o):g}),K4=function(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)},Lh={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},rm={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools"},d_=9007199254740991,f_=Pn.Highlighting,_k={[f_.DEFAULT]:{name:"stroke",options:{padding:3}},[f_.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[f_.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},Q4=Mu.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:Ai,linkView:tm,snapLabels:!1,snapLinks:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:_k,preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new rs,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return"passive"!==t.getAttribute("magnet")},validateConnection:function(e,t,n,r,i,s){return("target"===i?n:e)instanceof Ai},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:Lh.EXACT,frozen:!1,onViewUpdate:function(e,t,n,r,i){t&e.FLAG_INSERT||r.mounting||r.isolate||i.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Xe,anchorNamespace:St,linkAnchorNamespace:ze,connectionPointNamespace:st},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",mousewheel:"mousewheel",DOMMouseScroll:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_zPivots:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace="undefined"!=typeof joint&&Vl(joint,"shapes")?joint.shapes:null);const n=this.model=e.model||new Qw;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this.setDimensions(),this.startListening(),this._views={},this._zPivots={},this.$document=nr(t.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!wo(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),0===r&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===Lh.APPROX){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.removeZPivots(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:s,origin:o,highlighting:a,cellViewNamespace:u,interactive:d}=e;!u&&"undefined"!=typeof joint&&Vl(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),sr(t)||(e.defaultConnector=Ao(t)),sr(n)||(e.defaultRouter=Ao(n)),sr(r)||(e.defaultConnectionPoint=Ao(r)),sr(i)||(e.defaultAnchor=Ao(i)),sr(s)||(e.defaultLinkAnchor=Ao(s)),es(d)&&(e.interactive=wt({},d)),es(a)&&(e.highlighting=jw({},a,_k)),e.origin=wt({},o)},children:function(){var e=Ae.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:tl("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:tl("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:tl("layers"),selector:"layers",children:[{tagName:"g",className:tl("back-layer"),selector:"back"},{tagName:"g",className:tl("cells-layer viewport"),selector:"cells"},{tagName:"g",className:tl("front-layer"),selector:"front"},{tagName:"g",className:tl("tools-layer"),selector:"tools"}]}]}]},getLayerNode(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:n,cells:r,defs:i,tools:s,layers:o,back:a,front:u,background:d,grid:g}=e;return this.svg=n,this.defs=i,this.tools=s,this.cells=r,this.layers=o,this.$background=nr(d),this.$grid=nr(g),wt(this._layers,{[rm.BACK]:a,[rm.CELLS]:r,[rm.FRONT]:u,[rm.TOOLS]:s}),Ae.ensureId(n),this.viewport=r,t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(void 0===e){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),Ae.createSVGMatrix(e)}e=Ae.createSVGMatrix(e);var r=Ae.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return Ae.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof Pn)for(var r=e.model,i=this.model.getConnectedLinks(r),s=0,o=i.length;s<o;s++){var a=i[s],u=this.findViewByModel(a);if(u){var d=["UPDATE"];a.getTargetCell()===r&&d.push("TARGET"),a.getSourceCell()===r&&d.push("SOURCE");var g=Math.max(t+1,u.UPDATE_PRIORITY);this.scheduleViewUpdate(u,u.getFlag(d),g,n)}}},forcePostponedViewUpdate:function(e,t){if(!(e&&e instanceof Pn))return!1;var n=e.model;if(n.isElement())return!1;if(0==(t&e.getFlag(["SOURCE","TARGET"]))){var r=0,i=this.findViewByModel(n.getSourceCell());i&&!this.isViewMounted(i)&&(r=this.dumpView(i),e.updateEndMagnet("source"));var s=0,o=this.findViewByModel(n.getTargetCell());if(o&&!this.isViewMounted(o)&&(s=this.dumpView(o),e.updateEndMagnet("target")),0===r&&0===s)return!this.dumpView(e)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&!1!==r.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var s=this.updateViews(r);i&&this.notifyAfterRender(s,r)}},scheduleViewUpdate:function(e,t,n,r){const{_updates:i,options:s}=this,{FLAG_REMOVE:o,FLAG_INSERT:a,UPDATE_PRIORITY:u,cid:d}=e;let g=i.priorities[n];if(g||(g=i.priorities[n]={}),n>u)for(let w=n-1;w>=u;w--){const M=i.priorities[w];!M||!(d in M)||(g[d]|=M[d],delete M[d])}let h=g[d]||0;if((h&t)===t)return;h||i.count++,t&o&&h&a?g[d]^=a:t&a&&h&o&&(g[d]^=o),g[d]|=t;const y=s.onViewUpdate;"function"==typeof y&&y.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var n=e.cid,r=this._updates.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|r[n];return delete r[n],i},dumpView:function(e,t){var n=this.dumpViewUpdate(e);return n?this.updateView(e,n,t):0},updateView:function(e,t,n){if(!e)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:i,model:s}=e;if(e instanceof Pn){if(t&r)return this.removeView(s),0;t&i&&(this.insertView(e),t^=i)}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){return!!e&&e.cid in this._updates.mounted},dumpViews:function(e){var t=Go({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,r=0,i=d_;do{r++,t=this.updateViewsBatch(e),n+=t.updated,i=Math.min(t.priority,i)}while(!t.empty);const s={updated:n,batches:r,priority:i};return this.notifyAfterRender(s,e),s},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:d_});var n=this._updates,r=n.id;if(r){Bw(r),0===t.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);var i=this.updateViewsBatch(e),s=Go({},e,{mountBatchSize:1e3-i.mounted,unmountBatchSize:1e3-i.unmounted}),o=this.checkViewport(s),a=o.unmounted,u=o.mounted,d=t.processed,g=n.count;i.updated>0&&(i.processed=d+=i.updated+i.unmounted,t.priority=Math.min(i.priority,t.priority),i.empty&&0===u?(i.unmounted+=a,i.mounted+=u,i.priority=t.priority,this.notifyAfterRender(i,e),t.processed=0,n.count=0):t.processed=d);var h=e.progress;if(g&&"function"==typeof h&&h.call(this,i.empty,d,g,i,this),n.id!==r)return}n.id=Fw(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;"function"!=typeof t&&(t=this.options.beforeRender,"function"!=typeof t)||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;"function"!=typeof n&&(n=this.options.afterRender),"function"==typeof n&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||1/0,n=this._updates,r=0,i=0,s=0,o=0,a=d_,u=!0,d=this.options,g=n.priorities,h="viewport"in e?e.viewport:d.viewport;"function"!=typeof h&&(h=null);var y=d.onViewPostponed;"function"!=typeof y&&(y=null);var w=Object.keys(g);e:for(var M=0,F=w.length;M<F;M++){var z=w[M],Y=g[z];for(var G in Y){if(r>=t){u=!1;break e}var I=Pd[G];if(I){var S=Y[G];if(0==(S&I.FLAG_REMOVE)){var k=G in n.unmounted;if(I.DETACHABLE&&h&&!h.call(this,I,!k,this)){k||(this.registerUnmountedView(I),I.unmount()),n.unmounted[G]|=S,delete Y[G],s++;continue}k&&(S|=I.FLAG_INSERT,o++),S|=this.registerMountedView(I)}var H=this.updateView(I,S,e);H>0&&(Y[G]=H,!y||!y.call(this,I,H,this)||Y[G])?(i++,u=!1):(a>z&&(a=z),r++,delete Y[G])}else delete Y[G]}}return{priority:a,updated:r,postponed:i,unmounted:s,mounted:o,empty:u}},getUnmountedViews:function(){const t=Object.keys(this._updates.unmounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Pd[t[i]];return r},getMountedViews:function(){const t=Object.keys(this._updates.mounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Pd[t[i]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;"function"!=typeof e&&(e=null);for(var i=this._updates,s=i.unmountedCids,o=i.unmounted,a=0,u=(Math.min(s.length,"mountBatchSize"in t?t.mountBatchSize:1/0));a<u;a++){var d=s[a];if(d in o){var g=Pd[d];if(g){if(g.DETACHABLE&&e&&!e.call(this,g,!1,this)){s.push(d);continue}n++;var h=this.registerMountedView(g);h&&this.scheduleViewUpdate(g,h,g.UPDATE_PRIORITY,{mounting:!0})}}}return s.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if("function"!=typeof e)return n;for(var i=this._updates,s=i.mountedCids,o=i.mounted,a=0,u=(Math.min(s.length,"unmountBatchSize"in t?t.unmountBatchSize:1/0));a<u;a++){var d=s[a];if(d in o){var g=Pd[d];if(g){if(!g.DETACHABLE||e.call(this,g,!0,this)){s.push(d);continue}n++,this.registerUnmountedView(g)&&g.unmount()}}}return s.splice(0,a),n},checkViewport:function(e){var t=Go({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);return r>0&&(t.mountBatchSize=Math.min(this._updates.unmountedCids.length-r,t.mountBatchSize)),{mounted:this.checkUnmountedViews(n,t),unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var s=t.id;t.id=null,this.isAsync()&&s&&Bw(s)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,(!n||n!==r||!t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===Lh.EXACT},onRemove:function(){this.freeze(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return wo(t)||(t=this.el.clientWidth),wo(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){var n=this.options,r=void 0===e?n.width:e,i=void 0===t?n.height:t;this.options.width=r,this.options.height=i,wo(r)&&(r=Math.round(r)),wo(i)&&(i=Math.round(i)),this.$el.css({width:null===r?"":r,height:null===i?"":i});var s=this.getComputedSize();this.trigger("resize",s.width,s.height)},setOrigin:function(e,t){return this.translate(e||0,t||0,{absolute:!0})},fitToContent:function(e,t,n,r){Vr(e)?(e=(r=e).gridWidth||1,t=r.gridHeight||1,n=r.padding||0):(r||(r={}),e=e||1,t=t||1,n=n||0);var i=Math.max(r.minWidth||0,e),s=Math.max(r.minHeight||0,t),o=r.maxWidth||Number.MAX_VALUE,a=r.maxHeight||Number.MAX_VALUE,u=r.allowNewOrigin;n=kd(n);var d="contentArea"in r?new Qe(r.contentArea):this.getContentArea(r),g=this.scale(),h=this.translate(),y=g.sx,w=g.sy;d.x*=y,d.y*=w,d.width*=y,d.height*=w;var M=Math.ceil((d.width+d.x)/e),F=Math.ceil((d.height+d.y)/t);r.allowNegativeBottomRight||(M=Math.max(M,1),F=Math.max(F,1)),M*=e,F*=t;var z=0,Y=0;("negative"===u&&d.x<0||"positive"===u&&d.x>=0||"any"===u)&&(z=Math.ceil(-d.x/e)*e,M+=z+=n.left),("negative"===u&&d.y<0||"positive"===u&&d.y>=0||"any"===u)&&(Y=Math.ceil(-d.y/t)*t,F+=Y+=n.top),M+=n.right,F+=n.bottom,M=Math.max(M,i),F=Math.max(F,s),M=Math.min(M,o),F=Math.min(F,a);var G=this.getComputedSize(),I=M!=G.width||F!=G.height;return(z!=h.tx||Y!=h.ty)&&this.translate(z,Y),I&&this.setDimensions(M,F),new Qe(-z/y,-Y/w,M/y,F/w)},scaleContentToFit:function(e){var t,n;if(e||(e={}),"contentArea"in e){var r=e.contentArea;t=this.localToPaperRect(r),n=new ce(r)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(t.width&&t.height){Go(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var d,i=kd(e.padding),s=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,a=e.minScaleY||e.minScale,u=e.maxScaleY||e.maxScale;if(e.fittingBBox)d=e.fittingBBox;else{var g=this.translate(),h=this.getComputedSize();d={x:g.tx,y:g.ty,width:h.width,height:h.height}}d=new Qe(d).moveAndExpand({x:i.left,y:i.top,width:-i.left-i.right,height:-i.top-i.bottom});var y=this.scale(),w=d.width/t.width*y.sx,M=d.height/t.height*y.sy;if(e.preserveAspectRatio&&(w=M=Math.min(w,M)),e.scaleGrid){var F=e.scaleGrid;w=F*Math.floor(w/F),M=F*Math.floor(M/F)}w=Math.min(o,Math.max(s,w)),M=Math.min(u,Math.max(a,M));var z=this.options.origin,Y=d.x-n.x*w-z.x,G=d.y-n.y*M-z.y;this.scale(w,M),this.translate(Y,G)}},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Qe:Ae(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let n;return n=sr(t)?t.apply(this,e):!0===t?this.getArea():t?new Qe(t):null,n},createViewForModel:function(e){var t,n,r=this.options.cellViewNamespace,i=e.get("type")+"View",s=$p(r,i,".");return e.isLink()?(t=this.options.linkView,n=tm):(t=this.options.elementView,n=Ai),new(t.prototype instanceof Bs.View?s||t:t.call(this,e)||s||n)({model:e,interactive:this.options.interactive})},removeView:function(e){const{id:t}=e,{_views:n,_updates:r}=this,i=n[t];if(i){var{cid:s}=i;const{mounted:o,unmounted:a}=r;i.remove(),delete n[t],delete o[s],delete a[s]}return i},renderView:function(e,t){var i,s,n=e.id,r=this._views;return n in r?s=(i=r[n]).FLAG_INSERT:((i=r[e.id]=this.createViewForModel(e)).paper=this,s=this.registerUnmountedView(i)|i.getFlag(ts(i,"initFlag"))),this.requestViewUpdate(i,s,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var n=0,r=e.length;n<r;n++)this.renderView(e[n],t);this.unfreeze({key:"reset"}),this.sortViews()},removeViews:function(){jl(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen())return void(this._updates.sort=!0);this.sortViewsExact()}},sortViewsExact:function(){var e=nr(this.cells).children("[model-id]"),t=this.model.get("cells");!function(e,t){var n=nr(e),r=n.map(function(){var s=this.parentNode,o=s.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(s===this)throw new Error("You can't sort elements if any one is a descendant of another.");s.insertBefore(this,o),s.removeChild(o)}});Array.prototype.sort.call(n,t).each(function(i){r[i].call(this)})}(e,function(n,r){var i=t.get(n.getAttribute("model-id")),s=t.get(r.getAttribute("model-id")),o=i.attributes.z||0,a=s.attributes.z||0;return o===a?0:o<a?-1:1})},insertView:function(e){var t=this.cells;if(this.options.sorting===Lh.APPROX){var n=e.model.get("z"),r=this.addZPivot(n);t.insertBefore(e.el,r)}else t.appendChild(e.el)},addZPivot:function(e){(e=+e)||(e=0);var t=this._zPivots,n=t[e];if(n)return n;n=t[e]=document.createComment("z-index:"+(e+1));var r=-1/0;for(var i in t)(i=+i)<e&&i>r&&(r=i);var s=this.cells;return s.insertBefore(n,r!==-1/0?t[r].nextSibling:s.firstChild),n},removeZPivots:function(){var{_zPivots:e,viewport:t}=this;for(var n in e)t.removeChild(e[n]);this._zPivots={}},scale:function(e,t,n,r){if(void 0===e)return Ae.matrixToScale(this.matrix());void 0===t&&(t=e),void 0===n&&(n=0,r=0);var i=this.translate();(n||r||i.tx||i.ty)&&this.translate(i.tx-n*(e-1),i.ty-r*(t-1)),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(void 0===e)return Ae.matrixToRotate(this.matrix());if(void 0===t){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(void 0===e)return Ae.matrixToTranslate(this.matrix());var n=this.matrix();n.e=e||0,n.f=t||0,this.matrix(n);var r=this.translate(),i=this.options.origin;return i.x=r.tx,i.y=r.ty,this.trigger("translate",r.tx,r.ty),this.options.drawGrid&&this.drawGrid(),this},findView:function(e){var t=Cs(e)?this.cells.querySelector(e):e instanceof nr?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=Cs(e)||wo(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){return e=new ce(e),this.model.getElements().map(this.findViewByModel,this).filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Go(t||{},{strict:!1}),e=new Qe(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(i){return i&&e[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){"string"==typeof e&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new ce(e,t);return Ae.transformPoint(n,this.matrix())},localToPaperRect:function(e,t,n,r){var i=new Qe(e,t,n,r);return Ae.transformRect(i,this.matrix())},paperToLocalPoint:function(e,t){var n=new ce(e,t);return Ae.transformPoint(n,this.matrix().inverse())},paperToLocalRect:function(e,t,n,r){var i=new Qe(e,t,n,r);return Ae.transformRect(i,this.matrix().inverse())},localToClientPoint:function(e,t){var n=new ce(e,t);return Ae.transformPoint(n,this.clientMatrix())},localToClientRect:function(e,t,n,r){var i=new Qe(e,t,n,r);return Ae.transformRect(i,this.clientMatrix())},clientToLocalPoint:function(e,t){var n=new ce(e,t);return Ae.transformPoint(n,this.clientMatrix().inverse())},clientToLocalRect:function(e,t,n,r){var i=new Qe(e,t,n,r);return Ae.transformRect(i,this.clientMatrix().inverse())},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new ce(e,t).difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),s=new Qe(e,t,n,r);return s.x-=i.x,s.y-=i.y,this.paperToLocalRect(s)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ce(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof tm))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t)||!n.linkPinning&&!i.linkPinning.call(this,r,t)||"function"==typeof n.allowLink&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return sr(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e;const{highlighting:r,highlighterNamespace:i}=this.options;if(void 0===t){if(!r||n&&(t=r[n],!1===t))return!1;t||(t=r.default)}if(!t)return!1;Cs(t)&&(t={name:t});const s=t.name,o=i[s];if(!o)throw new Error('Unknown highlighter ("'+s+'")');if("function"!=typeof o.highlight)throw new Error('Highlighter ("'+s+'") is missing required highlight() method');if("function"!=typeof o.unhighlight)throw new Error('Highlighter ("'+s+'") is missing required unhighlight() method');return{highlighter:o,options:t.options||{},name:s}},onCellHighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:s}=r;i.highlight(e,t,s)},onCellUnhighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:s}=r;i.unhighlight(e,t,s)},pointerdblclick:function(e){e.preventDefault(),e=Jr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){if(this.eventData(e).mousemoved<=this.options.clickThreshold){e=Jr(e);var n=this.findView(e.target);if(this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,r.x,r.y):this.trigger("blank:pointerclick",e,r.x,r.y)}},contextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),e=Jr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=Jr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?(e.preventDefault(),t.pointerdown(e,n.x,n.y)):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,n.x,n.y)),this.delegateDragEvents(t,e.data)}},pointermove:function(e){var t=this.eventData(e);if(t.mousemoved||(t.mousemoved=0),!(++t.mousemoved<=this.options.moveThreshold)){e=Jr(e);var r=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,r.x,r.y):this.trigger("blank:pointermove",e,r.x,r.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=Jr(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(nr.Event(e,{type:"click",data:e.data})),e.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(e){e=Jr(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=Jr(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=Jr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.findView(e.relatedTarget);if(t){if(n===t)return;t.mouseenter(e)}else{if(n)return;this.trigger("paper:mouseenter",e)}}},mouseleave:function(e){e=Jr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.findView(e.relatedTarget);if(t){if(n===t)return;t.mouseleave(e)}else{if(n)return;this.trigger("paper:mouseleave",e)}}},mousewheel:function(e){e=Jr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),i=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail));t?t.mousewheel(e,r.x,r.y,i):this.trigger("blank:mousewheel",e,r.x,r.y,i)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=Jr(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget;if(n.getAttribute("magnet")){var i=this.findView(n);if(i){if(e=Jr(e),this.guard(e,i))return;var s=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,n,s.x,s.y)}}},onmagnet:function(e){this.magnetEvent(e,function(t,n,r,i,s){t.onmagnet(n,i,s)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,r,i,s){t.magnetpointerdblclick(n,r,i,s)})},magnetcontextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.magnetEvent(e,function(t,n,r,i,s){t.magnetcontextmenu(n,r,i,s)})},onlabel:function(e){var n=this.findView(e.currentTarget);if(n){if(e=Jr(e),this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,r.x,r.y)}},getPointerArgs(e){const t=Jr(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t),this.undelegateEvents()},guard:function(e,t){return!!("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,t))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(t&&t.model&&t.model instanceof zl||this.svg===e.target||this.el===e.target||nr.contains(this.svg,e.target)))},setGridSize:function(e){return this.options.gridSize=e,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:Ae("svg",{width:"100%",height:"100%"},Ae("defs")),patterns:{},add:function(e,t){Ae(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(Ae("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return void 0!==this.patterns[e]}}),this._gridCache},setGrid:function(e){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(e)?e:[e||{}]).forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Cs(e)&&Array.isArray(t[e]))return t[e].map(function(u){return wt({},u)});var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(t[i])){var s=t[i].map(function(u){return wt({},u)}),o=Array.isArray(n.args)?n.args:[n.args||{}];Go(o[0],Cc(e,"args"));for(var a=0;a<o.length;a++)s[a]&&wt(s[a],o[a]);return s}return r?n:[n]},drawGrid:function(e){var t=this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(o,a){var u="pattern_"+a,d=ns(o,n[a],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});d.width=t*(r.a||1)*(d.scaleFactor||1),d.height=t*(r.d||1)*(d.scaleFactor||1),i.exist(u)||i.add(u,Ae("pattern",{id:u,patternUnits:"userSpaceOnUse"},Ae(d.markup)));var g=i.get(u);sr(d.update)&&d.update(g.node.childNodes[0],d);var h=d.ox%d.width;h<0&&(h+=d.width);var y=d.oy%d.height;y<0&&(y+=d.height),g.attr({x:h,y,width:d.width,height:d.height})});var s=(new XMLSerializer).serializeToString(i.root.node);return s="url(data:image/svg+xml;base64,"+btoa(s)+")",this.$grid.css("backgroundImage",s),this},updateBackgroundImage:function(e){var t=(e=e||{}).position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();Vr(t)&&(t=i.tx+r.sx*(t.x||0)+"px "+(i.ty+r.sy*(t.y||0))+"px"),Vr(n)&&(n=(n=new Qe(n).scale(r.sx,r.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(e instanceof HTMLImageElement){var n,r=(t=t||{}).size,i=t.repeat||"no-repeat",s=t.opacity||1,o=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[SG(i)];if(sr(a)){e.width*=o,e.height*=o;var u=a(e,t);if(!(u instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=u.toDataURL("image/png"),i="repeat",Vr(r)?(r.width*=u.width/e.width,r.height*=u.height/e.height):void 0===r&&(t.size={width:u.width/o,height:u.height/o})}else n=e.src,void 0===r&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:s,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(this.updateBackgroundColor((e=e||{}).color),e.image){e=this._background=Ao(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,jl(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Vr(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+Rw(JSON.stringify(e))),!this.isDefined(t)){var i=_G[n]&&_G[n](e.args||{});if(!i)throw new Error("Non-existing filter "+n);var s=wt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});Ae(i,s).appendTo(this.defs)}return t},defineGradient:function(e){if(!Vr(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");var t=e.id,n=e.type,r=e.stops;if(t||(t=n+this.svg.id+Rw(JSON.stringify(e))),!this.isDefined(t)){var i=js('<stop offset="${offset}" stop-color="${color}" stop-opacity="${opacity}"/>'),o=["<"+n+">",En(r).map(function(u){return i({offset:u.offset,color:u.color,opacity:Number.isFinite(u.opacity)?u.opacity:1})}).join(""),"</"+n+">"].join(""),a=wt({id:t},e.attrs);Ae(o,a).appendTo(this.defs)}return t},defineMarker:function(e){if(!Vr(e))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");var t=e.id;if(t||(t=this.svg.id+Rw(JSON.stringify(e))),!this.isDefined(t)){var n=Cc(e,"type","userSpaceOnUse");Ae("marker",{id:t,orient:"auto",overflow:"visible",markerUnits:e.markerUnits||"userSpaceOnUse"},[Ae(e.type||"path",n)]).appendTo(this.defs)}return t}},{sorting:Lh,Layers:rm,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=3*n,i.height=3*r;for(var s=i.getContext("2d"),o=wo(t.watermarkAngle)?-t.watermarkAngle:-20,a=Io(o),u=i.width/4,d=i.height/4,g=0;g<4;g++)for(var h=0;h<4;h++)(g+h)%2>0&&(s.setTransform(1,0,0,1,(2*g-1)*u,(2*h-1)*d),s.rotate(a),s.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){Ae(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;Ae(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,s=t.thickness;n=r-s>=0&&i-s>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ae(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,s=t.thickness;n=r-s>=0&&i-s>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ae(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,s=t.thickness;n=r-s>=0&&i-s>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ae(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}});let h_,Dk=(()=>{class e{createNewPaper(n,r,i,s,o){return new Q4({el:n,model:r,width:i,height:s,gridSize:10,drawGrid:{name:"mesh",args:{color:"black"}},background:{color:"white"},cellViewNamespace:o,interactive:!0,linkPinning:!1,multiLinks:!1,defaultLink:new HN,defaultConnector:{name:"rounded"},defaultConnectionPoint:{name:"boundary"},defaultAnchor:{name:"perpendicular",args:{padding:10}},defaultLinkAnchor:{name:"perpendicular",args:{padding:10}},defaultRouter:{name:"normal"},validateConnection:function(u,d,g,h,y,w){return u!==g}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),eH=(()=>{class e{createActionElement(){return new UN({position:{x:200,y:100},size:{width:200,height:100},name:"action",attrs:{text:{text:"test action"},body:{rx:10,ry:10}}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),tH=(()=>{class e{createDiamondElement(n,r){return new ZN({position:{x:100,y:200},size:{width:100,height:100},name:n,attrs:{text:{text:"Join"},body:{transform:"rotate(45, 50, 50)",stroke:r}}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),nH=(()=>{class e{createStartElement(){return new Hw({position:{x:100,y:100},size:{width:70,height:70},name:"start",attrs:{body:{fill:"black",magnet:"passive"},label:{text:"Start",fill:"white"}}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),rH=(()=>{class e{createEndElement(){return new Hw({position:{x:150,y:100},size:{width:70,height:70},name:"end",attrs:{body:{fill:"black",magnet:"passive"},label:{text:"End",fill:"white"}}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),Mk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e}),e.\u0275inj=C({}),e})();try{h_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(e){h_=!1}let im,p_,P0=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function(e){return e===Sx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!h_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(n){return new(n||e)(Ue(Ny))},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function g_(e){return function(){if(null==im&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>im=!0}))}finally{im=im||!1}return im}()?e:!!e.capture}function sm(e){return e.composedPath?e.composedPath()[0]:e.target}function vH(e,t){return e===t}function om(e){return null!=e&&"false"!=`${e}`}function xk(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function Bh(e){return e instanceof Qi?e.nativeElement:e}function Ok(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}function Pk(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const EH=new Mt("cdk-input-modality-detector-options"),SH={ignoreKeys:[18,17,224,91,16]},jh=g_({passive:!0,capture:!0});let xH=(()=>{class e{constructor(n,r,i,s){this._platform=n,this._mostRecentTarget=null,this._modality=new ya(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,u;(null===(u=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===u?void 0:u.some(d=>d===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=sm(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ok(o)?"keyboard":"mouse"),this._mostRecentTarget=sm(o))},this._onTouchstart=o=>{Pk(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sm(o))},this._options=Object.assign(Object.assign({},SH),s),this.modalityDetected=this._modality.pipe(wd((t,n)=>1<=n)),this.modalityChanged=this.modalityDetected.pipe(function(e,t=Ur){return e=null!=e?e:vH,Le((n,r)=>{let i,s=!0;n.subscribe(new nt(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}()),n.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,jh),i.addEventListener("mousedown",this._onMousedown,jh),i.addEventListener("touchstart",this._onTouchstart,jh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jh),document.removeEventListener("mousedown",this._onMousedown,jh),document.removeEventListener("touchstart",this._onTouchstart,jh))}}return e.\u0275fac=function(n){return new(n||e)(Ue(P0),Ue(wr),Ue(Bi),Ue(EH,8))},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const NH=new Mt("cdk-focus-monitor-default-options"),L0=g_({passive:!0,capture:!0});let Lk=(()=>{class e{constructor(n,r,i,s,o){this._ngZone=n,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne,this._rootNodeFocusAndBlurListener=a=>{const u=sm(a),d="focus"===a.type?this._onFocus:this._onBlur;for(let g=u;g;g=g.parentElement)d.call(this,a,g)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(n,r=!1){const i=Bh(n);if(!this._platform.isBrowser||1!==i.nodeType)return an(null);const s=function(e){if(function(){if(null==p_){const e="undefined"!=typeof document?document.head:null;p_=!(!e||!e.createShadowRoot&&!e.attachShadow)}return p_}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new ne,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){const r=Bh(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){const s=Bh(n);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,u])=>this._originChanged(a,r,u)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused","touch"===r),n.classList.toggle("cdk-keyboard-focused","keyboard"===r),n.classList.toggle("cdk-mouse-focused","mouse"===r),n.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,r){const i=this._elementInfo.get(r),s=sm(n);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(n,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(n,r){this._ngZone.run(()=>n.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,L0),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,L0)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(function(e){return Le((t,n)=>{Hi(e).subscribe(new nt(n,()=>n.complete(),co)),!n.closed&&t.subscribe(n)})}(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){const r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,L0),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,L0),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){const r=[];return this._elementInfo.forEach((i,s)=>{(s===n||i.checkChildren&&s.contains(n))&&r.push([s,i])}),r}}return e.\u0275fac=function(n){return new(n||e)(Ue(wr),Ue(P0),Ue(xH),Ue(Bi,8),Ue(NH,8))},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Fk="cdk-high-contrast-black-on-white",Bk="cdk-high-contrast-white-on-black",m_="cdk-high-contrast-active";let kH=(()=>{class e{constructor(n,r){this._platform=n,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(m_),n.remove(Fk),n.remove(Bk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(n.add(m_),n.add(Fk)):2===r&&(n.add(m_),n.add(Bk))}}}return e.\u0275fac=function(n){return new(n||e)(Ue(P0),Ue(Bi))},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class jk{}const Su="*";function Vk(e,t=null){return{type:2,steps:e,options:t}}function zk(e){return{type:6,styles:e,offset:null}}function Gk(e){Promise.resolve(null).then(e)}class Vh{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Gk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Uk{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0;const s=this.players.length;0==s?Gk(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function Zk(){return"undefined"!=typeof window&&void 0!==window.document}function y_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wc(e){switch(e.length){case 0:return new Vh;case 1:return e[0];default:return new Uk(e)}}function Hk(e,t,n,r,i={},s={}){const o=[],a=[];let u=-1,d=null;if(r.forEach(g=>{const h=g.offset,y=h==u,w=y&&d||{};Object.keys(g).forEach(M=>{let F=M,z=g[M];if("offset"!==M)switch(F=t.normalizePropertyName(F,o),z){case"!":z=i[M];break;case Su:z=s[M];break;default:z=t.normalizeStyleValue(M,F,z,o)}w[F]=z}),y||a.push(w),d=w,u=h}),o.length){const g="\n - ";throw new Error(`Unable to animate due to the following errors:${g}${o.join(g)}`)}return a}function C_(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&b_(n,"start",e)));break;case"done":e.onDone(()=>r(n&&b_(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&b_(n,"destroy",e)))}}function b_(e,t,n){const r=n.totalTime,s=I_(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(s._data=o),s}function I_(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Uo(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function Wk(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let A_=(e,t)=>!1,Yk=(e,t,n)=>[];(y_()||"undefined"!=typeof Element)&&(A_=Zk()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),Yk=(e,t,n)=>{let r=[];if(n){const i=e.querySelectorAll(t);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=e.querySelector(t);i&&r.push(i)}return r});let jd=null,Xk=!1;function w_(e){jd||(jd=("undefined"!=typeof document?document.body:null)||{},Xk=!!jd.style&&"WebkitAppearance"in jd.style);let t=!0;return jd.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in jd.style,!t&&Xk&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in jd.style)),t}const __=A_,D_=Yk;function $k(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let qk=(()=>{class e{validateStyleProperty(n){return w_(n)}matchesElement(n,r){return!1}containsElement(n,r){return __(n,r)}query(n,r,i){return D_(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new Vh(i,s)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})(),M_=(()=>{class e{}return e.NOOP=new qk,e})();const E_="ng-enter",F0="ng-leave",B0="ng-trigger",j0=".ng-trigger",Jk="ng-animating",S_=".ng-animating";function Vd(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:x_(parseFloat(t[1]),t[2])}function x_(e,t){return"s"===t?1e3*e:e}function V0(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=x_(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=x_(parseFloat(u),a[4]));const d=a[5];d&&(o=d)}else i=e;if(!n){let a=!1,u=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(u,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:s,easing:o}}(e,t,n)}function zh(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function _c(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else zh(e,n);return n}function eO(e,t,n){return n?t+":"+n+";":""}function tO(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=eO(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=eO(0,zH(n),e.style[n]));e.setAttribute("style",t)}function Gl(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=N_(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),y_()&&tO(e))}function zd(e,t){e.style&&(Object.keys(t).forEach(n=>{const r=N_(n);e.style[r]=""}),y_()&&tO(e))}function am(e){return Array.isArray(e)?1==e.length?e[0]:Vk(e):e}const T_=new RegExp("{{\\s*(.+?)\\s*}}","g");function nO(e){let t=[];if("string"==typeof e){let n;for(;n=T_.exec(e);)t.push(n[1]);T_.lastIndex=0}return t}function z0(e,t,n){const r=e.toString(),i=r.replace(T_,(s,o)=>{let a=t[o];return t.hasOwnProperty(o)||(n.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?e:i}function G0(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const VH=/-+([a-z0-9])/g;function N_(e){return e.replace(VH,(...t)=>t[1].toUpperCase())}function zH(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rO(e,t){return 0===e||0===t}function iO(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=n[a]}),o.length)for(var i=1;i<t.length;i++){let a=t[i];o.forEach(function(u){a[u]=k_(e,u)})}}return t}function Zo(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function k_(e,t){return window.getComputedStyle(e)[t]}function GH(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function(e,t,n){if(":"==e[0]){const u=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof u)return void t.push(u);e=u}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(sO(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(sO(o,i))}(r,n,t)):n.push(e),n}const Z0=new Set(["true","1"]),H0=new Set(["false","0"]);function sO(e,t){const n=Z0.has(e)||H0.has(e),r=Z0.has(t)||H0.has(t);return(i,s)=>{let o="*"==e||e==i,a="*"==t||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?Z0.has(e):H0.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?Z0.has(t):H0.has(t)),o&&a}}const HH=new RegExp("s*:selfs*,?","g");function O_(e,t,n){return new WH(e).build(t,n)}class WH{constructor(t){this._driver=t}build(t,n){const r=new $H(n);return this._resetContextStyleTimingState(r),Zo(this,am(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,d=u.name;d.toString().split(/\s*,\s*/).forEach(g=>{u.name=g,s.push(this.visitState(u,n))}),u.name=d}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(W0(a)){const u=a;Object.keys(u).forEach(d=>{nO(u[d]).forEach(g=>{o.hasOwnProperty(g)||s.add(g)})})}}),s.size){const a=G0(s.values());n.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=Zo(this,am(t.animation),n);return{type:1,matchers:GH(t.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Gd(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(r=>Zo(this,r,n)),options:Gd(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const s=t.steps.map(o=>{n.currentTime=r;const a=Zo(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Gd(t.options)}}visitAnimate(t,n){const r=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return P_(V0(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=P_(0,0,"");return s.dynamic=!0,s.strValue=r,s}return n=n||V0(r,t),P_(n.duration,n.delay,n.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,s=t.styles?t.styles:zk({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;const d={};r.easing&&(d.easing=r.easing),o=zk(d)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==Su?r.push(o):n.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(t.styles);let i=!1,s=null;return r.forEach(o=>{if(W0(o)){const a=o,u=a.easing;if(u&&(s=u,delete a.easing),!i)for(let d in a)if(a[d].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void n.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const u=n.collectedStyles[n.currentQuerySelector],d=u[a];let g=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(n.errors.push(`The CSS property "${a}" that exists between the times of "${d.startTime}ms" and "${d.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),g=!1),s=d.startTime),g&&(u[a]={startTime:s,endTime:i}),n.options&&function(e,t,n){const r=t.params||{},i=nO(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],n.options,n.errors)})})}visitKeyframes(t,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,u=!1,d=0;const g=t.steps.map(Y=>{const G=this._makeStyleAst(Y,n);let I=null!=G.offset?G.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(W0(n)&&n.hasOwnProperty("offset")){const r=n;t=parseFloat(r.offset),delete r.offset}});else if(W0(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(G.styles),S=0;return null!=I&&(s++,S=G.offset=I),u=u||S<0||S>1,a=a||S<d,d=S,o.push(S),G});u&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&n.errors.push("Please ensure that all keyframe offsets are in order");const h=t.steps.length;let y=0;s>0&&s<h?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(y=1/(h-1));const w=h-1,M=n.currentTime,F=n.currentAnimateTimings,z=F.duration;return g.forEach((Y,G)=>{const I=y>0?G==w?1:y*G:o[G],S=I*z;n.currentTime=M+F.delay+S,F.duration=S,this._validateStyleAst(Y,n),Y.offset=I,r.styles.push(Y)}),r}visitReference(t,n){return{type:8,animation:Zo(this,am(t.animation),n),options:Gd(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Gd(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Gd(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[s,o]=function(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(HH,"")),e=e.replace(/@\*/g,j0).replace(/@\w+/g,n=>j0+"-"+n.substr(1)).replace(/:animating/g,S_),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+s:s,Uo(n.collectedStyles,n.currentQuerySelector,{});const a=Zo(this,am(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Gd(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:V0(t.timings,n.errors,!0);return{type:12,animation:Zo(this,am(t.animation),n),timings:r,options:null}}}class $H{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function W0(e){return!Array.isArray(e)&&"object"==typeof e}function Gd(e){return e?(e=zh(e)).params&&(e.params=function(e){return e?zh(e):null}(e.params)):e={},e}function P_(e,t,n){return{duration:e,delay:t,easing:n}}function R_(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Y0{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const eW=new RegExp(":enter","g"),nW=new RegExp(":leave","g");function L_(e,t,n,r,i,s={},o={},a,u,d=[]){return(new rW).buildKeyframes(e,t,n,r,i,s,o,a,u,d)}class rW{buildKeyframes(t,n,r,i,s,o,a,u,d,g=[]){d=d||new Y0;const h=new F_(t,n,d,i,s,g,[]);h.options=u,h.currentTimeline.setStyles([o],null,h.errors,u),Zo(this,r,h);const y=h.timelines.filter(w=>w.containsAnimation());if(y.length&&Object.keys(a).length){const w=y[y.length-1];w.allowOnlyTimelineStyles()||w.setStyles([a],null,h.errors,u)}return y.length?y.map(w=>w.buildKeyframes()):[R_(n,[],[],[],0,0,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_visitSubInstructions(t,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Vd(r.duration):null,a=null!=r.delay?Vd(r.delay):null;return 0!==o&&t.forEach(u=>{const d=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),Zo(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const s=t.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=X0);const o=Vd(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Zo(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const s=t.options&&t.options.delay?Vd(t.options.delay):0;t.steps.forEach(o=>{const a=n.createSubContext(t.options);s&&a.delayNextStep(s),Zo(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return V0(n.params?z0(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},s=i.delay?Vd(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=X0);let o=r;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((d,g)=>{n.currentQueryIndex=g;const h=n.createSubContext(t.options,d);s&&h.delayNextStep(s),d===n.element&&(u=h.currentTimeline),Zo(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const g=n.currentTimeline;u&&g.delayNextStep(u);const h=g.currentTime;Zo(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}}const X0={};class F_{constructor(t,n,r,i,s,o,a,u){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=X0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new $0(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Vd(r.duration)),null!=r.delay&&(i.delay=Vd(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=z0(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,s=new F_(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=X0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:null!=n?n:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},s=new iW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(eW,"."+this._enterClassName)).replace(nW,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=r);0!==r&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!s&&0==a.length&&o.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),a}}class $0{constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new $0(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles[t]=n,this._globalTimelineStyles[t]=n,this._styleSummary[t]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||Su,this._currentKeyframe[n]=Su}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&(this._previousKeyframe.easing=n);const s=i&&i.params||{},o=function(e,t){const n={};let r;return e.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(s=>{n[s]=Su})):_c(i,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=z0(o[a],s,r);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Su),this._updateStyle(a,u)})}applyStylesToKeyframe(){const t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const n=this._localTimelineStyles[t];this._pendingStyles[t]=n,this._updateStyle(t,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(n=>{const r=this._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const d=_c(a,!0);Object.keys(d).forEach(g=>{const h=d[g];"!"==h?t.add(g):h==Su&&n.add(g)}),r||(d.offset=u/this.duration),i.push(d)});const s=t.size?G0(t.values()):[],o=n.size?G0(n.values()):[];if(r){const a=i[0],u=zh(a);a.offset=0,u.offset=1,i=[a,u]}return R_(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class iW extends $0{constructor(t,n,r,i,s,o,a=!1){super(t,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=_c(t[0],!1);u.offset=0,s.push(u);const d=_c(t[0],!1);d.offset=lO(a),s.push(d);const g=t.length-1;for(let h=1;h<=g;h++){let y=_c(t[h],!1);y.offset=lO((n+y.offset*r)/o),s.push(y)}r=o,n=0,i="",t=s}return R_(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function lO(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class B_{}class oW extends B_{normalizePropertyName(t,n){return N_(t)}normalizeStyleValue(t,n,r,i){let s="";const o=r.toString().trim();if(aW[n]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${t}:${r}`)}return o+s}}const aW=(()=>function(e){const t={};return e.forEach(n=>t[n]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function uO(e,t,n,r,i,s,o,a,u,d,g,h,y){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:d,postStyleProps:g,totalTime:h,errors:y}}const j_={};class cO{constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function(e,t,n,r,i){return e.some(s=>s(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){const i=this._stateStyles["*"],s=this._stateStyles[t],o=i?i.buildStyles(n,r):{};return s?s.buildStyles(n,r):o}build(t,n,r,i,s,o,a,u,d,g){const h=[],y=this.ast.options&&this.ast.options.params||j_,M=this.buildStyles(r,a&&a.params||j_,h),F=u&&u.params||j_,z=this.buildStyles(i,F,h),Y=new Set,G=new Map,I=new Map,S="void"===i,k={params:Object.assign(Object.assign({},y),F)},H=g?[]:L_(t,n,this.ast.animation,s,o,M,z,k,d,h);let Q=0;if(H.forEach(ge=>{Q=Math.max(ge.duration+ge.delay,Q)}),h.length)return uO(n,this._triggerName,r,i,S,M,z,[],[],G,I,Q,h);H.forEach(ge=>{const Ce=ge.element,Re=Uo(G,Ce,{});ge.preStyleProps.forEach(Fe=>Re[Fe]=!0);const ke=Uo(I,Ce,{});ge.postStyleProps.forEach(Fe=>ke[Fe]=!0),Ce!==n&&Y.add(Ce)});const ue=G0(Y.values());return uO(n,this._triggerName,r,i,S,M,z,H,ue,G,I,Q)}}class cW{constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r={},i=zh(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=z0(u,i,n));const d=this.normalizer.normalizePropertyName(a,n);u=this.normalizer.normalizeStyleValue(a,d,u,n),r[d]=u})}}),r}}class fW{constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states={},n.states.forEach(i=>{this.states[i.name]=new cW(i.style,i.options&&i.options.params||{},r)}),dO(this.states,"true","1"),dO(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new cO(t,i,this.states))}),this.fallbackTransition=function(e,t,n){return new cO(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(o=>o.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function dO(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const gW=new Y0;class pW{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,n){const r=[],i=O_(this._driver,n,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=i}_buildPlayer(t,n,r){const i=t.element,s=Hk(0,this._normalizer,0,t.keyframes,n,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],s=this._animations[t];let o;const a=new Map;if(s?(o=L_(this._driver,n,s,E_,F0,{},{},r,gW,i),o.forEach(g=>{const h=Uo(a,g.element,{});g.postStyleProps.forEach(y=>h[y]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((g,h)=>{Object.keys(g).forEach(y=>{g[y]=this._driver.computeStyle(h,y,Su)})});const d=wc(o.map(g=>{const h=a.get(g.element);return this._buildPlayer(g,{},h)}));return this._playersById[t]=d,d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const n=this._getPlayer(t);n.destroy(),delete this._playersById[t];const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById[t];if(!n)throw new Error(`Unable to find the timeline player referenced by ${t}`);return n}listen(t,n,r,i){const s=I_(n,"","","");return C_(this._getPlayer(t),r,s,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const fO="ng-animate-queued",V_="ng-animate-disabled",bW=[],hO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},IW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Aa="__ng_removed";class z_{constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(r?t.value:t),r){const s=zh(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const lm="void",G_=new z_(lm);class AW{constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wa(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${n}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(e){return"start"==e||"done"==e}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${n}" is not supported!`);const s=Uo(this._elementListeners,t,[]),o={name:n,phase:r,callback:i};s.push(o);const a=Uo(this._engine.statesByElement,t,{});return a.hasOwnProperty(n)||(wa(t,B0),wa(t,B0+"-"+n),a[n]=G_),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers[n]||delete a[n]})}}register(t,n){return!this._triggers[t]&&(this._triggers[t]=n,!0)}_getTrigger(t){const n=this._triggers[t];if(!n)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return n}trigger(t,n,r,i=!0){const s=this._getTrigger(n),o=new U_(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(wa(t,B0),wa(t,B0+"-"+n),this._engine.statesByElement.set(t,a={}));let u=a[n];const d=new z_(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),a[n]=d,u||(u=G_),d.value!==lm&&u.value===d.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(u.params,d.params)){const F=[],z=s.matchStyles(u.value,u.params,F),Y=s.matchStyles(d.value,d.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{zd(t,z),Gl(t,Y)})}return}const y=Uo(this._engine.playersByElement,t,[]);y.forEach(F=>{F.namespaceId==this.id&&F.triggerName==n&&F.queued&&F.destroy()});let w=s.matchTransition(u.value,d.value,t,d.params),M=!1;if(!w){if(!i)return;w=s.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:w,fromState:u,toState:d,player:o,isFallbackTransition:M}),M||(wa(t,fO),o.onStart(()=>{Gh(t,fO)})),o.onDone(()=>{let F=this.players.indexOf(o);F>=0&&this.players.splice(F,1);const z=this._engine.playersByElement.get(t);if(z){let Y=z.indexOf(o);Y>=0&&z.splice(Y,1)}}),this.players.push(o),y.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((n,r)=>{delete n[t]}),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,j0,!0);r.forEach(i=>{if(i[Aa])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const s=this._engine.statesByElement.get(t);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const u=this.trigger(t,a,lm,i);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,n),r&&wc(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers[o].fallbackTransition,d=r[o]||G_,g=new z_(lm),h=new U_(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:u,fromState:d,toState:g,player:h,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const s=t[Aa];(!s||s===hO)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){wa(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=I_(s,r.triggerName,r.fromState.value,r.toState.value);u._data=t,C_(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let n=!1;return this._elementListeners.has(t)&&(n=!0),n=!!this._queue.find(r=>r.element===t)||n,n}}class wW{constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new AW(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,n)){this._namespaceList.splice(s+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(n))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&n.add(a)}}}return n}trigger(t,n,r,i){if(q0(n)){const s=this._fetchNamespace(t);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!q0(n))return;const s=n[Aa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wa(t,V_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gh(t,V_))}removeNode(t,n,r,i){if(q0(n)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(n,i):this.markElementAsRemoved(t,n,!1,i),r){const o=this.namespacesByHostElement.get(n);o&&o.id!==t&&o.removeNode(n,i)}}else this._onRemovalComplete(n,i)}markElementAsRemoved(t,n,r,i){this.collectedLeaveElements.push(n),n[Aa]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(t,n,r,i,s){return q0(n)?this._fetchNamespace(t).listen(n,r,i,s):()=>{}}_buildInstruction(t,n,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,j0,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,S_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wc(this.players).onDone(()=>t());t()})}processLeaveNode(t){var n;const r=t[Aa];if(r&&r.setForRemoval){if(t[Aa]=hO,r.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(n=t.classList)||void 0===n?void 0:n.contains(V_))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?wc(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,n){const r=new Y0,i=[],s=new Map,o=[],a=new Map,u=new Map,d=new Map,g=new Set;this.disabledNodes.forEach(De=>{g.add(De);const Ze=this.driver.query(De,".ng-animate-queued",!0);for(let qe=0;qe<Ze.length;qe++)g.add(Ze[qe])});const h=this.bodyNode,y=Array.from(this.statesByElement.keys()),w=mO(y,this.collectedEnterElements),M=new Map;let F=0;w.forEach((De,Ze)=>{const qe=E_+F++;M.set(Ze,qe),De.forEach(bt=>wa(bt,qe))});const z=[],Y=new Set,G=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const Ze=this.collectedLeaveElements[De],qe=Ze[Aa];qe&&qe.setForRemoval&&(z.push(Ze),Y.add(Ze),qe.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach(bt=>Y.add(bt)):G.add(Ze))}const I=new Map,S=mO(y,Array.from(Y));S.forEach((De,Ze)=>{const qe=F0+F++;I.set(Ze,qe),De.forEach(bt=>wa(bt,qe))}),t.push(()=>{w.forEach((De,Ze)=>{const qe=M.get(Ze);De.forEach(bt=>Gh(bt,qe))}),S.forEach((De,Ze)=>{const qe=I.get(Ze);De.forEach(bt=>Gh(bt,qe))}),z.forEach(De=>{this.processLeaveNode(De)})});const k=[],H=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(n).forEach(qe=>{const bt=qe.player,et=qe.element;if(k.push(bt),this.collectedEnterElements.length){const Pt=et[Aa];if(Pt&&Pt.setForMove)return void bt.destroy()}const _t=!h||!this.driver.containsElement(h,et),at=I.get(et),ht=M.get(et),ct=this._buildInstruction(qe,r,ht,at,_t);if(ct.errors&&ct.errors.length)return void H.push(ct);if(_t)return bt.onStart(()=>zd(et,ct.fromStyles)),bt.onDestroy(()=>Gl(et,ct.toStyles)),void i.push(bt);if(qe.isFallbackTransition)return bt.onStart(()=>zd(et,ct.fromStyles)),bt.onDestroy(()=>Gl(et,ct.toStyles)),void i.push(bt);const Rn=[];ct.timelines.forEach(Pt=>{Pt.stretchStartingKeyframe=!0,this.disabledNodes.has(Pt.element)||Rn.push(Pt)}),ct.timelines=Rn,r.append(et,ct.timelines),o.push({instruction:ct,player:bt,element:et}),ct.queriedElements.forEach(Pt=>Uo(a,Pt,[]).push(bt)),ct.preStyleProps.forEach((Pt,Yn)=>{const dn=Object.keys(Pt);if(dn.length){let Rt=u.get(Yn);Rt||u.set(Yn,Rt=new Set),dn.forEach(ln=>Rt.add(ln))}}),ct.postStyleProps.forEach((Pt,Yn)=>{const dn=Object.keys(Pt);let Rt=d.get(Yn);Rt||d.set(Yn,Rt=new Set),dn.forEach(ln=>Rt.add(ln))})});if(H.length){const De=[];H.forEach(Ze=>{De.push(`@${Ze.triggerName} has failed due to:\n`),Ze.errors.forEach(qe=>De.push(`- ${qe}\n`))}),k.forEach(Ze=>Ze.destroy()),this.reportError(De)}const Q=new Map,ue=new Map;o.forEach(De=>{const Ze=De.element;r.has(Ze)&&(ue.set(Ze,Ze),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,Q))}),i.forEach(De=>{const Ze=De.element;this._getPreviousPlayers(Ze,!1,De.namespaceId,De.triggerName,null).forEach(bt=>{Uo(Q,Ze,[]).push(bt),bt.destroy()})});const ge=z.filter(De=>yO(De,u,d)),Ce=new Map;pO(Ce,this.driver,G,d,Su).forEach(De=>{yO(De,u,d)&&ge.push(De)});const ke=new Map;w.forEach((De,Ze)=>{pO(ke,this.driver,new Set(De),u,"!")}),ge.forEach(De=>{const Ze=Ce.get(De),qe=ke.get(De);Ce.set(De,Object.assign(Object.assign({},Ze),qe))});const Fe=[],He=[],$e={};o.forEach(De=>{const{element:Ze,player:qe,instruction:bt}=De;if(r.has(Ze)){if(g.has(Ze))return qe.onDestroy(()=>Gl(Ze,bt.toStyles)),qe.disabled=!0,qe.overrideTotalTime(bt.totalTime),void i.push(qe);let et=$e;if(ue.size>1){let at=Ze;const ht=[];for(;at=at.parentNode;){const ct=ue.get(at);if(ct){et=ct;break}ht.push(at)}ht.forEach(ct=>ue.set(ct,et))}const _t=this._buildAnimation(qe.namespaceId,bt,Q,s,ke,Ce);if(qe.setRealPlayer(_t),et===$e)Fe.push(qe);else{const at=this.playersByElement.get(et);at&&at.length&&(qe.parentPlayer=wc(at)),i.push(qe)}}else zd(Ze,bt.fromStyles),qe.onDestroy(()=>Gl(Ze,bt.toStyles)),He.push(qe),g.has(Ze)&&i.push(qe)}),He.forEach(De=>{const Ze=s.get(De.element);if(Ze&&Ze.length){const qe=wc(Ze);De.setRealPlayer(qe)}}),i.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<z.length;De++){const Ze=z[De],qe=Ze[Aa];if(Gh(Ze,F0),qe&&qe.hasAnimation)continue;let bt=[];if(a.size){let _t=a.get(Ze);_t&&_t.length&&bt.push(..._t);let at=this.driver.query(Ze,S_,!0);for(let ht=0;ht<at.length;ht++){let ct=a.get(at[ht]);ct&&ct.length&&bt.push(...ct)}}const et=bt.filter(_t=>!_t.destroyed);et.length?EW(this,Ze,et):this.processLeaveNode(Ze)}return z.length=0,Fe.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const Ze=this.players.indexOf(De);this.players.splice(Ze,1)}),De.play()}),Fe}elementContainsData(t,n){let r=!1;const i=n[Aa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(n)&&(r=!0),this.playersByQueriedElement.has(n)&&(r=!0),this.statesByElement.has(n)&&(r=!0),this._fetchNamespace(t).elementContainsData(n)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const u=!s||s==lm;a.forEach(d=>{d.queued||!u&&d.triggerName!=i||o.push(d)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,n,r){const s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const d=u.element,g=d!==s,h=Uo(r,d,[]);this._getPreviousPlayers(d,g,o,a,n.toState).forEach(w=>{const M=w.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),w.destroy(),h.push(w)})}zd(s,n.fromStyles)}_buildAnimation(t,n,r,i,s,o){const a=n.triggerName,u=n.element,d=[],g=new Set,h=new Set,y=n.timelines.map(M=>{const F=M.element;g.add(F);const z=F[Aa];if(z&&z.removedBeforeQueried)return new Vh(M.duration,M.delay);const Y=F!==u,G=function(e){const t=[];return vO(e,t),t}((r.get(F)||bW).map(Q=>Q.getRealPlayer())).filter(Q=>!!Q.element&&Q.element===F),I=s.get(F),S=o.get(F),k=Hk(0,this._normalizer,0,M.keyframes,I,S),H=this._buildPlayer(M,k,G);if(M.subTimeline&&i&&h.add(F),Y){const Q=new U_(t,a,F);Q.setRealPlayer(H),d.push(Q)}return H});d.forEach(M=>{Uo(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,M.element,M))}),g.forEach(M=>wa(M,Jk));const w=wc(y);return w.onDestroy(()=>{g.forEach(M=>Gh(M,Jk)),Gl(u,n.toStyles)}),h.forEach(M=>{Uo(i,M,[]).push(w)}),w}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new Vh(t.duration,t.delay)}}class U_{constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Vh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(r=>C_(t,n,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Uo(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function q0(e){return e&&1===e.nodeType}function gO(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function pO(e,t,n,r,i){const s=[];n.forEach(u=>s.push(gO(u)));const o=[];r.forEach((u,d)=>{const g={};u.forEach(h=>{const y=g[h]=t.computeStyle(d,h,i);(!y||0==y.length)&&(d[Aa]=IW,o.push(d))}),e.set(d,g)});let a=0;return n.forEach(u=>gO(u,s[a++])),o}function mO(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=new Set(t),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const d=a.parentNode;return u=n.has(d)?d:i.has(d)?1:o(d),s.set(a,u),u}return t.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function wa(e,t){var n;null===(n=e.classList)||void 0===n||n.add(t)}function Gh(e,t){var n;null===(n=e.classList)||void 0===n||n.remove(t)}function EW(e,t,n){wc(n).onDone(()=>e.processLeaveNode(t))}function vO(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof Uk?vO(r.players,t):t.push(r)}}function yO(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(s=>i.add(s)):t.set(e,r),n.delete(e),!0}class K0{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new wW(t,n,r),this._timelineEngine=new pW(t,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,n,r,i,s){const o=t+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],d=O_(this._driver,s,u);if(u.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);a=function(e,t,n){return new fW(e,t,n)}(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r,i){this._transitionEngine.removeNode(t,n,i||!1,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[s,o]=Wk(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=Wk(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function CO(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=Z_(t[0]),t.length>1&&(r=Z_(t[t.length-1]))):t&&(n=Z_(t)),n||r?new TW(e,n,r):null}let TW=(()=>{class e{constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Gl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gl(this._element,this._initialStyles),this._endStyles&&(Gl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(zd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zd(this._element,this._endStyles),this._endStyles=null),Gl(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Z_(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];NW(i)&&(t=t||{},t[i]=e[i])}return t}function NW(e){return"display"===e||"position"===e}const bO="animation",IO="animationend";class PW{constructor(t,n,r,i,s,o,a){this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function(e,t){const n=W_(e,"").trim();let r=0;n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++;return n}(n)+1,t=`${n}, ${t}`),J0(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_O(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){AO(this._element,this._name,"paused")}resume(){AO(this._element,this._name,"running")}setPosition(t){const n=wO(this._element,this._name);this._position=t*this._duration,J0(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(t){const n=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_O(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const r=W_(e,"").split(","),i=H_(r,t);i>=0&&(r.splice(i,1),J0(e,"",r.join(",")))}(this._element,this._name))}}function AO(e,t,n){J0(e,"PlayState",n,wO(e,t))}function wO(e,t){const n=W_(e,"");return n.indexOf(",")>0?H_(n.split(","),t):H_([n],t)}function H_(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function _O(e,t,n){n?e.removeEventListener(IO,t):e.addEventListener(IO,t)}function J0(e,t,n,r){const i=bO+t;if(null!=r){const s=e.style[i];if(s.length){const o=s.split(",");o[r]=n,n=o.join(",")}}e.style[i]=n}function W_(e,t){return e.style[bO+t]||""}class DO{constructor(t,n,r,i,s,o,a,u){this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new PW(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=n?this._finalStyles[r]:k_(this.element,r))})}this.currentSnapshot=t}}class VW extends Vh{constructor(t,n){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=$k(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const n=this._startingStyles[t];n?this.element.style.setProperty(t,n):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class EO{constructor(){this._count=0}validateStyleProperty(t){return w_(t)}matchesElement(t,n){return!1}containsElement(t,n){return __(t,n)}query(t,n,r){return D_(t,n,r)}computeStyle(t,n,r){return window.getComputedStyle(t)[n]}buildKeyframeElement(t,n,r){r=r.map(a=>$k(a));let i=`@keyframes ${n} {\n`,s="";r.forEach(a=>{s=" ";const u=parseFloat(a.offset);i+=`${s}${100*u}% {\n`,s+=" ",Object.keys(a).forEach(d=>{const g=a[d];switch(d){case"offset":return;case"easing":return void(g&&(i+=`${s}animation-timing-function: ${g};\n`));default:return void(i+=`${s}${d}: ${g};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(t,n,r,i,s,o=[],a){const u=o.filter(z=>z instanceof DO),d={};rO(r,i)&&u.forEach(z=>{let Y=z.currentSnapshot;Object.keys(Y).forEach(G=>d[G]=Y[G])});const g=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(t[i]=r[i])})}),t}(n=iO(t,n,d));if(0==r)return new VW(t,g);const h="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,h,n);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(y);const M=CO(t,n),F=new DO(t,n,h,r,i,s,g,M);return F.onDestroy(()=>function(e){e.parentNode.removeChild(e)}(y)),F}}class xO{constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,n,r){return t.animate(n,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const n=this._finalKeyframe;Object.keys(n).forEach(r=>{"offset"!=r&&(t[r]=this._finished?n[r]:k_(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class HW{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(TO().toString()),this._cssKeyframesDriver=new EO}validateStyleProperty(t){return w_(t)}matchesElement(t,n){return!1}containsElement(t,n){return __(t,n)}query(t,n,r){return D_(t,n,r)}computeStyle(t,n,r){return window.getComputedStyle(t)[n]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,n,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,n,r,i,s,o);const g={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(g.easing=s);const h={},y=o.filter(M=>M instanceof xO);rO(r,i)&&y.forEach(M=>{let F=M.currentSnapshot;Object.keys(F).forEach(z=>h[z]=F[z])});const w=CO(t,n=iO(t,n=n.map(M=>_c(M,!1)),h));return new xO(t,n,g,w)}}function TO(){return Zk()&&Element.prototype.animate||{}}let YW=(()=>{class e extends jk{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:$t.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?Vk(n):n;return NO(this._renderer,null,r,"register",[i]),new XW(r,this._renderer)}}return e.\u0275fac=function(n){return new(n||e)(Ue(Ap),Ue(Bi))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();class XW extends class{}{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new $W(this._id,t,n||{},this._renderer)}}class $W{constructor(t,n,r,i){this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return NO(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,n;return null!==(n=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==n?n:0}}function NO(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const kO="@.disabled";let qW=(()=>{class e{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let g=this._rendererCache.get(s);return g||(g=new OO("",s,this.engine),this._rendererCache.set(s,g)),g}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=g=>{Array.isArray(g)?g.forEach(u):this.engine.registerTrigger(o,a,n,g.name,g)};return r.data.animation.forEach(u),new KW(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(n){return new(n||e)(Ue(Ap),Ue(K0),Ue(wr))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();class OO{constructor(t,n,r){this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>n.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate,r)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==kO?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.delegate.listen(t,n,r)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class KW extends OO{constructor(t,n,r,i){super(n,r,i),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==kO?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.substr(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r){if("@"==n.charAt(0)){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,n,r)}}let e9=(()=>{class e extends K0{constructor(n,r,i){super(n.body,r,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(n){return new(n||e)(Ue(Bi),Ue(M_),Ue(B_))},e.\u0275prov=p({token:e,factory:e.\u0275fac}),e})();const um=new Mt("AnimationModuleType"),PO=[{provide:jk,useClass:YW},{provide:B_,useFactory:function(){return new oW}},{provide:K0,useClass:e9},{provide:Ap,useFactory:function(e,t,n){return new qW(e,t,n)},deps:[qy,K0,wr]}],RO=[{provide:M_,useFactory:function(){return"function"==typeof TO()?new HW:new EO}},{provide:um,useValue:"BrowserAnimations"},...PO],i9=[{provide:M_,useClass:qk},{provide:um,useValue:"NoopAnimations"},...PO];let s9=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?i9:RO}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e}),e.\u0275inj=C({providers:RO,imports:[Vx]}),e})();const a9=new Mt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let eC=(()=>{class e{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!("undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}}return e.\u0275fac=function(n){return new(n||e)(Ue(kH),Ue(a9,8),Ue(Bi))},e.\u0275mod=pi({type:e}),e.\u0275inj=C({imports:[[Mk],Mk]}),e})();function FO(e){return class extends e{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=om(t)}}}function BO(e,t){return class extends e{constructor(...n){super(...n),this.defaultColor=t,this.color=t}get color(){return this._color}set color(n){const r=n||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function jO(e){return class extends e{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=om(t)}}}function l9(e,t=0){return class extends e{constructor(...n){super(...n),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(n){this._tabIndex=null!=n?xk(n):this.defaultTabIndex}}}class c9{constructor(t,n,r){this._renderer=t,this.element=n,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const VO={enterDuration:225,exitDuration:150},Y_=g_({passive:!0}),zO=["mousedown","touchstart"],GO=["mouseup","mouseleave","touchend","touchcancel"];class f9{constructor(t,n,r,i){this._target=t,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Bh(r))}fadeInRipple(t,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},VO),r.animation);r.centered&&(t=i.left+i.width/2,n=i.top+i.height/2);const o=r.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(t,n,i),a=t-i.left,u=n-i.top,d=s.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=a-o+"px",g.style.top=u-o+"px",g.style.height=2*o+"px",g.style.width=2*o+"px",null!=r.color&&(g.style.backgroundColor=r.color),g.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(g),function(e){window.getComputedStyle(e).getPropertyValue("opacity")}(g),g.style.transform="scale(1)";const h=new c9(this,g,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const y=h===this._mostRecentTransientRipple;h.state=1,!r.persistent&&(!y||!this._isPointerDown)&&h.fadeOut()},d),h}fadeOutRipple(t){const n=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const r=t.element,i=Object.assign(Object.assign({},VO),t.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const n=Bh(t);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(zO))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(GO),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const n=Ok(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Pk(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=t.changedTouches;for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,n))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(n=>{this._triggerElement.addEventListener(n,this,Y_)})})}_removeTriggerEvents(){this._triggerElement&&(zO.forEach(t=>{this._triggerElement.removeEventListener(t,this,Y_)}),this._pointerUpEventsRegistered&&GO.forEach(t=>{this._triggerElement.removeEventListener(t,this,Y_)}))}}const p9=new Mt("mat-ripple-global-options");let X_=(()=>{class e{constructor(n,r,i,s,o){this._elementRef=n,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new f9(this,r,n,i)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,i){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return e.\u0275fac=function(n){return new(n||e)(Te(Qi),Te(wr),Te(P0),Te(p9,8),Te(um,8))},e.\u0275dir=vt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&vu("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),m9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e}),e.\u0275inj=C({imports:[[eC],eC]}),e})();const v9=["mat-button",""],y9=["*"],b9=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],I9=BO(FO(jO(class{constructor(e){this._elementRef=e}})));let A9=(()=>{class e extends I9{constructor(n,r,i){super(n),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of b9)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,r){n?this._focusMonitor.focusVia(this._getHostElement(),n,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(r=>this._getHostElement().hasAttribute(r))}}return e.\u0275fac=function(n){return new(n||e)(Te(Qi),Te(Lk),Te(um,8))},e.\u0275cmp=To({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,r){if(1&n&&Mp(X_,5),2&n){let i;yd(i=Cd())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,r){2&n&&(Co("disabled",r.disabled||null),vu("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Qn],attrs:v9,ngContentSelectors:y9,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,r){1&n&&(XI(),Tt(0,"span",0),$I(1),Nt(),Li(2,"span",1),Li(3,"span",2)),2&n&&(Rs(2),vu("mat-button-ripple-round",r.isRoundButton||r.isIconButton),gp("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[X_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})();class w9 extends Ln{constructor(t,n){super()}schedule(t,n=0){return this}}const tC={setInterval(...e){const{delegate:t}=tC;return((null==t?void 0:t.setInterval)||setInterval)(...e)},clearInterval(e){const{delegate:t}=tC;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},UO={now:()=>(UO.delegate||Date).now(),delegate:void 0};class dm{constructor(t,n=dm.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}dm.now=UO.now;const M9=new class extends dm{constructor(t,n=dm.now){super(t,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class extends w9{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return tC.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;tC.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ei(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});let ZO=(()=>{class e{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),S9=(()=>{class e{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,r)=>this._cleanupObserver(r))}observe(n){const r=Bh(n);return new kt(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const r=new ne,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:i,stream:r,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:r,stream:i}=this._observedElements.get(n);r&&r.disconnect(),i.complete(),this._observedElements.delete(n)}}}return e.\u0275fac=function(n){return new(n||e)(Ue(ZO))},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),x9=(()=>{class e{constructor(n,r,i){this._contentObserver=n,this._elementRef=r,this._ngZone=i,this.event=new fr,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=om(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=xk(n),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(function(e,t=M9){return Le((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const d=s;s=null,r.next(d)}};function u(){const d=o+e,g=t.now();if(g<d)return i=this.schedule(void 0,d-g),void r.add(i);a()}n.subscribe(new nt(r,d=>{s=d,o=t.now(),i||(i=t.schedule(u,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){var n;null===(n=this._currentSubscription)||void 0===n||n.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(Te(S9),Te(Qi),Te(wr))},e.\u0275dir=vt({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),T9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e}),e.\u0275inj=C({providers:[ZO]}),e})();const nl=new Mt("NgValueAccessor"),M6=["thumbContainer"],E6=["toggleBar"],S6=["input"],x6=function(e){return{enterDuration:e}},T6=["*"],N6=new Mt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let k6=0;const O6={provide:nl,useExisting:wn(()=>GP),multi:!0};class P6{constructor(t,n){this.source=t,this.checked=n}}const R6=l9(BO(jO(FO(class{constructor(e){this._elementRef=e}}))));let GP=(()=>{class e extends R6{constructor(n,r,i,s,o,a){super(n),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=o,this._onChange=u=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++k6,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new fr,this.toggleChange=new fr,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===a}get required(){return this._required}set required(n){this._required=om(n)}get checked(){return this._checked}set checked(n){this._checked=om(n),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(n){n.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(n){n.stopPropagation()}writeValue(n){this.checked=!!n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck()}focus(n,r){r?this._focusMonitor.focusVia(this._inputElement,r,n):this._inputElement.nativeElement.focus(n)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new P6(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(n){return new(n||e)(Te(Qi),Te(Lk),Te(Oy),ou("tabindex"),Te(N6),Te(um,8))},e.\u0275cmp=To({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(1&n&&(Mp(M6,5),Mp(E6,5),Mp(S6,5)),2&n){let i;yd(i=Cd())&&(r._thumbEl=i.first),yd(i=Cd())&&(r._thumbBarEl=i.first),yd(i=Cd())&&(r._inputElement=i.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(n,r){2&n&&(eA("id",r.id),Co("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),vu("mat-checked",r.checked)("mat-disabled",r.disabled)("mat-slide-toggle-label-before","before"==r.labelPosition)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[ir([O6]),Qn],ngContentSelectors:T6,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(n,r){if(1&n&&(XI(),Tt(0,"label",0,1),Tt(2,"span",2,3),Tt(4,"input",4,5),On("change",function(s){return r._onChangeEvent(s)})("click",function(s){return r._onInputClick(s)}),Nt(),Tt(6,"span",6,7),Li(8,"span",8),Tt(9,"span",9),Li(10,"span",10),Nt(),Nt(),Nt(),Tt(11,"span",11,12),On("cdkObserveContent",function(){return r._onLabelTextChange()}),Tt(13,"span",13),Br(14,"\xa0"),Nt(),$I(15),Nt(),Nt()),2&n){const i=ph(1),s=ph(12);Co("for",r.inputId),Rs(2),vu("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),Rs(2),gp("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex)("checked",r.checked)("disabled",r.disabled),Co("name",r.name)("aria-checked",r.checked)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),Rs(5),gp("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",lS(18,x6,r._noopAnimations?0:150))}},directives:[X_,x9],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e})(),UP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e}),e.\u0275inj=C({}),e})(),ZP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e}),e.\u0275inj=C({imports:[[UP,m9,eC,T9],UP,eC]}),e})();const B6=[{path:"activity",component:(()=>{class e{constructor(n){this.activePaperElement=null,this.activePaperElementCaption="",this.activePaperLink=null,this.activePaperLinkCaption="",this.elementEditing=!1,this.currentElementName=new fr,this.elementIds=[1e3],this.drawingMode=!1;const r=Qr,i=document.createElement("div");i.id="paper",i.style.width="100%",i.style.margin="auto",i.style.borderStyle="solid",i.style.borderWidth="1px",i.style.overflow="auto",document.body.appendChild(i),this.graph=new Qw({},{cellNamespace:r}),this.paper=n.createNewPaper(i,this.graph,"99%",750,r),this.paper.drawGrid(),this.paper.scale(.8),this.action=new eH,this.diamond=new tH,this.start=new nH,this.end=new rH;let a=new RZ,u=new BZ,d=new FZ;this.toolsView=new nk({tools:[a,u,d]}),this.elementToolsView=new nk({tools:[u]}),this.elementIds.fill(0),this.toggleCaption="Moving mode"}ngOnInit(){this.addActionListeners()}ngOnDestroy(){this.paper.remove(),this.graph.clear()}addActionListeners(){this.paper.on("element:mouseenter",n=>{n.removeTools(),n.addTools(this.elementToolsView),n.showTools(this.elementToolsView)}),this.paper.on("element:mouseleave",n=>{n.hideTools()}),this.paper.on("element:contextmenu",(n,r,i,s)=>{let a,o=n.model.attributes.name,u=document.getElementById("link-context-menu");a="start"==o||"end"==o?document.getElementById("delete-context-menu"):document.getElementById("element-context-menu"),this.activePaperElement=n.model,a.style.left=(i+70).toString()+"px",a.style.top=(s+75).toString()+"px",a.style.display="block",u.style.display="none"}),this.paper.on("link:contextmenu",(n,r,i,s)=>{let o=this.graph.getCell(n.model.attributes.source.id);if("if"!=o.attributes.name&&"case"!=o.attributes.name)return;let a=document.getElementById("element-context-menu"),u=document.getElementById("link-context-menu");this.activePaperLink=n.model,u.style.left=i+70+"px",u.style.top=s+75+"px",u.style.display="block",a.style.display="none"}),this.paper.on("blank:pointerclick",()=>{let n=document.getElementById("element-context-menu"),r=document.getElementById("delete-context-menu"),i=document.getElementById("link-context-menu");n.style.display="none",r.style.display="none",i.style.display="none"}),this.paper.on("link:mouseenter",n=>{n.removeTools(),n.addTools(this.toolsView),n.showTools(this.toolsView)}),this.paper.on("link:mouseleave",n=>{n.hideTools(this.toolsView)}),this.paper.on("link: connect",n=>{console.log("pripojenie")})}onShowElementPropertiesClicked(){var n,r;document.getElementById("element-context-menu").style.display="none";let s=this.activePaperElement.attributes.name;this.activePaperElementCaption=null===(r=null===(n=this.activePaperElement.attributes.attrs)||void 0===n?void 0:n.label)||void 0===r?void 0:r.text,this.elementEditing=!0,this.showModal(s)}onDeleteElementClicked(){this.elementIds[this.activePaperElement.id]=0,this.activePaperElement.remove(),this.activePaperElement=null;let r=document.getElementById("element-context-menu"),i=document.getElementById("delete-context-menu");r.style.display="none",i.style.display="none"}onShowLinkPropertiesClicked(){document.getElementById("link-context-menu").style.display="none"}addActionToGraph(n){let r=this.action.createActionElement();r.attr("label/style","-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),r.attr("label/text",n),this.drawingMode=!0,this.changeDrawingMode(event),r.addTo(this.graph),this.closeModal()}addDiamondIfToGraph(n){let r=this.diamond.createDiamondElement("if","black");r.attr("label/style","-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),r.attr("label/text",n),this.drawingMode=!0,this.changeDrawingMode(event),r.addTo(this.graph),this.closeModal()}addDiamondCaseToGraph(n){let r=this.diamond.createDiamondElement("case","blue");r.attr("label/style","-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),r.attr("label/text",n),this.drawingMode=!0,this.changeDrawingMode(event),r.addTo(this.graph),this.closeModal()}addDiamondJoinToGraph(){let n=this.diamond.createDiamondElement("join","red");this.drawingMode=!0,this.changeDrawingMode(event),n.addTo(this.graph)}addStartToGraph(){let n=this.start.createStartElement();this.drawingMode=!0,this.changeDrawingMode(event),n.addTo(this.graph)}addEndToGraph(){let n=this.end.createEndElement();this.drawingMode=!0,this.changeDrawingMode(event),n.addTo(this.graph)}updateElementCaption(n){this.activePaperElement.attr("label/text",n),this.elementEditing=!1,this.closeModal()}saveDiagram(){let n=this.graph.toJSON();console.log(n);let r="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n)),s=document.createElement("a");null==s||s.setAttribute("href",r),null==s||s.setAttribute("download","diagram.json"),null==s||s.click()}loadDiagram(){let n=document.getElementById("jsonUpload"),r=new FileReader;try{let i=n.files[0];if(null==i||null==i)return void console.log("No file selected!");r.readAsText(i)}catch(i){console.log(i)}r.onload=()=>{let i=JSON.parse(r.result);this.graph.fromJSON(i)}}changeDrawingMode(n){this.drawingMode?(this.drawingMode=!1,this.modeChanged(this.drawingMode),this.toggleCaption="Moving mode",n.checked=!0):(this.drawingMode=!0,this.modeChanged(this.drawingMode),this.toggleCaption="Drawing mode",n.checked=!1)}modeChanged(n){1==n?(this.graph.getElements().forEach(r=>{r.prop("attrs/body/magnet",!0)}),this.paper.options.interactive=!1):(this.graph.getElements().forEach(r=>{r.prop("attrs/body/magnet","passive")}),this.paper.options.interactive=!0)}showModal(n){let r;switch(n){case"action":r=document.getElementById("modalAction"),r.style.display="block";break;case"if":r=document.getElementById("modalIf"),r.style.display="block";break;case"case":r=document.getElementById("modalCase"),r.style.display="block";break;default:console.log("Unknown modal type!")}}closeModal(){let n=document.getElementById("modalAction"),r=document.getElementById("modalIf"),i=document.getElementById("modalCase");n.style.display="none",r.style.display="none",i.style.display="none",this.activePaperElement=null,this.activePaperElementCaption="",this.activePaperLink=null,this.activePaperLinkCaption=""}}return e.\u0275fac=function(n){return new(n||e)(Te(Dk))},e.\u0275cmp=To({type:e,selectors:[["app-diagram-paper"]],outputs:{currentElementName:"currentElementName"},features:[ir([Dk])],decls:79,vars:4,consts:[["id","toolbox",1,"toolbox"],["mat-stroked-button","","color","primary","id","module",1,"buttonMargin"],["mat-stroked-button","","color","primary","id","addAction",1,"buttonMargin",3,"click"],["mat-stroked-button","","color","primary","id","addDiamondIf",1,"buttonMargin",3,"click"],["mat-stroked-button","","color","primary","id","addDiamondCase",1,"buttonMargin",3,"click"],["mat-stroked-button","","color","primary","id","addJoin",1,"buttonMargin",3,"click"],["mat-stroked-button","","color","primary","id","addStart",1,"buttonMargin",3,"click"],["mat-stroked-button","","color","primary","id","addEnd",1,"buttonMargin",3,"click"],["mat-stroked-button","","color","primary","id","addLoop",1,"buttonMargin"],["id","toolbox2",1,"toolbox"],["mat-stroked-button","","color","primary","id","generate",1,"buttonMargin"],["mat-stroked-button","","color","primary","id","save",1,"buttonMargin",3,"click"],["mat-stroked-button","","color","primary","id","load",1,"buttonMargin",3,"click"],["type","file","id","jsonUpload","value","Load Diagram"],["id","paper-mode","color","primary",3,"change"],["toggle",""],["id","element-context-menu",1,"element-context-menu"],[1,"menu-options"],[1,"menu-option",3,"click"],[1,"menu-option-delete",3,"click"],["id","delete-context-menu",1,"element-context-menu"],["id","link-context-menu"],["id","modalAction",1,"modal"],[1,"modal-content"],["for","actionCaption"],["type","text","id","actionCaption","name","actionCaption","placeholder","Action caption...",3,"value"],["actionCaption",""],["type","button","value","Confirm",1,"saveButton",3,"click"],["type","button","value","Cancel",1,"cancelButton",3,"click"],["id","modalIf",1,"modal"],["for","ifCaption"],["type","text","id","ifCaption","name","ifCaption","placeholder","If caption...",3,"value"],["ifCaption",""],["id","modalCase",1,"modal"],["for","caseCaption"],["type","text","id","caseCaption","name","caseCaption","placeholder","Case caption...",3,"value"],["caseCaption",""]],template:function(n,r){if(1&n){const i=Pe();Tt(0,"h4"),Br(1,"Activity Diagrams"),Nt(),Tt(2,"div",0),Tt(3,"button",1),Br(4,"Module"),Nt(),Tt(5,"button",2),On("click",function(){return r.showModal("action")}),Br(6,"Action"),Nt(),Tt(7,"button",3),On("click",function(){return r.showModal("if")}),Br(8,"If"),Nt(),Tt(9,"button",4),On("click",function(){return r.showModal("case")}),Br(10,"Case"),Nt(),Tt(11,"button",5),On("click",function(){return r.addDiamondJoinToGraph()}),Br(12,"Join"),Nt(),Tt(13,"button",6),On("click",function(){return r.addStartToGraph()}),Br(14,"Start"),Nt(),Tt(15,"button",7),On("click",function(){return r.addEndToGraph()}),Br(16,"End"),Nt(),Tt(17,"button",8),Br(18,"Loop"),Nt(),Nt(),Li(19,"br"),Tt(20,"div",9),Tt(21,"button",10),Br(22,"Generate code"),Nt(),Tt(23,"button",11),On("click",function(){return r.saveDiagram()}),Br(24,"Save diagram"),Nt(),Tt(25,"button",12),On("click",function(){return r.loadDiagram()}),Br(26,"Load diagram"),Nt(),Li(27,"input",13),Tt(28,"mat-slide-toggle",14,15),On("change",function(o){return r.changeDrawingMode(o)}),Br(30),Nt(),Nt(),Li(31,"br"),Tt(32,"div",16),Tt(33,"ul",17),Tt(34,"li",18),On("click",function(){return r.onShowElementPropertiesClicked()}),Br(35,"Show element properties"),Nt(),Tt(36,"li",19),On("click",function(){return r.onDeleteElementClicked()}),Br(37,"Delete element"),Nt(),Nt(),Nt(),Tt(38,"div",20),Tt(39,"ul",17),Tt(40,"li",19),On("click",function(){return r.onDeleteElementClicked()}),Br(41,"Delete element"),Nt(),Nt(),Nt(),Tt(42,"div",21),Tt(43,"ul",17),Tt(44,"li",18),On("click",function(){return r.onShowLinkPropertiesClicked()}),Br(45,"Show link properties"),Nt(),Nt(),Nt(),Tt(46,"div",22),Tt(47,"div",23),Tt(48,"form"),Tt(49,"label",24),Br(50,"Action caption:"),Nt(),Li(51,"br"),Li(52,"input",25,26),Li(54,"br"),Tt(55,"input",27),On("click",function(){rf(i);const o=ph(53);return r.elementEditing?r.updateElementCaption(o.value):r.addActionToGraph(o.value)}),Nt(),Tt(56,"input",28),On("click",function(){return r.closeModal()}),Nt(),Nt(),Nt(),Nt(),Tt(57,"div",29),Tt(58,"div",23),Tt(59,"form"),Tt(60,"label",30),Br(61,"If caption:"),Nt(),Li(62,"br"),Li(63,"input",31,32),Li(65,"br"),Tt(66,"input",27),On("click",function(){rf(i);const o=ph(64);return r.elementEditing?r.updateElementCaption(o.value):r.addDiamondIfToGraph(o.value)}),Nt(),Tt(67,"input",28),On("click",function(){return r.closeModal()}),Nt(),Nt(),Nt(),Nt(),Tt(68,"div",33),Tt(69,"div",23),Tt(70,"form"),Tt(71,"label",34),Br(72,"Case caption:"),Nt(),Li(73,"br"),Li(74,"input",35,36),Li(76,"br"),Tt(77,"input",27),On("click",function(){rf(i);const o=ph(75);return r.elementEditing?r.updateElementCaption(o.value):r.addDiamondCaseToGraph(o.value)}),Nt(),Tt(78,"input",28),On("click",function(){return r.closeModal()}),Nt(),Nt(),Nt(),Nt()}2&n&&(Rs(30),JI(r.toggleCaption),Rs(22),mp("value",r.activePaperElementCaption),Rs(11),mp("value",r.activePaperElementCaption),Rs(11),mp("value",r.activePaperElementCaption))},directives:[A9,GP],styles:[".toolbox[_ngcontent-%COMP%]{margin-left:6px}.buttonMargin[_ngcontent-%COMP%]{margin-right:10px;border:1px solid black}.center[_ngcontent-%COMP%]{margin:auto;width:60%;padding:10px}.element-context-menu[_ngcontent-%COMP%]{width:180px;box-shadow:0 4px 5px 3px #0003;background:white;position:fixed;z-index:1;display:none;overflow:auto}#link-context-menu[_ngcontent-%COMP%]{box-shadow:0 4px 5px 3px #0003;background:white;position:fixed;z-index:1;display:none;overflow:auto}.menu-options[_ngcontent-%COMP%]{list-style:none;padding:1px 0}.menu-option[_ngcontent-%COMP%]{font-weight:500;font-size:14px;padding:10px 20px;cursor:pointer}.menu-option[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)}.menu-option-delete[_ngcontent-%COMP%]{font-weight:500;font-size:14px;padding:10px 20px;cursor:pointer}.menu-option-delete[_ngcontent-%COMP%]:hover{background:rgb(144,0,32);color:#fff}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:5% auto;padding:20px;border:1px solid #888;width:42%}textarea[_ngcontent-%COMP%]{margin-top:10%;display:block;margin-left:auto;margin-right:auto}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[type=button][_ngcontent-%COMP%]{width:100%;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:4px;cursor:pointer}input[type=button][_ngcontent-%COMP%]:disabled{background:rgb(255,255,255);cursor:default}.saveButton[_ngcontent-%COMP%]{background-color:#129216}.insert-button[_ngcontent-%COMP%]{background-color:#5fbae9}.cancelButton[_ngcontent-%COMP%]{background-color:red}.radio-inline[_ngcontent-%COMP%], .label-inline[_ngcontent-%COMP%]{padding-right:8px}"]}),e})()}];let j6=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e}),e.\u0275inj=C({imports:[[XT.forRoot(B6)],XT]}),e})(),V6=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=To({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){1&n&&(Tt(0,"h1"),Br(1,"DIAGRAMY NA ENDPOINTE /activity"),Nt(),Li(2,"router-outlet"))},directives:[mw],styles:[""]}),e})(),z6=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pi({type:e,bootstrap:[V6]}),e.\u0275inj=C({providers:[],imports:[[Vx,j6,s9,ZP],ZP]}),e})();function HP(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(d){return void n(d)}a.done?t(u):Promise.resolve(u).then(r,i)}function or(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(u){HP(s,r,i,o,a,"next",u)}function a(u){HP(s,r,i,o,a,"throw",u)}o(void 0)})}}class X6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function K6(){return"object"==typeof indexedDB}function J6(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){t(n)}})}class vm extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,vm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hC.prototype.create)}}class hC{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?function(e,t){return e.replace(nY,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new vm(i,`${this.serviceName}: ${o} (${i}).`,r)}}const nY=/\{\$([^}]+)}/g;function pC(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(JP(s)&&JP(o)){if(!pC(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JP(e){return null!==e&&"object"==typeof e}function QP(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function e2(e){return e&&e._delegate?e._delegate:e}class Zd{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hd="[DEFAULT]";class cY{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new X6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(n=null==t?void 0:t.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Hd})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(t=Hd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return or(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Hd){return this.instances.has(t)}getOptions(t=Hd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch(s){}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dY(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(t=Hd){return this.component?this.component.multipleInstances?t:Hd:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function dY(e){return e===Hd?void 0:e}class hY{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cY(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const bD=[];var ar=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ar||(ar={})),ar))();const t2={debug:ar.DEBUG,verbose:ar.VERBOSE,info:ar.INFO,warn:ar.WARN,error:ar.ERROR,silent:ar.SILENT},gY=ar.INFO,pY={[ar.DEBUG]:"log",[ar.VERBOSE]:"log",[ar.INFO]:"info",[ar.WARN]:"warn",[ar.ERROR]:"error"},mY=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=pY[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class n2{constructor(t){this.name=t,this._logLevel=gY,this._logHandler=mY,this._userLogHandler=null,bD.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ar))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?t2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ar.DEBUG,...t),this._logHandler(this,ar.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ar.VERBOSE,...t),this._logHandler(this,ar.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ar.INFO,...t),this._logHandler(this,ar.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ar.WARN,...t),this._logHandler(this,ar.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ar.ERROR,...t),this._logHandler(this,ar.ERROR,...t)}}class vY{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const ID="@firebase/app",AD=new n2("@firebase/app"),wD="[DEFAULT]",UY={[ID]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wd=new Map,mC=new Map;function ZY(e,t){try{e.container.addComponent(t)}catch(n){AD.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zh(e){const t=e.name;if(mC.has(t))return AD.debug(`There were multiple attempts to register component ${t}.`),!1;mC.set(t,e);for(const n of Wd.values())ZY(n,e);return!0}function ym(e,t){return e.container.getProvider(t)}const Cm=new hC("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class WY{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cm.create("app-deleted",{appName:this._name})}}function Sc(e,t,n){var r;let i=null!==(r=UY[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void AD.warn(a.join(" "))}Zh(new Zd(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}Zh(new Zd("platform-logger",t=>new vY(t),"PRIVATE")),Sc(ID,"0.7.11",""),Sc(ID,"0.7.11","esm2017"),Sc("fire-js",""),Sc("firebase","9.6.1","app");var JY=ut(940);const s2="@firebase/installations",a2="w:0.5.4",l2="FIS_v2",xu=new hC("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function u2(e){return e instanceof vm&&e.code.includes("request-failed")}function MD({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function c2(e){return{token:e.token,requestStatus:2,expiresIn:i8(e.expiresIn),creationTime:Date.now()}}function ED(e,t){return SD.apply(this,arguments)}function SD(){return SD=or(function*(e,t){const r=(yield t.json()).error;return xu.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),SD.apply(this,arguments)}function d2({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function f2(e,{refreshToken:t}){const n=d2(e);return n.append("Authorization",function(e){return`${l2} ${e}`}(t)),n}function xD(e){return TD.apply(this,arguments)}function TD(){return TD=or(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t}),TD.apply(this,arguments)}function i8(e){return Number(e.replace("s","000"))}function o8(e,t){return ND.apply(this,arguments)}function ND(){return ND=or(function*(e,{fid:t}){const n=MD(e),s={method:"POST",headers:d2(e),body:JSON.stringify({fid:t,authVersion:l2,appId:e.appId,sdkVersion:a2})},o=yield xD(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||t,registrationStatus:2,refreshToken:a.refreshToken,authToken:c2(a.authToken)}}throw yield ED("Create Installation",o)}),ND.apply(this,arguments)}function h2(e){return new Promise(t=>{setTimeout(t,e)})}const l8=/^[cdef][\w-]{21}$/;function u8(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function(e){return function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return l8.test(n)?n:""}catch(e){return""}}function Hh(e){return`${e.appName}!${e.appId}`}const Wh=new Map;function g2(e,t){const n=Hh(e);p2(n,t),function(e,t){const n=(!Yd&&"BroadcastChannel"in self&&(Yd=new BroadcastChannel("[Firebase] FID Change"),Yd.onmessage=e=>{p2(e.data.key,e.data.fid)}),Yd);n&&n.postMessage({key:e,fid:t}),0===Wh.size&&Yd&&(Yd.close(),Yd=null)}(n,t)}function p2(e,t){const n=Wh.get(e);if(n)for(const r of n)r(t)}let Yd=null;const Xd="firebase-installations-store";let OD=null;function PD(){return OD||(OD=(0,JY.openDb)("firebase-installations-database",1,e=>{0===e.oldVersion&&e.createObjectStore(Xd)})),OD}function vC(e,t){return RD.apply(this,arguments)}function RD(){return RD=or(function*(e,t){const n=Hh(e),i=(yield PD()).transaction(Xd,"readwrite"),s=i.objectStore(Xd),o=yield s.get(n);return yield s.put(t,n),yield i.complete,(!o||o.fid!==t.fid)&&g2(e,t.fid),t}),RD.apply(this,arguments)}function LD(e){return FD.apply(this,arguments)}function FD(){return FD=or(function*(e){const t=Hh(e),r=(yield PD()).transaction(Xd,"readwrite");yield r.objectStore(Xd).delete(t),yield r.complete}),FD.apply(this,arguments)}function bm(e,t){return BD.apply(this,arguments)}function BD(){return BD=or(function*(e,t){const n=Hh(e),i=(yield PD()).transaction(Xd,"readwrite"),s=i.objectStore(Xd),o=yield s.get(n),a=t(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&g2(e,a.fid),a}),BD.apply(this,arguments)}function jD(e){return VD.apply(this,arguments)}function VD(){return VD=or(function*(e){let t;const n=yield bm(e,r=>{const i=m8(r),s=v8(e,i);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),VD.apply(this,arguments)}function m8(e){return C2(e||{fid:u8(),registrationStatus:0})}function v8(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(xu.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return zD.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:C8(e)}:{installationEntry:t}}function zD(){return zD=or(function*(e,t){try{return vC(e,yield o8(e,t))}catch(n){throw u2(n)&&409===n.customData.serverCode?yield LD(e):yield vC(e,{fid:t.fid,registrationStatus:0}),n}}),zD.apply(this,arguments)}function C8(e){return GD.apply(this,arguments)}function GD(){return GD=or(function*(e){let t=yield y2(e);for(;1===t.registrationStatus;)yield h2(100),t=yield y2(e);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield jD(e);return r||n}return t}),GD.apply(this,arguments)}function y2(e){return bm(e,t=>{if(!t)throw xu.create("installation-not-found");return C2(t)})}function C2(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function I8(e,t){return UD.apply(this,arguments)}function UD(){return UD=or(function*({appConfig:e,platformLoggerProvider:t},n){const r=A8(e,n),i=f2(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:a2}})},u=yield xD(()=>fetch(r,a));if(u.ok)return c2(yield u.json());throw yield ED("Generate Auth Token",u)}),UD.apply(this,arguments)}function A8(e,{fid:t}){return`${MD(e)}/${t}/authTokens:generate`}function ZD(e){return HD.apply(this,arguments)}function HD(){return HD=or(function*(e,t=!1){let n;const r=yield bm(e.appConfig,s=>{if(!I2(s))throw xu.create("not-registered");const o=s.authToken;if(!t&&D8(o))return s;if(1===o.requestStatus)return n=w8(e,t),s;{if(!navigator.onLine)throw xu.create("app-offline");const a=E8(s);return n=_8(e,a),a}});return n?yield n:r.authToken}),HD.apply(this,arguments)}function w8(e,t){return WD.apply(this,arguments)}function WD(){return WD=or(function*(e,t){let n=yield b2(e.appConfig);for(;1===n.authToken.requestStatus;)yield h2(100),n=yield b2(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ZD(e,t):r}),WD.apply(this,arguments)}function b2(e){return bm(e,t=>{if(!I2(t))throw xu.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function _8(e,t){return YD.apply(this,arguments)}function YD(){return YD=or(function*(e,t){try{const n=yield I8(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield vC(e.appConfig,r),n}catch(n){if(!u2(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield vC(e.appConfig,r)}else yield LD(e.appConfig);throw n}}),YD.apply(this,arguments)}function I2(e){return void 0!==e&&2===e.registrationStatus}function D8(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function E8(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function XD(){return XD=or(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield jD(t.appConfig);return r?r.catch(console.error):ZD(t).catch(console.error),n.fid}),XD.apply(this,arguments)}function $D(){return $D=or(function*(e,t=!1){const n=e;return yield N8(n.appConfig),(yield ZD(n,t)).token}),$D.apply(this,arguments)}function N8(e){return qD.apply(this,arguments)}function qD(){return qD=or(function*(e){const{registrationPromise:t}=yield jD(e);t&&(yield t)}),qD.apply(this,arguments)}function QD(e){return xu.create("missing-app-config-values",{valueName:e})}const A2="installations";Zh(new Zd(A2,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw QD("App Configuration");if(!e.name)throw QD("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw QD(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:ym(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Zh(new Zd("installations-internal",e=>{const n=ym(e.getProvider("app").getImmediate(),A2).getImmediate();return{getId:()=>function(e){return XD.apply(this,arguments)}(n),getToken:i=>function(e){return $D.apply(this,arguments)}(n,i)}},"PRIVATE")),Sc(s2,"0.5.4"),Sc(s2,"0.5.4","esm2017");const yC="analytics",j8="firebase_id",G8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",w2="https://www.googletagmanager.com/gtag/js",Is=new n2("@firebase/analytics");function _2(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function U8(e,t){const n=document.createElement("script");n.src=`${w2}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function H8(e,t,n,r,i,s){return eM.apply(this,arguments)}function eM(){return eM=or(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const u=(yield _2(n)).find(d=>d.measurementId===i);u&&(yield t[u.appId])}}catch(a){Is.error(a)}e("config",i,s)}),eM.apply(this,arguments)}function W8(e,t,n,r,i){return tM.apply(this,arguments)}function tM(){return tM=or(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield _2(n);for(const u of o){const d=a.find(h=>h.measurementId===u),g=d&&t[d.appId];if(!g){s=[];break}s.push(g)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Is.error(s)}}),tM.apply(this,arguments)}function $8(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(w2))return t;return null}const Ho=new hC("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),D2=new class{constructor(t={},n=1e3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function eX(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function tX(e){return nM.apply(this,arguments)}function nM(){return nM=or(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:eX(r)},s=G8.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(t=u.error)||void 0===t?void 0:t.message)&&(a=u.error.message)}catch(u){}throw Ho.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),nM.apply(this,arguments)}function nX(e){return rM.apply(this,arguments)}function rM(){return rM=or(function*(e,t=D2,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Ho.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ho.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new sX;return setTimeout(or(function*(){a.abort()}),void 0!==n?n:6e4),M2({appId:r,apiKey:i,measurementId:s},o,a,t)}),rM.apply(this,arguments)}function M2(e,t,n){return iM.apply(this,arguments)}function iM(){return iM=or(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=D2){const{appId:s,measurementId:o}=e;try{yield rX(r,t)}catch(a){if(o)return Is.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield tX(e);return i.deleteThrottleMetadata(s),a}catch(a){if(!iX(a)){if(i.deleteThrottleMetadata(s),o)return Is.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?QP(n,i.intervalMillis,30):QP(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,d),Is.debug(`Calling attemptFetch again in ${u} millis`),M2(e,d,r,i)}}),iM.apply(this,arguments)}function rX(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Ho.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function iX(e){if(!(e instanceof vm&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class sX{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function oX(){return sM.apply(this,arguments)}function sM(){return sM=or(function*(){if(!K6())return Is.warn(Ho.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield J6()}catch(e){return Is.warn(Ho.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}),sM.apply(this,arguments)}function oM(){return oM=or(function*(e,t,n,r,i,s,o){var a;const u=nX(e);u.then(w=>{n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&Is.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Is.error(w)),t.push(u);const d=oX().then(w=>{if(w)return r.getId()}),[g,h]=yield Promise.all([u,d]);$8()||U8(s,g.measurementId),i("js",new Date);const y=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return y.origin="firebase",y.update=!0,null!=h&&(y[j8]=h),i("config",g.measurementId,y),g.measurementId}),oM.apply(this,arguments)}class lX{constructor(t){this.app=t}_delete(){return delete Tu[this.app.options.appId],Promise.resolve()}}let Tu={},E2=[];const S2={};let T2,Im,CC="dataLayer",aM=!1;function cX(e,t,n){!function(){const e=[];if(function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),!("undefined"==typeof navigator||!navigator.cookieEnabled)||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ho.create("invalid-analytics-context",{errorInfo:t});Is.warn(n.message)}}();const r=e.options.appId;if(!r)throw Ho.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ho.create("no-api-key");Is.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tu[r])throw Ho.create("already-exists",{id:r});if(!aM){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(CC);const{wrappedGtag:s,gtagCore:o}=function(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(e,t,n,r){function s(){return(s=or(function*(o,a,u){try{"event"===o?yield W8(e,t,n,a,u):"config"===o?yield H8(e,t,n,r,a,u):e("set",a)}catch(d){Is.error(d)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Tu,E2,S2,CC,"gtag");Im=s,T2=o,aM=!0}return Tu[r]=function(e,t,n,r,i,s,o){return oM.apply(this,arguments)}(e,E2,S2,t,T2,CC,n),new lX(e)}function lM(){return lM=or(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const s=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),lM.apply(this,arguments)}const N2="@firebase/analytics";Zh(new Zd(yC,(t,{options:n})=>cX(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Zh(new Zd("analytics-internal",function(t){try{const n=t.getProvider(yC).getImmediate();return{logEvent:(r,i,s)=>function(e,t,n,r){e=e2(e),function(e,t,n,r,i){return lM.apply(this,arguments)}(Im,Tu[e.app.options.appId],t,n,r).catch(i=>Is.error(i))}(n,r,i,s)}}catch(n){throw Ho.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Sc(N2,"0.7.4"),Sc(N2,"0.7.4","esm2017");const bX=function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:wD,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Cm.create("bad-app-name",{appName:String(r)});const i=Wd.get(r);if(i){if(pC(e,i.options)&&pC(n,i.config))return i;throw Cm.create("duplicate-app",{appName:r})}const s=new hY(r);for(const a of mC.values())s.addComponent(a);const o=new WY(e,n,s);return Wd.set(r,o),o}({apiKey:"AIzaSyCicijCz-sJ8fORlqMW0x-3PxT3pvlkENM",authDomain:"activity-diagrams.firebaseapp.com",projectId:"activity-diagrams",storageBucket:"activity-diagrams.appspot.com",messagingSenderId:"163878131006",appId:"1:163878131006:web:81832421e12c5161c4486f",measurementId:"G-K6B2N874H8"});!function(e=function(e=wD){const t=Wd.get(e);if(!t)throw Cm.create("no-app",{appName:e});return t}()){const t=ym(e=e2(e),yC);t.isInitialized()?t.getImmediate():function(e,t={}){const n=ym(e,yC);if(n.isInitialized()){const i=n.getImmediate();if(pC(t,n.getOptions()))return i;throw Ho.create("already-initialized")}n.initialize({options:t})}(e)}(bX),JS=!1,AV().bootstrapModule(z6).catch(e=>console.error(e))},66:(fi,wi,ut)=>{var pr,U,It;It="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global,pr=[ut(610),ut(259),wi],void 0!==(U=function(_i,Gr,un){It.Backbone=function(_r,It,xe,vn){var _i=_r.Backbone,Gr=Array.prototype.slice;It.VERSION="1.4.0",It.$=vn,It.noConflict=function(){return _r.Backbone=_i,this},It.emulateHTTP=!1,It.emulateJSON=!1;var yn,un=It.Events={},Dr=/\s+/,er=function(N,O,q,ne,we){var Le,_e=0;if(q&&"object"==typeof q)for((void 0!==ne&&"context"in we&&void 0===we.context&&(we.context=ne),Le=xe.keys(q));_e<Le.length;_e++)O=er(N,O,Le[_e],q[Le[_e]],we);else if(q&&Dr.test(q))for(Le=q.split(Dr);_e<Le.length;_e++)O=N(O,Le[_e],ne,we);else O=N(O,q,ne,we);return O};un.on=function(N,O,q){return this._events=er(Or,this._events||{},N,O,{context:q,ctx:this,listening:yn}),yn&&((this._listeners||(this._listeners={}))[yn.id]=yn,yn.interop=!1),this},un.listenTo=function(N,O,q){if(!N)return this;var ne=N._listenId||(N._listenId=xe.uniqueId("l")),we=this._listeningTo||(this._listeningTo={}),_e=yn=we[ne];_e||(this._listenId||(this._listenId=xe.uniqueId("l")),_e=yn=we[ne]=new st(this,N));var Le=Qr(N,O,q,this);if(yn=void 0,Le)throw Le;return _e.interop&&_e.on(O,q),this};var Or=function(N,O,q,ne){if(q){var we=N[O]||(N[O]=[]),_e=ne.context,Le=ne.ctx,nt=ne.listening;nt&&nt.count++,we.push({callback:q,context:_e,ctx:_e||Le,listening:nt})}return N},Qr=function(N,O,q,ne){try{N.on(O,q,ne)}catch(we){return we}};un.off=function(N,O,q){return this._events?(this._events=er(Jt,this._events,N,O,{context:q,listeners:this._listeners}),this):this},un.stopListening=function(N,O,q){var ne=this._listeningTo;if(!ne)return this;for(var we=N?[N._listenId]:xe.keys(ne),_e=0;_e<we.length;_e++){var Le=ne[we[_e]];if(!Le)break;Le.obj.off(O,q,this),Le.interop&&Le.off(O,q)}return xe.isEmpty(ne)&&(this._listeningTo=void 0),this};var Jt=function(N,O,q,ne){if(N){var nt,we=ne.context,_e=ne.listeners,Le=0;if(!O&&!we&&!q){for(nt=xe.keys(_e);Le<nt.length;Le++)_e[nt[Le]].cleanup();return}for(nt=O?[O]:xe.keys(N);Le<nt.length;Le++){var pt=N[O=nt[Le]];if(!pt)break;for(var Cn=[],$n=0;$n<pt.length;$n++){var tn=pt[$n];if(q&&q!==tn.callback&&q!==tn.callback._callback||we&&we!==tn.context)Cn.push(tn);else{var lr=tn.listening;lr&&lr.off(O,q)}}Cn.length?N[O]=Cn:delete N[O]}return N}};un.once=function(N,O,q){var ne=er(ot,{},N,O,this.off.bind(this));return"string"==typeof N&&null==q&&(O=void 0),this.on(ne,O,q)},un.listenToOnce=function(N,O,q){var ne=er(ot,{},O,q,this.stopListening.bind(this,N));return this.listenTo(N,ne)};var ot=function(N,O,q,ne){if(q){var we=N[O]=xe.once(function(){ne(O,we),q.apply(this,arguments)});we._callback=q}return N};un.trigger=function(N){if(!this._events)return this;for(var O=Math.max(0,arguments.length-1),q=Array(O),ne=0;ne<O;ne++)q[ne]=arguments[ne+1];return er(Xe,this._events,N,void 0,q),this};var Xe=function(N,O,q,ne){if(N){var we=N[O],_e=N.all;we&&_e&&(_e=_e.slice()),we&&ze(we,ne),_e&&ze(_e,[O].concat(ne))}return N},ze=function(N,O){var q,ne=-1,we=N.length,_e=O[0],Le=O[1],nt=O[2];switch(O.length){case 0:for(;++ne<we;)(q=N[ne]).callback.call(q.ctx);return;case 1:for(;++ne<we;)(q=N[ne]).callback.call(q.ctx,_e);return;case 2:for(;++ne<we;)(q=N[ne]).callback.call(q.ctx,_e,Le);return;case 3:for(;++ne<we;)(q=N[ne]).callback.call(q.ctx,_e,Le,nt);return;default:for(;++ne<we;)(q=N[ne]).callback.apply(q.ctx,O);return}},st=function(N,O){this.id=N._listenId,this.listener=N,this.obj=O,this.interop=!0,this.count=0,this._events=void 0};st.prototype.on=un.on,st.prototype.off=function(N,O){var q;this.interop?(this._events=er(Jt,this._events,N,O,{context:void 0,listeners:void 0}),q=!this._events):(this.count--,q=0===this.count),q&&this.cleanup()},st.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},un.bind=un.on,un.unbind=un.off,xe.extend(It,un);var St=It.Model=function(N,O){var q=N||{};O||(O={}),this.preinitialize.apply(this,arguments),this.cid=xe.uniqueId(this.cidPrefix),this.attributes={},O.collection&&(this.collection=O.collection),O.parse&&(q=this.parse(q,O)||{});var ne=xe.result(this,"defaults");q=xe.defaults(xe.extend({},ne,q),ne),this.set(q,O),this.changed={},this.initialize.apply(this,arguments)};xe.extend(St.prototype,un,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(N){return xe.clone(this.attributes)},sync:function(){return It.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return xe.escape(this.get(N))},has:function(N){return null!=this.get(N)},matches:function(N){return!!xe.iteratee(N,this)(this.attributes)},set:function(N,O,q){if(null==N)return this;var ne;if("object"==typeof N?(ne=N,q=O):(ne={})[N]=O,q||(q={}),!this._validate(ne,q))return!1;var we=q.unset,_e=q.silent,Le=[],nt=this._changing;this._changing=!0,nt||(this._previousAttributes=xe.clone(this.attributes),this.changed={});var pt=this.attributes,Cn=this.changed,$n=this._previousAttributes;for(var tn in ne)xe.isEqual(pt[tn],O=ne[tn])||Le.push(tn),xe.isEqual($n[tn],O)?delete Cn[tn]:Cn[tn]=O,we?delete pt[tn]:pt[tn]=O;if(this.idAttribute in ne&&(this.id=this.get(this.idAttribute)),!_e){Le.length&&(this._pending=q);for(var lr=0;lr<Le.length;lr++)this.trigger("change:"+Le[lr],this,pt[Le[lr]],q)}if(nt)return this;if(!_e)for(;this._pending;)q=this._pending,this._pending=!1,this.trigger("change",this,q);return this._pending=!1,this._changing=!1,this},unset:function(N,O){return this.set(N,void 0,xe.extend({},O,{unset:!0}))},clear:function(N){var O={};for(var q in this.attributes)O[q]=void 0;return this.set(O,xe.extend({},N,{unset:!0}))},hasChanged:function(N){return null==N?!xe.isEmpty(this.changed):xe.has(this.changed,N)},changedAttributes:function(N){if(!N)return!!this.hasChanged()&&xe.clone(this.changed);var ne,O=this._changing?this._previousAttributes:this.attributes,q={};for(var we in N){var _e=N[we];xe.isEqual(O[we],_e)||(q[we]=_e,ne=!0)}return!!ne&&q},previous:function(N){return null!=N&&this._previousAttributes?this._previousAttributes[N]:null},previousAttributes:function(){return xe.clone(this._previousAttributes)},fetch:function(N){N=xe.extend({parse:!0},N);var O=this,q=N.success;return N.success=function(ne){var we=N.parse?O.parse(ne,N):ne;if(!O.set(we,N))return!1;q&&q.call(N.context,O,ne,N),O.trigger("sync",O,ne,N)},Nn(this,N),this.sync("read",this,N)},save:function(N,O,q){var ne;null==N||"object"==typeof N?(ne=N,q=O):(ne={})[N]=O;var we=(q=xe.extend({validate:!0,parse:!0},q)).wait;if(ne&&!we){if(!this.set(ne,q))return!1}else if(!this._validate(ne,q))return!1;var _e=this,Le=q.success,nt=this.attributes;q.success=function($n){_e.attributes=nt;var tn=q.parse?_e.parse($n,q):$n;if(we&&(tn=xe.extend({},ne,tn)),tn&&!_e.set(tn,q))return!1;Le&&Le.call(q.context,_e,$n,q),_e.trigger("sync",_e,$n,q)},Nn(this,q),ne&&we&&(this.attributes=xe.extend({},nt,ne));var pt=this.isNew()?"create":q.patch?"patch":"update";"patch"===pt&&!q.attrs&&(q.attrs=ne);var Cn=this.sync(pt,this,q);return this.attributes=nt,Cn},destroy:function(N){N=N?xe.clone(N):{};var O=this,q=N.success,ne=N.wait,we=function(){O.stopListening(),O.trigger("destroy",O,O.collection,N)};N.success=function(Le){ne&&we(),q&&q.call(N.context,O,Le,N),O.isNew()||O.trigger("sync",O,Le,N)};var _e=!1;return this.isNew()?xe.defer(N.success):(Nn(this,N),_e=this.sync("delete",this,N)),ne||we(),_e},url:function(){var N=xe.result(this,"urlRoot")||xe.result(this.collection,"url")||kt();if(this.isNew())return N;var O=this.get(this.idAttribute);return N.replace(/[^\/]$/,"$&/")+encodeURIComponent(O)},parse:function(N,O){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(N){return this._validate({},xe.extend({},N,{validate:!0}))},_validate:function(N,O){if(!O.validate||!this.validate)return!0;N=xe.extend({},this.attributes,N);var q=this.validationError=this.validate(N,O)||null;return!q||(this.trigger("invalid",this,q,xe.extend(O,{validationError:q})),!1)}});var Ge=It.Collection=function(N,O){O||(O={}),this.preinitialize.apply(this,arguments),O.model&&(this.model=O.model),void 0!==O.comparator&&(this.comparator=O.comparator),this._reset(),this.initialize.apply(this,arguments),N&&this.reset(N,xe.extend({silent:!0},O))},Wn={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1},ei=function(N,O,q){q=Math.min(Math.max(q,0),N.length);var _e,ne=Array(N.length-q),we=O.length;for(_e=0;_e<ne.length;_e++)ne[_e]=N[_e+q];for(_e=0;_e<we;_e++)N[_e+q]=O[_e];for(_e=0;_e<ne.length;_e++)N[_e+we+q]=ne[_e]};xe.extend(Ge.prototype,un,{model:St,preinitialize:function(){},initialize:function(){},toJSON:function(N){return this.map(function(O){return O.toJSON(N)})},sync:function(){return It.sync.apply(this,arguments)},add:function(N,O){return this.set(N,xe.extend({merge:!1},O,_))},remove:function(N,O){O=xe.extend({},O);var q=!xe.isArray(N);N=q?[N]:N.slice();var ne=this._removeModels(N,O);return!O.silent&&ne.length&&(O.changes={added:[],merged:[],removed:ne},this.trigger("update",this,O)),q?ne[0]:ne},set:function(N,O){if(null!=N){(O=xe.extend({},Wn,O)).parse&&!this._isModel(N)&&(N=this.parse(N,O)||[]);var q=!xe.isArray(N);N=q?[N]:N.slice();var ne=O.at;null!=ne&&(ne=+ne),ne>this.length&&(ne=this.length),ne<0&&(ne+=this.length+1);var qn,vr,we=[],_e=[],Le=[],nt=[],pt={},Cn=O.add,$n=O.merge,tn=O.remove,lr=!1,Gs=this.comparator&&null==ne&&!1!==O.sort,Xo=xe.isString(this.comparator)?this.comparator:null;for(vr=0;vr<N.length;vr++){var xr=this.get(qn=N[vr]);if(xr){if($n&&qn!==xr){var Gi=this._isModel(qn)?qn.attributes:qn;O.parse&&(Gi=xr.parse(Gi,O)),xr.set(Gi,O),Le.push(xr),Gs&&!lr&&(lr=xr.hasChanged(Xo))}pt[xr.cid]||(pt[xr.cid]=!0,we.push(xr)),N[vr]=xr}else Cn&&(qn=N[vr]=this._prepareModel(qn,O))&&(_e.push(qn),this._addReference(qn,O),pt[qn.cid]=!0,we.push(qn))}if(tn){for(vr=0;vr<this.length;vr++)pt[(qn=this.models[vr]).cid]||nt.push(qn);nt.length&&this._removeModels(nt,O)}var $o=!1;if(we.length&&!Gs&&Cn&&tn?($o=this.length!==we.length||xe.some(this.models,function(Pr,Rr){return Pr!==we[Rr]}),this.models.length=0,ei(this.models,we,0),this.length=this.models.length):_e.length&&(Gs&&(lr=!0),ei(this.models,_e,null==ne?this.length:ne),this.length=this.models.length),lr&&this.sort({silent:!0}),!O.silent){for(vr=0;vr<_e.length;vr++)null!=ne&&(O.index=ne+vr),(qn=_e[vr]).trigger("add",qn,this,O);(lr||$o)&&this.trigger("sort",this,O),(_e.length||nt.length||Le.length)&&(O.changes={added:_e,removed:nt,merged:Le},this.trigger("update",this,O))}return q?N[0]:N}},reset:function(N,O){O=O?xe.clone(O):{};for(var q=0;q<this.models.length;q++)this._removeReference(this.models[q],O);return O.previousModels=this.models,this._reset(),N=this.add(N,xe.extend({silent:!0},O)),O.silent||this.trigger("reset",this,O),N},push:function(N,O){return this.add(N,xe.extend({at:this.length},O))},pop:function(N){var O=this.at(this.length-1);return this.remove(O,N)},unshift:function(N,O){return this.add(N,xe.extend({at:0},O))},shift:function(N){var O=this.at(0);return this.remove(O,N)},slice:function(){return Gr.apply(this.models,arguments)},get:function(N){if(null!=N)return this._byId[N]||this._byId[this.modelId(this._isModel(N)?N.attributes:N)]||N.cid&&this._byId[N.cid]},has:function(N){return null!=this.get(N)},at:function(N){return N<0&&(N+=this.length),this.models[N]},where:function(N,O){return this[O?"find":"filter"](N)},findWhere:function(N){return this.where(N,!0)},sort:function(N){var O=this.comparator;if(!O)throw new Error("Cannot sort a set without a comparator");N||(N={});var q=O.length;return xe.isFunction(O)&&(O=O.bind(this)),1===q||xe.isString(O)?this.models=this.sortBy(O):this.models.sort(O),N.silent||this.trigger("sort",this,N),this},pluck:function(N){return this.map(N+"")},fetch:function(N){var O=(N=xe.extend({parse:!0},N)).success,q=this;return N.success=function(ne){q[N.reset?"reset":"set"](ne,N),O&&O.call(N.context,q,ne,N),q.trigger("sync",q,ne,N)},Nn(this,N),this.sync("read",this,N)},create:function(N,O){var q=(O=O?xe.clone(O):{}).wait;if(!(N=this._prepareModel(N,O)))return!1;q||this.add(N,O);var ne=this,we=O.success;return O.success=function(_e,Le,nt){q&&ne.add(_e,nt),we&&we.call(nt.context,_e,Le,nt)},N.save(null,O),N},parse:function(N,O){return N},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(N){return N[this.model.prototype.idAttribute||"id"]},values:function(){return new Di(this,Wo)},keys:function(){return new Di(this,Yo)},entries:function(){return new Di(this,rr)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(N,O){if(this._isModel(N))return N.collection||(N.collection=this),N;(O=O?xe.clone(O):{}).collection=this;var q=new this.model(N,O);return q.validationError?(this.trigger("invalid",this,q.validationError,O),!1):q},_removeModels:function(N,O){for(var q=[],ne=0;ne<N.length;ne++){var we=this.get(N[ne]);if(we){var _e=this.indexOf(we);this.models.splice(_e,1),this.length--,delete this._byId[we.cid];var Le=this.modelId(we.attributes);null!=Le&&delete this._byId[Le],O.silent||(O.index=_e,we.trigger("remove",we,this,O)),q.push(we),this._removeReference(we,O)}}return q},_isModel:function(N){return N instanceof St},_addReference:function(N,O){this._byId[N.cid]=N;var q=this.modelId(N.attributes);null!=q&&(this._byId[q]=N),N.on("all",this._onModelEvent,this)},_removeReference:function(N,O){delete this._byId[N.cid];var q=this.modelId(N.attributes);null!=q&&delete this._byId[q],this===N.collection&&delete N.collection,N.off("all",this._onModelEvent,this)},_onModelEvent:function(N,O,q,ne){if(O){if(("add"===N||"remove"===N)&&q!==this)return;if("destroy"===N&&this.remove(O,ne),"change"===N){var we=this.modelId(O.previousAttributes()),_e=this.modelId(O.attributes);we!==_e&&(null!=we&&delete this._byId[we],null!=_e&&(this._byId[_e]=O))}}this.trigger.apply(this,arguments)}});var Ln="function"==typeof Symbol&&Symbol.iterator;Ln&&(Ge.prototype[Ln]=Ge.prototype.values);var Di=function(N,O){this._collection=N,this._kind=O,this._index=0},Wo=1,Yo=2,rr=3;Ln&&(Di.prototype[Ln]=function(){return this}),Di.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var O,N=this._collection.at(this._index);if(this._index++,this._kind===Wo)O=N;else{var q=this._collection.modelId(N.attributes);O=this._kind===Yo?q:[q,N]}return{value:O,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var _s=It.View=function(N){this.cid=xe.uniqueId("view"),this.preinitialize.apply(this,arguments),xe.extend(this,xe.pick(N,co)),this._ensureElement(),this.initialize.apply(this,arguments)},_o=/^(\S+)\s*(.*)$/,co=["model","collection","el","id","attributes","className","tagName","events"];xe.extend(_s.prototype,un,{tagName:"div",$:function(N){return this.$el.find(N)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(N){return this.undelegateEvents(),this._setElement(N),this.delegateEvents(),this},_setElement:function(N){this.$el=N instanceof It.$?N:It.$(N),this.el=this.$el[0]},delegateEvents:function(N){if(N||(N=xe.result(this,"events")),!N)return this;for(var O in this.undelegateEvents(),N){var q=N[O];if(xe.isFunction(q)||(q=this[q]),q){var ne=O.match(_o);this.delegate(ne[1],ne[2],q.bind(this))}}return this},delegate:function(N,O,q){return this.$el.on(N+".delegateEvents"+this.cid,O,q),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(N,O,q){return this.$el.off(N+".delegateEvents"+this.cid,O,q),this},_createElement:function(N){return document.createElement(N)},_ensureElement:function(){if(this.el)this.setElement(xe.result(this,"el"));else{var N=xe.extend({},xe.result(this,"attributes"));this.id&&(N.id=xe.result(this,"id")),this.className&&(N.class=xe.result(this,"className")),this.setElement(this._createElement(xe.result(this,"tagName"))),this._setAttributes(N)}},_setAttributes:function(N){this.$el.attr(N)}});var Vi=function(N,O,q,ne){xe.each(q,function(we,_e){O[_e]&&(N.prototype[_e]=function(N,O,q,ne){switch(O){case 1:return function(){return N[q](this[ne])};case 2:return function(we){return N[q](this[ne],we)};case 3:return function(we,_e){return N[q](this[ne],_a(we,this),_e)};case 4:return function(we,_e,Le){return N[q](this[ne],_a(we,this),_e,Le)};default:return function(){var we=Gr.call(arguments);return we.unshift(this[ne]),N[q].apply(N,we)}}}(O,we,_e,ne))})},_a=function(N,O){return xe.isFunction(N)?N:xe.isObject(N)&&!O._isModel(N)?Ds(N):xe.isString(N)?function(q){return q.get(N)}:N},Ds=function(N){var O=xe.matches(N);return function(q){return O(q.attributes)}};xe.each([[Ge,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[St,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(N){var O=N[0],q=N[1],ne=N[2];O.mixin=function(we){var _e=xe.reduce(xe.functions(we),function(Le,nt){return Le[nt]=0,Le},{});Vi(O,we,_e,ne)},Vi(O,xe,q,ne)}),It.sync=function(N,O,q){var ne=zs[N];xe.defaults(q||(q={}),{emulateHTTP:It.emulateHTTP,emulateJSON:It.emulateJSON});var we={type:ne,dataType:"json"};if(q.url||(we.url=xe.result(O,"url")||kt()),null==q.data&&O&&("create"===N||"update"===N||"patch"===N)&&(we.contentType="application/json",we.data=JSON.stringify(q.attrs||O.toJSON(q))),q.emulateJSON&&(we.contentType="application/x-www-form-urlencoded",we.data=we.data?{model:we.data}:{}),q.emulateHTTP&&("PUT"===ne||"DELETE"===ne||"PATCH"===ne)){we.type="POST",q.emulateJSON&&(we.data._method=ne);var _e=q.beforeSend;q.beforeSend=function(pt){if(pt.setRequestHeader("X-HTTP-Method-Override",ne),_e)return _e.apply(this,arguments)}}"GET"!==we.type&&!q.emulateJSON&&(we.processData=!1);var Le=q.error;q.error=function(pt,Cn,$n){q.textStatus=Cn,q.errorThrown=$n,Le&&Le.call(q.context,pt,Cn,$n)};var nt=q.xhr=It.ajax(xe.extend(we,q));return O.trigger("request",O,nt,q),nt};var zs={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};It.ajax=function(){return It.$.ajax.apply(It.$,arguments)};var Er=It.Router=function(N){N||(N={}),this.preinitialize.apply(this,arguments),N.routes&&(this.routes=N.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},ti=/\((.*?)\)/g,is=/(\(\?)?:\w+/g,Da=/\*\w+/g,zi=/[\-{}\[\]+?.,\\\^$|#\s]/g;xe.extend(Er.prototype,un,{preinitialize:function(){},initialize:function(){},route:function(N,O,q){xe.isRegExp(N)||(N=this._routeToRegExp(N)),xe.isFunction(O)&&(q=O,O=""),q||(q=this[O]);var ne=this;return It.history.route(N,function(we){var _e=ne._extractParameters(N,we);!1!==ne.execute(q,_e,O)&&(ne.trigger.apply(ne,["route:"+O].concat(_e)),ne.trigger("route",O,_e),It.history.trigger("route",ne,O,_e))}),this},execute:function(N,O,q){N&&N.apply(this,O)},navigate:function(N,O){return It.history.navigate(N,O),this},_bindRoutes:function(){if(this.routes){this.routes=xe.result(this,"routes");for(var N,O=xe.keys(this.routes);null!=(N=O.pop());)this.route(N,this.routes[N])}},_routeToRegExp:function(N){return N=N.replace(zi,"\\$&").replace(ti,"(?:$1)?").replace(is,function(O,q){return q?O:"([^/?]+)"}).replace(Da,"([^?]*?)"),new RegExp("^"+N+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(N,O){var q=N.exec(O).slice(1);return xe.map(q,function(ne,we){return we===q.length-1?ne||null:ne?decodeURIComponent(ne):null})}});var Sr=It.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},hi=/^[#\/]|\s+$/g,Ur=/^\/+|\/+$/g,Ma=/#.*$/;Sr.started=!1,xe.extend(Sr.prototype,un,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(N){return decodeURI(N.replace(/%25/g,"%2525"))},getSearch:function(){var N=this.location.href.replace(/#.*/,"").match(/\?.+/);return N?N[0]:""},getHash:function(N){var O=(N||this).location.href.match(/#(.*)$/);return O?O[1]:""},getPath:function(){var N=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===N.charAt(0)?N.slice(1):N},getFragment:function(N){return null==N&&(N=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),N.replace(hi,"")},start:function(N){if(Sr.started)throw new Error("Backbone.history has already been started");if(Sr.started=!0,this.options=xe.extend({root:"/"},this.options,N),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ur,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var O=this.root.slice(0,-1)||"/";return this.location.replace(O+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var q=document.body,ne=q.insertBefore(this.iframe,q.firstChild).contentWindow;ne.document.open(),ne.document.close(),ne.location.hash="#"+this.fragment}var we=window.addEventListener||function(_e,Le){return attachEvent("on"+_e,Le)};if(this._usePushState?we("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?we("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var N=window.removeEventListener||function(O,q){return detachEvent("on"+O,q)};this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&N("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Sr.started=!1},route:function(N,O){this.handlers.unshift({route:N,callback:O})},checkUrl:function(N){var O=this.getFragment();if(O===this.fragment&&this.iframe&&(O=this.getHash(this.iframe.contentWindow)),O===this.fragment)return!1;this.iframe&&this.navigate(O),this.loadUrl()},loadUrl:function(N){return!!this.matchRoot()&&(N=this.fragment=this.getFragment(N),xe.some(this.handlers,function(O){if(O.route.test(N))return O.callback(N),!0}))},navigate:function(N,O){if(!Sr.started)return!1;(!O||!0===O)&&(O={trigger:!!O}),N=this.getFragment(N||"");var q=this.root;(""===N||"?"===N.charAt(0))&&(q=q.slice(0,-1)||"/");var ne=q+N;N=N.replace(Ma,"");var we=this.decodeFragment(N);if(this.fragment!==we){if(this.fragment=we,this._usePushState)this.history[O.replace?"replaceState":"pushState"]({},document.title,ne);else{if(!this._wantsHashChange)return this.location.assign(ne);if(this._updateHash(this.location,N,O.replace),this.iframe&&N!==this.getHash(this.iframe.contentWindow)){var _e=this.iframe.contentWindow;O.replace||(_e.document.open(),_e.document.close()),this._updateHash(_e.location,N,O.replace)}}if(O.trigger)return this.loadUrl(N)}},_updateHash:function(N,O,q){if(q){var ne=N.href.replace(/(javascript:|#).*$/,"");N.replace(ne+"#"+O)}else N.hash="#"+O}}),It.history=new Sr;St.extend=Ge.extend=Er.extend=_s.extend=Sr.extend=function(N,O){var ne,q=this;return ne=N&&xe.has(N,"constructor")?N.constructor:function(){return q.apply(this,arguments)},xe.extend(ne,q,O),ne.prototype=xe.create(q.prototype,N),ne.prototype.constructor=ne,ne.__super__=q.prototype,ne};var kt=function(){throw new Error('A "url" property or function must be specified')},Nn=function(N,O){var q=O.error;O.error=function(ne){q&&q.call(O.context,N,ne,O),N.trigger("error",N,ne,O)}};return It}(It,un,_i,Gr)}.apply(wi,pr))&&(fi.exports=U)},940:function(fi,wi){!function(ut){"use strict";function pr(Xe){return Array.prototype.slice.call(Xe)}function U(Xe){return new Promise(function(ze,st){Xe.onsuccess=function(){ze(Xe.result)},Xe.onerror=function(){st(Xe.error)}})}function _r(Xe,ze,st){var St,Ge=new Promise(function(Wn,_){U(St=Xe[ze].apply(Xe,st)).then(Wn,_)});return Ge.request=St,Ge}function It(Xe,ze,st){var St=_r(Xe,ze,st);return St.then(function(Ge){if(Ge)return new Dr(Ge,St.request)})}function xe(Xe,ze,st){st.forEach(function(St){Object.defineProperty(Xe.prototype,St,{get:function(){return this[ze][St]},set:function(Ge){this[ze][St]=Ge}})})}function vn(Xe,ze,st,St){St.forEach(function(Ge){Ge in st.prototype&&(Xe.prototype[Ge]=function(){return _r(this[ze],Ge,arguments)})})}function _i(Xe,ze,st,St){St.forEach(function(Ge){Ge in st.prototype&&(Xe.prototype[Ge]=function(){return this[ze][Ge].apply(this[ze],arguments)})})}function Gr(Xe,ze,st,St){St.forEach(function(Ge){Ge in st.prototype&&(Xe.prototype[Ge]=function(){return It(this[ze],Ge,arguments)})})}function un(Xe){this._index=Xe}function Dr(Xe,ze){this._cursor=Xe,this._request=ze}function yn(Xe){this._store=Xe}function er(Xe){this._tx=Xe,this.complete=new Promise(function(ze,st){Xe.oncomplete=function(){ze()},Xe.onerror=function(){st(Xe.error)},Xe.onabort=function(){st(Xe.error)}})}function Or(Xe,ze,st){this._db=Xe,this.oldVersion=ze,this.transaction=new er(st)}function Qr(Xe){this._db=Xe}xe(un,"_index",["name","keyPath","multiEntry","unique"]),vn(un,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Gr(un,"_index",IDBIndex,["openCursor","openKeyCursor"]),xe(Dr,"_cursor",["direction","key","primaryKey","value"]),vn(Dr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Xe){Xe in IDBCursor.prototype&&(Dr.prototype[Xe]=function(){var ze=this,st=arguments;return Promise.resolve().then(function(){return ze._cursor[Xe].apply(ze._cursor,st),U(ze._request).then(function(St){if(St)return new Dr(St,ze._request)})})})}),yn.prototype.createIndex=function(){return new un(this._store.createIndex.apply(this._store,arguments))},yn.prototype.index=function(){return new un(this._store.index.apply(this._store,arguments))},xe(yn,"_store",["name","keyPath","indexNames","autoIncrement"]),vn(yn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Gr(yn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),_i(yn,"_store",IDBObjectStore,["deleteIndex"]),er.prototype.objectStore=function(){return new yn(this._tx.objectStore.apply(this._tx,arguments))},xe(er,"_tx",["objectStoreNames","mode"]),_i(er,"_tx",IDBTransaction,["abort"]),Or.prototype.createObjectStore=function(){return new yn(this._db.createObjectStore.apply(this._db,arguments))},xe(Or,"_db",["name","version","objectStoreNames"]),_i(Or,"_db",IDBDatabase,["deleteObjectStore","close"]),Qr.prototype.transaction=function(){return new er(this._db.transaction.apply(this._db,arguments))},xe(Qr,"_db",["name","version","objectStoreNames"]),_i(Qr,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Xe){[yn,un].forEach(function(ze){Xe in ze.prototype&&(ze.prototype[Xe.replace("open","iterate")]=function(){var st=pr(arguments),St=st[st.length-1],Ge=this._store||this._index,Wn=Ge[Xe].apply(Ge,st.slice(0,-1));Wn.onsuccess=function(){St(Wn.result)}})})}),[un,yn].forEach(function(Xe){Xe.prototype.getAll||(Xe.prototype.getAll=function(ze,st){var St=this,Ge=[];return new Promise(function(Wn){St.iterateCursor(ze,function(_){_?(Ge.push(_.value),void 0===st||Ge.length!=st?_.continue():Wn(Ge)):Wn(Ge)})})})}),ut.openDb=function(Xe,ze,st){var St=_r(indexedDB,"open",[Xe,ze]),Ge=St.request;return Ge&&(Ge.onupgradeneeded=function(Wn){st&&st(new Or(Ge.result,Wn.oldVersion,Ge.transaction))}),St.then(function(Wn){return new Qr(Wn)})},ut.deleteDb=function(Xe){return _r(indexedDB,"deleteDatabase",[Xe])},Object.defineProperty(ut,"__esModule",{value:!0})}(wi)},259:function(fi,wi){var pr;!function(U,_r){"use strict";"object"==typeof fi.exports?fi.exports=U.document?_r(U,!0):function(It){if(!It.document)throw new Error("jQuery requires a window with a document");return _r(It)}:_r(U)}("undefined"!=typeof window?window:this,function(U,_r){"use strict";var It=[],xe=Object.getPrototypeOf,vn=It.slice,_i=It.flat?function(f){return It.flat.call(f)}:function(f){return It.concat.apply([],f)},Gr=It.push,un=It.indexOf,Dr={},yn=Dr.toString,er=Dr.hasOwnProperty,Or=er.toString,Qr=Or.call(Object),Jt={},ot=function(p){return"function"==typeof p&&"number"!=typeof p.nodeType&&"function"!=typeof p.item},Xe=function(p){return null!=p&&p===p.window},ze=U.document,st={type:!0,src:!0,nonce:!0,noModule:!0};function St(f,p,v){var C,D,x=(v=v||ze).createElement("script");if(x.text=f,p)for(C in st)(D=p[C]||p.getAttribute&&p.getAttribute(C))&&x.setAttribute(C,D);v.head.appendChild(x).parentNode.removeChild(x)}function Ge(f){return null==f?f+"":"object"==typeof f||"function"==typeof f?Dr[yn.call(f)]||"object":typeof f}var _=function(f,p){return new _.fn.init(f,p)};function ei(f){var p=!!f&&"length"in f&&f.length,v=Ge(f);return!ot(f)&&!Xe(f)&&("array"===v||0===p||"number"==typeof p&&p>0&&p-1 in f)}_.fn=_.prototype={jquery:"3.6.0",constructor:_,length:0,toArray:function(){return vn.call(this)},get:function(f){return null==f?vn.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var p=_.merge(this.constructor(),f);return p.prevObject=this,p},each:function(f){return _.each(this,f)},map:function(f){return this.pushStack(_.map(this,function(p,v){return f.call(p,v,p)}))},slice:function(){return this.pushStack(vn.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,function(f,p){return(p+1)%2}))},odd:function(){return this.pushStack(_.grep(this,function(f,p){return p%2}))},eq:function(f){var p=this.length,v=+f+(f<0?p:0);return this.pushStack(v>=0&&v<p?[this[v]]:[])},end:function(){return this.prevObject||this.constructor()},push:Gr,sort:It.sort,splice:It.splice},_.extend=_.fn.extend=function(){var f,p,v,C,D,x,P=arguments[0]||{},J=1,K=arguments.length,le=!1;for("boolean"==typeof P&&(le=P,P=arguments[J]||{},J++),"object"!=typeof P&&!ot(P)&&(P={}),J===K&&(P=this,J--);J<K;J++)if(null!=(f=arguments[J]))for(p in f)C=f[p],"__proto__"!==p&&P!==C&&(le&&C&&(_.isPlainObject(C)||(D=Array.isArray(C)))?(v=P[p],x=D&&!Array.isArray(v)?[]:D||_.isPlainObject(v)?v:{},D=!1,P[p]=_.extend(le,x,C)):void 0!==C&&(P[p]=C));return P},_.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var p,v;return!(!f||"[object Object]"!==yn.call(f)||(p=xe(f))&&("function"!=typeof(v=er.call(p,"constructor")&&p.constructor)||Or.call(v)!==Qr))},isEmptyObject:function(f){var p;for(p in f)return!1;return!0},globalEval:function(f,p,v){St(f,{nonce:p&&p.nonce},v)},each:function(f,p){var v,C=0;if(ei(f))for(v=f.length;C<v&&!1!==p.call(f[C],C,f[C]);C++);else for(C in f)if(!1===p.call(f[C],C,f[C]))break;return f},makeArray:function(f,p){var v=p||[];return null!=f&&(ei(Object(f))?_.merge(v,"string"==typeof f?[f]:f):Gr.call(v,f)),v},inArray:function(f,p,v){return null==p?-1:un.call(p,f,v)},merge:function(f,p){for(var v=+p.length,C=0,D=f.length;C<v;C++)f[D++]=p[C];return f.length=D,f},grep:function(f,p,v){for(var D=[],x=0,P=f.length,J=!v;x<P;x++)!p(f[x],x)!==J&&D.push(f[x]);return D},map:function(f,p,v){var C,D,x=0,P=[];if(ei(f))for(C=f.length;x<C;x++)null!=(D=p(f[x],x,v))&&P.push(D);else for(x in f)null!=(D=p(f[x],x,v))&&P.push(D);return _i(P)},guid:1,support:Jt}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=It[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,p){Dr["[object "+p+"]"]=p.toLowerCase()});var Ln=function(f){var p,v,C,D,x,P,J,K,le,ye,Oe,me,he,Ke,Wt,rt,Zn,ur,cr,lt="sizzle"+1*new Date,Dt=f.document,Ei=0,$t=0,Jn=Ve(),Jl=Ve(),Gu=Ve(),Es=Ve(),hn=function(R,te){return R===te&&(Oe=!0),0},xo={}.hasOwnProperty,Wr=[],as=Wr.pop,en=Wr.push,Ss=Wr.push,gl=Wr.slice,Zs=function(R,te){for(var ie=0,be=R.length;ie<be;ie++)if(R[ie]===te)return ie;return-1},Ql="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nn="[\\x20\\t\\r\\n\\f]",ls="(?:\\\\[\\da-fA-F]{1,6}"+nn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Uu="\\["+nn+"*("+ls+")(?:"+nn+"*([*^$|!~]?=)"+nn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ls+"))|)"+nn+"*\\]",To=":("+ls+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Uu+")*)|.*)\\)|)",qd=new RegExp(nn+"+","g"),oi=new RegExp("^"+nn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nn+"+$","g"),Zu=new RegExp("^"+nn+"*,"+nn+"*"),Ra=new RegExp("^"+nn+"*([>+~]|"+nn+")"+nn+"*"),pi=new RegExp(nn+"|>"),Kd=new RegExp(To),Jd=new RegExp("^"+ls+"$"),vt={ID:new RegExp("^#("+ls+")"),CLASS:new RegExp("^\\.("+ls+")"),TAG:new RegExp("^("+ls+"|[*])"),ATTR:new RegExp("^"+Uu),PSEUDO:new RegExp("^"+To),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nn+"*(even|odd|(([+-]|)(\\d*)n|)"+nn+"*(?:([+-]|)"+nn+"*(\\d+)|))"+nn+"*\\)|)","i"),bool:new RegExp("^(?:"+Ql+")$","i"),needsContext:new RegExp("^"+nn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nn+"*((?:-\\d)?\\d*)"+nn+"*\\)|)(?=[^-]|$)","i")},Wi=/HTML$/i,mi=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,vi=/^[^{]+\{\s*\[native \w/,xs=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pl=/[+~]/,us=new RegExp("\\\\[\\da-fA-F]{1,6}"+nn+"?|\\\\([^\\r\\n\\f])","g"),Yi=function(R,te){var ie="0x"+R.slice(1)-65536;return te||(ie<0?String.fromCharCode(ie+65536):String.fromCharCode(ie>>10|55296,1023&ie|56320))},Ts=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Hs=function(R,te){return te?"\0"===R?"\ufffd":R.slice(0,-1)+"\\"+R.charCodeAt(R.length-1).toString(16)+" ":"\\"+R},ai=function(){me()},Xh=We(function(R){return!0===R.disabled&&"fieldset"===R.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Ss.apply(Wr=gl.call(Dt.childNodes),Dt.childNodes)}catch(R){Ss={apply:Wr.length?function(te,ie){en.apply(te,gl.call(ie))}:function(te,ie){for(var be=te.length,ae=0;te[be++]=ie[ae++];);te.length=be-1}}}function rn(R,te,ie,be){var ae,Me,Ie,je,Be,yt,At,xt=te&&te.ownerDocument,sn=te?te.nodeType:9;if(ie=ie||[],"string"!=typeof R||!R||1!==sn&&9!==sn&&11!==sn)return ie;if(!be&&(me(te),te=te||he,Wt)){if(11!==sn&&(Be=xs.exec(R)))if(ae=Be[1]){if(9===sn){if(!(Ie=te.getElementById(ae)))return ie;if(Ie.id===ae)return ie.push(Ie),ie}else if(xt&&(Ie=xt.getElementById(ae))&&cr(te,Ie)&&Ie.id===ae)return ie.push(Ie),ie}else{if(Be[2])return Ss.apply(ie,te.getElementsByTagName(R)),ie;if((ae=Be[3])&&v.getElementsByClassName&&te.getElementsByClassName)return Ss.apply(ie,te.getElementsByClassName(ae)),ie}if(v.qsa&&!Es[R+" "]&&(!rt||!rt.test(R))&&(1!==sn||"object"!==te.nodeName.toLowerCase())){if(At=R,xt=te,1===sn&&(pi.test(R)||Ra.test(R))){for(((xt=pl.test(R)&&se(te.parentNode)||te)!==te||!v.scope)&&((je=te.getAttribute("id"))?je=je.replace(Ts,Hs):te.setAttribute("id",je=lt)),Me=(yt=P(R)).length;Me--;)yt[Me]=(je?"#"+je:":scope")+" "+ve(yt[Me]);At=yt.join(",")}try{return Ss.apply(ie,xt.querySelectorAll(At)),ie}catch(Bn){Es(R,!0)}finally{je===lt&&te.removeAttribute("id")}}}return K(R.replace(oi,"$1"),te,ie,be)}function Ve(){var R=[];return function te(ie,be){return R.push(ie+" ")>C.cacheLength&&delete te[R.shift()],te[ie+" "]=be}}function dt(R){return R[lt]=!0,R}function gn(R){var te=he.createElement("fieldset");try{return!!R(te)}catch(ie){return!1}finally{te.parentNode&&te.parentNode.removeChild(te),te=null}}function Si(R,te){for(var ie=R.split("|"),be=ie.length;be--;)C.attrHandle[ie[be]]=te}function ra(R,te){var ie=te&&R,be=ie&&1===R.nodeType&&1===te.nodeType&&R.sourceIndex-te.sourceIndex;if(be)return be;if(ie)for(;ie=ie.nextSibling;)if(ie===te)return-1;return R?1:-1}function Yr(R){return function(te){return"input"===te.nodeName.toLowerCase()&&te.type===R}}function La(R){return function(te){var ie=te.nodeName.toLowerCase();return("input"===ie||"button"===ie)&&te.type===R}}function dr(R){return function(te){return"form"in te?te.parentNode&&!1===te.disabled?"label"in te?"label"in te.parentNode?te.parentNode.disabled===R:te.disabled===R:te.isDisabled===R||te.isDisabled!==!R&&Xh(te)===R:te.disabled===R:"label"in te&&te.disabled===R}}function Xi(R){return dt(function(te){return te=+te,dt(function(ie,be){for(var ae,Me=R([],ie.length,te),Ie=Me.length;Ie--;)ie[ae=Me[Ie]]&&(ie[ae]=!(be[ae]=ie[ae]))})})}function se(R){return R&&void 0!==R.getElementsByTagName&&R}for(p in v=rn.support={},x=rn.isXML=function(R){var ie=R&&(R.ownerDocument||R).documentElement;return!Wi.test(R&&R.namespaceURI||ie&&ie.nodeName||"HTML")},me=rn.setDocument=function(R){var te,ie,be=R?R.ownerDocument||R:Dt;return be==he||9!==be.nodeType||!be.documentElement||(Ke=(he=be).documentElement,Wt=!x(he),Dt!=he&&(ie=he.defaultView)&&ie.top!==ie&&(ie.addEventListener?ie.addEventListener("unload",ai,!1):ie.attachEvent&&ie.attachEvent("onunload",ai)),v.scope=gn(function(ae){return Ke.appendChild(ae).appendChild(he.createElement("div")),void 0!==ae.querySelectorAll&&!ae.querySelectorAll(":scope fieldset div").length}),v.attributes=gn(function(ae){return ae.className="i",!ae.getAttribute("className")}),v.getElementsByTagName=gn(function(ae){return ae.appendChild(he.createComment("")),!ae.getElementsByTagName("*").length}),v.getElementsByClassName=vi.test(he.getElementsByClassName),v.getById=gn(function(ae){return Ke.appendChild(ae).id=lt,!he.getElementsByName||!he.getElementsByName(lt).length}),v.getById?(C.filter.ID=function(ae){var Me=ae.replace(us,Yi);return function(Ie){return Ie.getAttribute("id")===Me}},C.find.ID=function(ae,Me){if(void 0!==Me.getElementById&&Wt){var Ie=Me.getElementById(ae);return Ie?[Ie]:[]}}):(C.filter.ID=function(ae){var Me=ae.replace(us,Yi);return function(Ie){var je=void 0!==Ie.getAttributeNode&&Ie.getAttributeNode("id");return je&&je.value===Me}},C.find.ID=function(ae,Me){if(void 0!==Me.getElementById&&Wt){var Ie,je,Be,yt=Me.getElementById(ae);if(yt){if((Ie=yt.getAttributeNode("id"))&&Ie.value===ae)return[yt];for(Be=Me.getElementsByName(ae),je=0;yt=Be[je++];)if((Ie=yt.getAttributeNode("id"))&&Ie.value===ae)return[yt]}return[]}}),C.find.TAG=v.getElementsByTagName?function(ae,Me){return void 0!==Me.getElementsByTagName?Me.getElementsByTagName(ae):v.qsa?Me.querySelectorAll(ae):void 0}:function(ae,Me){var Ie,je=[],Be=0,yt=Me.getElementsByTagName(ae);if("*"===ae){for(;Ie=yt[Be++];)1===Ie.nodeType&&je.push(Ie);return je}return yt},C.find.CLASS=v.getElementsByClassName&&function(ae,Me){if(void 0!==Me.getElementsByClassName&&Wt)return Me.getElementsByClassName(ae)},Zn=[],rt=[],(v.qsa=vi.test(he.querySelectorAll))&&(gn(function(ae){var Me;Ke.appendChild(ae).innerHTML="<a id='"+lt+"'></a><select id='"+lt+"-\r\\' msallowcapture=''><option selected=''></option></select>",ae.querySelectorAll("[msallowcapture^='']").length&&rt.push("[*^$]="+nn+"*(?:''|\"\")"),ae.querySelectorAll("[selected]").length||rt.push("\\["+nn+"*(?:value|"+Ql+")"),ae.querySelectorAll("[id~="+lt+"-]").length||rt.push("~="),(Me=he.createElement("input")).setAttribute("name",""),ae.appendChild(Me),ae.querySelectorAll("[name='']").length||rt.push("\\["+nn+"*name"+nn+"*="+nn+"*(?:''|\"\")"),ae.querySelectorAll(":checked").length||rt.push(":checked"),ae.querySelectorAll("a#"+lt+"+*").length||rt.push(".#.+[+~]"),ae.querySelectorAll("\\\f"),rt.push("[\\r\\n\\f]")}),gn(function(ae){ae.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Me=he.createElement("input");Me.setAttribute("type","hidden"),ae.appendChild(Me).setAttribute("name","D"),ae.querySelectorAll("[name=d]").length&&rt.push("name"+nn+"*[*^$|!~]?="),2!==ae.querySelectorAll(":enabled").length&&rt.push(":enabled",":disabled"),Ke.appendChild(ae).disabled=!0,2!==ae.querySelectorAll(":disabled").length&&rt.push(":enabled",":disabled"),ae.querySelectorAll("*,:x"),rt.push(",.*:")})),(v.matchesSelector=vi.test(ur=Ke.matches||Ke.webkitMatchesSelector||Ke.mozMatchesSelector||Ke.oMatchesSelector||Ke.msMatchesSelector))&&gn(function(ae){v.disconnectedMatch=ur.call(ae,"*"),ur.call(ae,"[s!='']:x"),Zn.push("!=",To)}),rt=rt.length&&new RegExp(rt.join("|")),Zn=Zn.length&&new RegExp(Zn.join("|")),te=vi.test(Ke.compareDocumentPosition),cr=te||vi.test(Ke.contains)?function(ae,Me){var Ie=9===ae.nodeType?ae.documentElement:ae,je=Me&&Me.parentNode;return ae===je||!(!je||1!==je.nodeType||!(Ie.contains?Ie.contains(je):ae.compareDocumentPosition&&16&ae.compareDocumentPosition(je)))}:function(ae,Me){if(Me)for(;Me=Me.parentNode;)if(Me===ae)return!0;return!1},hn=te?function(ae,Me){if(ae===Me)return Oe=!0,0;var Ie=!ae.compareDocumentPosition-!Me.compareDocumentPosition;return Ie||(1&(Ie=(ae.ownerDocument||ae)==(Me.ownerDocument||Me)?ae.compareDocumentPosition(Me):1)||!v.sortDetached&&Me.compareDocumentPosition(ae)===Ie?ae==he||ae.ownerDocument==Dt&&cr(Dt,ae)?-1:Me==he||Me.ownerDocument==Dt&&cr(Dt,Me)?1:ye?Zs(ye,ae)-Zs(ye,Me):0:4&Ie?-1:1)}:function(ae,Me){if(ae===Me)return Oe=!0,0;var Ie,je=0,Be=ae.parentNode,yt=Me.parentNode,At=[ae],xt=[Me];if(!Be||!yt)return ae==he?-1:Me==he?1:Be?-1:yt?1:ye?Zs(ye,ae)-Zs(ye,Me):0;if(Be===yt)return ra(ae,Me);for(Ie=ae;Ie=Ie.parentNode;)At.unshift(Ie);for(Ie=Me;Ie=Ie.parentNode;)xt.unshift(Ie);for(;At[je]===xt[je];)je++;return je?ra(At[je],xt[je]):At[je]==Dt?-1:xt[je]==Dt?1:0}),he},rn.matches=function(R,te){return rn(R,null,null,te)},rn.matchesSelector=function(R,te){if(me(R),v.matchesSelector&&Wt&&!Es[te+" "]&&(!Zn||!Zn.test(te))&&(!rt||!rt.test(te)))try{var ie=ur.call(R,te);if(ie||v.disconnectedMatch||R.document&&11!==R.document.nodeType)return ie}catch(be){Es(te,!0)}return rn(te,he,null,[R]).length>0},rn.contains=function(R,te){return(R.ownerDocument||R)!=he&&me(R),cr(R,te)},rn.attr=function(R,te){(R.ownerDocument||R)!=he&&me(R);var ie=C.attrHandle[te.toLowerCase()],be=ie&&xo.call(C.attrHandle,te.toLowerCase())?ie(R,te,!Wt):void 0;return void 0!==be?be:v.attributes||!Wt?R.getAttribute(te):(be=R.getAttributeNode(te))&&be.specified?be.value:null},rn.escape=function(R){return(R+"").replace(Ts,Hs)},rn.error=function(R){throw new Error("Syntax error, unrecognized expression: "+R)},rn.uniqueSort=function(R){var te,ie=[],be=0,ae=0;if(Oe=!v.detectDuplicates,ye=!v.sortStable&&R.slice(0),R.sort(hn),Oe){for(;te=R[ae++];)te===R[ae]&&(be=ie.push(ae));for(;be--;)R.splice(ie[be],1)}return ye=null,R},D=rn.getText=function(R){var te,ie="",be=0,ae=R.nodeType;if(ae){if(1===ae||9===ae||11===ae){if("string"==typeof R.textContent)return R.textContent;for(R=R.firstChild;R;R=R.nextSibling)ie+=D(R)}else if(3===ae||4===ae)return R.nodeValue}else for(;te=R[be++];)ie+=D(te);return ie},(C=rn.selectors={cacheLength:50,createPseudo:dt,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(R){return R[1]=R[1].replace(us,Yi),R[3]=(R[3]||R[4]||R[5]||"").replace(us,Yi),"~="===R[2]&&(R[3]=" "+R[3]+" "),R.slice(0,4)},CHILD:function(R){return R[1]=R[1].toLowerCase(),"nth"===R[1].slice(0,3)?(R[3]||rn.error(R[0]),R[4]=+(R[4]?R[5]+(R[6]||1):2*("even"===R[3]||"odd"===R[3])),R[5]=+(R[7]+R[8]||"odd"===R[3])):R[3]&&rn.error(R[0]),R},PSEUDO:function(R){var te,ie=!R[6]&&R[2];return vt.CHILD.test(R[0])?null:(R[3]?R[2]=R[4]||R[5]||"":ie&&Kd.test(ie)&&(te=P(ie,!0))&&(te=ie.indexOf(")",ie.length-te)-ie.length)&&(R[0]=R[0].slice(0,te),R[2]=ie.slice(0,te)),R.slice(0,3))}},filter:{TAG:function(R){var te=R.replace(us,Yi).toLowerCase();return"*"===R?function(){return!0}:function(ie){return ie.nodeName&&ie.nodeName.toLowerCase()===te}},CLASS:function(R){var te=Jn[R+" "];return te||(te=new RegExp("(^|"+nn+")"+R+"("+nn+"|$)"))&&Jn(R,function(ie){return te.test("string"==typeof ie.className&&ie.className||void 0!==ie.getAttribute&&ie.getAttribute("class")||"")})},ATTR:function(R,te,ie){return function(be){var ae=rn.attr(be,R);return null==ae?"!="===te:!te||(ae+="","="===te?ae===ie:"!="===te?ae!==ie:"^="===te?ie&&0===ae.indexOf(ie):"*="===te?ie&&ae.indexOf(ie)>-1:"$="===te?ie&&ae.slice(-ie.length)===ie:"~="===te?(" "+ae.replace(qd," ")+" ").indexOf(ie)>-1:"|="===te&&(ae===ie||ae.slice(0,ie.length+1)===ie+"-"))}},CHILD:function(R,te,ie,be,ae){var Me="nth"!==R.slice(0,3),Ie="last"!==R.slice(-4),je="of-type"===te;return 1===be&&0===ae?function(Be){return!!Be.parentNode}:function(Be,yt,At){var xt,sn,Bn,gt,Cr,yi,xi=Me!==Ie?"nextSibling":"previousSibling",tr=Be.parentNode,eu=je&&Be.nodeName.toLowerCase(),Fa=!At&&!je,cs=!1;if(tr){if(Me){for(;xi;){for(gt=Be;gt=gt[xi];)if(je?gt.nodeName.toLowerCase()===eu:1===gt.nodeType)return!1;yi=xi="only"===R&&!yi&&"nextSibling"}return!0}if(yi=[Ie?tr.firstChild:tr.lastChild],Ie&&Fa){for(cs=(Cr=(xt=(sn=(Bn=(gt=tr)[lt]||(gt[lt]={}))[gt.uniqueID]||(Bn[gt.uniqueID]={}))[R]||[])[0]===Ei&&xt[1])&&xt[2],gt=Cr&&tr.childNodes[Cr];gt=++Cr&&gt&&gt[xi]||(cs=Cr=0)||yi.pop();)if(1===gt.nodeType&&++cs&&gt===Be){sn[R]=[Ei,Cr,cs];break}}else if(Fa&&(cs=Cr=(xt=(sn=(Bn=(gt=Be)[lt]||(gt[lt]={}))[gt.uniqueID]||(Bn[gt.uniqueID]={}))[R]||[])[0]===Ei&&xt[1]),!1===cs)for(;(gt=++Cr&&gt&&gt[xi]||(cs=Cr=0)||yi.pop())&&((je?gt.nodeName.toLowerCase()!==eu:1!==gt.nodeType)||!++cs||(Fa&&((sn=(Bn=gt[lt]||(gt[lt]={}))[gt.uniqueID]||(Bn[gt.uniqueID]={}))[R]=[Ei,cs]),gt!==Be)););return(cs-=ae)===be||cs%be==0&&cs/be>=0}}},PSEUDO:function(R,te){var ie,be=C.pseudos[R]||C.setFilters[R.toLowerCase()]||rn.error("unsupported pseudo: "+R);return be[lt]?be(te):be.length>1?(ie=[R,R,"",te],C.setFilters.hasOwnProperty(R.toLowerCase())?dt(function(ae,Me){for(var Ie,je=be(ae,te),Be=je.length;Be--;)ae[Ie=Zs(ae,je[Be])]=!(Me[Ie]=je[Be])}):function(ae){return be(ae,0,ie)}):be}},pseudos:{not:dt(function(R){var te=[],ie=[],be=J(R.replace(oi,"$1"));return be[lt]?dt(function(ae,Me,Ie,je){for(var Be,yt=be(ae,null,je,[]),At=ae.length;At--;)(Be=yt[At])&&(ae[At]=!(Me[At]=Be))}):function(ae,Me,Ie){return te[0]=ae,be(te,null,Ie,ie),te[0]=null,!ie.pop()}}),has:dt(function(R){return function(te){return rn(R,te).length>0}}),contains:dt(function(R){return R=R.replace(us,Yi),function(te){return(te.textContent||D(te)).indexOf(R)>-1}}),lang:dt(function(R){return Jd.test(R||"")||rn.error("unsupported lang: "+R),R=R.replace(us,Yi).toLowerCase(),function(te){var ie;do{if(ie=Wt?te.lang:te.getAttribute("xml:lang")||te.getAttribute("lang"))return(ie=ie.toLowerCase())===R||0===ie.indexOf(R+"-")}while((te=te.parentNode)&&1===te.nodeType);return!1}}),target:function(R){var te=f.location&&f.location.hash;return te&&te.slice(1)===R.id},root:function(R){return R===Ke},focus:function(R){return R===he.activeElement&&(!he.hasFocus||he.hasFocus())&&!!(R.type||R.href||~R.tabIndex)},enabled:dr(!1),disabled:dr(!0),checked:function(R){var te=R.nodeName.toLowerCase();return"input"===te&&!!R.checked||"option"===te&&!!R.selected},selected:function(R){return!0===R.selected},empty:function(R){for(R=R.firstChild;R;R=R.nextSibling)if(R.nodeType<6)return!1;return!0},parent:function(R){return!C.pseudos.empty(R)},header:function(R){return na.test(R.nodeName)},input:function(R){return mi.test(R.nodeName)},button:function(R){var te=R.nodeName.toLowerCase();return"input"===te&&"button"===R.type||"button"===te},text:function(R){var te;return"input"===R.nodeName.toLowerCase()&&"text"===R.type&&(null==(te=R.getAttribute("type"))||"text"===te.toLowerCase())},first:Xi(function(){return[0]}),last:Xi(function(R,te){return[te-1]}),eq:Xi(function(R,te,ie){return[ie<0?ie+te:ie]}),even:Xi(function(R,te){for(var ie=0;ie<te;ie+=2)R.push(ie);return R}),odd:Xi(function(R,te){for(var ie=1;ie<te;ie+=2)R.push(ie);return R}),lt:Xi(function(R,te,ie){for(var be=ie<0?ie+te:ie>te?te:ie;--be>=0;)R.push(be);return R}),gt:Xi(function(R,te,ie){for(var be=ie<0?ie+te:ie;++be<te;)R.push(be);return R})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[p]=Yr(p);for(p in{submit:!0,reset:!0})C.pseudos[p]=La(p);function pe(){}function ve(R){for(var te=0,ie=R.length,be="";te<ie;te++)be+=R[te].value;return be}function We(R,te,ie){var be=te.dir,ae=te.next,Me=ae||be,Ie=ie&&"parentNode"===Me,je=$t++;return te.first?function(Be,yt,At){for(;Be=Be[be];)if(1===Be.nodeType||Ie)return R(Be,yt,At);return!1}:function(Be,yt,At){var xt,sn,Bn,gt=[Ei,je];if(At){for(;Be=Be[be];)if((1===Be.nodeType||Ie)&&R(Be,yt,At))return!0}else for(;Be=Be[be];)if(1===Be.nodeType||Ie)if(sn=(Bn=Be[lt]||(Be[lt]={}))[Be.uniqueID]||(Bn[Be.uniqueID]={}),ae&&ae===Be.nodeName.toLowerCase())Be=Be[be]||Be;else{if((xt=sn[Me])&&xt[0]===Ei&&xt[1]===je)return gt[2]=xt[2];if(sn[Me]=gt,gt[2]=R(Be,yt,At))return!0}return!1}}function Lt(R){return R.length>1?function(te,ie,be){for(var ae=R.length;ae--;)if(!R[ae](te,ie,be))return!1;return!0}:R[0]}function pn(R,te,ie,be,ae){for(var Me,Ie=[],je=0,Be=R.length,yt=null!=te;je<Be;je++)(Me=R[je])&&(!ie||ie(Me,be,ae))&&(Ie.push(Me),yt&&te.push(je));return Ie}function _n(R,te,ie,be,ae,Me){return be&&!be[lt]&&(be=_n(be)),ae&&!ae[lt]&&(ae=_n(ae,Me)),dt(function(Ie,je,Be,yt){var At,xt,sn,Bn=[],gt=[],Cr=je.length,yi=Ie||function(R,te,ie){for(var be=0,ae=te.length;be<ae;be++)rn(R,te[be],ie);return ie}(te||"*",Be.nodeType?[Be]:Be,[]),xi=!R||!Ie&&te?yi:pn(yi,Bn,R,Be,yt),tr=ie?ae||(Ie?R:Cr||be)?[]:je:xi;if(ie&&ie(xi,tr,Be,yt),be)for(At=pn(tr,gt),be(At,[],Be,yt),xt=At.length;xt--;)(sn=At[xt])&&(tr[gt[xt]]=!(xi[gt[xt]]=sn));if(Ie){if(ae||R){if(ae){for(At=[],xt=tr.length;xt--;)(sn=tr[xt])&&At.push(xi[xt]=sn);ae(null,tr=[],At,yt)}for(xt=tr.length;xt--;)(sn=tr[xt])&&(At=ae?Zs(Ie,sn):Bn[xt])>-1&&(Ie[At]=!(je[At]=sn))}}else tr=pn(tr===je?tr.splice(Cr,tr.length):tr),ae?ae(null,je,tr,yt):Ss.apply(je,tr)})}function mo(R){for(var te,ie,be,ae=R.length,Me=C.relative[R[0].type],Ie=Me||C.relative[" "],je=Me?1:0,Be=We(function(xt){return xt===te},Ie,!0),yt=We(function(xt){return Zs(te,xt)>-1},Ie,!0),At=[function(xt,sn,Bn){var gt=!Me&&(Bn||sn!==le)||((te=sn).nodeType?Be(xt,sn,Bn):yt(xt,sn,Bn));return te=null,gt}];je<ae;je++)if(ie=C.relative[R[je].type])At=[We(Lt(At),ie)];else{if((ie=C.filter[R[je].type].apply(null,R[je].matches))[lt]){for(be=++je;be<ae&&!C.relative[R[be].type];be++);return _n(je>1&&Lt(At),je>1&&ve(R.slice(0,je-1).concat({value:" "===R[je-2].type?"*":""})).replace(oi,"$1"),ie,je<be&&mo(R.slice(je,be)),be<ae&&mo(R=R.slice(be)),be<ae&&ve(R))}At.push(ie)}return Lt(At)}return pe.prototype=C.filters=C.pseudos,C.setFilters=new pe,P=rn.tokenize=function(R,te){var ie,be,ae,Me,Ie,je,Be,yt=Jl[R+" "];if(yt)return te?0:yt.slice(0);for(Ie=R,je=[],Be=C.preFilter;Ie;){for(Me in(!ie||(be=Zu.exec(Ie)))&&(be&&(Ie=Ie.slice(be[0].length)||Ie),je.push(ae=[])),ie=!1,(be=Ra.exec(Ie))&&(ie=be.shift(),ae.push({value:ie,type:be[0].replace(oi," ")}),Ie=Ie.slice(ie.length)),C.filter)(be=vt[Me].exec(Ie))&&(!Be[Me]||(be=Be[Me](be)))&&(ie=be.shift(),ae.push({value:ie,type:Me,matches:be}),Ie=Ie.slice(ie.length));if(!ie)break}return te?Ie.length:Ie?rn.error(R):Jl(R,je).slice(0)},J=rn.compile=function(R,te){var ie,be=[],ae=[],Me=Gu[R+" "];if(!Me){for(te||(te=P(R)),ie=te.length;ie--;)(Me=mo(te[ie]))[lt]?be.push(Me):ae.push(Me);Me=Gu(R,function(R,te){var ie=te.length>0,be=R.length>0,ae=function(Me,Ie,je,Be,yt){var At,xt,sn,Bn=0,gt="0",Cr=Me&&[],yi=[],xi=le,tr=Me||be&&C.find.TAG("*",yt),eu=Ei+=null==xi?1:Math.random()||.1,Fa=tr.length;for(yt&&(le=Ie==he||Ie||yt);gt!==Fa&&null!=(At=tr[gt]);gt++){if(be&&At){for(xt=0,!Ie&&At.ownerDocument!=he&&(me(At),je=!Wt);sn=R[xt++];)if(sn(At,Ie||he,je)){Be.push(At);break}yt&&(Ei=eu)}ie&&((At=!sn&&At)&&Bn--,Me&&Cr.push(At))}if(Bn+=gt,ie&&gt!==Bn){for(xt=0;sn=te[xt++];)sn(Cr,yi,Ie,je);if(Me){if(Bn>0)for(;gt--;)Cr[gt]||yi[gt]||(yi[gt]=as.call(Be));yi=pn(yi)}Ss.apply(Be,yi),yt&&!Me&&yi.length>0&&Bn+te.length>1&&rn.uniqueSort(Be)}return yt&&(Ei=eu,le=xi),Cr};return ie?dt(ae):ae}(ae,be)),Me.selector=R}return Me},K=rn.select=function(R,te,ie,be){var ae,Me,Ie,je,Be,yt="function"==typeof R&&R,At=!be&&P(R=yt.selector||R);if(ie=ie||[],1===At.length){if((Me=At[0]=At[0].slice(0)).length>2&&"ID"===(Ie=Me[0]).type&&9===te.nodeType&&Wt&&C.relative[Me[1].type]){if(!(te=(C.find.ID(Ie.matches[0].replace(us,Yi),te)||[])[0]))return ie;yt&&(te=te.parentNode),R=R.slice(Me.shift().value.length)}for(ae=vt.needsContext.test(R)?0:Me.length;ae--&&!C.relative[je=(Ie=Me[ae]).type];)if((Be=C.find[je])&&(be=Be(Ie.matches[0].replace(us,Yi),pl.test(Me[0].type)&&se(te.parentNode)||te))){if(Me.splice(ae,1),!(R=be.length&&ve(Me)))return Ss.apply(ie,be),ie;break}}return(yt||J(R,At))(be,te,!Wt,ie,!te||pl.test(R)&&se(te.parentNode)||te),ie},v.sortStable=lt.split("").sort(hn).join("")===lt,v.detectDuplicates=!!Oe,me(),v.sortDetached=gn(function(R){return 1&R.compareDocumentPosition(he.createElement("fieldset"))}),gn(function(R){return R.innerHTML="<a href='#'></a>","#"===R.firstChild.getAttribute("href")})||Si("type|href|height|width",function(R,te,ie){if(!ie)return R.getAttribute(te,"type"===te.toLowerCase()?1:2)}),(!v.attributes||!gn(function(R){return R.innerHTML="<input/>",R.firstChild.setAttribute("value",""),""===R.firstChild.getAttribute("value")}))&&Si("value",function(R,te,ie){if(!ie&&"input"===R.nodeName.toLowerCase())return R.defaultValue}),gn(function(R){return null==R.getAttribute("disabled")})||Si(Ql,function(R,te,ie){var be;if(!ie)return!0===R[te]?te.toLowerCase():(be=R.getAttributeNode(te))&&be.specified?be.value:null}),rn}(U);_.find=Ln,_.expr=Ln.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=Ln.uniqueSort,_.text=Ln.getText,_.isXMLDoc=Ln.isXML,_.contains=Ln.contains,_.escapeSelector=Ln.escape;var Di=function(f,p,v){for(var C=[],D=void 0!==v;(f=f[p])&&9!==f.nodeType;)if(1===f.nodeType){if(D&&_(f).is(v))break;C.push(f)}return C},Wo=function(f,p){for(var v=[];f;f=f.nextSibling)1===f.nodeType&&f!==p&&v.push(f);return v},Yo=_.expr.match.needsContext;function rr(f,p){return f.nodeName&&f.nodeName.toLowerCase()===p.toLowerCase()}var _s=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _o(f,p,v){return ot(p)?_.grep(f,function(C,D){return!!p.call(C,D,C)!==v}):p.nodeType?_.grep(f,function(C){return C===p!==v}):"string"!=typeof p?_.grep(f,function(C){return un.call(p,C)>-1!==v}):_.filter(p,f,v)}_.filter=function(f,p,v){var C=p[0];return v&&(f=":not("+f+")"),1===p.length&&1===C.nodeType?_.find.matchesSelector(C,f)?[C]:[]:_.find.matches(f,_.grep(p,function(D){return 1===D.nodeType}))},_.fn.extend({find:function(f){var p,v,C=this.length,D=this;if("string"!=typeof f)return this.pushStack(_(f).filter(function(){for(p=0;p<C;p++)if(_.contains(D[p],this))return!0}));for(v=this.pushStack([]),p=0;p<C;p++)_.find(f,D[p],v);return C>1?_.uniqueSort(v):v},filter:function(f){return this.pushStack(_o(this,f||[],!1))},not:function(f){return this.pushStack(_o(this,f||[],!0))},is:function(f){return!!_o(this,"string"==typeof f&&Yo.test(f)?_(f):f||[],!1).length}});var co,Xn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Vi=_.fn.init=function(f,p,v){var C,D;if(!f)return this;if(v=v||co,"string"==typeof f){if(!(C="<"===f[0]&&">"===f[f.length-1]&&f.length>=3?[null,f,null]:Xn.exec(f))||!C[1]&&p)return!p||p.jquery?(p||v).find(f):this.constructor(p).find(f);if(C[1]){if(_.merge(this,_.parseHTML(C[1],(p=p instanceof _?p[0]:p)&&p.nodeType?p.ownerDocument||p:ze,!0)),_s.test(C[1])&&_.isPlainObject(p))for(C in p)ot(this[C])?this[C](p[C]):this.attr(C,p[C]);return this}return(D=ze.getElementById(C[2]))&&(this[0]=D,this.length=1),this}return f.nodeType?(this[0]=f,this.length=1,this):ot(f)?void 0!==v.ready?v.ready(f):f(_):_.makeArray(f,this)};Vi.prototype=_.fn,co=_(ze);var _a=/^(?:parents|prev(?:Until|All))/,Ds={children:!0,contents:!0,next:!0,prev:!0};function mr(f,p){for(;(f=f[p])&&1!==f.nodeType;);return f}_.fn.extend({has:function(f){var p=_(f,this),v=p.length;return this.filter(function(){for(var C=0;C<v;C++)if(_.contains(this,p[C]))return!0})},closest:function(f,p){var v,C=0,D=this.length,x=[],P="string"!=typeof f&&_(f);if(!Yo.test(f))for(;C<D;C++)for(v=this[C];v&&v!==p;v=v.parentNode)if(v.nodeType<11&&(P?P.index(v)>-1:1===v.nodeType&&_.find.matchesSelector(v,f))){x.push(v);break}return this.pushStack(x.length>1?_.uniqueSort(x):x)},index:function(f){return f?"string"==typeof f?un.call(_(f),this[0]):un.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,p){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(f,p))))},addBack:function(f){return this.add(null==f?this.prevObject:this.prevObject.filter(f))}}),_.each({parent:function(f){var p=f.parentNode;return p&&11!==p.nodeType?p:null},parents:function(f){return Di(f,"parentNode")},parentsUntil:function(f,p,v){return Di(f,"parentNode",v)},next:function(f){return mr(f,"nextSibling")},prev:function(f){return mr(f,"previousSibling")},nextAll:function(f){return Di(f,"nextSibling")},prevAll:function(f){return Di(f,"previousSibling")},nextUntil:function(f,p,v){return Di(f,"nextSibling",v)},prevUntil:function(f,p,v){return Di(f,"previousSibling",v)},siblings:function(f){return Wo((f.parentNode||{}).firstChild,f)},children:function(f){return Wo(f.firstChild)},contents:function(f){return null!=f.contentDocument&&xe(f.contentDocument)?f.contentDocument:(rr(f,"template")&&(f=f.content||f),_.merge([],f.childNodes))}},function(f,p){_.fn[f]=function(v,C){var D=_.map(this,p,v);return"Until"!==f.slice(-5)&&(C=v),C&&"string"==typeof C&&(D=_.filter(C,D)),this.length>1&&(Ds[f]||_.uniqueSort(D),_a.test(f)&&D.reverse()),this.pushStack(D)}});var Mr=/[^\x20\t\r\n\f]+/g;function Er(f){return f}function ti(f){throw f}function is(f,p,v,C){var D;try{f&&ot(D=f.promise)?D.call(f).done(p).fail(v):f&&ot(D=f.then)?D.call(f,p,v):p.apply(void 0,[f].slice(C))}catch(x){v.apply(void 0,[x])}}_.Callbacks=function(f){f="string"==typeof f?function(f){var p={};return _.each(f.match(Mr)||[],function(v,C){p[C]=!0}),p}(f):_.extend({},f);var p,v,C,D,x=[],P=[],J=-1,K=function(){for(D=D||f.once,C=p=!0;P.length;J=-1)for(v=P.shift();++J<x.length;)!1===x[J].apply(v[0],v[1])&&f.stopOnFalse&&(J=x.length,v=!1);f.memory||(v=!1),p=!1,D&&(x=v?[]:"")},le={add:function(){return x&&(v&&!p&&(J=x.length-1,P.push(v)),function ye(Oe){_.each(Oe,function(me,he){ot(he)?(!f.unique||!le.has(he))&&x.push(he):he&&he.length&&"string"!==Ge(he)&&ye(he)})}(arguments),v&&!p&&K()),this},remove:function(){return _.each(arguments,function(ye,Oe){for(var me;(me=_.inArray(Oe,x,me))>-1;)x.splice(me,1),me<=J&&J--}),this},has:function(ye){return ye?_.inArray(ye,x)>-1:x.length>0},empty:function(){return x&&(x=[]),this},disable:function(){return D=P=[],x=v="",this},disabled:function(){return!x},lock:function(){return D=P=[],!v&&!p&&(x=v=""),this},locked:function(){return!!D},fireWith:function(ye,Oe){return D||(Oe=[ye,(Oe=Oe||[]).slice?Oe.slice():Oe],P.push(Oe),p||K()),this},fire:function(){return le.fireWith(this,arguments),this},fired:function(){return!!C}};return le},_.extend({Deferred:function(f){var p=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],v="pending",C={state:function(){return v},always:function(){return D.done(arguments).fail(arguments),this},catch:function(x){return C.then(null,x)},pipe:function(){var x=arguments;return _.Deferred(function(P){_.each(p,function(J,K){var le=ot(x[K[4]])&&x[K[4]];D[K[1]](function(){var ye=le&&le.apply(this,arguments);ye&&ot(ye.promise)?ye.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[K[0]+"With"](this,le?[ye]:arguments)})}),x=null}).promise()},then:function(x,P,J){var K=0;function le(ye,Oe,me,he){return function(){var Ke=this,Wt=arguments,rt=function(){var ur,cr;if(!(ye<K)){if((ur=me.apply(Ke,Wt))===Oe.promise())throw new TypeError("Thenable self-resolution");ot(cr=ur&&("object"==typeof ur||"function"==typeof ur)&&ur.then)?he?cr.call(ur,le(K,Oe,Er,he),le(K,Oe,ti,he)):(K++,cr.call(ur,le(K,Oe,Er,he),le(K,Oe,ti,he),le(K,Oe,Er,Oe.notifyWith))):(me!==Er&&(Ke=void 0,Wt=[ur]),(he||Oe.resolveWith)(Ke,Wt))}},Zn=he?rt:function(){try{rt()}catch(ur){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(ur,Zn.stackTrace),ye+1>=K&&(me!==ti&&(Ke=void 0,Wt=[ur]),Oe.rejectWith(Ke,Wt))}};ye?Zn():(_.Deferred.getStackHook&&(Zn.stackTrace=_.Deferred.getStackHook()),U.setTimeout(Zn))}}return _.Deferred(function(ye){p[0][3].add(le(0,ye,ot(J)?J:Er,ye.notifyWith)),p[1][3].add(le(0,ye,ot(x)?x:Er)),p[2][3].add(le(0,ye,ot(P)?P:ti))}).promise()},promise:function(x){return null!=x?_.extend(x,C):C}},D={};return _.each(p,function(x,P){var J=P[2],K=P[5];C[P[1]]=J.add,K&&J.add(function(){v=K},p[3-x][2].disable,p[3-x][3].disable,p[0][2].lock,p[0][3].lock),J.add(P[3].fire),D[P[0]]=function(){return D[P[0]+"With"](this===D?void 0:this,arguments),this},D[P[0]+"With"]=J.fireWith}),C.promise(D),f&&f.call(D,D),D},when:function(f){var p=arguments.length,v=p,C=Array(v),D=vn.call(arguments),x=_.Deferred(),P=function(J){return function(K){C[J]=this,D[J]=arguments.length>1?vn.call(arguments):K,--p||x.resolveWith(C,D)}};if(p<=1&&(is(f,x.done(P(v)).resolve,x.reject,!p),"pending"===x.state()||ot(D[v]&&D[v].then)))return x.then();for(;v--;)is(D[v],P(v),x.reject);return x.promise()}});var Da=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(f,p){U.console&&U.console.warn&&f&&Da.test(f.name)&&U.console.warn("jQuery.Deferred exception: "+f.message,f.stack,p)},_.readyException=function(f){U.setTimeout(function(){throw f})};var zi=_.Deferred();function Sr(){ze.removeEventListener("DOMContentLoaded",Sr),U.removeEventListener("load",Sr),_.ready()}_.fn.ready=function(f){return zi.then(f).catch(function(p){_.readyException(p)}),this},_.extend({isReady:!1,readyWait:1,ready:function(f){(!0===f?--_.readyWait:_.isReady)||(_.isReady=!0,!(!0!==f&&--_.readyWait>0)&&zi.resolveWith(ze,[_]))}}),_.ready.then=zi.then,"complete"===ze.readyState||"loading"!==ze.readyState&&!ze.documentElement.doScroll?U.setTimeout(_.ready):(ze.addEventListener("DOMContentLoaded",Sr),U.addEventListener("load",Sr));var hi=function(f,p,v,C,D,x,P){var J=0,K=f.length,le=null==v;if("object"===Ge(v))for(J in D=!0,v)hi(f,p,J,v[J],!0,x,P);else if(void 0!==C&&(D=!0,ot(C)||(P=!0),le&&(P?(p.call(f,C),p=null):(le=p,p=function(ye,Oe,me){return le.call(_(ye),me)})),p))for(;J<K;J++)p(f[J],v,P?C:C.call(f[J],J,p(f[J],v)));return D?f:le?p.call(f):K?p(f[0],v):x},Ur=/^-ms-/,Ma=/-([a-z])/g;function Ea(f,p){return p.toUpperCase()}function kt(f){return f.replace(Ur,"ms-").replace(Ma,Ea)}var Nn=function(f){return 1===f.nodeType||9===f.nodeType||!+f.nodeType};function N(){this.expando=_.expando+N.uid++}N.uid=1,N.prototype={cache:function(f){var p=f[this.expando];return p||(p={},Nn(f)&&(f.nodeType?f[this.expando]=p:Object.defineProperty(f,this.expando,{value:p,configurable:!0}))),p},set:function(f,p,v){var C,D=this.cache(f);if("string"==typeof p)D[kt(p)]=v;else for(C in p)D[kt(C)]=p[C];return D},get:function(f,p){return void 0===p?this.cache(f):f[this.expando]&&f[this.expando][kt(p)]},access:function(f,p,v){return void 0===p||p&&"string"==typeof p&&void 0===v?this.get(f,p):(this.set(f,p,v),void 0!==v?v:p)},remove:function(f,p){var v,C=f[this.expando];if(void 0!==C){if(void 0!==p)for((v=(p=Array.isArray(p)?p.map(kt):(p=kt(p))in C?[p]:p.match(Mr)||[]).length);v--;)delete C[p[v]];(void 0===p||_.isEmptyObject(C))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var p=f[this.expando];return void 0!==p&&!_.isEmptyObject(p)}};var O=new N,q=new N,ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/[A-Z]/g;function Le(f,p,v){var C;if(void 0===v&&1===f.nodeType)if(C="data-"+p.replace(we,"-$&").toLowerCase(),"string"==typeof(v=f.getAttribute(C))){try{v=function(f){return"true"===f||"false"!==f&&("null"===f?null:f===+f+""?+f:ne.test(f)?JSON.parse(f):f)}(v)}catch(D){}q.set(f,p,v)}else v=void 0;return v}_.extend({hasData:function(f){return q.hasData(f)||O.hasData(f)},data:function(f,p,v){return q.access(f,p,v)},removeData:function(f,p){q.remove(f,p)},_data:function(f,p,v){return O.access(f,p,v)},_removeData:function(f,p){O.remove(f,p)}}),_.fn.extend({data:function(f,p){var v,C,D,x=this[0],P=x&&x.attributes;if(void 0===f){if(this.length&&(D=q.get(x),1===x.nodeType&&!O.get(x,"hasDataAttrs"))){for(v=P.length;v--;)P[v]&&0===(C=P[v].name).indexOf("data-")&&(C=kt(C.slice(5)),Le(x,C,D[C]));O.set(x,"hasDataAttrs",!0)}return D}return"object"==typeof f?this.each(function(){q.set(this,f)}):hi(this,function(J){var K;if(x&&void 0===J)return void 0!==(K=q.get(x,f))||void 0!==(K=Le(x,f))?K:void 0;this.each(function(){q.set(this,f,J)})},null,p,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){q.remove(this,f)})}}),_.extend({queue:function(f,p,v){var C;if(f)return C=O.get(f,p=(p||"fx")+"queue"),v&&(!C||Array.isArray(v)?C=O.access(f,p,_.makeArray(v)):C.push(v)),C||[]},dequeue:function(f,p){var v=_.queue(f,p=p||"fx"),C=v.length,D=v.shift(),x=_._queueHooks(f,p);"inprogress"===D&&(D=v.shift(),C--),D&&("fx"===p&&v.unshift("inprogress"),delete x.stop,D.call(f,function(){_.dequeue(f,p)},x)),!C&&x&&x.empty.fire()},_queueHooks:function(f,p){var v=p+"queueHooks";return O.get(f,v)||O.access(f,v,{empty:_.Callbacks("once memory").add(function(){O.remove(f,[p+"queue",v])})})}}),_.fn.extend({queue:function(f,p){var v=2;return"string"!=typeof f&&(p=f,f="fx",v--),arguments.length<v?_.queue(this[0],f):void 0===p?this:this.each(function(){var C=_.queue(this,f,p);_._queueHooks(this,f),"fx"===f&&"inprogress"!==C[0]&&_.dequeue(this,f)})},dequeue:function(f){return this.each(function(){_.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,p){var v,C=1,D=_.Deferred(),x=this,P=this.length,J=function(){--C||D.resolveWith(x,[x])};for("string"!=typeof f&&(p=f,f=void 0),f=f||"fx";P--;)(v=O.get(x[P],f+"queueHooks"))&&v.empty&&(C++,v.empty.add(J));return J(),D.promise(p)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pt=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),Cn=["Top","Right","Bottom","Left"],$n=ze.documentElement,tn=function(f){return _.contains(f.ownerDocument,f)},lr={composed:!0};$n.getRootNode&&(tn=function(f){return _.contains(f.ownerDocument,f)||f.getRootNode(lr)===f.ownerDocument});var Gs=function(f,p){return"none"===(f=p||f).style.display||""===f.style.display&&tn(f)&&"none"===_.css(f,"display")};function Xo(f,p,v,C){var D,x,P=20,J=C?function(){return C.cur()}:function(){return _.css(f,p,"")},K=J(),le=v&&v[3]||(_.cssNumber[p]?"":"px"),ye=f.nodeType&&(_.cssNumber[p]||"px"!==le&&+K)&&pt.exec(_.css(f,p));if(ye&&ye[3]!==le){for(le=le||ye[3],ye=+(K/=2)||1;P--;)_.style(f,p,ye+le),(1-x)*(1-(x=J()/K||.5))<=0&&(P=0),ye/=x;_.style(f,p,(ye*=2)+le),v=v||[]}return v&&(ye=+ye||+K||0,D=v[1]?ye+(v[1]+1)*v[2]:+v[2],C&&(C.unit=le,C.start=ye,C.end=D)),D}var qn={};function vr(f){var p,v=f.ownerDocument,C=f.nodeName,D=qn[C];return D||(p=v.body.appendChild(v.createElement(C)),D=_.css(p,"display"),p.parentNode.removeChild(p),"none"===D&&(D="block"),qn[C]=D,D)}function xr(f,p){for(var v,C,D=[],x=0,P=f.length;x<P;x++)(C=f[x]).style&&(v=C.style.display,p?("none"===v&&(D[x]=O.get(C,"display")||null,D[x]||(C.style.display="")),""===C.style.display&&Gs(C)&&(D[x]=vr(C))):"none"!==v&&(D[x]="none",O.set(C,"display",v)));for(x=0;x<P;x++)null!=D[x]&&(f[x].style.display=D[x]);return f}_.fn.extend({show:function(){return xr(this,!0)},hide:function(){return xr(this)},toggle:function(f){return"boolean"==typeof f?f?this.show():this.hide():this.each(function(){Gs(this)?_(this).show():_(this).hide()})}});var p,v,Gi=/^(?:checkbox|radio)$/i,$o=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ui=/^$|^module$|\/(?:java|ecma)script/i;p=ze.createDocumentFragment().appendChild(ze.createElement("div")),(v=ze.createElement("input")).setAttribute("type","radio"),v.setAttribute("checked","checked"),v.setAttribute("name","t"),p.appendChild(v),Jt.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked,p.innerHTML="<textarea>x</textarea>",Jt.noCloneChecked=!!p.cloneNode(!0).lastChild.defaultValue,p.innerHTML="<option></option>",Jt.option=!!p.lastChild;var Pr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Rr(f,p){var v;return v=void 0!==f.getElementsByTagName?f.getElementsByTagName(p||"*"):void 0!==f.querySelectorAll?f.querySelectorAll(p||"*"):[],void 0===p||p&&rr(f,p)?_.merge([f],v):v}function rl(f,p){for(var v=0,C=f.length;v<C;v++)O.set(f[v],"globalEval",!p||O.get(p[v],"globalEval"))}Pr.tbody=Pr.tfoot=Pr.colgroup=Pr.caption=Pr.thead,Pr.th=Pr.td,Jt.option||(Pr.optgroup=Pr.option=[1,"<select multiple='multiple'>","</select>"]);var Tc=/<|&#?\w+;/;function Zi(f,p,v,C,D){for(var x,P,J,K,le,ye,Oe=p.createDocumentFragment(),me=[],he=0,Ke=f.length;he<Ke;he++)if((x=f[he])||0===x)if("object"===Ge(x))_.merge(me,x.nodeType?[x]:x);else if(Tc.test(x)){for(P=P||Oe.appendChild(p.createElement("div")),J=($o.exec(x)||["",""])[1].toLowerCase(),P.innerHTML=(K=Pr[J]||Pr._default)[1]+_.htmlPrefilter(x)+K[2],ye=K[0];ye--;)P=P.lastChild;_.merge(me,P.childNodes),(P=Oe.firstChild).textContent=""}else me.push(p.createTextNode(x));for(Oe.textContent="",he=0;x=me[he++];)if(C&&_.inArray(x,C)>-1)D&&D.push(x);else if(le=tn(x),P=Rr(Oe.appendChild(x),"script"),le&&rl(P),v)for(ye=0;x=P[ye++];)Ui.test(x.type||"")&&v.push(x);return Oe}var il=/^([^.]*)(?:\.(.+)|)/;function qo(){return!0}function Do(){return!1}function sl(f,p){return f===function(){try{return ze.activeElement}catch(f){}}()==("focus"===p)}function ol(f,p,v,C,D,x){var P,J;if("object"==typeof p){for(J in"string"!=typeof v&&(C=C||v,v=void 0),p)ol(f,J,v,C,p[J],x);return f}if(null==C&&null==D?(D=v,C=v=void 0):null==D&&("string"==typeof v?(D=C,C=void 0):(D=C,C=v,v=void 0)),!1===D)D=Do;else if(!D)return f;return 1===x&&(P=D,D=function(K){return _().off(K),P.apply(this,arguments)},D.guid=P.guid||(P.guid=_.guid++)),f.each(function(){_.event.add(this,p,D,C,v)})}function Sa(f,p,v){v?(O.set(f,p,!1),_.event.add(f,p,{namespace:!1,handler:function(C){var D,x,P=O.get(this,p);if(1&C.isTrigger&&this[p]){if(P.length)(_.event.special[p]||{}).delegateType&&C.stopPropagation();else if(P=vn.call(arguments),O.set(this,p,P),D=v(this,p),this[p](),P!==(x=O.get(this,p))||D?O.set(this,p,!1):x={},P!==x)return C.stopImmediatePropagation(),C.preventDefault(),x&&x.value}else P.length&&(O.set(this,p,{value:_.event.trigger(_.extend(P[0],_.Event.prototype),P.slice(1),this)}),C.stopImmediatePropagation())}})):void 0===O.get(f,p)&&_.event.add(f,p,qo)}_.event={global:{},add:function(f,p,v,C,D){var x,P,J,K,le,ye,Oe,me,he,Ke,Wt,rt=O.get(f);if(Nn(f))for(v.handler&&(v=(x=v).handler,D=x.selector),D&&_.find.matchesSelector($n,D),v.guid||(v.guid=_.guid++),(K=rt.events)||(K=rt.events=Object.create(null)),(P=rt.handle)||(P=rt.handle=function(Zn){return void 0!==_&&_.event.triggered!==Zn.type?_.event.dispatch.apply(f,arguments):void 0}),le=(p=(p||"").match(Mr)||[""]).length;le--;)he=Wt=(J=il.exec(p[le])||[])[1],Ke=(J[2]||"").split(".").sort(),he&&(Oe=_.event.special[he]||{},Oe=_.event.special[he=(D?Oe.delegateType:Oe.bindType)||he]||{},ye=_.extend({type:he,origType:Wt,data:C,handler:v,guid:v.guid,selector:D,needsContext:D&&_.expr.match.needsContext.test(D),namespace:Ke.join(".")},x),(me=K[he])||((me=K[he]=[]).delegateCount=0,(!Oe.setup||!1===Oe.setup.call(f,C,Ke,P))&&f.addEventListener&&f.addEventListener(he,P)),Oe.add&&(Oe.add.call(f,ye),ye.handler.guid||(ye.handler.guid=v.guid)),D?me.splice(me.delegateCount++,0,ye):me.push(ye),_.event.global[he]=!0)},remove:function(f,p,v,C,D){var x,P,J,K,le,ye,Oe,me,he,Ke,Wt,rt=O.hasData(f)&&O.get(f);if(rt&&(K=rt.events)){for(le=(p=(p||"").match(Mr)||[""]).length;le--;)if(he=Wt=(J=il.exec(p[le])||[])[1],Ke=(J[2]||"").split(".").sort(),he){for(Oe=_.event.special[he]||{},me=K[he=(C?Oe.delegateType:Oe.bindType)||he]||[],J=J[2]&&new RegExp("(^|\\.)"+Ke.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=x=me.length;x--;)ye=me[x],(D||Wt===ye.origType)&&(!v||v.guid===ye.guid)&&(!J||J.test(ye.namespace))&&(!C||C===ye.selector||"**"===C&&ye.selector)&&(me.splice(x,1),ye.selector&&me.delegateCount--,Oe.remove&&Oe.remove.call(f,ye));P&&!me.length&&((!Oe.teardown||!1===Oe.teardown.call(f,Ke,rt.handle))&&_.removeEvent(f,he,rt.handle),delete K[he])}else for(he in K)_.event.remove(f,he+p[le],v,C,!0);_.isEmptyObject(K)&&O.remove(f,"handle events")}},dispatch:function(f){var p,v,C,D,x,P,J=new Array(arguments.length),K=_.event.fix(f),le=(O.get(this,"events")||Object.create(null))[K.type]||[],ye=_.event.special[K.type]||{};for(J[0]=K,p=1;p<arguments.length;p++)J[p]=arguments[p];if(K.delegateTarget=this,!ye.preDispatch||!1!==ye.preDispatch.call(this,K)){for(P=_.event.handlers.call(this,K,le),p=0;(D=P[p++])&&!K.isPropagationStopped();)for(K.currentTarget=D.elem,v=0;(x=D.handlers[v++])&&!K.isImmediatePropagationStopped();)(!K.rnamespace||!1===x.namespace||K.rnamespace.test(x.namespace))&&(K.handleObj=x,K.data=x.data,void 0!==(C=((_.event.special[x.origType]||{}).handle||x.handler).apply(D.elem,J))&&!1===(K.result=C)&&(K.preventDefault(),K.stopPropagation()));return ye.postDispatch&&ye.postDispatch.call(this,K),K.result}},handlers:function(f,p){var v,C,D,x,P,J=[],K=p.delegateCount,le=f.target;if(K&&le.nodeType&&!("click"===f.type&&f.button>=1))for(;le!==this;le=le.parentNode||this)if(1===le.nodeType&&("click"!==f.type||!0!==le.disabled)){for(x=[],P={},v=0;v<K;v++)void 0===P[D=(C=p[v]).selector+" "]&&(P[D]=C.needsContext?_(D,this).index(le)>-1:_.find(D,this,null,[le]).length),P[D]&&x.push(C);x.length&&J.push({elem:le,handlers:x})}return le=this,K<p.length&&J.push({elem:le,handlers:p.slice(K)}),J},addProp:function(f,p){Object.defineProperty(_.Event.prototype,f,{enumerable:!0,configurable:!0,get:ot(p)?function(){if(this.originalEvent)return p(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(v){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:v})}})},fix:function(f){return f[_.expando]?f:new _.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var p=this||f;return Gi.test(p.type)&&p.click&&rr(p,"input")&&Sa(p,"click",qo),!1},trigger:function(f){var p=this||f;return Gi.test(p.type)&&p.click&&rr(p,"input")&&Sa(p,"click"),!0},_default:function(f){var p=f.target;return Gi.test(p.type)&&p.click&&rr(p,"input")&&O.get(p,"click")||rr(p,"a")}},beforeunload:{postDispatch:function(f){void 0!==f.result&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}},_.removeEvent=function(f,p,v){f.removeEventListener&&f.removeEventListener(p,v)},_.Event=function(f,p){if(!(this instanceof _.Event))return new _.Event(f,p);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||void 0===f.defaultPrevented&&!1===f.returnValue?qo:Do,this.target=f.target&&3===f.target.nodeType?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,p&&_.extend(this,p),this.timeStamp=f&&f.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Do,isPropagationStopped:Do,isImmediatePropagationStopped:Do,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=qo,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=qo,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=qo,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},function(f,p){_.event.special[f]={setup:function(){return Sa(this,f,sl),!1},trigger:function(){return Sa(this,f),!0},_default:function(){return!0},delegateType:p}}),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,p){_.event.special[f]={delegateType:p,bindType:p,handle:function(v){var C,D=this,x=v.relatedTarget,P=v.handleObj;return(!x||x!==D&&!_.contains(D,x))&&(v.type=P.origType,C=P.handler.apply(this,arguments),v.type=p),C}}}),_.fn.extend({on:function(f,p,v,C){return ol(this,f,p,v,C)},one:function(f,p,v,C){return ol(this,f,p,v,C,1)},off:function(f,p,v){var C,D;if(f&&f.preventDefault&&f.handleObj)return C=f.handleObj,_(f.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if("object"==typeof f){for(D in f)this.off(D,p,f[D]);return this}return(!1===p||"function"==typeof p)&&(v=p,p=void 0),!1===v&&(v=Do),this.each(function(){_.event.remove(this,f,v,p)})}});var al=/<script|<style|<link/i,ku=/checked\s*(?:[^=]|=\s*.checked.)/i,fo=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ll(f,p){return rr(f,"table")&&rr(11!==p.nodeType?p:p.firstChild,"tr")&&_(f).children("tbody")[0]||f}function Ko(f){return f.type=(null!==f.getAttribute("type"))+"/"+f.type,f}function ni(f){return"true/"===(f.type||"").slice(0,5)?f.type=f.type.slice(5):f.removeAttribute("type"),f}function ul(f,p){var v,C,D,P,J,K;if(1===p.nodeType){if(O.hasData(f)&&(K=O.get(f).events))for(D in O.remove(p,"handle events"),K)for(v=0,C=K[D].length;v<C;v++)_.event.add(p,D,K[D][v]);q.hasData(f)&&(P=q.access(f),J=_.extend({},P),q.set(p,J))}}function Zl(f,p){var v=p.nodeName.toLowerCase();"input"===v&&Gi.test(f.type)?p.checked=f.checked:("input"===v||"textarea"===v)&&(p.defaultValue=f.defaultValue)}function ss(f,p,v,C){p=_i(p);var D,x,P,J,K,le,ye=0,Oe=f.length,me=Oe-1,he=p[0],Ke=ot(he);if(Ke||Oe>1&&"string"==typeof he&&!Jt.checkClone&&ku.test(he))return f.each(function(Wt){var rt=f.eq(Wt);Ke&&(p[0]=he.call(this,Wt,rt.html())),ss(rt,p,v,C)});if(Oe&&(x=(D=Zi(p,f[0].ownerDocument,!1,f,C)).firstChild,1===D.childNodes.length&&(D=x),x||C)){for(J=(P=_.map(Rr(D,"script"),Ko)).length;ye<Oe;ye++)K=D,ye!==me&&(K=_.clone(K,!0,!0),J&&_.merge(P,Rr(K,"script"))),v.call(f[ye],K,ye);if(J)for(le=P[P.length-1].ownerDocument,_.map(P,ni),ye=0;ye<J;ye++)Ui.test((K=P[ye]).type||"")&&!O.access(K,"globalEval")&&_.contains(le,K)&&(K.src&&"module"!==(K.type||"").toLowerCase()?_._evalUrl&&!K.noModule&&_._evalUrl(K.src,{nonce:K.nonce||K.getAttribute("nonce")},le):St(K.textContent.replace(fo,""),K,le))}return f}function cl(f,p,v){for(var C,D=p?_.filter(p,f):f,x=0;null!=(C=D[x]);x++)!v&&1===C.nodeType&&_.cleanData(Rr(C)),C.parentNode&&(v&&tn(C)&&rl(Rr(C,"script")),C.parentNode.removeChild(C));return f}_.extend({htmlPrefilter:function(f){return f},clone:function(f,p,v){var C,D,x,P,J=f.cloneNode(!0),K=tn(f);if(!(Jt.noCloneChecked||1!==f.nodeType&&11!==f.nodeType||_.isXMLDoc(f)))for(P=Rr(J),C=0,D=(x=Rr(f)).length;C<D;C++)Zl(x[C],P[C]);if(p)if(v)for(x=x||Rr(f),P=P||Rr(J),C=0,D=x.length;C<D;C++)ul(x[C],P[C]);else ul(f,J);return(P=Rr(J,"script")).length>0&&rl(P,!K&&Rr(f,"script")),J},cleanData:function(f){for(var p,v,C,D=_.event.special,x=0;void 0!==(v=f[x]);x++)if(Nn(v)){if(p=v[O.expando]){if(p.events)for(C in p.events)D[C]?_.event.remove(v,C):_.removeEvent(v,C,p.handle);v[O.expando]=void 0}v[q.expando]&&(v[q.expando]=void 0)}}}),_.fn.extend({detach:function(f){return cl(this,f,!0)},remove:function(f){return cl(this,f)},text:function(f){return hi(this,function(p){return void 0===p?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=p)})},null,f,arguments.length)},append:function(){return ss(this,arguments,function(f){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ll(this,f).appendChild(f)})},prepend:function(){return ss(this,arguments,function(f){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var p=ll(this,f);p.insertBefore(f,p.firstChild)}})},before:function(){return ss(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return ss(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,p=0;null!=(f=this[p]);p++)1===f.nodeType&&(_.cleanData(Rr(f,!1)),f.textContent="");return this},clone:function(f,p){return f=null!=f&&f,p=null==p?f:p,this.map(function(){return _.clone(this,f,p)})},html:function(f){return hi(this,function(p){var v=this[0]||{},C=0,D=this.length;if(void 0===p&&1===v.nodeType)return v.innerHTML;if("string"==typeof p&&!al.test(p)&&!Pr[($o.exec(p)||["",""])[1].toLowerCase()]){p=_.htmlPrefilter(p);try{for(;C<D;C++)1===(v=this[C]||{}).nodeType&&(_.cleanData(Rr(v,!1)),v.innerHTML=p);v=0}catch(x){}}v&&this.empty().append(p)},null,f,arguments.length)},replaceWith:function(){var f=[];return ss(this,arguments,function(p){var v=this.parentNode;_.inArray(this,f)<0&&(_.cleanData(Rr(this)),v&&v.replaceChild(p,this))},f)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,p){_.fn[f]=function(v){for(var C,D=[],x=_(v),P=x.length-1,J=0;J<=P;J++)C=J===P?this:this.clone(!0),_(x[J])[p](C),Gr.apply(D,C.get());return this.pushStack(D)}});var xa=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Ta=function(f){var p=f.ownerDocument.defaultView;return(!p||!p.opener)&&(p=U),p.getComputedStyle(f)},Hi=function(f,p,v){var C,D,x={};for(D in p)x[D]=f.style[D],f.style[D]=p[D];for(D in C=v.call(f),p)f.style[D]=x[D];return C},Ou=new RegExp(Cn.join("|"),"i");function Mo(f,p,v){var C,D,x,P,J=f.style;return(v=v||Ta(f))&&(""===(P=v.getPropertyValue(p)||v[p])&&!tn(f)&&(P=_.style(f,p)),!Jt.pixelBoxStyles()&&xa.test(P)&&Ou.test(p)&&(C=J.width,D=J.minWidth,x=J.maxWidth,J.minWidth=J.maxWidth=J.width=P,P=v.width,J.width=C,J.minWidth=D,J.maxWidth=x)),void 0!==P?P+"":P}function Pu(f,p){return{get:function(){if(!f())return(this.get=p).apply(this,arguments);delete this.get}}}!function(){function f(){if(le){K.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",le.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",$n.appendChild(K).appendChild(le);var ye=U.getComputedStyle(le);v="1%"!==ye.top,J=12===p(ye.marginLeft),le.style.right="60%",x=36===p(ye.right),C=36===p(ye.width),le.style.position="absolute",D=12===p(le.offsetWidth/3),$n.removeChild(K),le=null}}function p(ye){return Math.round(parseFloat(ye))}var v,C,D,x,P,J,K=ze.createElement("div"),le=ze.createElement("div");!le.style||(le.style.backgroundClip="content-box",le.cloneNode(!0).style.backgroundClip="",Jt.clearCloneStyle="content-box"===le.style.backgroundClip,_.extend(Jt,{boxSizingReliable:function(){return f(),C},pixelBoxStyles:function(){return f(),x},pixelPosition:function(){return f(),v},reliableMarginLeft:function(){return f(),J},scrollboxSize:function(){return f(),D},reliableTrDimensions:function(){var ye,Oe,me,he;return null==P&&(ye=ze.createElement("table"),Oe=ze.createElement("tr"),me=ze.createElement("div"),ye.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Oe.style.cssText="border:1px solid",Oe.style.height="1px",me.style.height="9px",me.style.display="block",$n.appendChild(ye).appendChild(Oe).appendChild(me),he=U.getComputedStyle(Oe),P=parseInt(he.height,10)+parseInt(he.borderTopWidth,10)+parseInt(he.borderBottomWidth,10)===Oe.offsetHeight,$n.removeChild(ye)),P}}))}();var Ru=["Webkit","Moz","ms"],Hl=ze.createElement("div").style,Lu={};function ri(f){return _.cssProps[f]||Lu[f]||(f in Hl?f:Lu[f]=function(f){for(var p=f[0].toUpperCase()+f.slice(1),v=Ru.length;v--;)if((f=Ru[v]+p)in Hl)return f}(f)||f)}var Jo=/^(none|table(?!-c[ea]).+)/,Kn=/^--/,Lr={position:"absolute",visibility:"hidden",display:"block"},Zr={letterSpacing:"0",fontWeight:"400"};function kc(f,p,v){var C=pt.exec(p);return C?Math.max(0,C[2]-(v||0))+(C[3]||"px"):p}function Na(f,p,v,C,D,x){var P="width"===p?1:0,J=0,K=0;if(v===(C?"border":"content"))return 0;for(;P<4;P+=2)"margin"===v&&(K+=_.css(f,v+Cn[P],!0,D)),C?("content"===v&&(K-=_.css(f,"padding"+Cn[P],!0,D)),"margin"!==v&&(K-=_.css(f,"border"+Cn[P]+"Width",!0,D))):(K+=_.css(f,"padding"+Cn[P],!0,D),"padding"!==v?K+=_.css(f,"border"+Cn[P]+"Width",!0,D):J+=_.css(f,"border"+Cn[P]+"Width",!0,D));return!C&&x>=0&&(K+=Math.max(0,Math.ceil(f["offset"+p[0].toUpperCase()+p.slice(1)]-x-K-J-.5))||0),K}function Wl(f,p,v){var C=Ta(f),x=(!Jt.boxSizingReliable()||v)&&"border-box"===_.css(f,"boxSizing",!1,C),P=x,J=Mo(f,p,C),K="offset"+p[0].toUpperCase()+p.slice(1);if(xa.test(J)){if(!v)return J;J="auto"}return(!Jt.boxSizingReliable()&&x||!Jt.reliableTrDimensions()&&rr(f,"tr")||"auto"===J||!parseFloat(J)&&"inline"===_.css(f,"display",!1,C))&&f.getClientRects().length&&(x="border-box"===_.css(f,"boxSizing",!1,C),(P=K in f)&&(J=f[K])),(J=parseFloat(J)||0)+Na(f,p,v||(x?"border":"content"),P,C,J)+"px"}function yr(f,p,v,C,D){return new yr.prototype.init(f,p,v,C,D)}_.extend({cssHooks:{opacity:{get:function(f,p){if(p){var v=Mo(f,"opacity");return""===v?"1":v}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,p,v,C){if(f&&3!==f.nodeType&&8!==f.nodeType&&f.style){var D,x,P,J=kt(p),K=Kn.test(p),le=f.style;if(K||(p=ri(J)),P=_.cssHooks[p]||_.cssHooks[J],void 0===v)return P&&"get"in P&&void 0!==(D=P.get(f,!1,C))?D:le[p];if("string"==(x=typeof v)&&(D=pt.exec(v))&&D[1]&&(v=Xo(f,p,D),x="number"),null==v||v!=v)return;"number"===x&&!K&&(v+=D&&D[3]||(_.cssNumber[J]?"":"px")),!Jt.clearCloneStyle&&""===v&&0===p.indexOf("background")&&(le[p]="inherit"),(!P||!("set"in P)||void 0!==(v=P.set(f,v,C)))&&(K?le.setProperty(p,v):le[p]=v)}},css:function(f,p,v,C){var D,x,P,J=kt(p);return Kn.test(p)||(p=ri(J)),(P=_.cssHooks[p]||_.cssHooks[J])&&"get"in P&&(D=P.get(f,!0,v)),void 0===D&&(D=Mo(f,p,C)),"normal"===D&&p in Zr&&(D=Zr[p]),""===v||v?(x=parseFloat(D),!0===v||isFinite(x)?x||0:D):D}}),_.each(["height","width"],function(f,p){_.cssHooks[p]={get:function(v,C,D){if(C)return!Jo.test(_.css(v,"display"))||v.getClientRects().length&&v.getBoundingClientRect().width?Wl(v,p,D):Hi(v,Lr,function(){return Wl(v,p,D)})},set:function(v,C,D){var x,P=Ta(v),J=!Jt.scrollboxSize()&&"absolute"===P.position,le=(J||D)&&"border-box"===_.css(v,"boxSizing",!1,P),ye=D?Na(v,p,D,le,P):0;return le&&J&&(ye-=Math.ceil(v["offset"+p[0].toUpperCase()+p.slice(1)]-parseFloat(P[p])-Na(v,p,"border",!1,P)-.5)),ye&&(x=pt.exec(C))&&"px"!==(x[3]||"px")&&(v.style[p]=C,C=_.css(v,p)),kc(0,C,ye)}}}),_.cssHooks.marginLeft=Pu(Jt.reliableMarginLeft,function(f,p){if(p)return(parseFloat(Mo(f,"marginLeft"))||f.getBoundingClientRect().left-Hi(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(f,p){_.cssHooks[f+p]={expand:function(v){for(var C=0,D={},x="string"==typeof v?v.split(" "):[v];C<4;C++)D[f+Cn[C]+p]=x[C]||x[C-2]||x[0];return D}},"margin"!==f&&(_.cssHooks[f+p].set=kc)}),_.fn.extend({css:function(f,p){return hi(this,function(v,C,D){var x,P,J={},K=0;if(Array.isArray(C)){for(x=Ta(v),P=C.length;K<P;K++)J[C[K]]=_.css(v,C[K],!1,x);return J}return void 0!==D?_.style(v,C,D):_.css(v,C)},f,p,arguments.length>1)}}),_.Tween=yr,(yr.prototype={constructor:yr,init:function(f,p,v,C,D,x){this.elem=f,this.prop=v,this.easing=D||_.easing._default,this.options=p,this.start=this.now=this.cur(),this.end=C,this.unit=x||(_.cssNumber[v]?"":"px")},cur:function(){var f=yr.propHooks[this.prop];return f&&f.get?f.get(this):yr.propHooks._default.get(this)},run:function(f){var p,v=yr.propHooks[this.prop];return this.pos=p=this.options.duration?_.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):f,this.now=(this.end-this.start)*p+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),v&&v.set?v.set(this):yr.propHooks._default.set(this),this}}).init.prototype=yr.prototype,(yr.propHooks={_default:{get:function(f){var p;return 1!==f.elem.nodeType||null!=f.elem[f.prop]&&null==f.elem.style[f.prop]?f.elem[f.prop]:(p=_.css(f.elem,f.prop,""))&&"auto"!==p?p:0},set:function(f){_.fx.step[f.prop]?_.fx.step[f.prop](f):1!==f.elem.nodeType||!_.cssHooks[f.prop]&&null==f.elem.style[ri(f.prop)]?f.elem[f.prop]=f.now:_.style(f.elem,f.prop,f.now+f.unit)}}}).scrollTop=yr.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},_.easing={linear:function(f){return f},swing:function(f){return.5-Math.cos(f*Math.PI)/2},_default:"swing"},_.fx=yr.prototype.init,_.fx.step={};var ho,go,Fu=/^(?:toggle|show|hide)$/,Yl=/queueHooks$/;function Eo(){go&&(!1===ze.hidden&&U.requestAnimationFrame?U.requestAnimationFrame(Eo):U.setTimeout(Eo,_.fx.interval),_.fx.tick())}function dl(){return U.setTimeout(function(){ho=void 0}),ho=Date.now()}function Qo(f,p){var v,C=0,D={height:f};for(p=p?1:0;C<4;C+=2-p)D["margin"+(v=Cn[C])]=D["padding"+v]=f;return p&&(D.opacity=D.width=f),D}function ka(f,p,v){for(var C,D=(Hr.tweeners[p]||[]).concat(Hr.tweeners["*"]),x=0,P=D.length;x<P;x++)if(C=D[x].call(v,p,f))return C}function Hr(f,p,v){var C,D,x=0,P=Hr.prefilters.length,J=_.Deferred().always(function(){delete K.elem}),K=function(){if(D)return!1;for(var Oe=ho||dl(),me=Math.max(0,le.startTime+le.duration-Oe),Ke=1-(me/le.duration||0),Wt=0,rt=le.tweens.length;Wt<rt;Wt++)le.tweens[Wt].run(Ke);return J.notifyWith(f,[le,Ke,me]),Ke<1&&rt?me:(rt||J.notifyWith(f,[le,1,0]),J.resolveWith(f,[le]),!1)},le=J.promise({elem:f,props:_.extend({},p),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},v),originalProperties:p,originalOptions:v,startTime:ho||dl(),duration:v.duration,tweens:[],createTween:function(Oe,me){var he=_.Tween(f,le.opts,Oe,me,le.opts.specialEasing[Oe]||le.opts.easing);return le.tweens.push(he),he},stop:function(Oe){var me=0,he=Oe?le.tweens.length:0;if(D)return this;for(D=!0;me<he;me++)le.tweens[me].run(1);return Oe?(J.notifyWith(f,[le,1,0]),J.resolveWith(f,[le,Oe])):J.rejectWith(f,[le,Oe]),this}}),ye=le.props;for(function(f,p){var v,C,D,x,P;for(v in f)if(D=p[C=kt(v)],x=f[v],Array.isArray(x)&&(D=x[1],x=f[v]=x[0]),v!==C&&(f[C]=x,delete f[v]),(P=_.cssHooks[C])&&"expand"in P)for(v in x=P.expand(x),delete f[C],x)v in f||(f[v]=x[v],p[v]=D);else p[C]=D}(ye,le.opts.specialEasing);x<P;x++)if(C=Hr.prefilters[x].call(le,f,ye,le.opts))return ot(C.stop)&&(_._queueHooks(le.elem,le.opts.queue).stop=C.stop.bind(C)),C;return _.map(ye,ka,le),ot(le.opts.start)&&le.opts.start.call(f,le),le.progress(le.opts.progress).done(le.opts.done,le.opts.complete).fail(le.opts.fail).always(le.opts.always),_.fx.timer(_.extend(K,{elem:f,anim:le,queue:le.opts.queue})),le}_.Animation=_.extend(Hr,{tweeners:{"*":[function(f,p){var v=this.createTween(f,p);return Xo(v.elem,f,pt.exec(p),v),v}]},tweener:function(f,p){ot(f)?(p=f,f=["*"]):f=f.match(Mr);for(var v,C=0,D=f.length;C<D;C++)(Hr.tweeners[v=f[C]]=Hr.tweeners[v]||[]).unshift(p)},prefilters:[function(f,p,v){var C,D,x,P,J,K,le,ye,Oe="width"in p||"height"in p,me=this,he={},Ke=f.style,Wt=f.nodeType&&Gs(f),rt=O.get(f,"fxshow");for(C in v.queue||(null==(P=_._queueHooks(f,"fx")).unqueued&&(P.unqueued=0,J=P.empty.fire,P.empty.fire=function(){P.unqueued||J()}),P.unqueued++,me.always(function(){me.always(function(){P.unqueued--,_.queue(f,"fx").length||P.empty.fire()})})),p)if(Fu.test(D=p[C])){if(delete p[C],x=x||"toggle"===D,D===(Wt?"hide":"show")){if("show"!==D||!rt||void 0===rt[C])continue;Wt=!0}he[C]=rt&&rt[C]||_.style(f,C)}if((K=!_.isEmptyObject(p))||!_.isEmptyObject(he))for(C in Oe&&1===f.nodeType&&(v.overflow=[Ke.overflow,Ke.overflowX,Ke.overflowY],null==(le=rt&&rt.display)&&(le=O.get(f,"display")),"none"===(ye=_.css(f,"display"))&&(le?ye=le:(xr([f],!0),le=f.style.display||le,ye=_.css(f,"display"),xr([f]))),("inline"===ye||"inline-block"===ye&&null!=le)&&"none"===_.css(f,"float")&&(K||(me.done(function(){Ke.display=le}),null==le&&(le="none"===(ye=Ke.display)?"":ye)),Ke.display="inline-block")),v.overflow&&(Ke.overflow="hidden",me.always(function(){Ke.overflow=v.overflow[0],Ke.overflowX=v.overflow[1],Ke.overflowY=v.overflow[2]})),K=!1,he)K||(rt?"hidden"in rt&&(Wt=rt.hidden):rt=O.access(f,"fxshow",{display:le}),x&&(rt.hidden=!Wt),Wt&&xr([f],!0),me.done(function(){for(C in Wt||xr([f]),O.remove(f,"fxshow"),he)_.style(f,C,he[C])})),K=ka(Wt?rt[C]:0,C,me),C in rt||(rt[C]=K.start,Wt&&(K.end=K.start,K.start=0))}],prefilter:function(f,p){p?Hr.prefilters.unshift(f):Hr.prefilters.push(f)}}),_.speed=function(f,p,v){var C=f&&"object"==typeof f?_.extend({},f):{complete:v||!v&&p||ot(f)&&f,duration:f,easing:v&&p||p&&!ot(p)&&p};return _.fx.off?C.duration=0:"number"!=typeof C.duration&&(C.duration=C.duration in _.fx.speeds?_.fx.speeds[C.duration]:_.fx.speeds._default),(null==C.queue||!0===C.queue)&&(C.queue="fx"),C.old=C.complete,C.complete=function(){ot(C.old)&&C.old.call(this),C.queue&&_.dequeue(this,C.queue)},C},_.fn.extend({fadeTo:function(f,p,v,C){return this.filter(Gs).css("opacity",0).show().end().animate({opacity:p},f,v,C)},animate:function(f,p,v,C){var D=_.isEmptyObject(f),x=_.speed(p,v,C),P=function(){var J=Hr(this,_.extend({},f),x);(D||O.get(this,"finish"))&&J.stop(!0)};return P.finish=P,D||!1===x.queue?this.each(P):this.queue(x.queue,P)},stop:function(f,p,v){var C=function(D){var x=D.stop;delete D.stop,x(v)};return"string"!=typeof f&&(v=p,p=f,f=void 0),p&&this.queue(f||"fx",[]),this.each(function(){var D=!0,x=null!=f&&f+"queueHooks",P=_.timers,J=O.get(this);if(x)J[x]&&J[x].stop&&C(J[x]);else for(x in J)J[x]&&J[x].stop&&Yl.test(x)&&C(J[x]);for(x=P.length;x--;)P[x].elem===this&&(null==f||P[x].queue===f)&&(P[x].anim.stop(v),D=!1,P.splice(x,1));(D||!v)&&_.dequeue(this,f)})},finish:function(f){return!1!==f&&(f=f||"fx"),this.each(function(){var p,v=O.get(this),C=v[f+"queue"],D=v[f+"queueHooks"],x=_.timers,P=C?C.length:0;for(v.finish=!0,_.queue(this,f,[]),D&&D.stop&&D.stop.call(this,!0),p=x.length;p--;)x[p].elem===this&&x[p].queue===f&&(x[p].anim.stop(!0),x.splice(p,1));for(p=0;p<P;p++)C[p]&&C[p].finish&&C[p].finish.call(this);delete v.finish})}}),_.each(["toggle","show","hide"],function(f,p){var v=_.fn[p];_.fn[p]=function(C,D,x){return null==C||"boolean"==typeof C?v.apply(this,arguments):this.animate(Qo(p,!0),C,D,x)}}),_.each({slideDown:Qo("show"),slideUp:Qo("hide"),slideToggle:Qo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,p){_.fn[f]=function(v,C,D){return this.animate(p,v,C,D)}}),_.timers=[],_.fx.tick=function(){var f,p=0,v=_.timers;for(ho=Date.now();p<v.length;p++)!(f=v[p])()&&v[p]===f&&v.splice(p--,1);v.length||_.fx.stop(),ho=void 0},_.fx.timer=function(f){_.timers.push(f),_.fx.start()},_.fx.interval=13,_.fx.start=function(){go||(go=!0,Eo())},_.fx.stop=function(){go=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(f,p){return f=_.fx&&_.fx.speeds[f]||f,this.queue(p=p||"fx",function(v,C){var D=U.setTimeout(v,f);C.stop=function(){U.clearTimeout(D)}})},function(){var f=ze.createElement("input"),v=ze.createElement("select").appendChild(ze.createElement("option"));f.type="checkbox",Jt.checkOn=""!==f.value,Jt.optSelected=v.selected,(f=ze.createElement("input")).value="t",f.type="radio",Jt.radioValue="t"===f.value}();var os,kn=_.expr.attrHandle;_.fn.extend({attr:function(f,p){return hi(this,_.attr,f,p,arguments.length>1)},removeAttr:function(f){return this.each(function(){_.removeAttr(this,f)})}}),_.extend({attr:function(f,p,v){var C,D,x=f.nodeType;if(3!==x&&8!==x&&2!==x)return void 0===f.getAttribute?_.prop(f,p,v):((1!==x||!_.isXMLDoc(f))&&(D=_.attrHooks[p.toLowerCase()]||(_.expr.match.bool.test(p)?os:void 0)),void 0!==v?null===v?void _.removeAttr(f,p):D&&"set"in D&&void 0!==(C=D.set(f,v,p))?C:(f.setAttribute(p,v+""),v):D&&"get"in D&&null!==(C=D.get(f,p))?C:null==(C=_.find.attr(f,p))?void 0:C)},attrHooks:{type:{set:function(f,p){if(!Jt.radioValue&&"radio"===p&&rr(f,"input")){var v=f.value;return f.setAttribute("type",p),v&&(f.value=v),p}}}},removeAttr:function(f,p){var v,C=0,D=p&&p.match(Mr);if(D&&1===f.nodeType)for(;v=D[C++];)f.removeAttribute(v)}}),os={set:function(f,p,v){return!1===p?_.removeAttr(f,v):f.setAttribute(v,v),v}},_.each(_.expr.match.bool.source.match(/\w+/g),function(f,p){var v=kn[p]||_.find.attr;kn[p]=function(C,D,x){var P,J,K=D.toLowerCase();return x||(J=kn[K],kn[K]=P,P=null!=v(C,D,x)?K:null,kn[K]=J),P}});var $l=/^(?:input|select|textarea|button)$/i,So=/^(?:a|area)$/i;function Ms(f){return(f.match(Mr)||[]).join(" ")}function gi(f){return f.getAttribute&&f.getAttribute("class")||""}function An(f){return Array.isArray(f)?f:"string"==typeof f&&f.match(Mr)||[]}_.fn.extend({prop:function(f,p){return hi(this,_.prop,f,p,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[_.propFix[f]||f]})}}),_.extend({prop:function(f,p,v){var C,D,x=f.nodeType;if(3!==x&&8!==x&&2!==x)return(1!==x||!_.isXMLDoc(f))&&(D=_.propHooks[p=_.propFix[p]||p]),void 0!==v?D&&"set"in D&&void 0!==(C=D.set(f,v,p))?C:f[p]=v:D&&"get"in D&&null!==(C=D.get(f,p))?C:f[p]},propHooks:{tabIndex:{get:function(f){var p=_.find.attr(f,"tabindex");return p?parseInt(p,10):$l.test(f.nodeName)||So.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Jt.optSelected||(_.propHooks.selected={get:function(f){return null},set:function(f){}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(f){var p,v,C,D,x,P,J,K=0;if(ot(f))return this.each(function(le){_(this).addClass(f.call(this,le,gi(this)))});if((p=An(f)).length)for(;v=this[K++];)if(D=gi(v),C=1===v.nodeType&&" "+Ms(D)+" "){for(P=0;x=p[P++];)C.indexOf(" "+x+" ")<0&&(C+=x+" ");D!==(J=Ms(C))&&v.setAttribute("class",J)}return this},removeClass:function(f){var p,v,C,D,x,P,J,K=0;if(ot(f))return this.each(function(le){_(this).removeClass(f.call(this,le,gi(this)))});if(!arguments.length)return this.attr("class","");if((p=An(f)).length)for(;v=this[K++];)if(D=gi(v),C=1===v.nodeType&&" "+Ms(D)+" "){for(P=0;x=p[P++];)for(;C.indexOf(" "+x+" ")>-1;)C=C.replace(" "+x+" "," ");D!==(J=Ms(C))&&v.setAttribute("class",J)}return this},toggleClass:function(f,p){var v=typeof f,C="string"===v||Array.isArray(f);return"boolean"==typeof p&&C?p?this.addClass(f):this.removeClass(f):ot(f)?this.each(function(D){_(this).toggleClass(f.call(this,D,gi(this),p),p)}):this.each(function(){var D,x,P,J;if(C)for(x=0,P=_(this),J=An(f);D=J[x++];)P.hasClass(D)?P.removeClass(D):P.addClass(D);else(void 0===f||"boolean"===v)&&((D=gi(this))&&O.set(this,"__className__",D),this.setAttribute&&this.setAttribute("class",D||!1===f?"":O.get(this,"__className__")||""))})},hasClass:function(f){var p,v,C=0;for(p=" "+f+" ";v=this[C++];)if(1===v.nodeType&&(" "+Ms(gi(v))+" ").indexOf(p)>-1)return!0;return!1}});var ea=/\r/g;_.fn.extend({val:function(f){var p,v,C,D=this[0];return arguments.length?(C=ot(f),this.each(function(x){var P;1===this.nodeType&&(null==(P=C?f.call(this,x,_(this).val()):f)?P="":"number"==typeof P?P+="":Array.isArray(P)&&(P=_.map(P,function(J){return null==J?"":J+""})),(!(p=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])||!("set"in p)||void 0===p.set(this,P,"value"))&&(this.value=P))})):D?(p=_.valHooks[D.type]||_.valHooks[D.nodeName.toLowerCase()])&&"get"in p&&void 0!==(v=p.get(D,"value"))?v:"string"==typeof(v=D.value)?v.replace(ea,""):null==v?"":v:void 0}}),_.extend({valHooks:{option:{get:function(f){var p=_.find.attr(f,"value");return null!=p?p:Ms(_.text(f))}},select:{get:function(f){var p,v,C,D=f.options,x=f.selectedIndex,P="select-one"===f.type,J=P?null:[],K=P?x+1:D.length;for(C=x<0?K:P?x:0;C<K;C++)if(((v=D[C]).selected||C===x)&&!v.disabled&&(!v.parentNode.disabled||!rr(v.parentNode,"optgroup"))){if(p=_(v).val(),P)return p;J.push(p)}return J},set:function(f,p){for(var v,C,D=f.options,x=_.makeArray(p),P=D.length;P--;)((C=D[P]).selected=_.inArray(_.valHooks.option.get(C),x)>-1)&&(v=!0);return v||(f.selectedIndex=-1),x}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(f,p){if(Array.isArray(p))return f.checked=_.inArray(_(f).val(),p)>-1}},Jt.checkOn||(_.valHooks[this].get=function(f){return null===f.getAttribute("value")?"on":f.value})}),Jt.focusin="onfocusin"in U;var jt=/^(?:focusinfocus|focusoutblur)$/,Us=function(f){f.stopPropagation()};_.extend(_.event,{trigger:function(f,p,v,C){var D,x,P,J,K,le,ye,Oe,me=[v||ze],he=er.call(f,"type")?f.type:f,Ke=er.call(f,"namespace")?f.namespace.split("."):[];if(x=Oe=P=v=v||ze,3!==v.nodeType&&8!==v.nodeType&&!jt.test(he+_.event.triggered)&&(he.indexOf(".")>-1&&(Ke=he.split("."),he=Ke.shift(),Ke.sort()),K=he.indexOf(":")<0&&"on"+he,(f=f[_.expando]?f:new _.Event(he,"object"==typeof f&&f)).isTrigger=C?2:3,f.namespace=Ke.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Ke.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=v),p=null==p?[f]:_.makeArray(p,[f]),ye=_.event.special[he]||{},C||!ye.trigger||!1!==ye.trigger.apply(v,p))){if(!C&&!ye.noBubble&&!Xe(v)){for(jt.test((J=ye.delegateType||he)+he)||(x=x.parentNode);x;x=x.parentNode)me.push(x),P=x;P===(v.ownerDocument||ze)&&me.push(P.defaultView||P.parentWindow||U)}for(D=0;(x=me[D++])&&!f.isPropagationStopped();)Oe=x,f.type=D>1?J:ye.bindType||he,(le=(O.get(x,"events")||Object.create(null))[f.type]&&O.get(x,"handle"))&&le.apply(x,p),(le=K&&x[K])&&le.apply&&Nn(x)&&(f.result=le.apply(x,p),!1===f.result&&f.preventDefault());return f.type=he,!C&&!f.isDefaultPrevented()&&(!ye._default||!1===ye._default.apply(me.pop(),p))&&Nn(v)&&K&&ot(v[he])&&!Xe(v)&&((P=v[K])&&(v[K]=null),_.event.triggered=he,f.isPropagationStopped()&&Oe.addEventListener(he,Us),v[he](),f.isPropagationStopped()&&Oe.removeEventListener(he,Us),_.event.triggered=void 0,P&&(v[K]=P)),f.result}},simulate:function(f,p,v){var C=_.extend(new _.Event,v,{type:f,isSimulated:!0});_.event.trigger(C,null,p)}}),_.fn.extend({trigger:function(f,p){return this.each(function(){_.event.trigger(f,p,this)})},triggerHandler:function(f,p){var v=this[0];if(v)return _.event.trigger(f,p,v,!0)}}),Jt.focusin||_.each({focus:"focusin",blur:"focusout"},function(f,p){var v=function(C){_.event.simulate(p,C.target,_.event.fix(C))};_.event.special[p]={setup:function(){var C=this.ownerDocument||this.document||this,D=O.access(C,p);D||C.addEventListener(f,v,!0),O.access(C,p,(D||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,D=O.access(C,p)-1;D?O.access(C,p,D):(C.removeEventListener(f,v,!0),O.remove(C,p))}}});var po=U.location,wn={guid:Date.now()},Zt=/\?/;_.parseXML=function(f){var p,v;if(!f||"string"!=typeof f)return null;try{p=(new U.DOMParser).parseFromString(f,"text/xml")}catch(C){}return v=p&&p.getElementsByTagName("parsererror")[0],(!p||v)&&_.error("Invalid XML: "+(v?_.map(v.childNodes,function(C){return C.textContent}).join("\n"):f)),p};var fl=/\[\]$/,ql=/\r?\n/g,Fr=/^(?:submit|button|image|reset|file)$/i,Oc=/^(?:input|select|textarea|keygen)/i;function Oa(f,p,v,C){var D;if(Array.isArray(p))_.each(p,function(x,P){v||fl.test(f)?C(f,P):Oa(f+"["+("object"==typeof P&&null!=P?x:"")+"]",P,v,C)});else if(v||"object"!==Ge(p))C(f,p);else for(D in p)Oa(f+"["+D+"]",p[D],v,C)}_.param=function(f,p){var v,C=[],D=function(x,P){var J=ot(P)?P():P;C[C.length]=encodeURIComponent(x)+"="+encodeURIComponent(null==J?"":J)};if(null==f)return"";if(Array.isArray(f)||f.jquery&&!_.isPlainObject(f))_.each(f,function(){D(this.name,this.value)});else for(v in f)Oa(v,f[v],p,D);return C.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=_.prop(this,"elements");return f?_.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!_(this).is(":disabled")&&Oc.test(this.nodeName)&&!Fr.test(f)&&(this.checked||!Gi.test(f))}).map(function(f,p){var v=_(this).val();return null==v?null:Array.isArray(v)?_.map(v,function(C){return{name:p.name,value:C.replace(ql,"\r\n")}}):{name:p.name,value:v.replace(ql,"\r\n")}}).get()}});var Gt=/%20/g,ii=/#.*$/,ju=/([?&])_=[^&]*/,Pc=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pa=/^(?:GET|HEAD)$/,si=/^\/\//,ta={},hl={},Rc="*/".concat("*"),Mi=ze.createElement("a");function Lc(f){return function(p,v){"string"!=typeof p&&(v=p,p="*");var C,D=0,x=p.toLowerCase().match(Mr)||[];if(ot(v))for(;C=x[D++];)"+"===C[0]?(C=C.slice(1)||"*",(f[C]=f[C]||[]).unshift(v)):(f[C]=f[C]||[]).push(v)}}function Kl(f,p,v,C){var D={},x=f===hl;function P(J){var K;return D[J]=!0,_.each(f[J]||[],function(le,ye){var Oe=ye(p,v,C);return"string"!=typeof Oe||x||D[Oe]?x?!(K=Oe):void 0:(p.dataTypes.unshift(Oe),P(Oe),!1)}),K}return P(p.dataTypes[0])||!D["*"]&&P("*")}function zn(f,p){var v,C,D=_.ajaxSettings.flatOptions||{};for(v in p)void 0!==p[v]&&((D[v]?f:C||(C={}))[v]=p[v]);return C&&_.extend(!0,f,C),f}Mi.href=po.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:po.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(po.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,p){return p?zn(zn(f,_.ajaxSettings),p):zn(_.ajaxSettings,f)},ajaxPrefilter:Lc(ta),ajaxTransport:Lc(hl),ajax:function(f,p){"object"==typeof f&&(p=f,f=void 0);var v,C,D,x,P,J,K,le,ye,Oe,me=_.ajaxSetup({},p=p||{}),he=me.context||me,Ke=me.context&&(he.nodeType||he.jquery)?_(he):_.event,Wt=_.Deferred(),rt=_.Callbacks("once memory"),Zn=me.statusCode||{},ur={},cr={},lt="canceled",Dt={readyState:0,getResponseHeader:function($t){var Jn;if(K){if(!x)for(x={};Jn=Pc.exec(D);)x[Jn[1].toLowerCase()+" "]=(x[Jn[1].toLowerCase()+" "]||[]).concat(Jn[2]);Jn=x[$t.toLowerCase()+" "]}return null==Jn?null:Jn.join(", ")},getAllResponseHeaders:function(){return K?D:null},setRequestHeader:function($t,Jn){return null==K&&($t=cr[$t.toLowerCase()]=cr[$t.toLowerCase()]||$t,ur[$t]=Jn),this},overrideMimeType:function($t){return null==K&&(me.mimeType=$t),this},statusCode:function($t){var Jn;if($t)if(K)Dt.always($t[Dt.status]);else for(Jn in $t)Zn[Jn]=[Zn[Jn],$t[Jn]];return this},abort:function($t){var Jn=$t||lt;return v&&v.abort(Jn),Ei(0,Jn),this}};if(Wt.promise(Dt),me.url=((f||me.url||po.href)+"").replace(si,po.protocol+"//"),me.type=p.method||p.type||me.method||me.type,me.dataTypes=(me.dataType||"*").toLowerCase().match(Mr)||[""],null==me.crossDomain){J=ze.createElement("a");try{J.href=me.url,J.href=J.href,me.crossDomain=Mi.protocol+"//"+Mi.host!=J.protocol+"//"+J.host}catch($t){me.crossDomain=!0}}if(me.data&&me.processData&&"string"!=typeof me.data&&(me.data=_.param(me.data,me.traditional)),Kl(ta,me,p,Dt),K)return Dt;for(ye in(le=_.event&&me.global)&&0==_.active++&&_.event.trigger("ajaxStart"),me.type=me.type.toUpperCase(),me.hasContent=!Pa.test(me.type),C=me.url.replace(ii,""),me.hasContent?me.data&&me.processData&&0===(me.contentType||"").indexOf("application/x-www-form-urlencoded")&&(me.data=me.data.replace(Gt,"+")):(Oe=me.url.slice(C.length),me.data&&(me.processData||"string"==typeof me.data)&&(C+=(Zt.test(C)?"&":"?")+me.data,delete me.data),!1===me.cache&&(C=C.replace(ju,"$1"),Oe=(Zt.test(C)?"&":"?")+"_="+wn.guid+++Oe),me.url=C+Oe),me.ifModified&&(_.lastModified[C]&&Dt.setRequestHeader("If-Modified-Since",_.lastModified[C]),_.etag[C]&&Dt.setRequestHeader("If-None-Match",_.etag[C])),(me.data&&me.hasContent&&!1!==me.contentType||p.contentType)&&Dt.setRequestHeader("Content-Type",me.contentType),Dt.setRequestHeader("Accept",me.dataTypes[0]&&me.accepts[me.dataTypes[0]]?me.accepts[me.dataTypes[0]]+("*"!==me.dataTypes[0]?", "+Rc+"; q=0.01":""):me.accepts["*"]),me.headers)Dt.setRequestHeader(ye,me.headers[ye]);if(me.beforeSend&&(!1===me.beforeSend.call(he,Dt,me)||K))return Dt.abort();if(lt="abort",rt.add(me.complete),Dt.done(me.success),Dt.fail(me.error),v=Kl(hl,me,p,Dt)){if(Dt.readyState=1,le&&Ke.trigger("ajaxSend",[Dt,me]),K)return Dt;me.async&&me.timeout>0&&(P=U.setTimeout(function(){Dt.abort("timeout")},me.timeout));try{K=!1,v.send(ur,Ei)}catch($t){if(K)throw $t;Ei(-1,$t)}}else Ei(-1,"No Transport");function Ei($t,Jn,Jl,Gu){var Es,hn,xo,Wr,as,en=Jn;K||(K=!0,P&&U.clearTimeout(P),v=void 0,D=Gu||"",Dt.readyState=$t>0?4:0,Es=$t>=200&&$t<300||304===$t,Jl&&(Wr=function(f,p,v){for(var C,D,x,P,J=f.contents,K=f.dataTypes;"*"===K[0];)K.shift(),void 0===C&&(C=f.mimeType||p.getResponseHeader("Content-Type"));if(C)for(D in J)if(J[D]&&J[D].test(C)){K.unshift(D);break}if(K[0]in v)x=K[0];else{for(D in v){if(!K[0]||f.converters[D+" "+K[0]]){x=D;break}P||(P=D)}x=x||P}if(x)return x!==K[0]&&K.unshift(x),v[x]}(me,Dt,Jl)),!Es&&_.inArray("script",me.dataTypes)>-1&&_.inArray("json",me.dataTypes)<0&&(me.converters["text script"]=function(){}),Wr=function(f,p,v,C){var D,x,P,J,K,le={},ye=f.dataTypes.slice();if(ye[1])for(P in f.converters)le[P.toLowerCase()]=f.converters[P];for(x=ye.shift();x;)if(f.responseFields[x]&&(v[f.responseFields[x]]=p),!K&&C&&f.dataFilter&&(p=f.dataFilter(p,f.dataType)),K=x,x=ye.shift())if("*"===x)x=K;else if("*"!==K&&K!==x){if(!(P=le[K+" "+x]||le["* "+x]))for(D in le)if((J=D.split(" "))[1]===x&&(P=le[K+" "+J[0]]||le["* "+J[0]])){!0===P?P=le[D]:!0!==le[D]&&(x=J[0],ye.unshift(J[1]));break}if(!0!==P)if(P&&f.throws)p=P(p);else try{p=P(p)}catch(Oe){return{state:"parsererror",error:P?Oe:"No conversion from "+K+" to "+x}}}return{state:"success",data:p}}(me,Wr,Dt,Es),Es?(me.ifModified&&((as=Dt.getResponseHeader("Last-Modified"))&&(_.lastModified[C]=as),(as=Dt.getResponseHeader("etag"))&&(_.etag[C]=as)),204===$t||"HEAD"===me.type?en="nocontent":304===$t?en="notmodified":(en=Wr.state,hn=Wr.data,Es=!(xo=Wr.error))):(xo=en,($t||!en)&&(en="error",$t<0&&($t=0))),Dt.status=$t,Dt.statusText=(Jn||en)+"",Es?Wt.resolveWith(he,[hn,en,Dt]):Wt.rejectWith(he,[Dt,en,xo]),Dt.statusCode(Zn),Zn=void 0,le&&Ke.trigger(Es?"ajaxSuccess":"ajaxError",[Dt,me,Es?hn:xo]),rt.fireWith(he,[Dt,en]),le&&(Ke.trigger("ajaxComplete",[Dt,me]),--_.active||_.event.trigger("ajaxStop")))}return Dt},getJSON:function(f,p,v){return _.get(f,p,v,"json")},getScript:function(f,p){return _.get(f,void 0,p,"script")}}),_.each(["get","post"],function(f,p){_[p]=function(v,C,D,x){return ot(C)&&(x=x||D,D=C,C=void 0),_.ajax(_.extend({url:v,type:p,dataType:x,data:C,success:D},_.isPlainObject(v)&&v))}}),_.ajaxPrefilter(function(f){var p;for(p in f.headers)"content-type"===p.toLowerCase()&&(f.contentType=f.headers[p]||"")}),_._evalUrl=function(f,p,v){return _.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){_.globalEval(C,p,v)}})},_.fn.extend({wrapAll:function(f){var p;return this[0]&&(ot(f)&&(f=f.call(this[0])),p=_(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&p.insertBefore(this[0]),p.map(function(){for(var v=this;v.firstElementChild;)v=v.firstElementChild;return v}).append(this)),this},wrapInner:function(f){return ot(f)?this.each(function(p){_(this).wrapInner(f.call(this,p))}):this.each(function(){var p=_(this),v=p.contents();v.length?v.wrapAll(f):p.append(f)})},wrap:function(f){var p=ot(f);return this.each(function(v){_(this).wrapAll(p?f.call(this,v):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(f){return!_.expr.pseudos.visible(f)},_.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new U.XMLHttpRequest}catch(f){}};var zu={0:200,1223:204},E=_.ajaxSettings.xhr();Jt.cors=!!E&&"withCredentials"in E,Jt.ajax=E=!!E,_.ajaxTransport(function(f){var p,v;if(Jt.cors||E&&!f.crossDomain)return{send:function(C,D){var x,P=f.xhr();if(P.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(x in f.xhrFields)P[x]=f.xhrFields[x];for(x in f.mimeType&&P.overrideMimeType&&P.overrideMimeType(f.mimeType),!f.crossDomain&&!C["X-Requested-With"]&&(C["X-Requested-With"]="XMLHttpRequest"),C)P.setRequestHeader(x,C[x]);p=function(J){return function(){p&&(p=v=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,"abort"===J?P.abort():"error"===J?"number"!=typeof P.status?D(0,"error"):D(P.status,P.statusText):D(zu[P.status]||P.status,P.statusText,"text"!==(P.responseType||"text")||"string"!=typeof P.responseText?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=p(),v=P.onerror=P.ontimeout=p("error"),void 0!==P.onabort?P.onabort=v:P.onreadystatechange=function(){4===P.readyState&&U.setTimeout(function(){p&&v()})},p=p("abort");try{P.send(f.hasContent&&f.data||null)}catch(J){if(p)throw J}},abort:function(){p&&p()}}}),_.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return _.globalEval(f),f}}}),_.ajaxPrefilter("script",function(f){void 0===f.cache&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),_.ajaxTransport("script",function(f){var p,v;if(f.crossDomain||f.scriptAttrs)return{send:function(C,D){p=_("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",v=function(x){p.remove(),v=null,x&&D("error"===x.type?404:200,x.type)}),ze.head.appendChild(p[0])},abort:function(){v&&v()}}});var f,B=[],W=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=B.pop()||_.expando+"_"+wn.guid++;return this[f]=!0,f}}),_.ajaxPrefilter("json jsonp",function(f,p,v){var C,D,x,P=!1!==f.jsonp&&(W.test(f.url)?"url":"string"==typeof f.data&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&W.test(f.data)&&"data");if(P||"jsonp"===f.dataTypes[0])return C=f.jsonpCallback=ot(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,P?f[P]=f[P].replace(W,"$1"+C):!1!==f.jsonp&&(f.url+=(Zt.test(f.url)?"&":"?")+f.jsonp+"="+C),f.converters["script json"]=function(){return x||_.error(C+" was not called"),x[0]},f.dataTypes[0]="json",D=U[C],U[C]=function(){x=arguments},v.always(function(){void 0===D?_(U).removeProp(C):U[C]=D,f[C]&&(f.jsonpCallback=p.jsonpCallback,B.push(C)),x&&ot(D)&&D(x[0]),x=D=void 0}),"script"}),Jt.createHTMLDocument=((f=ze.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===f.childNodes.length),_.parseHTML=function(f,p,v){return"string"!=typeof f?[]:("boolean"==typeof p&&(v=p,p=!1),p||(Jt.createHTMLDocument?((C=(p=ze.implementation.createHTMLDocument("")).createElement("base")).href=ze.location.href,p.head.appendChild(C)):p=ze),x=!v&&[],(D=_s.exec(f))?[p.createElement(D[1])]:(D=Zi([f],p,x),x&&x.length&&_(x).remove(),_.merge([],D.childNodes)));var C,D,x},_.fn.load=function(f,p,v){var C,D,x,P=this,J=f.indexOf(" ");return J>-1&&(C=Ms(f.slice(J)),f=f.slice(0,J)),ot(p)?(v=p,p=void 0):p&&"object"==typeof p&&(D="POST"),P.length>0&&_.ajax({url:f,type:D||"GET",dataType:"html",data:p}).done(function(K){x=arguments,P.html(C?_("<div>").append(_.parseHTML(K)).find(C):K)}).always(v&&function(K,le){P.each(function(){v.apply(this,x||[K.responseText,le,K])})}),this},_.expr.pseudos.animated=function(f){return _.grep(_.timers,function(p){return f===p.elem}).length},_.offset={setOffset:function(f,p,v){var C,D,x,P,J,K,ye=_.css(f,"position"),Oe=_(f),me={};"static"===ye&&(f.style.position="relative"),J=Oe.offset(),x=_.css(f,"top"),K=_.css(f,"left"),("absolute"===ye||"fixed"===ye)&&(x+K).indexOf("auto")>-1?(P=(C=Oe.position()).top,D=C.left):(P=parseFloat(x)||0,D=parseFloat(K)||0),ot(p)&&(p=p.call(f,v,_.extend({},J))),null!=p.top&&(me.top=p.top-J.top+P),null!=p.left&&(me.left=p.left-J.left+D),"using"in p?p.using.call(f,me):Oe.css(me)}},_.fn.extend({offset:function(f){if(arguments.length)return void 0===f?this:this.each(function(D){_.offset.setOffset(this,f,D)});var p,v,C=this[0];return C?C.getClientRects().length?{top:(p=C.getBoundingClientRect()).top+(v=C.ownerDocument.defaultView).pageYOffset,left:p.left+v.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var f,p,v,C=this[0],D={top:0,left:0};if("fixed"===_.css(C,"position"))p=C.getBoundingClientRect();else{for(p=this.offset(),v=C.ownerDocument,f=C.offsetParent||v.documentElement;f&&(f===v.body||f===v.documentElement)&&"static"===_.css(f,"position");)f=f.parentNode;f&&f!==C&&1===f.nodeType&&((D=_(f).offset()).top+=_.css(f,"borderTopWidth",!0),D.left+=_.css(f,"borderLeftWidth",!0))}return{top:p.top-D.top-_.css(C,"marginTop",!0),left:p.left-D.left-_.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&"static"===_.css(f,"position");)f=f.offsetParent;return f||$n})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,p){var v="pageYOffset"===p;_.fn[f]=function(C){return hi(this,function(D,x,P){var J;if(Xe(D)?J=D:9===D.nodeType&&(J=D.defaultView),void 0===P)return J?J[p]:D[x];J?J.scrollTo(v?J.pageXOffset:P,v?P:J.pageYOffset):D[x]=P},f,C,arguments.length)}}),_.each(["top","left"],function(f,p){_.cssHooks[p]=Pu(Jt.pixelPosition,function(v,C){if(C)return C=Mo(v,p),xa.test(C)?_(v).position()[p]+"px":C})}),_.each({Height:"height",Width:"width"},function(f,p){_.each({padding:"inner"+f,content:p,"":"outer"+f},function(v,C){_.fn[C]=function(D,x){var P=arguments.length&&(v||"boolean"!=typeof D),J=v||(!0===D||!0===x?"margin":"border");return hi(this,function(K,le,ye){var Oe;return Xe(K)?0===C.indexOf("outer")?K["inner"+f]:K.document.documentElement["client"+f]:9===K.nodeType?(Oe=K.documentElement,Math.max(K.body["scroll"+f],Oe["scroll"+f],K.body["offset"+f],Oe["offset"+f],Oe["client"+f])):void 0===ye?_.css(K,le,J):_.style(K,le,ye,J)},p,P?D:void 0,P)}})}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,p){_.fn[p]=function(v){return this.on(p,v)}}),_.fn.extend({bind:function(f,p,v){return this.on(f,null,p,v)},unbind:function(f,p){return this.off(f,null,p)},delegate:function(f,p,v,C){return this.on(p,f,v,C)},undelegate:function(f,p,v){return 1===arguments.length?this.off(f,"**"):this.off(p,f||"**",v)},hover:function(f,p){return this.mouseenter(f).mouseleave(p||f)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,p){_.fn[p]=function(v,C){return arguments.length>0?this.on(p,null,v,C):this.trigger(p)}});var X=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_.proxy=function(f,p){var v,C,D;if("string"==typeof p&&(v=f[p],p=f,f=v),ot(f))return C=vn.call(arguments,2),D=function(){return f.apply(p||this,C.concat(vn.call(arguments)))},D.guid=f.guid=f.guid||_.guid++,D},_.holdReady=function(f){f?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=rr,_.isFunction=ot,_.isWindow=Xe,_.camelCase=kt,_.type=Ge,_.now=Date.now,_.isNumeric=function(f){var p=_.type(f);return("number"===p||"string"===p)&&!isNaN(f-parseFloat(f))},_.trim=function(f){return null==f?"":(f+"").replace(X,"")},void 0!==(pr=function(){return _}.apply(wi,[]))&&(fi.exports=pr);var fe=U.jQuery,oe=U.$;return _.noConflict=function(f){return U.$===_&&(U.$=oe),f&&U.jQuery===_&&(U.jQuery=fe),_},void 0===_r&&(U.jQuery=U.$=_),_})},489:function(fi,wi,ut){var pr;fi=ut.nmd(fi),function(){var U,vn="Expected a function",Gr="__lodash_hash_undefined__",Dr="__lodash_placeholder__",_=128,Xn=1/0,Vi=9007199254740991,mr=4294967295,Er=[["ary",_],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ti="[object Arguments]",is="[object Array]",zi="[object Boolean]",Sr="[object Date]",Ur="[object Error]",Ma="[object Function]",Ea="[object GeneratorFunction]",kt="[object Map]",Nn="[object Number]",O="[object Object]",q="[object Promise]",we="[object RegExp]",_e="[object Set]",Le="[object String]",nt="[object Symbol]",Cn="[object WeakMap]",tn="[object ArrayBuffer]",lr="[object DataView]",Gs="[object Float32Array]",Xo="[object Float64Array]",qn="[object Int8Array]",vr="[object Int16Array]",xr="[object Int32Array]",Gi="[object Uint8Array]",$o="[object Uint8ClampedArray]",Ui="[object Uint16Array]",Pr="[object Uint32Array]",Rr=/\b__p \+= '';/g,rl=/\b(__p \+=) '' \+/g,Tc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zi=/&(?:amp|lt|gt|quot|#39);/g,il=/[&<>"']/g,qo=RegExp(Zi.source),Do=RegExp(il.source),sl=/<%-([\s\S]+?)%>/g,Ul=/<%([\s\S]+?)%>/g,ol=/<%=([\s\S]+?)%>/g,Sa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,al=/^\w*$/,ku=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fo=/[\\^$.*+?()[\]{}|]/g,ll=RegExp(fo.source),Ko=/^\s+/,ni=/\s/,ul=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zl=/\{\n\/\* \[wrapped with (.+)\] \*/,ss=/,? & /,cl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xa=/[()=,{}\[\]\/\s]/,Ta=/\\(\\)?/g,Hi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ou=/\w*$/,Mo=/^[-+]0x[0-9a-f]+$/i,Pu=/^0b[01]+$/i,Ru=/^\[object .+?Constructor\]$/,Hl=/^0o[0-7]+$/i,Lu=/^(?:0|[1-9]\d*)$/,Nc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ri=/($^)/,Jo=/['\n\r\u2028\u2029\\]/g,Kn="\\ud800-\\udfff",Na="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Wl="\\u2700-\\u27bf",yr="a-z\\xdf-\\xf6\\xf8-\\xff",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",dl="\\ufe0e\\ufe0f",Qo="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bu="["+Kn+"]",Xl="["+Qo+"]",Hr="["+Na+"]",os="\\d+",kn="["+Wl+"]",$l="["+yr+"]",So="[^"+Kn+Qo+os+Wl+yr+Eo+"]",Ms="\\ud83c[\\udffb-\\udfff]",An="[^"+Kn+"]",ea="(?:\\ud83c[\\udde6-\\uddff]){2}",jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Us="["+Eo+"]",wn="(?:"+$l+"|"+So+")",Zt="(?:"+Us+"|"+So+")",fl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ql="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Fr="(?:"+Hr+"|"+Ms+")?",Oc="["+dl+"]?",ju=Oc+Fr+"(?:\\u200d(?:"+[An,ea,jt].join("|")+")"+Oc+Fr+")*",Pc="(?:"+[kn,ea,jt].join("|")+")"+ju,$d="(?:"+[An+Hr+"?",Hr,ea,jt,Bu].join("|")+")",Pa=RegExp("['\u2019]","g"),si=RegExp(Hr,"g"),ta=RegExp(Ms+"(?="+Ms+")|"+$d+ju,"g"),hl=RegExp([Us+"?"+$l+"+"+fl+"(?="+[Xl,Us,"$"].join("|")+")",Zt+"+"+ql+"(?="+[Xl,Us+wn,"$"].join("|")+")",Us+"?"+wn+"+"+fl,Us+"+"+ql,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",os,Pc].join("|"),"g"),Rc=RegExp("[\\u200d"+Kn+Na+dl+"]"),Mi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kl=-1,zn={};zn[Gs]=zn[Xo]=zn[qn]=zn[vr]=zn[xr]=zn[Gi]=zn[$o]=zn[Ui]=zn[Pr]=!0,zn[ti]=zn[is]=zn[tn]=zn[zi]=zn[lr]=zn[Sr]=zn[Ur]=zn[Ma]=zn[kt]=zn[Nn]=zn[O]=zn[we]=zn[_e]=zn[Le]=zn[Cn]=!1;var Fn={};Fn[ti]=Fn[is]=Fn[tn]=Fn[lr]=Fn[zi]=Fn[Sr]=Fn[Gs]=Fn[Xo]=Fn[qn]=Fn[vr]=Fn[xr]=Fn[kt]=Fn[Nn]=Fn[O]=Fn[we]=Fn[_e]=Fn[Le]=Fn[nt]=Fn[Gi]=Fn[$o]=Fn[Ui]=Fn[Pr]=!0,Fn[Ur]=Fn[Ma]=Fn[Cn]=!1;var B={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},W=parseFloat,X=parseInt,fe="object"==typeof global&&global&&global.Object===Object&&global,oe="object"==typeof self&&self&&self.Object===Object&&self,f=fe||oe||Function("return this")(),p=wi&&!wi.nodeType&&wi,v=p&&fi&&!fi.nodeType&&fi,C=v&&v.exports===p,D=C&&fe.process,x=function(){try{return v&&v.require&&v.require("util").types||D&&D.binding&&D.binding("util")}catch(pe){}}(),P=x&&x.isArrayBuffer,J=x&&x.isDate,K=x&&x.isMap,le=x&&x.isRegExp,ye=x&&x.isSet,Oe=x&&x.isTypedArray;function me(se,pe,ve){switch(ve.length){case 0:return se.call(pe);case 1:return se.call(pe,ve[0]);case 2:return se.call(pe,ve[0],ve[1]);case 3:return se.call(pe,ve[0],ve[1],ve[2])}return se.apply(pe,ve)}function he(se,pe,ve,We){for(var Lt=-1,fn=null==se?0:se.length;++Lt<fn;){var pn=se[Lt];pe(We,pn,ve(pn),se)}return We}function Ke(se,pe){for(var ve=-1,We=null==se?0:se.length;++ve<We&&!1!==pe(se[ve],ve,se););return se}function Wt(se,pe){for(var ve=null==se?0:se.length;ve--&&!1!==pe(se[ve],ve,se););return se}function rt(se,pe){for(var ve=-1,We=null==se?0:se.length;++ve<We;)if(!pe(se[ve],ve,se))return!1;return!0}function Zn(se,pe){for(var ve=-1,We=null==se?0:se.length,Lt=0,fn=[];++ve<We;){var pn=se[ve];pe(pn,ve,se)&&(fn[Lt++]=pn)}return fn}function ur(se,pe){return!(null==se||!se.length)&&Wr(se,pe,0)>-1}function cr(se,pe,ve){for(var We=-1,Lt=null==se?0:se.length;++We<Lt;)if(ve(pe,se[We]))return!0;return!1}function lt(se,pe){for(var ve=-1,We=null==se?0:se.length,Lt=Array(We);++ve<We;)Lt[ve]=pe(se[ve],ve,se);return Lt}function Dt(se,pe){for(var ve=-1,We=pe.length,Lt=se.length;++ve<We;)se[Lt+ve]=pe[ve];return se}function Ei(se,pe,ve,We){var Lt=-1,fn=null==se?0:se.length;for(We&&fn&&(ve=se[++Lt]);++Lt<fn;)ve=pe(ve,se[Lt],Lt,se);return ve}function $t(se,pe,ve,We){var Lt=null==se?0:se.length;for(We&&Lt&&(ve=se[--Lt]);Lt--;)ve=pe(ve,se[Lt],Lt,se);return ve}function Jn(se,pe){for(var ve=-1,We=null==se?0:se.length;++ve<We;)if(pe(se[ve],ve,se))return!0;return!1}var Jl=gl("length");function hn(se,pe,ve){var We;return ve(se,function(Lt,fn,pn){if(pe(Lt,fn,pn))return We=fn,!1}),We}function xo(se,pe,ve,We){for(var Lt=se.length,fn=ve+(We?1:-1);We?fn--:++fn<Lt;)if(pe(se[fn],fn,se))return fn;return-1}function Wr(se,pe,ve){return pe==pe?function(se,pe,ve){for(var We=ve-1,Lt=se.length;++We<Lt;)if(se[We]===pe)return We;return-1}(se,pe,ve):xo(se,en,ve)}function as(se,pe,ve,We){for(var Lt=ve-1,fn=se.length;++Lt<fn;)if(We(se[Lt],pe))return Lt;return-1}function en(se){return se!=se}function Ss(se,pe){var ve=null==se?0:se.length;return ve?ls(se,pe)/ve:NaN}function gl(se){return function(pe){return null==pe?U:pe[se]}}function Zs(se){return function(pe){return null==se?U:se[pe]}}function Ql(se,pe,ve,We,Lt){return Lt(se,function(fn,pn,_n){ve=We?(We=!1,fn):pe(ve,fn,pn,_n)}),ve}function ls(se,pe){for(var ve,We=-1,Lt=se.length;++We<Lt;){var fn=pe(se[We]);fn!==U&&(ve=ve===U?fn:ve+fn)}return ve}function Uu(se,pe){for(var ve=-1,We=Array(se);++ve<se;)We[ve]=pe(ve);return We}function qd(se){return se&&se.slice(0,gn(se)+1).replace(Ko,"")}function oi(se){return function(pe){return se(pe)}}function Zu(se,pe){return lt(pe,function(ve){return se[ve]})}function Ra(se,pe){return se.has(pe)}function pi(se,pe){for(var ve=-1,We=se.length;++ve<We&&Wr(pe,se[ve],0)>-1;);return ve}function Kd(se,pe){for(var ve=se.length;ve--&&Wr(pe,se[ve],0)>-1;);return ve}function Jd(se,pe){for(var ve=se.length,We=0;ve--;)se[ve]===pe&&++We;return We}var vt=Zs({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Wi=Zs({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function mi(se){return"\\"+B[se]}function vi(se){return Rc.test(se)}function us(se){var pe=-1,ve=Array(se.size);return se.forEach(function(We,Lt){ve[++pe]=[Lt,We]}),ve}function Yi(se,pe){return function(ve){return se(pe(ve))}}function Ts(se,pe){for(var ve=-1,We=se.length,Lt=0,fn=[];++ve<We;){var pn=se[ve];(pn===pe||pn===Dr)&&(se[ve]=Dr,fn[Lt++]=ve)}return fn}function Hs(se){var pe=-1,ve=Array(se.size);return se.forEach(function(We){ve[++pe]=We}),ve}function Ve(se){return vi(se)?function(se){for(var pe=ta.lastIndex=0;ta.test(se);)++pe;return pe}(se):Jl(se)}function dt(se){return vi(se)?function(se){return se.match(ta)||[]}(se):function(se){return se.split("")}(se)}function gn(se){for(var pe=se.length;pe--&&ni.test(se.charAt(pe)););return pe}var Si=Zs({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Xi=function se(pe){var l,ve=(pe=null==pe?f:Xi.defaults(f.Object(),pe,Xi.pick(f,Lc))).Array,We=pe.Date,Lt=pe.Error,fn=pe.Function,pn=pe.Math,_n=pe.Object,mo=pe.RegExp,Ws=pe.String,R=pe.TypeError,te=ve.prototype,be=_n.prototype,ae=pe["__core-js_shared__"],Me=fn.prototype.toString,Ie=be.hasOwnProperty,je=0,Be=(l=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",yt=be.toString,At=Me.call(_n),xt=f._,sn=mo("^"+Me.call(Ie).replace(fo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bn=C?pe.Buffer:U,gt=pe.Symbol,Cr=pe.Uint8Array,yi=Bn?Bn.allocUnsafe:U,xi=Yi(_n.getPrototypeOf,_n),tr=_n.create,eu=be.propertyIsEnumerable,Fa=te.splice,cs=gt?gt.isConcatSpreadable:U,Qd=gt?gt.iterator:U,Hu=gt?gt.toStringTag:U,$h=function(){try{var l=qi(_n,"defineProperty");return l({},"",{}),l}catch(c){}}(),vM=pe.clearTimeout!==f.clearTimeout&&pe.clearTimeout,yM=We&&We.now!==f.Date.now&&We.now,_m=pe.setTimeout!==f.setTimeout&&pe.setTimeout,Wu=pn.ceil,qh=pn.floor,Dm=_n.getOwnPropertySymbols,CM=Bn?Bn.isBuffer:U,ml=pe.isFinite,bC=te.join,Ys=Yi(_n.keys,_n),Xr=pn.max,$i=pn.min,IC=We.now,Mm=pe.parseInt,Kh=pn.random,AC=te.reverse,Fc=qi(pe,"DataView"),Bc=qi(pe,"Map"),Ns=qi(pe,"Promise"),tu=qi(pe,"Set"),Yu=qi(pe,"WeakMap"),nu=qi(_n,"create"),ef=Yu&&new Yu,vl={},bM=hu(Fc),Tr=hu(Bc),Em=hu(Ns),wC=hu(tu),$r=hu(Yu),tf=gt?gt.prototype:U,nf=tf?tf.valueOf:U,jc=tf?tf.toString:U;function L(l){if(Ar(l)&&!Xt(l)&&!(l instanceof Ut)){if(l instanceof Ti)return l;if(Ie.call(l,"__wrapped__"))return eb(l)}return new Ti(l)}var Xu=function(){function l(){}return function(c){if(!Ir(c))return{};if(tr)return tr(c);l.prototype=c;var m=new l;return l.prototype=U,m}}();function $u(){}function Ti(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=U}function Ut(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=mr,this.__views__=[]}function ks(l){var c=-1,m=null==l?0:l.length;for(this.clear();++c<m;){var b=l[c];this.set(b[0],b[1])}}function Ba(l){var c=-1,m=null==l?0:l.length;for(this.clear();++c<m;){var b=l[c];this.set(b[0],b[1])}}function Qt(l){var c=-1,m=null==l?0:l.length;for(this.clear();++c<m;){var b=l[c];this.set(b[0],b[1])}}function ja(l){var c=-1,m=null==l?0:l.length;for(this.__data__=new Qt;++c<m;)this.add(l[c])}function No(l){var c=this.__data__=new Ba(l);this.size=c.size}function ru(l,c){var m=Xt(l),b=!m&&Sl(l),T=!m&&!b&&da(l),j=!m&&!b&&!T&&Rs(l),ee=m||b||T||j,re=ee?Uu(l.length,Ws):[],de=re.length;for(var Ee in l)(c||Ie.call(l,Ee))&&(!ee||!("length"==Ee||T&&("offset"==Ee||"parent"==Ee)||j&&("buffer"==Ee||"byteLength"==Ee||"byteOffset"==Ee)||Dl(Ee,de)))&&re.push(Ee);return re}function sa(l){var c=l.length;return c?l[vf(0,c-1)]:U}function xC(l,c){return Of(hs(l),oa(c,0,l.length))}function Om(l){return Of(hs(l))}function tg(l,c,m){(m!==U&&!vo(l[c],m)||m===U&&!(c in l))&&za(l,c,m)}function zc(l,c,m){var b=l[c];(!Ie.call(l,c)||!vo(b,m)||m===U&&!(c in l))&&za(l,c,m)}function qu(l,c){for(var m=l.length;m--;)if(vo(l[m][0],c))return m;return-1}function ng(l,c,m,b){return Cl(l,function(T,j,ee){c(b,T,m(T),ee)}),b}function rg(l,c){return l&&Js(c,Ri(c),l)}function za(l,c,m){"__proto__"==c&&$h?$h(l,c,{configurable:!0,enumerable:!0,value:m,writable:!0}):l[c]=m}function af(l,c){for(var m=-1,b=c.length,T=ve(b),j=null==l;++m<b;)T[m]=j?U:$f(l,c[m]);return T}function oa(l,c,m){return l==l&&(m!==U&&(l=l<=m?l:m),c!==U&&(l=l>=c?l:c)),l}function Xs(l,c,m,b,T,j){var ee,re=1&c,de=2&c,Ee=4&c;if(m&&(ee=T?m(l,b,T,j):m(l)),ee!==U)return ee;if(!Ir(l))return l;var Se=Xt(l);if(Se){if(ee=function(l){var c=l.length,m=new l.constructor(c);return c&&"string"==typeof l[0]&&Ie.call(l,"index")&&(m.index=l.index,m.input=l.input),m}(l),!re)return hs(l,ee)}else{var Ne=Pi(l),Ye=Ne==Ma||Ne==Ea;if(da(l))return zC(l,re);if(Ne==O||Ne==ti||Ye&&!T){if(ee=de||Ye?{}:ev(l),!re)return de?function(l,c){return Js(l,Qm(l),c)}(l,function(l,c){return l&&Js(c,to(c),l)}(ee,l)):function(l,c){return Js(l,_l(l),c)}(l,rg(ee,l))}else{if(!Fn[Ne])return T?l:{};ee=function(l,c,m){var b=l.constructor;switch(c){case tn:return cu(l);case zi:case Sr:return new b(+l);case lr:return function(l,c){var m=c?cu(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.byteLength)}(l,m);case Gs:case Xo:case qn:case vr:case xr:case Gi:case $o:case Ui:case Pr:return nc(l,m);case kt:return new b;case Nn:case Le:return new b(l);case we:return function(l){var c=new l.constructor(l.source,Ou.exec(l));return c.lastIndex=l.lastIndex,c}(l);case _e:return new b;case nt:return function(l){return nf?_n(nf.call(l)):{}}(l)}}(l,Ne,re)}}j||(j=new No);var ft=j.get(l);if(ft)return ft;j.set(l,ee),Bv(l)?l.forEach(function(Bt){ee.add(Xs(Bt,c,m,Bt,l,j))}):Rv(l)&&l.forEach(function(Bt,mn){ee.set(mn,Xs(Bt,c,m,mn,l,j))});var qt=Se?U:(Ee?de?Mf:Df:de?to:Ri)(l);return Ke(qt||l,function(Bt,mn){qt&&(Bt=l[mn=Bt]),zc(ee,mn,Xs(Bt,c,m,mn,l,j))}),ee}function sg(l,c,m){var b=m.length;if(null==l)return!b;for(l=_n(l);b--;){var T=m[b],ee=l[T];if(ee===U&&!(T in l)||!(0,c[T])(ee))return!1}return!0}function og(l,c,m){if("function"!=typeof l)throw new R(vn);return ed(function(){l.apply(U,m)},c)}function yl(l,c,m,b){var T=-1,j=ur,ee=!0,re=l.length,de=[],Ee=c.length;if(!re)return de;m&&(c=lt(c,oi(m))),b?(j=cr,ee=!1):c.length>=200&&(j=Ra,ee=!1,c=new ja(c));e:for(;++T<re;){var Se=l[T],Ne=null==m?Se:m(Se);if(Se=b||0!==Se?Se:0,ee&&Ne==Ne){for(var Ye=Ee;Ye--;)if(c[Ye]===Ne)continue e;de.push(Se)}else j(c,Ne,b)||de.push(Se)}return de}L.templateSettings={escape:sl,evaluate:Ul,interpolate:ol,variable:"",imports:{_:L}},(L.prototype=$u.prototype).constructor=L,(Ti.prototype=Xu($u.prototype)).constructor=Ti,(Ut.prototype=Xu($u.prototype)).constructor=Ut,ks.prototype.clear=function(){this.__data__=nu?nu(null):{},this.size=0},ks.prototype.delete=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c},ks.prototype.get=function(l){var c=this.__data__;if(nu){var m=c[l];return m===Gr?U:m}return Ie.call(c,l)?c[l]:U},ks.prototype.has=function(l){var c=this.__data__;return nu?c[l]!==U:Ie.call(c,l)},ks.prototype.set=function(l,c){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=nu&&c===U?Gr:c,this},Ba.prototype.clear=function(){this.__data__=[],this.size=0},Ba.prototype.delete=function(l){var c=this.__data__,m=qu(c,l);return!(m<0||(m==c.length-1?c.pop():Fa.call(c,m,1),--this.size,0))},Ba.prototype.get=function(l){var c=this.__data__,m=qu(c,l);return m<0?U:c[m][1]},Ba.prototype.has=function(l){return qu(this.__data__,l)>-1},Ba.prototype.set=function(l,c){var m=this.__data__,b=qu(m,l);return b<0?(++this.size,m.push([l,c])):m[b][1]=c,this},Qt.prototype.clear=function(){this.size=0,this.__data__={hash:new ks,map:new(Bc||Ba),string:new ks}},Qt.prototype.delete=function(l){var c=Ef(this,l).delete(l);return this.size-=c?1:0,c},Qt.prototype.get=function(l){return Ef(this,l).get(l)},Qt.prototype.has=function(l){return Ef(this,l).has(l)},Qt.prototype.set=function(l,c){var m=Ef(this,l),b=m.size;return m.set(l,c),this.size+=m.size==b?0:1,this},ja.prototype.add=ja.prototype.push=function(l){return this.__data__.set(l,Gr),this},ja.prototype.has=function(l){return this.__data__.has(l)},No.prototype.clear=function(){this.__data__=new Ba,this.size=0},No.prototype.delete=function(l){var c=this.__data__,m=c.delete(l);return this.size=c.size,m},No.prototype.get=function(l){return this.__data__.get(l)},No.prototype.has=function(l){return this.__data__.has(l)},No.prototype.set=function(l,c){var m=this.__data__;if(m instanceof Ba){var b=m.__data__;if(!Bc||b.length<199)return b.push([l,c]),this.size=++m.size,this;m=this.__data__=new Qt(b)}return m.set(l,c),this.size=m.size,this};var Cl=ZC(aa),Rm=ZC(lg,!0);function fs(l,c){var m=!0;return Cl(l,function(b,T,j){return m=!!c(b,T,j)}),m}function ko(l,c,m){for(var b=-1,T=l.length;++b<T;){var j=l[b],ee=c(j);if(null!=ee&&(re===U?ee==ee&&!Ct(ee):m(ee,re)))var re=ee,de=j}return de}function Lm(l,c){var m=[];return Cl(l,function(b,T,j){c(b,T,j)&&m.push(b)}),m}function Ni(l,c,m,b,T){var j=-1,ee=l.length;for(m||(m=$C),T||(T=[]);++j<ee;){var re=l[j];c>0&&m(re)?c>1?Ni(re,c-1,m,b,T):Dt(T,re):b||(T[T.length]=re)}return T}var ag=HC(),Fm=HC(!0);function aa(l,c){return l&&ag(l,c,Ri)}function lg(l,c){return l&&Fm(l,c,Ri)}function iu(l,c){return Zn(c,function(m){return fa(l[m])})}function la(l,c){for(var m=0,b=(c=lu(c,l)).length;null!=l&&m<b;)l=l[Ps(c[m++])];return m&&m==b?l:U}function Gc(l,c,m){var b=c(l);return Xt(l)?b:Dt(b,m(l))}function ki(l){return null==l?l===U?"[object Undefined]":"[object Null]":Hu&&Hu in _n(l)?function(l){var c=Ie.call(l,Hu),m=l[Hu];try{l[Hu]=U;var b=!0}catch(j){}var T=yt.call(l);return b&&(c?l[Hu]=m:delete l[Hu]),T}(l):function(l){return yt.call(l)}(l)}function lf(l,c){return l>c}function TC(l,c){return null!=l&&Ie.call(l,c)}function bl(l,c){return null!=l&&c in _n(l)}function ug(l,c,m){for(var b=m?cr:ur,T=l[0].length,j=l.length,ee=j,re=ve(j),de=1/0,Ee=[];ee--;){var Se=l[ee];ee&&c&&(Se=lt(Se,oi(c))),de=$i(Se.length,de),re[ee]=!m&&(c||T>=120&&Se.length>=120)?new ja(ee&&Se):U}Se=l[0];var Ne=-1,Ye=re[0];e:for(;++Ne<T&&Ee.length<de;){var ft=Se[Ne],Ft=c?c(ft):ft;if(ft=m||0!==ft?ft:0,!(Ye?Ra(Ye,Ft):b(Ee,Ft,m))){for(ee=j;--ee;){var qt=re[ee];if(!(qt?Ra(qt,Ft):b(l[ee],Ft,m)))continue e}Ye&&Ye.push(Ft),Ee.push(ft)}}return Ee}function Ga(l,c,m){var b=null==(l=Dg(l,c=lu(c,l)))?l:l[Ps(Ro(c))];return null==b?U:me(b,l,m)}function uf(l){return Ar(l)&&ki(l)==ti}function cf(l,c,m,b,T){return l===c||(null==l||null==c||!Ar(l)&&!Ar(c)?l!=l&&c!=c:function(l,c,m,b,T,j){var ee=Xt(l),re=Xt(c),de=ee?is:Pi(l),Ee=re?is:Pi(c),Se=(de=de==ti?O:de)==O,Ne=(Ee=Ee==ti?O:Ee)==O,Ye=de==Ee;if(Ye&&da(l)){if(!da(c))return!1;ee=!0,Se=!1}if(Ye&&!Se)return j||(j=new No),ee||Rs(l)?sc(l,c,m,b,T,j):function(l,c,m,b,T,j,ee){switch(m){case lr:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case tn:return!(l.byteLength!=c.byteLength||!j(new Cr(l),new Cr(c)));case zi:case Sr:case Nn:return vo(+l,+c);case Ur:return l.name==c.name&&l.message==c.message;case we:case Le:return l==c+"";case kt:var re=us;case _e:if(re||(re=Hs),l.size!=c.size&&!(1&b))return!1;var Ee=ee.get(l);if(Ee)return Ee==c;b|=2,ee.set(l,c);var Se=sc(re(l),re(c),b,T,j,ee);return ee.delete(l),Se;case nt:if(nf)return nf.call(l)==nf.call(c)}return!1}(l,c,de,m,b,T,j);if(!(1&m)){var ft=Se&&Ie.call(l,"__wrapped__"),Ft=Ne&&Ie.call(c,"__wrapped__");if(ft||Ft){var qt=ft?l.value():l,Bt=Ft?c.value():c;return j||(j=new No),T(qt,Bt,m,b,j)}}return!!Ye&&(j||(j=new No),function(l,c,m,b,T,j){var ee=1&m,re=Df(l),de=re.length;if(de!=Df(c).length&&!ee)return!1;for(var Ne=de;Ne--;){var Ye=re[Ne];if(!(ee?Ye in c:Ie.call(c,Ye)))return!1}var ft=j.get(l),Ft=j.get(c);if(ft&&Ft)return ft==c&&Ft==l;var qt=!0;j.set(l,c),j.set(c,l);for(var Bt=ee;++Ne<de;){var mn=l[Ye=re[Ne]],Dn=c[Ye];if(b)var ro=ee?b(Dn,mn,Ye,c,l,j):b(mn,Dn,Ye,l,c,j);if(!(ro===U?mn===Dn||T(mn,Dn,m,b,j):ro)){qt=!1;break}Bt||(Bt="constructor"==Ye)}if(qt&&!Bt){var Gn=l.constructor,ms=c.constructor;Gn!=ms&&"constructor"in l&&"constructor"in c&&!("function"==typeof Gn&&Gn instanceof Gn&&"function"==typeof ms&&ms instanceof ms)&&(qt=!1)}return j.delete(l),j.delete(c),qt}(l,c,m,b,T,j))}(l,c,m,b,cf,T))}function ff(l,c,m,b){var T=m.length,j=T,ee=!b;if(null==l)return!j;for(l=_n(l);T--;){var re=m[T];if(ee&&re[2]?re[1]!==l[re[0]]:!(re[0]in l))return!1}for(;++T<j;){var de=(re=m[T])[0],Ee=l[de],Se=re[1];if(ee&&re[2]){if(Ee===U&&!(de in l))return!1}else{var Ne=new No;if(b)var Ye=b(Ee,Se,de,l,c,Ne);if(!(Ye===U?cf(Se,Ee,3,b,Ne):Ye))return!1}}return!0}function hf(l){return!(!Ir(l)||function(l){return!!Be&&Be in l}(l))&&(fa(l)?sn:Ru).test(hu(l))}function su(l){return"function"==typeof l?l:null==l?Ls:"object"==typeof l?Xt(l)?dg(l[0],l[1]):PC(l):nh(l)}function cg(l){if(!Ml(l))return Ys(l);var c=[];for(var m in _n(l))Ie.call(l,m)&&"constructor"!=m&&c.push(m);return c}function Zc(l,c){return l<c}function Hc(l,c){var m=-1,b=ps(l)?ve(l.length):[];return Cl(l,function(T,j,ee){b[++m]=c(T,j,ee)}),b}function PC(l){var c=du(l);return 1==c.length&&c[0][2]?fu(c[0][0],c[0][1]):function(m){return m===l||ff(m,l,c)}}function dg(l,c){return wg(l)&&xf(c)?fu(Ps(l),c):function(m){var b=$f(m,l);return b===U&&b===c?dd(m,l):cf(c,b,3)}}function Wc(l,c,m,b,T){l!==c&&ag(c,function(j,ee){if(T||(T=new No),Ir(j))!function(l,c,m,b,T,j,ee){var re=kf(l,m),de=kf(c,m),Ee=ee.get(de);if(Ee)tg(l,m,Ee);else{var Se=j?j(re,de,m+"",l,c,ee):U,Ne=Se===U;if(Ne){var Ye=Xt(de),ft=!Ye&&da(de),Ft=!Ye&&!ft&&Rs(de);Se=de,Ye||ft||Ft?Xt(re)?Se=re:br(re)?Se=hs(re):ft?(Ne=!1,Se=zC(de,!0)):Ft?(Ne=!1,Se=nc(de,!0)):Se=[]:ud(de)||Sl(de)?(Se=re,Sl(re)?Se=Xf(re):(!Ir(re)||fa(re))&&(Se=ev(de))):Ne=!1}Ne&&(ee.set(de,Se),T(Se,de,b,j,ee),ee.delete(de)),tg(l,m,Se)}}(l,c,ee,m,Wc,b,T);else{var re=b?b(kf(l,ee),j,ee+"",l,c,T):U;re===U&&(re=j),tg(l,ee,re)}},to)}function Vm(l,c){var m=l.length;if(m)return Dl(c+=c<0?m:0,m)?l[c]:U}function Ju(l,c,m){c=c.length?lt(c,function(j){return Xt(j)?function(ee){return la(ee,1===j.length?j[0]:j)}:j}):[Ls];var b=-1;return c=lt(c,oi(Ot())),function(se,pe){var ve=se.length;for(se.sort(function(j,ee){return function(l,c,m){for(var b=-1,T=l.criteria,j=c.criteria,ee=T.length,re=m.length;++b<ee;){var de=GC(T[b],j[b]);if(de)return b>=re?de:de*("desc"==m[b]?-1:1)}return l.index-c.index}(j,ee,m)});ve--;)se[ve]=se[ve].value;return se}(Hc(l,function(j,ee,re){return{criteria:lt(c,function(Ee){return Ee(j)}),index:++b,value:j}}))}function pf(l,c,m){for(var b=-1,T=c.length,j={};++b<T;){var ee=c[b],re=la(l,ee);m(re,ee)&&Il(j,lu(ee,l),re)}return j}function Qu(l,c,m,b){var T=b?as:Wr,j=-1,ee=c.length,re=l;for(l===c&&(c=hs(c)),m&&(re=lt(l,oi(m)));++j<ee;)for(var de=0,Ee=c[j],Se=m?m(Ee):Ee;(de=T(re,Se,de,b))>-1;)re!==l&&Fa.call(re,de,1),Fa.call(l,de,1);return l}function zm(l,c){for(var m=l?c.length:0,b=m-1;m--;){var T=c[m];if(m==b||T!==j){var j=T;Dl(T)?Fa.call(l,T,1):Cf(l,T)}}return l}function vf(l,c){return l+qh(Kh()*(c-l+1))}function yf(l,c){var m="";if(!l||c<1||c>Vi)return m;do{c%2&&(m+=l),(c=qh(c/2))&&(l+=l)}while(c);return m}function on(l,c){return Eg(Nf(l,c,Ls),l+"")}function LC(l){return sa(fc(l))}function FC(l,c){var m=fc(l);return Of(m,oa(c,0,m.length))}function Il(l,c,m,b){if(!Ir(l))return l;for(var T=-1,j=(c=lu(c,l)).length,ee=j-1,re=l;null!=re&&++T<j;){var de=Ps(c[T]),Ee=m;if("__proto__"===de||"constructor"===de||"prototype"===de)return l;if(T!=ee){var Se=re[de];(Ee=b?b(Se,de,re):U)===U&&(Ee=Ir(Se)?Se:Dl(c[T+1])?[]:{})}zc(re,de,Ee),re=re[de]}return l}var ec=ef?function(l,c){return ef.set(l,c),l}:Ls,BC=$h?function(l,c){return $h(l,"toString",{configurable:!0,enumerable:!1,value:eh(c),writable:!0})}:Ls;function Um(l){return Of(fc(l))}function $s(l,c,m){var b=-1,T=l.length;c<0&&(c=-c>T?0:T+c),(m=m>T?T:m)<0&&(m+=T),T=c>m?0:m-c>>>0,c>>>=0;for(var j=ve(T);++b<T;)j[b]=l[b+c];return j}function tc(l,c){var m;return Cl(l,function(b,T,j){return!(m=c(b,T,j))}),!!m}function Oi(l,c,m){var b=0,T=null==l?b:l.length;if("number"==typeof c&&c==c&&T<=2147483647){for(;b<T;){var j=b+T>>>1,ee=l[j];null!==ee&&!Ct(ee)&&(m?ee<=c:ee<c)?b=j+1:T=j}return T}return Yc(l,c,Ls,m)}function Yc(l,c,m,b){var T=0,j=null==l?0:l.length;if(0===j)return 0;for(var ee=(c=m(c))!=c,re=null===c,de=Ct(c),Ee=c===U;T<j;){var Se=qh((T+j)/2),Ne=m(l[Se]),Ye=Ne!==U,ft=null===Ne,Ft=Ne==Ne,qt=Ct(Ne);if(ee)var Bt=b||Ft;else Bt=Ee?Ft&&(b||Ye):re?Ft&&Ye&&(b||!ft):de?Ft&&Ye&&!ft&&(b||!qt):!ft&&!qt&&(b?Ne<=c:Ne<c);Bt?T=Se+1:j=Se}return $i(j,4294967294)}function ou(l,c){for(var m=-1,b=l.length,T=0,j=[];++m<b;){var ee=l[m],re=c?c(ee):ee;if(!m||!vo(re,de)){var de=re;j[T++]=0===ee?0:ee}}return j}function au(l){return"number"==typeof l?l:Ct(l)?NaN:+l}function Ci(l){if("string"==typeof l)return l;if(Xt(l))return lt(l,Ci)+"";if(Ct(l))return jc?jc.call(l):"";var c=l+"";return"0"==c&&1/l==-Xn?"-0":c}function qs(l,c,m){var b=-1,T=ur,j=l.length,ee=!0,re=[],de=re;if(m)ee=!1,T=cr;else if(j>=200){var Ee=c?null:_f(l);if(Ee)return Hs(Ee);ee=!1,T=Ra,de=new ja}else de=c?[]:re;e:for(;++b<j;){var Se=l[b],Ne=c?c(Se):Se;if(Se=m||0!==Se?Se:0,ee&&Ne==Ne){for(var Ye=de.length;Ye--;)if(de[Ye]===Ne)continue e;c&&de.push(Ne),re.push(Se)}else T(de,Ne,m)||(de!==re&&de.push(Ne),re.push(Se))}return re}function Cf(l,c){return null==(l=Dg(l,c=lu(c,l)))||delete l[Ps(Ro(c))]}function bf(l,c,m,b){return Il(l,c,m(la(l,c)),b)}function Ua(l,c,m,b){for(var T=l.length,j=b?T:-1;(b?j--:++j<T)&&c(l[j],j,l););return m?$s(l,b?0:j,b?j+1:T):$s(l,b?j+1:0,b?T:j)}function jC(l,c){var m=l;return m instanceof Ut&&(m=m.value()),Ei(c,function(b,T){return T.func.apply(T.thisArg,Dt([b],T.args))},m)}function hg(l,c,m){var b=l.length;if(b<2)return b?qs(l[0]):[];for(var T=-1,j=ve(b);++T<b;)for(var ee=l[T],re=-1;++re<b;)re!=T&&(j[T]=yl(j[T]||ee,l[re],c,m));return qs(Ni(j,1),c,m)}function Mt(l,c,m){for(var b=-1,T=l.length,j=c.length,ee={};++b<T;)m(ee,l[b],b<j?c[b]:U);return ee}function gg(l){return br(l)?l:[]}function Zm(l){return"function"==typeof l?l:Ls}function lu(l,c){return Xt(l)?l:wg(l,c)?[l]:Ha(jn(l))}var _M=on;function uu(l,c,m){var b=l.length;return m=m===U?b:m,!c&&m>=b?l:$s(l,c,m)}var VC=vM||function(l){return f.clearTimeout(l)};function zC(l,c){if(c)return l.slice();var m=l.length,b=yi?yi(m):new l.constructor(m);return l.copy(b),b}function cu(l){var c=new l.constructor(l.byteLength);return new Cr(c).set(new Cr(l)),c}function nc(l,c){var m=c?cu(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.length)}function GC(l,c){if(l!==c){var m=l!==U,b=null===l,T=l==l,j=Ct(l),ee=c!==U,re=null===c,de=c==c,Ee=Ct(c);if(!re&&!Ee&&!j&&l>c||j&&ee&&de&&!re&&!Ee||b&&ee&&de||!m&&de||!T)return 1;if(!b&&!j&&!Ee&&l<c||Ee&&m&&T&&!b&&!j||re&&m&&T||!ee&&T||!de)return-1}return 0}function Ks(l,c,m,b){for(var T=-1,j=l.length,ee=m.length,re=-1,de=c.length,Ee=Xr(j-ee,0),Se=ve(de+Ee),Ne=!b;++re<de;)Se[re]=c[re];for(;++T<ee;)(Ne||T<j)&&(Se[m[T]]=l[T]);for(;Ee--;)Se[re++]=l[T++];return Se}function Oo(l,c,m,b){for(var T=-1,j=l.length,ee=-1,re=m.length,de=-1,Ee=c.length,Se=Xr(j-re,0),Ne=ve(Se+Ee),Ye=!b;++T<Se;)Ne[T]=l[T];for(var ft=T;++de<Ee;)Ne[ft+de]=c[de];for(;++ee<re;)(Ye||T<j)&&(Ne[ft+m[ee]]=l[T++]);return Ne}function hs(l,c){var m=-1,b=l.length;for(c||(c=ve(b));++m<b;)c[m]=l[m];return c}function Js(l,c,m,b){var T=!m;m||(m={});for(var j=-1,ee=c.length;++j<ee;){var re=c[j],de=b?b(m[re],l[re],re,m,l):U;de===U&&(de=l[re]),T?za(m,re,de):zc(m,re,de)}return m}function If(l,c){return function(m,b){var T=Xt(m)?he:ng,j=c?c():{};return T(m,l,Ot(b,2),j)}}function rc(l){return on(function(c,m){var b=-1,T=m.length,j=T>1?m[T-1]:U,ee=T>2?m[2]:U;for(j=l.length>3&&"function"==typeof j?(T--,j):U,ee&&Ki(m[0],m[1],ee)&&(j=T<3?U:j,T=1),c=_n(c);++b<T;){var re=m[b];re&&l(c,re,b,j)}return c})}function ZC(l,c){return function(m,b){if(null==m)return m;if(!ps(m))return l(m,b);for(var T=m.length,j=c?T:-1,ee=_n(m);(c?j--:++j<T)&&!1!==b(ee[j],j,ee););return m}}function HC(l){return function(c,m,b){for(var T=-1,j=_n(c),ee=b(c),re=ee.length;re--;){var de=ee[l?re:++T];if(!1===m(j[de],de,j))break}return c}}function Os(l){return function(c){var m=vi(c=jn(c))?dt(c):U,b=m?m[0]:c.charAt(0),T=m?uu(m,1).join(""):c.slice(1);return b[l]()+T}}function Al(l){return function(c){return Ei(Qf(mu(c).replace(Pa,"")),l,"")}}function ua(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var m=Xu(l.prototype),b=l.apply(m,c);return Ir(b)?b:m}}function mg(l){return function(c,m,b){var T=_n(c);if(!ps(c)){var j=Ot(m,3);c=Ri(c),m=function(re){return j(T[re],re,T)}}var ee=l(c,m,b);return ee>-1?T[j?c[ee]:ee]:U}}function Ym(l){return Ue(function(c){var m=c.length,b=m,T=Ti.prototype.thru;for(l&&c.reverse();b--;){var j=c[b];if("function"!=typeof j)throw new R(vn);if(T&&!ee&&"wrapper"==wl(j))var ee=new Ti([],!0)}for(b=ee?b:m;++b<m;){var re=wl(j=c[b]),de="wrapper"==re?Jc(j):U;ee=de&&_g(de[0])&&424==de[1]&&!de[4].length&&1==de[9]?ee[wl(de[0])].apply(ee,de[3]):1==j.length&&_g(j)?ee[re]():ee.thru(j)}return function(){var Ee=arguments,Se=Ee[0];if(ee&&1==Ee.length&&Xt(Se))return ee.plant(Se).value();for(var Ne=0,Ye=m?c[Ne].apply(this,Ee):Se;++Ne<m;)Ye=c[Ne].call(this,Ye);return Ye}})}function Af(l,c,m,b,T,j,ee,re,de,Ee){var Se=c&_,Ne=1&c,Ye=2&c,ft=24&c,Ft=512&c,qt=Ye?U:ua(l);return function Bt(){for(var mn=arguments.length,Dn=ve(mn),ro=mn;ro--;)Dn[ro]=arguments[ro];if(ft)var Gn=oc(Bt),ms=Jd(Dn,Gn);if(b&&(Dn=Ks(Dn,b,T,ft)),j&&(Dn=Oo(Dn,j,ee,ft)),mn-=ms,ft&&mn<Ee){var kr=Ts(Dn,Gn);return ic(l,c,Af,Bt.placeholder,m,Dn,kr,re,de,Ee-mn)}var yo=Ne?m:this,ga=Ye?yo[l]:l;return mn=Dn.length,re?Dn=tv(Dn,re):Ft&&mn>1&&Dn.reverse(),Se&&de<mn&&(Dn.length=de),this&&this!==f&&this instanceof Bt&&(ga=qt||ua(ga)),ga.apply(yo,Dn)}}function Xm(l,c){return function(m,b){return function(l,c,m,b){return aa(l,function(T,j,ee){c(b,m(T),j,ee)}),b}(m,l,c(b),{})}}function wf(l,c){return function(m,b){var T;if(m===U&&b===U)return c;if(m!==U&&(T=m),b!==U){if(T===U)return b;"string"==typeof m||"string"==typeof b?(m=Ci(m),b=Ci(b)):(m=au(m),b=au(b)),T=l(m,b)}return T}}function vg(l){return Ue(function(c){return c=lt(c,oi(Ot())),on(function(m){var b=this;return l(c,function(T){return me(T,b,m)})})})}function $c(l,c){var m=(c=c===U?" ":Ci(c)).length;if(m<2)return m?yf(c,l):c;var b=yf(c,Wu(l/Ve(c)));return vi(c)?uu(dt(b),0,l).join(""):b.slice(0,l)}function qc(l){return function(c,m,b){return b&&"number"!=typeof b&&Ki(c,m,b)&&(m=b=U),c=Bo(c),m===U?(m=c,c=0):m=Bo(m),function(l,c,m,b){for(var T=-1,j=Xr(Wu((c-l)/(m||1)),0),ee=ve(j);j--;)ee[b?j:++T]=l,l+=m;return ee}(c,m,b=b===U?c<m?1:-1:Bo(b),l)}}function Cg(l){return function(c,m){return"string"==typeof c&&"string"==typeof m||(c=eo(c),m=eo(m)),l(c,m)}}function ic(l,c,m,b,T,j,ee,re,de,Ee){var Se=8&c;c|=Se?32:64,4&(c&=~(Se?64:32))||(c&=-4);var qt=[l,c,T,Se?j:U,Se?ee:U,Se?U:j,Se?U:ee,re,de,Ee],Bt=m.apply(U,qt);return _g(l)&&Mg(Bt,qt),Bt.placeholder=b,nv(Bt,l,c)}function Kc(l){var c=pn[l];return function(m,b){if(m=eo(m),(b=null==b?0:$i(Vt(b),292))&&ml(m)){var T=(jn(m)+"e").split("e");return+((T=(jn(c(T[0]+"e"+(+T[1]+b)))+"e").split("e"))[0]+"e"+(+T[1]-b))}return c(m)}}var _f=tu&&1/Hs(new tu([,-0]))[1]==Xn?function(l){return new tu(l)}:ay;function $m(l){return function(c){var m=Pi(c);return m==kt?us(c):m==_e?function(se){var pe=-1,ve=Array(se.size);return se.forEach(function(We){ve[++pe]=[We,We]}),ve}(c):function(se,pe){return lt(pe,function(ve){return[ve,se[ve]]})}(c,l(c))}}function Za(l,c,m,b,T,j,ee,re){var de=2&c;if(!de&&"function"!=typeof l)throw new R(vn);var Ee=b?b.length:0;if(Ee||(c&=-97,b=T=U),ee=ee===U?ee:Xr(Vt(ee),0),re=re===U?re:Vt(re),Ee-=T?T.length:0,64&c){var Se=b,Ne=T;b=T=U}var Ye=de?U:Jc(l),ft=[l,c,m,b,T,Se,Ne,j,ee,re];if(Ye&&function(l,c){var m=l[1],b=c[1],T=m|b;if(!(T<131||(b==_&&8==m||b==_&&256==m&&l[7].length<=c[8]||384==b&&c[7].length<=c[8]&&8==m)))return l;1&b&&(l[2]=c[2],T|=1&m?0:4);var re=c[3];if(re){var de=l[3];l[3]=de?Ks(de,re,c[4]):re,l[4]=de?Ts(l[3],Dr):c[4]}(re=c[5])&&(l[5]=(de=l[5])?Oo(de,re,c[6]):re,l[6]=de?Ts(l[5],Dr):c[6]),(re=c[7])&&(l[7]=re),b&_&&(l[8]=null==l[8]?c[8]:$i(l[8],c[8])),null==l[9]&&(l[9]=c[9]),l[0]=c[0],l[1]=T}(ft,Ye),l=ft[0],c=ft[1],m=ft[2],b=ft[3],T=ft[4],!(re=ft[9]=ft[9]===U?de?0:l.length:Xr(ft[9]-Ee,0))&&24&c&&(c&=-25),c&&1!=c)Ft=8==c||16==c?function(l,c,m){var b=ua(l);return function T(){for(var j=arguments.length,ee=ve(j),re=j,de=oc(T);re--;)ee[re]=arguments[re];var Ee=j<3&&ee[0]!==de&&ee[j-1]!==de?[]:Ts(ee,de);return(j-=Ee.length)<m?ic(l,c,Af,T.placeholder,U,ee,Ee,U,U,m-j):me(this&&this!==f&&this instanceof T?b:l,this,ee)}}(l,c,re):32!=c&&33!=c||T.length?Af.apply(U,ft):function(l,c,m,b){var T=1&c,j=ua(l);return function ee(){for(var re=-1,de=arguments.length,Ee=-1,Se=b.length,Ne=ve(Se+de),Ye=this&&this!==f&&this instanceof ee?j:l;++Ee<Se;)Ne[Ee]=b[Ee];for(;de--;)Ne[Ee++]=arguments[++re];return me(Ye,T?m:this,Ne)}}(l,c,m,b);else var Ft=function(l,c,m){var b=1&c,T=ua(l);return function j(){return(this&&this!==f&&this instanceof j?T:l).apply(b?m:this,arguments)}}(l,c,m);return nv((Ye?ec:Mg)(Ft,ft),l,c)}function qm(l,c,m,b){return l===U||vo(l,be[m])&&!Ie.call(b,m)?c:l}function bg(l,c,m,b,T,j){return Ir(l)&&Ir(c)&&(j.set(c,l),Wc(l,c,U,bg,j),j.delete(c)),l}function WC(l){return ud(l)?U:l}function sc(l,c,m,b,T,j){var ee=1&m,re=l.length,de=c.length;if(re!=de&&!(ee&&de>re))return!1;var Ee=j.get(l),Se=j.get(c);if(Ee&&Se)return Ee==c&&Se==l;var Ne=-1,Ye=!0,ft=2&m?new ja:U;for(j.set(l,c),j.set(c,l);++Ne<re;){var Ft=l[Ne],qt=c[Ne];if(b)var Bt=ee?b(qt,Ft,Ne,c,l,j):b(Ft,qt,Ne,l,c,j);if(Bt!==U){if(Bt)continue;Ye=!1;break}if(ft){if(!Jn(c,function(mn,Dn){if(!Ra(ft,Dn)&&(Ft===mn||T(Ft,mn,m,b,j)))return ft.push(Dn)})){Ye=!1;break}}else if(Ft!==qt&&!T(Ft,qt,m,b,j)){Ye=!1;break}}return j.delete(l),j.delete(c),Ye}function Ue(l){return Eg(Nf(l,U,lc),l+"")}function Df(l){return Gc(l,Ri,_l)}function Mf(l){return Gc(l,to,Qm)}var Jc=ef?function(l){return ef.get(l)}:ay;function wl(l){for(var c=l.name+"",m=vl[c],b=Ie.call(vl,c)?m.length:0;b--;){var T=m[b],j=T.func;if(null==j||j==l)return T.name}return c}function oc(l){return(Ie.call(L,"placeholder")?L:l).placeholder}function Ot(){var l=L.iteratee||th;return l=l===th?su:l,arguments.length?l(arguments[0],arguments[1]):l}function Ef(l,c){var m=l.__data__;return function(l){var c=typeof l;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==l:null===l}(c)?m["string"==typeof c?"string":"hash"]:m.map}function du(l){for(var c=Ri(l),m=c.length;m--;){var b=c[m],T=l[b];c[m]=[b,T,xf(T)]}return c}function qi(l,c){var m=function(se,pe){return null==se?U:se[pe]}(l,c);return hf(m)?m:U}var _l=Dm?function(l){return null==l?[]:(l=_n(l),Zn(Dm(l),function(c){return eu.call(l,c)}))}:gd,Qm=Dm?function(l){for(var c=[];l;)Dt(c,_l(l)),l=xi(l);return c}:gd,Pi=ki;function Ag(l,c,m){for(var b=-1,T=(c=lu(c,l)).length,j=!1;++b<T;){var ee=Ps(c[b]);if(!(j=null!=l&&m(l,ee)))break;l=l[ee]}return j||++b!=T?j:!!(T=null==l?0:l.length)&&ld(T)&&Dl(ee,T)&&(Xt(l)||Sl(l))}function ev(l){return"function"!=typeof l.constructor||Ml(l)?{}:Xu(xi(l))}function $C(l){return Xt(l)||Sl(l)||!!(cs&&l&&l[cs])}function Dl(l,c){var m=typeof l;return!!(c=null==c?Vi:c)&&("number"==m||"symbol"!=m&&Lu.test(l))&&l>-1&&l%1==0&&l<c}function Ki(l,c,m){if(!Ir(m))return!1;var b=typeof c;return!!("number"==b?ps(m)&&Dl(c,m.length):"string"==b&&c in m)&&vo(m[c],l)}function wg(l,c){if(Xt(l))return!1;var m=typeof l;return!("number"!=m&&"symbol"!=m&&"boolean"!=m&&null!=l&&!Ct(l))||al.test(l)||!Sa.test(l)||null!=c&&l in _n(c)}function _g(l){var c=wl(l),m=L[c];if("function"!=typeof m||!(c in Ut.prototype))return!1;if(l===m)return!0;var b=Jc(m);return!!b&&l===b[0]}(Fc&&Pi(new Fc(new ArrayBuffer(1)))!=lr||Bc&&Pi(new Bc)!=kt||Ns&&Pi(Ns.resolve())!=q||tu&&Pi(new tu)!=_e||Yu&&Pi(new Yu)!=Cn)&&(Pi=function(l){var c=ki(l),m=c==O?l.constructor:U,b=m?hu(m):"";if(b)switch(b){case bM:return lr;case Tr:return kt;case Em:return q;case wC:return _e;case $r:return Cn}return c});var KC=ae?fa:sp;function Ml(l){var c=l&&l.constructor;return l===("function"==typeof c&&c.prototype||be)}function xf(l){return l==l&&!Ir(l)}function fu(l,c){return function(m){return null!=m&&m[l]===c&&(c!==U||l in _n(m))}}function Nf(l,c,m){return c=Xr(c===U?l.length-1:c,0),function(){for(var b=arguments,T=-1,j=Xr(b.length-c,0),ee=ve(j);++T<j;)ee[T]=b[c+T];T=-1;for(var re=ve(c+1);++T<c;)re[T]=b[T];return re[c]=m(ee),me(l,this,re)}}function Dg(l,c){return c.length<2?l:la(l,$s(c,0,-1))}function tv(l,c){for(var m=l.length,b=$i(c.length,m),T=hs(l);b--;){var j=c[b];l[b]=Dl(j,m)?T[j]:U}return l}function kf(l,c){if(("constructor"!==c||"function"!=typeof l[c])&&"__proto__"!=c)return l[c]}var Mg=rv(ec),ed=_m||function(l,c){return f.setTimeout(l,c)},Eg=rv(BC);function nv(l,c,m){var b=c+"";return Eg(l,function(l,c){var m=c.length;if(!m)return l;var b=m-1;return c[b]=(m>1?"& ":"")+c[b],c=c.join(m>2?", ":" "),l.replace(ul,"{\n/* [wrapped with "+c+"] */\n")}(b,function(l,c){return Ke(Er,function(m){var b="_."+m[0];c&m[1]&&!ur(l,b)&&l.push(b)}),l.sort()}(function(l){var c=l.match(Zl);return c?c[1].split(ss):[]}(b),m)))}function rv(l){var c=0,m=0;return function(){var b=IC(),T=16-(b-m);if(m=b,T>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(U,arguments)}}function Of(l,c){var m=-1,b=l.length,T=b-1;for(c=c===U?b:c;++m<c;){var j=vf(m,T),ee=l[j];l[j]=l[m],l[m]=ee}return l.length=c,l}var c,m,Ha=(c=jf(function(l){var c=[];return 46===l.charCodeAt(0)&&c.push(""),l.replace(ku,function(m,b,T,j){c.push(T?j.replace(Ta,"$1"):b||m)}),c},function(b){return 500===m.size&&m.clear(),b}),m=c.cache,c);function Ps(l){if("string"==typeof l||Ct(l))return l;var c=l+"";return"0"==c&&1/l==-Xn?"-0":c}function hu(l){if(null!=l){try{return Me.call(l)}catch(c){}try{return l+""}catch(c){}}return""}function eb(l){if(l instanceof Ut)return l.clone();var c=new Ti(l.__wrapped__,l.__chain__);return c.__actions__=hs(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}var iv=on(function(l,c){return br(l)?yl(l,Ni(c,1,br,!0)):[]}),tb=on(function(l,c){var m=Ro(c);return br(m)&&(m=U),br(l)?yl(l,Ni(c,1,br,!0),Ot(m,2)):[]}),nb=on(function(l,c){var m=Ro(c);return br(m)&&(m=U),br(l)?yl(l,Ni(c,1,br,!0),U,m):[]});function Sg(l,c,m){var b=null==l?0:l.length;if(!b)return-1;var T=null==m?0:Vt(m);return T<0&&(T=Xr(b+T,0)),xo(l,Ot(c,3),T)}function Po(l,c,m){var b=null==l?0:l.length;if(!b)return-1;var T=b-1;return m!==U&&(T=Vt(m),T=m<0?Xr(b+T,0):$i(T,b-1)),xo(l,Ot(c,3),T,!0)}function lc(l){return null!=l&&l.length?Ni(l,1):[]}function ob(l){return l&&l.length?l[0]:U}var xg=on(function(l){var c=lt(l,gg);return c.length&&c[0]===l[0]?ug(c):[]}),Tg=on(function(l){var c=Ro(l),m=lt(l,gg);return c===Ro(m)?c=U:m.pop(),m.length&&m[0]===l[0]?ug(m,Ot(c,2)):[]}),Ng=on(function(l){var c=Ro(l),m=lt(l,gg);return(c="function"==typeof c?c:U)&&m.pop(),m.length&&m[0]===l[0]?ug(m,U,c):[]});function Ro(l){var c=null==l?0:l.length;return c?l[c-1]:U}var lb=on(uv);function uv(l,c){return l&&l.length&&c&&c.length?Qu(l,c):l}var Rf=Ue(function(l,c){var m=null==l?0:l.length,b=af(l,c);return zm(l,lt(c,function(T){return Dl(T,m)?+T:T}).sort(GC)),b});function td(l){return null==l?l:AC.call(l)}var gs=on(function(l){return qs(Ni(l,1,br,!0))}),Og=on(function(l){var c=Ro(l);return br(c)&&(c=U),qs(Ni(l,1,br,!0),Ot(c,2))}),fv=on(function(l){var c=Ro(l);return c="function"==typeof c?c:U,qs(Ni(l,1,br,!0),U,c)});function id(l){if(!l||!l.length)return[];var c=0;return l=Zn(l,function(m){if(br(m))return c=Xr(m.length,c),!0}),Uu(c,function(m){return lt(l,gl(m))})}function gv(l,c){if(!l||!l.length)return[];var m=id(l);return null==c?m:lt(m,function(b){return me(c,U,b)})}var Cb=on(function(l,c){return br(l)?yl(l,c):[]}),pv=on(function(l){return hg(Zn(l,br))}),bb=on(function(l){var c=Ro(l);return br(c)&&(c=U),hg(Zn(l,br),Ot(c,2))}),mv=on(function(l){var c=Ro(l);return c="function"==typeof c?c:U,hg(Zn(l,br),U,c)}),Ib=on(id),wb=on(function(l){var c=l.length,m=c>1?l[c-1]:U;return m="function"==typeof m?(l.pop(),m):U,gv(l,m)});function yv(l){var c=L(l);return c.__chain__=!0,c}function Lf(l,c){return c(l)}var _b=Ue(function(l){var c=l.length,m=c?l[0]:0,b=this.__wrapped__,T=function(j){return af(j,l)};return!(c>1||this.__actions__.length)&&b instanceof Ut&&Dl(m)?((b=b.slice(m,+m+(c?1:0))).__actions__.push({func:Lf,args:[T],thisArg:U}),new Ti(b,this.__chain__).thru(function(j){return c&&!j.length&&j.push(U),j})):this.thru(T)}),xb=If(function(l,c,m){Ie.call(l,m)?++l[m]:za(l,m,1)}),Cv=mg(Sg),kb=mg(Po);function Lg(l,c){return(Xt(l)?Ke:Cl)(l,Ot(c,3))}function bv(l,c){return(Xt(l)?Wt:Rm)(l,Ot(c,3))}var Lb=If(function(l,c,m){Ie.call(l,m)?l[m].push(c):za(l,m,[c])}),cc=on(function(l,c,m){var b=-1,T="function"==typeof c,j=ps(l)?ve(l.length):[];return Cl(l,function(ee){j[++b]=T?me(c,ee,m):Ga(ee,c,m)}),j}),ca=If(function(l,c,m){za(l,m,c)});function Fg(l,c){return(Xt(l)?lt:Hc)(l,Ot(c,3))}var Iv=If(function(l,c,m){l[m?0:1].push(c)},function(){return[[],[]]}),_v=on(function(l,c){if(null==l)return[];var m=c.length;return m>1&&Ki(l,c[0],c[1])?c=[]:m>2&&Ki(c[0],c[1],c[2])&&(c=[c[0]]),Ju(l,Ni(c,1),[])}),dc=yM||function(){return f.Date.now()};function zg(l,c,m){return c=m?U:c,Za(l,_,U,U,U,U,c=l&&null==c?l.length:c)}function jb(l,c){var m;if("function"!=typeof c)throw new R(vn);return l=Vt(l),function(){return--l>0&&(m=c.apply(this,arguments)),l<=1&&(c=U),m}}var El=on(function(l,c,m){var b=1;if(m.length){var T=Ts(m,oc(El));b|=32}return Za(l,b,c,m,T)}),Ff=on(function(l,c,m){var b=3;if(m.length){var T=Ts(m,oc(Ff));b|=32}return Za(c,b,l,m,T)});function Bf(l,c,m){var b,T,j,ee,re,de,Ee=0,Se=!1,Ne=!1,Ye=!0;if("function"!=typeof l)throw new R(vn);function ft(kr){var yo=b,ga=T;return b=T=U,Ee=kr,ee=l.apply(ga,yo)}function Ft(kr){return Ee=kr,re=ed(mn,c),Se?ft(kr):ee}function Bt(kr){var yo=kr-de;return de===U||yo>=c||yo<0||Ne&&kr-Ee>=j}function mn(){var kr=dc();if(Bt(kr))return Dn(kr);re=ed(mn,function(kr){var dp=c-(kr-de);return Ne?$i(dp,j-(kr-Ee)):dp}(kr))}function Dn(kr){return re=U,Ye&&b?ft(kr):(b=T=U,ee)}function ms(){var kr=dc(),yo=Bt(kr);if(b=arguments,T=this,de=kr,yo){if(re===U)return Ft(de);if(Ne)return VC(re),re=ed(mn,c),ft(de)}return re===U&&(re=ed(mn,c)),ee}return c=eo(c)||0,Ir(m)&&(Se=!!m.leading,j=(Ne="maxWait"in m)?Xr(eo(m.maxWait)||0,c):j,Ye="trailing"in m?!!m.trailing:Ye),ms.cancel=function(){re!==U&&VC(re),Ee=0,b=de=T=re=U},ms.flush=function(){return re===U?ee:Dn(dc())},ms}var Vb=on(function(l,c){return og(l,1,c)}),zb=on(function(l,c,m){return og(l,eo(c)||0,m)});function jf(l,c){if("function"!=typeof l||null!=c&&"function"!=typeof c)throw new R(vn);var m=function(){var b=arguments,T=c?c.apply(this,b):b[0],j=m.cache;if(j.has(T))return j.get(T);var ee=l.apply(this,b);return m.cache=j.set(T,ee)||j,ee};return m.cache=new(jf.Cache||Qt),m}function Vf(l){if("function"!=typeof l)throw new R(vn);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}jf.Cache=Qt;var Mv=_M(function(l,c){var m=(c=1==c.length&&Xt(c[0])?lt(c[0],oi(Ot())):lt(Ni(c,1),oi(Ot()))).length;return on(function(b){for(var T=-1,j=$i(b.length,m);++T<j;)b[T]=c[T].call(this,b[T]);return me(l,this,b)})}),od=on(function(l,c){var m=Ts(c,oc(od));return Za(l,32,U,c,m)}),Ug=on(function(l,c){var m=Ts(c,oc(Ug));return Za(l,64,U,c,m)}),Zg=Ue(function(l,c){return Za(l,256,U,U,U,c)});function vo(l,c){return l===c||l!=l&&c!=c}var kv=Cg(lf),Hg=Cg(function(l,c){return l>=c}),Sl=uf(function(){return arguments}())?uf:function(l){return Ar(l)&&Ie.call(l,"callee")&&!eu.call(l,"callee")},Xt=ve.isArray,Gf=P?oi(P):function(l){return Ar(l)&&ki(l)==tn};function ps(l){return null!=l&&ld(l.length)&&!fa(l)}function br(l){return Ar(l)&&ps(l)}var da=CM||sp,ad=J?oi(J):function(l){return Ar(l)&&ki(l)==Sr};function Uf(l){if(!Ar(l))return!1;var c=ki(l);return c==Ur||"[object DOMException]"==c||"string"==typeof l.message&&"string"==typeof l.name&&!ud(l)}function fa(l){if(!Ir(l))return!1;var c=ki(l);return c==Ma||c==Ea||"[object AsyncFunction]"==c||"[object Proxy]"==c}function Kb(l){return"number"==typeof l&&l==Vt(l)}function ld(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=Vi}function Ir(l){var c=typeof l;return null!=l&&("object"==c||"function"==c)}function Ar(l){return null!=l&&"object"==typeof l}var Rv=K?oi(K):function(l){return Ar(l)&&Pi(l)==kt};function Fv(l){return"number"==typeof l||Ar(l)&&ki(l)==Nn}function ud(l){if(!Ar(l)||ki(l)!=O)return!1;var c=xi(l);if(null===c)return!0;var m=Ie.call(c,"constructor")&&c.constructor;return"function"==typeof m&&m instanceof m&&Me.call(m)==At}var Zf=le?oi(le):function(l){return Ar(l)&&ki(l)==we},Bv=ye?oi(ye):function(l){return Ar(l)&&Pi(l)==_e};function Hf(l){return"string"==typeof l||!Xt(l)&&Ar(l)&&ki(l)==Le}function Ct(l){return"symbol"==typeof l||Ar(l)&&ki(l)==nt}var Rs=Oe?oi(Oe):function(l){return Ar(l)&&ld(l.length)&&!!zn[ki(l)]},Fo=Cg(Zc),zv=Cg(function(l,c){return l<=c});function Gv(l){if(!l)return[];if(ps(l))return Hf(l)?dt(l):hs(l);if(Qd&&l[Qd])return function(se){for(var pe,ve=[];!(pe=se.next()).done;)ve.push(pe.value);return ve}(l[Qd]());var c=Pi(l);return(c==kt?us:c==_e?Hs:fc)(l)}function Bo(l){return l?(l=eo(l))===Xn||l===-Xn?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function Vt(l){var c=Bo(l),m=c%1;return c==c?m?c-m:c:0}function Yf(l){return l?oa(Vt(l),0,mr):0}function eo(l){if("number"==typeof l)return l;if(Ct(l))return NaN;if(Ir(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=Ir(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=qd(l);var m=Pu.test(l);return m||Hl.test(l)?X(l.slice(2),m?2:8):Mo.test(l)?NaN:+l}function Xf(l){return Js(l,to(l))}function jn(l){return null==l?"":Ci(l)}var UM=rc(function(l,c){if(Ml(c)||ps(c))Js(c,Ri(c),l);else for(var m in c)Ie.call(c,m)&&zc(l,m,c[m])}),cd=rc(function(l,c){Js(c,to(c),l)}),pu=rc(function(l,c,m,b){Js(c,to(c),l,b)}),Yg=rc(function(l,c,m,b){Js(c,Ri(c),l,b)}),Xg=Ue(af),ZM=on(function(l,c){l=_n(l);var m=-1,b=c.length,T=b>2?c[2]:U;for(T&&Ki(c[0],c[1],T)&&(b=1);++m<b;)for(var j=c[m],ee=to(j),re=-1,de=ee.length;++re<de;){var Ee=ee[re],Se=l[Ee];(Se===U||vo(Se,be[Ee])&&!Ie.call(l,Ee))&&(l[Ee]=j[Ee])}return l}),rI=on(function(l){return l.push(U,bg),me(uI,U,l)});function $f(l,c,m){var b=null==l?U:la(l,c);return b===U?m:b}function dd(l,c){return null!=l&&Ag(l,c,bl)}var YM=Xm(function(l,c,m){null!=c&&"function"!=typeof c.toString&&(c=yt.call(c)),l[c]=m},eh(Ls)),XM=Xm(function(l,c,m){null!=c&&"function"!=typeof c.toString&&(c=yt.call(c)),Ie.call(l,c)?l[c].push(m):l[c]=[m]},Ot),$M=on(Ga);function Ri(l){return ps(l)?ru(l):cg(l)}function to(l){return ps(l)?ru(l,!0):function(l){if(!Ir(l))return function(l){var c=[];if(null!=l)for(var m in _n(l))c.push(m);return c}(l);var c=Ml(l),m=[];for(var b in l)"constructor"==b&&(c||!Ie.call(l,b))||m.push(b);return m}(l)}var JM=rc(function(l,c,m){Wc(l,c,m)}),uI=rc(function(l,c,m,b){Wc(l,c,m,b)}),QM=Ue(function(l,c){var m={};if(null==l)return m;var b=!1;c=lt(c,function(j){return j=lu(j,l),b||(b=j.length>1),j}),Js(l,Mf(l),m),b&&(m=Xs(m,7,WC));for(var T=c.length;T--;)Cf(m,c[T]);return m}),qg=Ue(function(l,c){return null==l?{}:function(l,c){return pf(l,c,function(m,b){return dd(l,b)})}(l,c)});function Hv(l,c){if(null==l)return{};var m=lt(Mf(l),function(b){return[b]});return c=Ot(c),pf(l,m,function(b,T){return c(b,T[0])})}var qf=$m(Ri),Xv=$m(to);function fc(l){return null==l?[]:Zu(l,Ri(l))}var hc=Al(function(l,c,m){return c=c.toLowerCase(),l+(m?Kf(c):c)});function Kf(l){return tp(jn(l).toLowerCase())}function mu(l){return(l=jn(l))&&l.replace(Nc,vt).replace(si,"")}var Kv=Al(function(l,c,m){return l+(m?"-":"")+c.toLowerCase()}),Jv=Al(function(l,c,m){return l+(m?" ":"")+c.toLowerCase()}),Qg=Os("toLowerCase"),ty=Al(function(l,c,m){return l+(m?"_":"")+c.toLowerCase()}),pI=Al(function(l,c,m){return l+(m?" ":"")+tp(c)}),rE=Al(function(l,c,m){return l+(m?" ":"")+c.toUpperCase()}),tp=Os("toUpperCase");function Qf(l,c,m){return l=jn(l),(c=m?U:c)===U?function(se){return Mi.test(se)}(l)?function(se){return se.match(hl)||[]}(l):function(se){return se.match(cl)||[]}(l):l.match(c)||[]}var np=on(function(l,c){try{return me(l,U,c)}catch(m){return Uf(m)?m:new Lt(m)}}),bI=Ue(function(l,c){return Ke(c,function(m){m=Ps(m),za(l,m,El(l[m],l))}),l});function eh(l){return function(){return l}}var sy=Ym(),_I=Ym(!0);function Ls(l){return l}function th(l){return su("function"==typeof l?l:Xs(l,1))}var ha=on(function(l,c){return function(m){return Ga(m,l,c)}}),rp=on(function(l,c){return function(m){return Ga(l,m,c)}});function ip(l,c,m){var b=Ri(c),T=iu(c,b);null==m&&(!Ir(c)||!T.length&&b.length)&&(m=c,c=l,l=this,T=iu(c,Ri(c)));var j=!(Ir(m)&&"chain"in m&&!m.chain),ee=fa(l);return Ke(T,function(re){var de=c[re];l[re]=de,ee&&(l.prototype[re]=function(){var Ee=this.__chain__;if(j||Ee){var Se=l(this.__wrapped__),Ne=Se.__actions__=hs(this.__actions__);return Ne.push({func:de,args:arguments,thisArg:l}),Se.__chain__=Ee,Se}return de.apply(l,Dt([this.value()],arguments))})}),l}function ay(){}var EI=vg(lt),SI=vg(rt),xI=vg(Jn);function nh(l){return wg(l)?gl(Ps(l)):function(l){return function(c){return la(c,l)}}(l)}var NI=qc(),rh=qc(!0);function gd(){return[]}function sp(){return!1}var iE=wf(function(l,c){return l+c},0),PI=Kc("ceil"),cy=wf(function(l,c){return l/c},1),dy=Kc("floor"),LI=wf(function(l,c){return l*c},1),sE=Kc("round"),up=wf(function(l,c){return l-c},0);return L.after=function(l,c){if("function"!=typeof c)throw new R(vn);return l=Vt(l),function(){if(--l<1)return c.apply(this,arguments)}},L.ary=zg,L.assign=UM,L.assignIn=cd,L.assignInWith=pu,L.assignWith=Yg,L.at=Xg,L.before=jb,L.bind=El,L.bindAll=bI,L.bindKey=Ff,L.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return Xt(l)?l:[l]},L.chain=yv,L.chunk=function(l,c,m){c=(m?Ki(l,c,m):c===U)?1:Xr(Vt(c),0);var b=null==l?0:l.length;if(!b||c<1)return[];for(var T=0,j=0,ee=ve(Wu(b/c));T<b;)ee[j++]=$s(l,T,T+=c);return ee},L.compact=function(l){for(var c=-1,m=null==l?0:l.length,b=0,T=[];++c<m;){var j=l[c];j&&(T[b++]=j)}return T},L.concat=function(){var l=arguments.length;if(!l)return[];for(var c=ve(l-1),m=arguments[0],b=l;b--;)c[b-1]=arguments[b];return Dt(Xt(m)?hs(m):[m],Ni(c,1))},L.cond=function(l){var c=null==l?0:l.length,m=Ot();return l=c?lt(l,function(b){if("function"!=typeof b[1])throw new R(vn);return[m(b[0]),b[1]]}):[],on(function(b){for(var T=-1;++T<c;){var j=l[T];if(me(j[0],this,b))return me(j[1],this,b)}})},L.conforms=function(l){return function(l){var c=Ri(l);return function(m){return sg(m,l,c)}}(Xs(l,1))},L.constant=eh,L.countBy=xb,L.create=function(l,c){var m=Xu(l);return null==c?m:rg(m,c)},L.curry=function Gg(l,c,m){var b=Za(l,8,U,U,U,U,U,c=m?U:c);return b.placeholder=Gg.placeholder,b},L.curryRight=function Dv(l,c,m){var b=Za(l,16,U,U,U,U,U,c=m?U:c);return b.placeholder=Dv.placeholder,b},L.debounce=Bf,L.defaults=ZM,L.defaultsDeep=rI,L.defer=Vb,L.delay=zb,L.difference=iv,L.differenceBy=tb,L.differenceWith=nb,L.drop=function(l,c,m){var b=null==l?0:l.length;return b?$s(l,(c=m||c===U?1:Vt(c))<0?0:c,b):[]},L.dropRight=function(l,c,m){var b=null==l?0:l.length;return b?$s(l,0,(c=b-(c=m||c===U?1:Vt(c)))<0?0:c):[]},L.dropRightWhile=function(l,c){return l&&l.length?Ua(l,Ot(c,3),!0,!0):[]},L.dropWhile=function(l,c){return l&&l.length?Ua(l,Ot(c,3),!0):[]},L.fill=function(l,c,m,b){var T=null==l?0:l.length;return T?(m&&"number"!=typeof m&&Ki(l,c,m)&&(m=0,b=T),function(l,c,m,b){var T=l.length;for((m=Vt(m))<0&&(m=-m>T?0:T+m),(b=b===U||b>T?T:Vt(b))<0&&(b+=T),b=m>b?0:Yf(b);m<b;)l[m++]=c;return l}(l,c,m,b)):[]},L.filter=function(l,c){return(Xt(l)?Zn:Lm)(l,Ot(c,3))},L.flatMap=function(l,c){return Ni(Fg(l,c),1)},L.flatMapDeep=function(l,c){return Ni(Fg(l,c),Xn)},L.flatMapDepth=function(l,c,m){return m=m===U?1:Vt(m),Ni(Fg(l,c),m)},L.flatten=lc,L.flattenDeep=function(l){return null!=l&&l.length?Ni(l,Xn):[]},L.flattenDepth=function(l,c){return null!=l&&l.length?Ni(l,c=c===U?1:Vt(c)):[]},L.flip=function(l){return Za(l,512)},L.flow=sy,L.flowRight=_I,L.fromPairs=function(l){for(var c=-1,m=null==l?0:l.length,b={};++c<m;){var T=l[c];b[T[0]]=T[1]}return b},L.functions=function(l){return null==l?[]:iu(l,Ri(l))},L.functionsIn=function(l){return null==l?[]:iu(l,to(l))},L.groupBy=Lb,L.initial=function(l){return null!=l&&l.length?$s(l,0,-1):[]},L.intersection=xg,L.intersectionBy=Tg,L.intersectionWith=Ng,L.invert=YM,L.invertBy=XM,L.invokeMap=cc,L.iteratee=th,L.keyBy=ca,L.keys=Ri,L.keysIn=to,L.map=Fg,L.mapKeys=function(l,c){var m={};return c=Ot(c,3),aa(l,function(b,T,j){za(m,c(b,T,j),b)}),m},L.mapValues=function(l,c){var m={};return c=Ot(c,3),aa(l,function(b,T,j){za(m,T,c(b,T,j))}),m},L.matches=function(l){return PC(Xs(l,1))},L.matchesProperty=function(l,c){return dg(l,Xs(c,1))},L.memoize=jf,L.merge=JM,L.mergeWith=uI,L.method=ha,L.methodOf=rp,L.mixin=ip,L.negate=Vf,L.nthArg=function(l){return l=Vt(l),on(function(c){return Vm(c,l)})},L.omit=QM,L.omitBy=function(l,c){return Hv(l,Vf(Ot(c)))},L.once=function(l){return jb(2,l)},L.orderBy=function(l,c,m,b){return null==l?[]:(Xt(c)||(c=null==c?[]:[c]),Xt(m=b?U:m)||(m=null==m?[]:[m]),Ju(l,c,m))},L.over=EI,L.overArgs=Mv,L.overEvery=SI,L.overSome=xI,L.partial=od,L.partialRight=Ug,L.partition=Iv,L.pick=qg,L.pickBy=Hv,L.property=nh,L.propertyOf=function(l){return function(c){return null==l?U:la(l,c)}},L.pull=lb,L.pullAll=uv,L.pullAllBy=function(l,c,m){return l&&l.length&&c&&c.length?Qu(l,c,Ot(m,2)):l},L.pullAllWith=function(l,c,m){return l&&l.length&&c&&c.length?Qu(l,c,U,m):l},L.pullAt=Rf,L.range=NI,L.rangeRight=rh,L.rearg=Zg,L.reject=function(l,c){return(Xt(l)?Zn:Lm)(l,Vf(Ot(c,3)))},L.remove=function(l,c){var m=[];if(!l||!l.length)return m;var b=-1,T=[],j=l.length;for(c=Ot(c,3);++b<j;){var ee=l[b];c(ee,b,l)&&(m.push(ee),T.push(b))}return zm(l,T),m},L.rest=function(l,c){if("function"!=typeof l)throw new R(vn);return on(l,c=c===U?c:Vt(c))},L.reverse=td,L.sampleSize=function(l,c,m){return c=(m?Ki(l,c,m):c===U)?1:Vt(c),(Xt(l)?xC:FC)(l,c)},L.set=function(l,c,m){return null==l?l:Il(l,c,m)},L.setWith=function(l,c,m,b){return b="function"==typeof b?b:U,null==l?l:Il(l,c,m,b)},L.shuffle=function(l){return(Xt(l)?Om:Um)(l)},L.slice=function(l,c,m){var b=null==l?0:l.length;return b?(m&&"number"!=typeof m&&Ki(l,c,m)?(c=0,m=b):(c=null==c?0:Vt(c),m=m===U?b:Vt(m)),$s(l,c,m)):[]},L.sortBy=_v,L.sortedUniq=function(l){return l&&l.length?ou(l):[]},L.sortedUniqBy=function(l,c){return l&&l.length?ou(l,Ot(c,2)):[]},L.split=function(l,c,m){return m&&"number"!=typeof m&&Ki(l,c,m)&&(c=m=U),(m=m===U?mr:m>>>0)?(l=jn(l))&&("string"==typeof c||null!=c&&!Zf(c))&&!(c=Ci(c))&&vi(l)?uu(dt(l),0,m):l.split(c,m):[]},L.spread=function(l,c){if("function"!=typeof l)throw new R(vn);return c=null==c?0:Xr(Vt(c),0),on(function(m){var b=m[c],T=uu(m,0,c);return b&&Dt(T,b),me(l,this,T)})},L.tail=function(l){var c=null==l?0:l.length;return c?$s(l,1,c):[]},L.take=function(l,c,m){return l&&l.length?$s(l,0,(c=m||c===U?1:Vt(c))<0?0:c):[]},L.takeRight=function(l,c,m){var b=null==l?0:l.length;return b?$s(l,(c=b-(c=m||c===U?1:Vt(c)))<0?0:c,b):[]},L.takeRightWhile=function(l,c){return l&&l.length?Ua(l,Ot(c,3),!1,!0):[]},L.takeWhile=function(l,c){return l&&l.length?Ua(l,Ot(c,3)):[]},L.tap=function(l,c){return c(l),l},L.throttle=function(l,c,m){var b=!0,T=!0;if("function"!=typeof l)throw new R(vn);return Ir(m)&&(b="leading"in m?!!m.leading:b,T="trailing"in m?!!m.trailing:T),Bf(l,c,{leading:b,maxWait:c,trailing:T})},L.thru=Lf,L.toArray=Gv,L.toPairs=qf,L.toPairsIn=Xv,L.toPath=function(l){return Xt(l)?lt(l,Ps):Ct(l)?[l]:hs(Ha(jn(l)))},L.toPlainObject=Xf,L.transform=function(l,c,m){var b=Xt(l),T=b||da(l)||Rs(l);if(c=Ot(c,4),null==m){var j=l&&l.constructor;m=T?b?new j:[]:Ir(l)&&fa(j)?Xu(xi(l)):{}}return(T?Ke:aa)(l,function(ee,re,de){return c(m,ee,re,de)}),m},L.unary=function(l){return zg(l,1)},L.union=gs,L.unionBy=Og,L.unionWith=fv,L.uniq=function(l){return l&&l.length?qs(l):[]},L.uniqBy=function(l,c){return l&&l.length?qs(l,Ot(c,2)):[]},L.uniqWith=function(l,c){return c="function"==typeof c?c:U,l&&l.length?qs(l,U,c):[]},L.unset=function(l,c){return null==l||Cf(l,c)},L.unzip=id,L.unzipWith=gv,L.update=function(l,c,m){return null==l?l:bf(l,c,Zm(m))},L.updateWith=function(l,c,m,b){return b="function"==typeof b?b:U,null==l?l:bf(l,c,Zm(m),b)},L.values=fc,L.valuesIn=function(l){return null==l?[]:Zu(l,to(l))},L.without=Cb,L.words=Qf,L.wrap=function(l,c){return od(Zm(c),l)},L.xor=pv,L.xorBy=bb,L.xorWith=mv,L.zip=Ib,L.zipObject=function(l,c){return Mt(l||[],c||[],zc)},L.zipObjectDeep=function(l,c){return Mt(l||[],c||[],Il)},L.zipWith=wb,L.entries=qf,L.entriesIn=Xv,L.extend=cd,L.extendWith=pu,ip(L,L),L.add=iE,L.attempt=np,L.camelCase=hc,L.capitalize=Kf,L.ceil=PI,L.clamp=function(l,c,m){return m===U&&(m=c,c=U),m!==U&&(m=(m=eo(m))==m?m:0),c!==U&&(c=(c=eo(c))==c?c:0),oa(eo(l),c,m)},L.clone=function(l){return Xs(l,4)},L.cloneDeep=function(l){return Xs(l,5)},L.cloneDeepWith=function(l,c){return Xs(l,5,c="function"==typeof c?c:U)},L.cloneWith=function(l,c){return Xs(l,4,c="function"==typeof c?c:U)},L.conformsTo=function(l,c){return null==c||sg(l,c,Ri(c))},L.deburr=mu,L.defaultTo=function(l,c){return null==l||l!=l?c:l},L.divide=cy,L.endsWith=function(l,c,m){l=jn(l),c=Ci(c);var b=l.length,T=m=m===U?b:oa(Vt(m),0,b);return(m-=c.length)>=0&&l.slice(m,T)==c},L.eq=vo,L.escape=function(l){return(l=jn(l))&&Do.test(l)?l.replace(il,Wi):l},L.escapeRegExp=function(l){return(l=jn(l))&&ll.test(l)?l.replace(fo,"\\$&"):l},L.every=function(l,c,m){var b=Xt(l)?rt:fs;return m&&Ki(l,c,m)&&(c=U),b(l,Ot(c,3))},L.find=Cv,L.findIndex=Sg,L.findKey=function(l,c){return hn(l,Ot(c,3),aa)},L.findLast=kb,L.findLastIndex=Po,L.findLastKey=function(l,c){return hn(l,Ot(c,3),lg)},L.floor=dy,L.forEach=Lg,L.forEachRight=bv,L.forIn=function(l,c){return null==l?l:ag(l,Ot(c,3),to)},L.forInRight=function(l,c){return null==l?l:Fm(l,Ot(c,3),to)},L.forOwn=function(l,c){return l&&aa(l,Ot(c,3))},L.forOwnRight=function(l,c){return l&&lg(l,Ot(c,3))},L.get=$f,L.gt=kv,L.gte=Hg,L.has=function(l,c){return null!=l&&Ag(l,c,TC)},L.hasIn=dd,L.head=ob,L.identity=Ls,L.includes=function(l,c,m,b){l=ps(l)?l:fc(l),m=m&&!b?Vt(m):0;var T=l.length;return m<0&&(m=Xr(T+m,0)),Hf(l)?m<=T&&l.indexOf(c,m)>-1:!!T&&Wr(l,c,m)>-1},L.indexOf=function(l,c,m){var b=null==l?0:l.length;if(!b)return-1;var T=null==m?0:Vt(m);return T<0&&(T=Xr(b+T,0)),Wr(l,c,T)},L.inRange=function(l,c,m){return c=Bo(c),m===U?(m=c,c=0):m=Bo(m),function(l,c,m){return l>=$i(c,m)&&l<Xr(c,m)}(l=eo(l),c,m)},L.invoke=$M,L.isArguments=Sl,L.isArray=Xt,L.isArrayBuffer=Gf,L.isArrayLike=ps,L.isArrayLikeObject=br,L.isBoolean=function(l){return!0===l||!1===l||Ar(l)&&ki(l)==zi},L.isBuffer=da,L.isDate=ad,L.isElement=function(l){return Ar(l)&&1===l.nodeType&&!ud(l)},L.isEmpty=function(l){if(null==l)return!0;if(ps(l)&&(Xt(l)||"string"==typeof l||"function"==typeof l.splice||da(l)||Rs(l)||Sl(l)))return!l.length;var c=Pi(l);if(c==kt||c==_e)return!l.size;if(Ml(l))return!cg(l).length;for(var m in l)if(Ie.call(l,m))return!1;return!0},L.isEqual=function(l,c){return cf(l,c)},L.isEqualWith=function(l,c,m){var b=(m="function"==typeof m?m:U)?m(l,c):U;return b===U?cf(l,c,U,m):!!b},L.isError=Uf,L.isFinite=function(l){return"number"==typeof l&&ml(l)},L.isFunction=fa,L.isInteger=Kb,L.isLength=ld,L.isMap=Rv,L.isMatch=function(l,c){return l===c||ff(l,c,du(c))},L.isMatchWith=function(l,c,m){return m="function"==typeof m?m:U,ff(l,c,du(c),m)},L.isNaN=function(l){return Fv(l)&&l!=+l},L.isNative=function(l){if(KC(l))throw new Lt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return hf(l)},L.isNil=function(l){return null==l},L.isNull=function(l){return null===l},L.isNumber=Fv,L.isObject=Ir,L.isObjectLike=Ar,L.isPlainObject=ud,L.isRegExp=Zf,L.isSafeInteger=function(l){return Kb(l)&&l>=-Vi&&l<=Vi},L.isSet=Bv,L.isString=Hf,L.isSymbol=Ct,L.isTypedArray=Rs,L.isUndefined=function(l){return l===U},L.isWeakMap=function(l){return Ar(l)&&Pi(l)==Cn},L.isWeakSet=function(l){return Ar(l)&&"[object WeakSet]"==ki(l)},L.join=function(l,c){return null==l?"":bC.call(l,c)},L.kebabCase=Kv,L.last=Ro,L.lastIndexOf=function(l,c,m){var b=null==l?0:l.length;if(!b)return-1;var T=b;return m!==U&&(T=(T=Vt(m))<0?Xr(b+T,0):$i(T,b-1)),c==c?function(se,pe,ve){for(var We=ve+1;We--;)if(se[We]===pe)return We;return We}(l,c,T):xo(l,en,T,!0)},L.lowerCase=Jv,L.lowerFirst=Qg,L.lt=Fo,L.lte=zv,L.max=function(l){return l&&l.length?ko(l,Ls,lf):U},L.maxBy=function(l,c){return l&&l.length?ko(l,Ot(c,2),lf):U},L.mean=function(l){return Ss(l,Ls)},L.meanBy=function(l,c){return Ss(l,Ot(c,2))},L.min=function(l){return l&&l.length?ko(l,Ls,Zc):U},L.minBy=function(l,c){return l&&l.length?ko(l,Ot(c,2),Zc):U},L.stubArray=gd,L.stubFalse=sp,L.stubObject=function(){return{}},L.stubString=function(){return""},L.stubTrue=function(){return!0},L.multiply=LI,L.nth=function(l,c){return l&&l.length?Vm(l,Vt(c)):U},L.noConflict=function(){return f._===this&&(f._=xt),this},L.noop=ay,L.now=dc,L.pad=function(l,c,m){l=jn(l);var b=(c=Vt(c))?Ve(l):0;if(!c||b>=c)return l;var T=(c-b)/2;return $c(qh(T),m)+l+$c(Wu(T),m)},L.padEnd=function(l,c,m){l=jn(l);var b=(c=Vt(c))?Ve(l):0;return c&&b<c?l+$c(c-b,m):l},L.padStart=function(l,c,m){l=jn(l);var b=(c=Vt(c))?Ve(l):0;return c&&b<c?$c(c-b,m)+l:l},L.parseInt=function(l,c,m){return m||null==c?c=0:c&&(c=+c),Mm(jn(l).replace(Ko,""),c||0)},L.random=function(l,c,m){if(m&&"boolean"!=typeof m&&Ki(l,c,m)&&(c=m=U),m===U&&("boolean"==typeof c?(m=c,c=U):"boolean"==typeof l&&(m=l,l=U)),l===U&&c===U?(l=0,c=1):(l=Bo(l),c===U?(c=l,l=0):c=Bo(c)),l>c){var b=l;l=c,c=b}if(m||l%1||c%1){var T=Kh();return $i(l+T*(c-l+W("1e-"+((T+"").length-1))),c)}return vf(l,c)},L.reduce=function(l,c,m){var b=Xt(l)?Ei:Ql,T=arguments.length<3;return b(l,Ot(c,4),m,T,Cl)},L.reduceRight=function(l,c,m){var b=Xt(l)?$t:Ql,T=arguments.length<3;return b(l,Ot(c,4),m,T,Rm)},L.repeat=function(l,c,m){return c=(m?Ki(l,c,m):c===U)?1:Vt(c),yf(jn(l),c)},L.replace=function(){var l=arguments,c=jn(l[0]);return l.length<3?c:c.replace(l[1],l[2])},L.result=function(l,c,m){var b=-1,T=(c=lu(c,l)).length;for(T||(T=1,l=U);++b<T;){var j=null==l?U:l[Ps(c[b])];j===U&&(b=T,j=m),l=fa(j)?j.call(l):j}return l},L.round=sE,L.runInContext=se,L.sample=function(l){return(Xt(l)?sa:LC)(l)},L.size=function(l){if(null==l)return 0;if(ps(l))return Hf(l)?Ve(l):l.length;var c=Pi(l);return c==kt||c==_e?l.size:cg(l).length},L.snakeCase=ty,L.some=function(l,c,m){var b=Xt(l)?Jn:tc;return m&&Ki(l,c,m)&&(c=U),b(l,Ot(c,3))},L.sortedIndex=function(l,c){return Oi(l,c)},L.sortedIndexBy=function(l,c,m){return Yc(l,c,Ot(m,2))},L.sortedIndexOf=function(l,c){var m=null==l?0:l.length;if(m){var b=Oi(l,c);if(b<m&&vo(l[b],c))return b}return-1},L.sortedLastIndex=function(l,c){return Oi(l,c,!0)},L.sortedLastIndexBy=function(l,c,m){return Yc(l,c,Ot(m,2),!0)},L.sortedLastIndexOf=function(l,c){if(null!=l&&l.length){var b=Oi(l,c,!0)-1;if(vo(l[b],c))return b}return-1},L.startCase=pI,L.startsWith=function(l,c,m){return l=jn(l),m=null==m?0:oa(Vt(m),0,l.length),c=Ci(c),l.slice(m,m+c.length)==c},L.subtract=up,L.sum=function(l){return l&&l.length?ls(l,Ls):0},L.sumBy=function(l,c){return l&&l.length?ls(l,Ot(c,2)):0},L.template=function(l,c,m){var b=L.templateSettings;m&&Ki(l,c,m)&&(c=U),l=jn(l),c=pu({},c,b,qm);var re,de,T=pu({},c.imports,b.imports,qm),j=Ri(T),ee=Zu(T,j),Ee=0,Se=c.interpolate||ri,Ne="__p += '",Ye=mo((c.escape||ri).source+"|"+Se.source+"|"+(Se===ol?Hi:ri).source+"|"+(c.evaluate||ri).source+"|$","g"),ft="//# sourceURL="+(Ie.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kl+"]")+"\n";l.replace(Ye,function(Bt,mn,Dn,ro,Gn,ms){return Dn||(Dn=ro),Ne+=l.slice(Ee,ms).replace(Jo,mi),mn&&(re=!0,Ne+="' +\n__e("+mn+") +\n'"),Gn&&(de=!0,Ne+="';\n"+Gn+";\n__p += '"),Dn&&(Ne+="' +\n((__t = ("+Dn+")) == null ? '' : __t) +\n'"),Ee=ms+Bt.length,Bt}),Ne+="';\n";var Ft=Ie.call(c,"variable")&&c.variable;if(Ft){if(xa.test(Ft))throw new Lt("Invalid `variable` option passed into `_.template`")}else Ne="with (obj) {\n"+Ne+"\n}\n";Ne=(de?Ne.replace(Rr,""):Ne).replace(rl,"$1").replace(Tc,"$1;"),Ne="function("+(Ft||"obj")+") {\n"+(Ft?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(re?", __e = _.escape":"")+(de?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ne+"return __p\n}";var qt=np(function(){return fn(j,ft+"return "+Ne).apply(U,ee)});if(qt.source=Ne,Uf(qt))throw qt;return qt},L.times=function(l,c){if((l=Vt(l))<1||l>Vi)return[];var m=mr,b=$i(l,mr);c=Ot(c),l-=mr;for(var T=Uu(b,c);++m<l;)c(m);return T},L.toFinite=Bo,L.toInteger=Vt,L.toLength=Yf,L.toLower=function(l){return jn(l).toLowerCase()},L.toNumber=eo,L.toSafeInteger=function(l){return l?oa(Vt(l),-Vi,Vi):0===l?l:0},L.toString=jn,L.toUpper=function(l){return jn(l).toUpperCase()},L.trim=function(l,c,m){if((l=jn(l))&&(m||c===U))return qd(l);if(!l||!(c=Ci(c)))return l;var b=dt(l),T=dt(c);return uu(b,pi(b,T),Kd(b,T)+1).join("")},L.trimEnd=function(l,c,m){if((l=jn(l))&&(m||c===U))return l.slice(0,gn(l)+1);if(!l||!(c=Ci(c)))return l;var b=dt(l);return uu(b,0,Kd(b,dt(c))+1).join("")},L.trimStart=function(l,c,m){if((l=jn(l))&&(m||c===U))return l.replace(Ko,"");if(!l||!(c=Ci(c)))return l;var b=dt(l);return uu(b,pi(b,dt(c))).join("")},L.truncate=function(l,c){var m=30,b="...";if(Ir(c)){var T="separator"in c?c.separator:T;m="length"in c?Vt(c.length):m,b="omission"in c?Ci(c.omission):b}var j=(l=jn(l)).length;if(vi(l)){var ee=dt(l);j=ee.length}if(m>=j)return l;var re=m-Ve(b);if(re<1)return b;var de=ee?uu(ee,0,re).join(""):l.slice(0,re);if(T===U)return de+b;if(ee&&(re+=de.length-re),Zf(T)){if(l.slice(re).search(T)){var Ee,Se=de;for(T.global||(T=mo(T.source,jn(Ou.exec(T))+"g")),T.lastIndex=0;Ee=T.exec(Se);)var Ne=Ee.index;de=de.slice(0,Ne===U?re:Ne)}}else if(l.indexOf(Ci(T),re)!=re){var Ye=de.lastIndexOf(T);Ye>-1&&(de=de.slice(0,Ye))}return de+b},L.unescape=function(l){return(l=jn(l))&&qo.test(l)?l.replace(Zi,Si):l},L.uniqueId=function(l){var c=++je;return jn(l)+c},L.upperCase=rE,L.upperFirst=tp,L.each=Lg,L.eachRight=bv,L.first=ob,ip(L,function(){var l={};return aa(L,function(c,m){Ie.call(L.prototype,m)||(l[m]=c)}),l}(),{chain:!1}),L.VERSION="4.17.21",Ke(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){L[l].placeholder=L}),Ke(["drop","take"],function(l,c){Ut.prototype[l]=function(m){m=m===U?1:Xr(Vt(m),0);var b=this.__filtered__&&!c?new Ut(this):this.clone();return b.__filtered__?b.__takeCount__=$i(m,b.__takeCount__):b.__views__.push({size:$i(m,mr),type:l+(b.__dir__<0?"Right":"")}),b},Ut.prototype[l+"Right"]=function(m){return this.reverse()[l](m).reverse()}}),Ke(["filter","map","takeWhile"],function(l,c){var m=c+1,b=1==m||3==m;Ut.prototype[l]=function(T){var j=this.clone();return j.__iteratees__.push({iteratee:Ot(T,3),type:m}),j.__filtered__=j.__filtered__||b,j}}),Ke(["head","last"],function(l,c){var m="take"+(c?"Right":"");Ut.prototype[l]=function(){return this[m](1).value()[0]}}),Ke(["initial","tail"],function(l,c){var m="drop"+(c?"":"Right");Ut.prototype[l]=function(){return this.__filtered__?new Ut(this):this[m](1)}}),Ut.prototype.compact=function(){return this.filter(Ls)},Ut.prototype.find=function(l){return this.filter(l).head()},Ut.prototype.findLast=function(l){return this.reverse().find(l)},Ut.prototype.invokeMap=on(function(l,c){return"function"==typeof l?new Ut(this):this.map(function(m){return Ga(m,l,c)})}),Ut.prototype.reject=function(l){return this.filter(Vf(Ot(l)))},Ut.prototype.slice=function(l,c){l=Vt(l);var m=this;return m.__filtered__&&(l>0||c<0)?new Ut(m):(l<0?m=m.takeRight(-l):l&&(m=m.drop(l)),c!==U&&(m=(c=Vt(c))<0?m.dropRight(-c):m.take(c-l)),m)},Ut.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ut.prototype.toArray=function(){return this.take(mr)},aa(Ut.prototype,function(l,c){var m=/^(?:filter|find|map|reject)|While$/.test(c),b=/^(?:head|last)$/.test(c),T=L[b?"take"+("last"==c?"Right":""):c],j=b||/^find/.test(c);!T||(L.prototype[c]=function(){var ee=this.__wrapped__,re=b?[1]:arguments,de=ee instanceof Ut,Ee=re[0],Se=de||Xt(ee),Ne=function(mn){var Dn=T.apply(L,Dt([mn],re));return b&&Ye?Dn[0]:Dn};Se&&m&&"function"==typeof Ee&&1!=Ee.length&&(de=Se=!1);var Ye=this.__chain__,ft=!!this.__actions__.length,Ft=j&&!Ye,qt=de&&!ft;if(!j&&Se){ee=qt?ee:new Ut(this);var Bt=l.apply(ee,re);return Bt.__actions__.push({func:Lf,args:[Ne],thisArg:U}),new Ti(Bt,Ye)}return Ft&&qt?l.apply(this,re):(Bt=this.thru(Ne),Ft?b?Bt.value()[0]:Bt.value():Bt)})}),Ke(["pop","push","shift","sort","splice","unshift"],function(l){var c=te[l],m=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",b=/^(?:pop|shift)$/.test(l);L.prototype[l]=function(){var T=arguments;if(b&&!this.__chain__){var j=this.value();return c.apply(Xt(j)?j:[],T)}return this[m](function(ee){return c.apply(Xt(ee)?ee:[],T)})}}),aa(Ut.prototype,function(l,c){var m=L[c];if(m){var b=m.name+"";Ie.call(vl,b)||(vl[b]=[]),vl[b].push({name:c,func:m})}}),vl[Af(U,2).name]=[{name:"wrapper",func:U}],Ut.prototype.clone=function(){var l=new Ut(this.__wrapped__);return l.__actions__=hs(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=hs(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=hs(this.__views__),l},Ut.prototype.reverse=function(){if(this.__filtered__){var l=new Ut(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},Ut.prototype.value=function(){var l=this.__wrapped__.value(),c=this.__dir__,m=Xt(l),b=c<0,T=m?l.length:0,j=function(l,c,m){for(var b=-1,T=m.length;++b<T;){var j=m[b],ee=j.size;switch(j.type){case"drop":l+=ee;break;case"dropRight":c-=ee;break;case"take":c=$i(c,l+ee);break;case"takeRight":l=Xr(l,c-ee)}}return{start:l,end:c}}(0,T,this.__views__),ee=j.start,re=j.end,de=re-ee,Ee=b?re:ee-1,Se=this.__iteratees__,Ne=Se.length,Ye=0,ft=$i(de,this.__takeCount__);if(!m||!b&&T==de&&ft==de)return jC(l,this.__actions__);var Ft=[];e:for(;de--&&Ye<ft;){for(var qt=-1,Bt=l[Ee+=c];++qt<Ne;){var mn=Se[qt],ro=mn.type,Gn=(0,mn.iteratee)(Bt);if(2==ro)Bt=Gn;else if(!Gn){if(1==ro)continue e;break e}}Ft[Ye++]=Bt}return Ft},L.prototype.at=_b,L.prototype.chain=function(){return yv(this)},L.prototype.commit=function(){return new Ti(this.value(),this.__chain__)},L.prototype.next=function(){this.__values__===U&&(this.__values__=Gv(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?U:this.__values__[this.__index__++]}},L.prototype.plant=function(l){for(var c,m=this;m instanceof $u;){var b=eb(m);b.__index__=0,b.__values__=U,c?T.__wrapped__=b:c=b;var T=b;m=m.__wrapped__}return T.__wrapped__=l,c},L.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof Ut){var c=l;return this.__actions__.length&&(c=new Ut(this)),(c=c.reverse()).__actions__.push({func:Lf,args:[td],thisArg:U}),new Ti(c,this.__chain__)}return this.thru(td)},L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=function(){return jC(this.__wrapped__,this.__actions__)},L.prototype.first=L.prototype.head,Qd&&(L.prototype[Qd]=function(){return this}),L}();f._=Xi,(pr=function(){return Xi}.call(wi,ut,wi,fi))!==U&&(fi.exports=pr)}.call(this)},610:function(fi){fi.exports=function(){var ut="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},pr=Array.prototype,U=Object.prototype,_r="undefined"!=typeof Symbol?Symbol.prototype:null,It=pr.push,xe=pr.slice,vn=U.toString,_i=U.hasOwnProperty,Gr="undefined"!=typeof ArrayBuffer,un="undefined"!=typeof DataView,Dr=Array.isArray,yn=Object.keys,er=Object.create,Or=Gr&&ArrayBuffer.isView,Qr=isNaN,Jt=isFinite,ot=!{toString:null}.propertyIsEnumerable("toString"),Xe=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ze=Math.pow(2,53)-1;function st(E,B){return B=null==B?E.length-1:+B,function(){for(var W=Math.max(arguments.length-B,0),X=Array(W),fe=0;fe<W;fe++)X[fe]=arguments[fe+B];switch(B){case 0:return E.call(this,X);case 1:return E.call(this,arguments[0],X);case 2:return E.call(this,arguments[0],arguments[1],X)}var oe=Array(B+1);for(fe=0;fe<B;fe++)oe[fe]=arguments[fe];return oe[B]=X,E.apply(this,oe)}}function St(E){var B=typeof E;return"function"===B||"object"===B&&!!E}function Ge(E){return void 0===E}function Wn(E){return!0===E||!1===E||"[object Boolean]"===vn.call(E)}function _(E){var B="[object "+E+"]";return function(W){return vn.call(W)===B}}var ei=_("String"),Ln=_("Number"),Di=_("Date"),Wo=_("RegExp"),Yo=_("Error"),rr=_("Symbol"),_s=_("ArrayBuffer"),_o=_("Function");"object"!=typeof Int8Array&&"function"!=typeof(ut.document&&ut.document.childNodes)&&(_o=function(E){return"function"==typeof E||!1});var Xn=_o,Vi=_("Object"),_a=un&&Vi(new DataView(new ArrayBuffer(8))),Ds="undefined"!=typeof Map&&Vi(new Map),mr=_("DataView"),Mr=_a?function(E){return null!=E&&Xn(E.getInt8)&&_s(E.buffer)}:mr,zs=Dr||_("Array");function Er(E,B){return null!=E&&_i.call(E,B)}var ti=_("Arguments");!function(){ti(arguments)||(ti=function(E){return Er(E,"callee")})}();var is=ti;function Da(E){return Ln(E)&&Qr(E)}function zi(E){return function(){return E}}function Sr(E){return function(B){var W=E(B);return"number"==typeof W&&W>=0&&W<=ze}}function hi(E){return function(B){return null==B?void 0:B[E]}}var Ur=hi("byteLength"),Ma=Sr(Ur),Ea=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,kt=Gr?function(E){return Or?Or(E)&&!Mr(E):Ma(E)&&Ea.test(vn.call(E))}:zi(!1),Nn=hi("length");function N(E,B){B=function(f){for(var p={},v=f.length,C=0;C<v;++C)p[f[C]]=!0;return{contains:function(D){return!0===p[D]},push:function(D){return p[D]=!0,f.push(D)}}}(B);var W=Xe.length,X=E.constructor,fe=Xn(X)&&X.prototype||U,oe="constructor";for(Er(E,oe)&&!B.contains(oe)&&B.push(oe);W--;)(oe=Xe[W])in E&&E[oe]!==fe[oe]&&!B.contains(oe)&&B.push(oe)}function O(E){if(!St(E))return[];if(yn)return yn(E);var B=[];for(var W in E)Er(E,W)&&B.push(W);return ot&&N(E,B),B}function q(E,B){var W=O(B),X=W.length;if(null==E)return!X;for(var fe=Object(E),oe=0;oe<X;oe++){var f=W[oe];if(B[f]!==fe[f]||!(f in fe))return!1}return!0}function ne(E){return E instanceof ne?E:this instanceof ne?void(this._wrapped=E):new ne(E)}function we(E){return new Uint8Array(E.buffer||E,E.byteOffset||0,Ur(E))}ne.VERSION="1.13.2",ne.prototype.valueOf=ne.prototype.toJSON=ne.prototype.value=function(){return this._wrapped},ne.prototype.toString=function(){return String(this._wrapped)};var _e="[object DataView]";function Le(E,B,W,X){if(E===B)return 0!==E||1/E==1/B;if(null==E||null==B)return!1;if(E!=E)return B!=B;var fe=typeof E;return("function"===fe||"object"===fe||"object"==typeof B)&&function oe(f,p,v,C){f instanceof ne&&(f=f._wrapped),p instanceof ne&&(p=p._wrapped);var D=vn.call(f);if(D!==vn.call(p))return!1;if(_a&&"[object Object]"==D&&Mr(f)){if(!Mr(p))return!1;D=_e}switch(D){case"[object RegExp]":case"[object String]":return""+f==""+p;case"[object Number]":return+f!=+f?+p!=+p:0==+f?1/+f==1/p:+f==+p;case"[object Date]":case"[object Boolean]":return+f==+p;case"[object Symbol]":return _r.valueOf.call(f)===_r.valueOf.call(p);case"[object ArrayBuffer]":case _e:return oe(we(f),we(p),v,C)}var x="[object Array]"===D;if(!x&&kt(f)){if(Ur(f)!==Ur(p))return!1;if(f.buffer===p.buffer&&f.byteOffset===p.byteOffset)return!0;x=!0}if(!x){if("object"!=typeof f||"object"!=typeof p)return!1;var P=f.constructor,J=p.constructor;if(P!==J&&!(Xn(P)&&P instanceof P&&Xn(J)&&J instanceof J)&&"constructor"in f&&"constructor"in p)return!1}C=C||[];for(var K=(v=v||[]).length;K--;)if(v[K]===f)return C[K]===p;if(v.push(f),C.push(p),x){if((K=f.length)!==p.length)return!1;for(;K--;)if(!Le(f[K],p[K],v,C))return!1}else{var le,ye=O(f);if(K=ye.length,O(p).length!==K)return!1;for(;K--;)if(!Er(p,le=ye[K])||!Le(f[le],p[le],v,C))return!1}return v.pop(),C.pop(),!0}(E,B,W,X)}function nt(E){if(!St(E))return[];var B=[];for(var W in E)B.push(W);return ot&&N(E,B),B}function pt(E){var B=Nn(E);return function(W){if(null==W)return!1;var X=nt(W);if(Nn(X))return!1;for(var fe=0;fe<B;fe++)if(!Xn(W[E[fe]]))return!1;return E!==Xo||!Xn(W[Cn])}}var Cn="forEach",tn=["clear","delete"],lr=["get","has","set"],Gs=tn.concat(Cn,lr),Xo=tn.concat(lr),qn=["add"].concat(tn,Cn,"has"),vr=Ds?pt(Gs):_("Map"),xr=Ds?pt(Xo):_("WeakMap"),Gi=Ds?pt(qn):_("Set"),$o=_("WeakSet");function Ui(E){for(var B=O(E),W=B.length,X=Array(W),fe=0;fe<W;fe++)X[fe]=E[B[fe]];return X}function Pr(E){for(var B={},W=O(E),X=0,fe=W.length;X<fe;X++)B[E[W[X]]]=W[X];return B}function Rr(E){var B=[];for(var W in E)Xn(E[W])&&B.push(W);return B.sort()}function rl(E,B){return function(W){var X=arguments.length;if(B&&(W=Object(W)),X<2||null==W)return W;for(var fe=1;fe<X;fe++)for(var oe=arguments[fe],f=E(oe),p=f.length,v=0;v<p;v++){var C=f[v];B&&void 0!==W[C]||(W[C]=oe[C])}return W}}var Tc=rl(nt),Zi=rl(O),il=rl(nt,!0);function qo(E){if(!St(E))return{};if(er)return er(E);var B=function(){};B.prototype=E;var W=new B;return B.prototype=null,W}function Do(E){return zs(E)?E:[E]}function sl(E){return ne.toPath(E)}function Ul(E,B){for(var W=B.length,X=0;X<W;X++){if(null==E)return;E=E[B[X]]}return W?E:void 0}function ol(E,B,W){var X=Ul(E,sl(B));return Ge(X)?W:X}function Sa(E){return E}function al(E){return E=Zi({},E),function(B){return q(B,E)}}function ku(E){return E=sl(E),function(B){return Ul(B,E)}}function fo(E,B,W){if(void 0===B)return E;switch(null==W?3:W){case 1:return function(X){return E.call(B,X)};case 3:return function(X,fe,oe){return E.call(B,X,fe,oe)};case 4:return function(X,fe,oe,f){return E.call(B,X,fe,oe,f)}}return function(){return E.apply(B,arguments)}}function ll(E,B,W){return null==E?Sa:Xn(E)?fo(E,B,W):St(E)&&!zs(E)?al(E):ku(E)}function Ko(E,B){return ll(E,B,1/0)}function ni(E,B,W){return ne.iteratee!==Ko?ne.iteratee(E,B):ll(E,B,W)}function ul(){}function Zl(E,B){return null==B&&(B=E,E=0),E+Math.floor(Math.random()*(B-E+1))}ne.toPath=Do,ne.iteratee=Ko;var ss=Date.now||function(){return(new Date).getTime()};function cl(E){var B=function(oe){return E[oe]},W="(?:"+O(E).join("|")+")",X=RegExp(W),fe=RegExp(W,"g");return function(oe){return X.test(oe=null==oe?"":""+oe)?oe.replace(fe,B):oe}}var xa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ta=cl(xa),Hi=cl(Pr(xa)),Ou=ne.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Mo=/(.)^/,Pu={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ru=/\\|'|\r|\n|\u2028|\u2029/g;function Hl(E){return"\\"+Pu[E]}var Lu=/^\s*(\w|\$)+\s*$/,Nc=0;function ri(E,B,W,X,fe){if(!(X instanceof B))return E.apply(W,fe);var oe=qo(E.prototype),f=E.apply(oe,fe);return St(f)?f:oe}var Jo=st(function(E,B){var W=Jo.placeholder,X=function(){for(var fe=0,oe=B.length,f=Array(oe),p=0;p<oe;p++)f[p]=B[p]===W?arguments[fe++]:B[p];for(;fe<arguments.length;)f.push(arguments[fe++]);return ri(E,X,this,this,f)};return X});Jo.placeholder=ne;var Kn=st(function(E,B,W){if(!Xn(E))throw new TypeError("Bind must be called on a function");var X=st(function(fe){return ri(E,X,B,this,W.concat(fe))});return X}),Lr=Sr(Nn);function Zr(E,B,W,X){if(X=X||[],B||0===B){if(B<=0)return X.concat(E)}else B=1/0;for(var fe=X.length,oe=0,f=Nn(E);oe<f;oe++){var p=E[oe];if(Lr(p)&&(zs(p)||is(p)))if(B>1)Zr(p,B-1,W,X),fe=X.length;else for(var v=0,C=p.length;v<C;)X[fe++]=p[v++];else W||(X[fe++]=p)}return X}var kc=st(function(E,B){var W=(B=Zr(B,!1,!1)).length;if(W<1)throw new Error("bindAll must be passed function names");for(;W--;){var X=B[W];E[X]=Kn(E[X],E)}return E}),Na=st(function(E,B,W){return setTimeout(function(){return E.apply(null,W)},B)}),Wl=Jo(Na,ne,1);function yr(E){return function(){return!E.apply(this,arguments)}}function ho(E,B){var W;return function(){return--E>0&&(W=B.apply(this,arguments)),E<=1&&(B=null),W}}var go=Jo(ho,2);function Fu(E,B,W){B=ni(B,W);for(var X,fe=O(E),oe=0,f=fe.length;oe<f;oe++)if(B(E[X=fe[oe]],X,E))return X}function Yl(E){return function(B,W,X){W=ni(W,X);for(var fe=Nn(B),oe=E>0?0:fe-1;oe>=0&&oe<fe;oe+=E)if(W(B[oe],oe,B))return oe;return-1}}var Eo=Yl(1),dl=Yl(-1);function Qo(E,B,W,X){for(var fe=(W=ni(W,X,1))(B),oe=0,f=Nn(E);oe<f;){var p=Math.floor((oe+f)/2);W(E[p])<fe?oe=p+1:f=p}return oe}function ka(E,B,W){return function(X,fe,oe){var f=0,p=Nn(X);if("number"==typeof oe)E>0?f=oe>=0?oe:Math.max(oe+p,f):p=oe>=0?Math.min(oe+1,p):oe+p+1;else if(W&&oe&&p)return X[oe=W(X,fe)]===fe?oe:-1;if(fe!=fe)return(oe=B(xe.call(X,f,p),Da))>=0?oe+f:-1;for(oe=E>0?f:p-1;oe>=0&&oe<p;oe+=E)if(X[oe]===fe)return oe;return-1}}var Bu=ka(1,Eo,Qo),Xl=ka(-1,dl);function Hr(E,B,W){var X=(Lr(E)?Eo:Fu)(E,B,W);if(void 0!==X&&-1!==X)return E[X]}function os(E,B,W){var X,fe;if(B=fo(B,W),Lr(E))for(X=0,fe=E.length;X<fe;X++)B(E[X],X,E);else{var oe=O(E);for(X=0,fe=oe.length;X<fe;X++)B(E[oe[X]],oe[X],E)}return E}function kn(E,B,W){B=ni(B,W);for(var X=!Lr(E)&&O(E),fe=(X||E).length,oe=Array(fe),f=0;f<fe;f++){var p=X?X[f]:f;oe[f]=B(E[p],p,E)}return oe}function $l(E){var B=function(W,X,fe,oe){var f=!Lr(W)&&O(W),p=(f||W).length,v=E>0?0:p-1;for(oe||(fe=W[f?f[v]:v],v+=E);v>=0&&v<p;v+=E){var C=f?f[v]:v;fe=X(fe,W[C],C,W)}return fe};return function(W,X,fe,oe){var f=arguments.length>=3;return B(W,fo(X,oe,4),fe,f)}}var So=$l(1),Ms=$l(-1);function gi(E,B,W){var X=[];return B=ni(B,W),os(E,function(fe,oe,f){B(fe,oe,f)&&X.push(fe)}),X}function An(E,B,W){B=ni(B,W);for(var X=!Lr(E)&&O(E),fe=(X||E).length,oe=0;oe<fe;oe++){var f=X?X[oe]:oe;if(!B(E[f],f,E))return!1}return!0}function ea(E,B,W){B=ni(B,W);for(var X=!Lr(E)&&O(E),fe=(X||E).length,oe=0;oe<fe;oe++){var f=X?X[oe]:oe;if(B(E[f],f,E))return!0}return!1}function jt(E,B,W,X){return Lr(E)||(E=Ui(E)),("number"!=typeof W||X)&&(W=0),Bu(E,B,W)>=0}var Us=st(function(E,B,W){var X,fe;return Xn(B)?fe=B:(B=sl(B),X=B.slice(0,-1),B=B[B.length-1]),kn(E,function(oe){var f=fe;if(!f){if(X&&X.length&&(oe=Ul(oe,X)),null==oe)return;f=oe[B]}return null==f?f:f.apply(oe,W)})});function po(E,B){return kn(E,ku(B))}function wn(E,B,W){var X,fe,oe=-1/0,f=-1/0;if(null==B||"number"==typeof B&&"object"!=typeof E[0]&&null!=E)for(var p=0,v=(E=Lr(E)?E:Ui(E)).length;p<v;p++)null!=(X=E[p])&&X>oe&&(oe=X);else B=ni(B,W),os(E,function(C,D,x){((fe=B(C,D,x))>f||fe===-1/0&&oe===-1/0)&&(oe=C,f=fe)});return oe}var Zt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function fl(E){return E?zs(E)?xe.call(E):ei(E)?E.match(Zt):Lr(E)?kn(E,Sa):Ui(E):[]}function ql(E,B,W){if(null==B||W)return Lr(E)||(E=Ui(E)),E[Zl(E.length-1)];var X=fl(E),fe=Nn(X);B=Math.max(Math.min(B,fe),0);for(var oe=fe-1,f=0;f<B;f++){var p=Zl(f,oe),v=X[f];X[f]=X[p],X[p]=v}return X.slice(0,B)}function Fr(E,B){return function(W,X,fe){var oe=B?[[],[]]:{};return X=ni(X,fe),os(W,function(f,p){var v=X(f,p,W);E(oe,f,v)}),oe}}var Oc=Fr(function(E,B,W){Er(E,W)?E[W].push(B):E[W]=[B]}),Oa=Fr(function(E,B,W){E[W]=B}),Gt=Fr(function(E,B,W){Er(E,W)?E[W]++:E[W]=1}),ii=Fr(function(E,B,W){E[W?0:1].push(B)},!0);function ju(E,B,W){return B in W}var Pc=st(function(E,B){var W={},X=B[0];if(null==E)return W;Xn(X)?(B.length>1&&(X=fo(X,B[1])),B=nt(E)):(X=ju,B=Zr(B,!1,!1),E=Object(E));for(var fe=0,oe=B.length;fe<oe;fe++){var f=B[fe],p=E[f];X(p,f,E)&&(W[f]=p)}return W}),$d=st(function(E,B){var W,X=B[0];return Xn(X)?(X=yr(X),B.length>1&&(W=B[1])):(B=kn(Zr(B,!1,!1),String),X=function(fe,oe){return!jt(B,oe)}),Pc(E,X,W)});function Pa(E,B,W){return xe.call(E,0,Math.max(0,E.length-(null==B||W?1:B)))}function si(E,B,W){return null==E||E.length<1?null==B||W?void 0:[]:null==B||W?E[0]:Pa(E,E.length-B)}function ta(E,B,W){return xe.call(E,null==B||W?1:B)}var hl=st(function(E,B){return B=Zr(B,!0,!0),gi(E,function(W){return!jt(B,W)})}),Rc=st(function(E,B){return hl(E,B)});function Mi(E,B,W,X){Wn(B)||(X=W,W=B,B=!1),null!=W&&(W=ni(W,X));for(var fe=[],oe=[],f=0,p=Nn(E);f<p;f++){var v=E[f],C=W?W(v,f,E):v;B&&!W?(f&&oe===C||fe.push(v),oe=C):W?jt(oe,C)||(oe.push(C),fe.push(v)):jt(fe,v)||fe.push(v)}return fe}var Lc=st(function(E){return Mi(Zr(E,!0,!0))});function Kl(E){for(var B=E&&wn(E,Nn).length||0,W=Array(B),X=0;X<B;X++)W[X]=po(E,X);return W}var zn=st(Kl);function Fn(E,B){return E._chain?ne(B).chain():B}function Vu(E){return os(Rr(E),function(B){var W=ne[B]=E[B];ne.prototype[B]=function(){var X=[this._wrapped];return It.apply(X,arguments),Fn(this,W.apply(ne,X))}}),ne}os(["pop","push","reverse","shift","sort","splice","unshift"],function(E){var B=pr[E];ne.prototype[E]=function(){var W=this._wrapped;return null!=W&&(B.apply(W,arguments),"shift"!==E&&"splice"!==E||0!==W.length||delete W[0]),Fn(this,W)}}),os(["concat","join","slice"],function(E){var B=pr[E];ne.prototype[E]=function(){var W=this._wrapped;return null!=W&&(W=B.apply(W,arguments)),Fn(this,W)}});var zu=Vu({__proto__:null,VERSION:"1.13.2",restArguments:st,isObject:St,isNull:function(E){return null===E},isUndefined:Ge,isBoolean:Wn,isElement:function(E){return!(!E||1!==E.nodeType)},isString:ei,isNumber:Ln,isDate:Di,isRegExp:Wo,isError:Yo,isSymbol:rr,isArrayBuffer:_s,isDataView:Mr,isArray:zs,isFunction:Xn,isArguments:is,isFinite:function(E){return!rr(E)&&Jt(E)&&!isNaN(parseFloat(E))},isNaN:Da,isTypedArray:kt,isEmpty:function(E){if(null==E)return!0;var B=Nn(E);return"number"==typeof B&&(zs(E)||ei(E)||is(E))?0===B:0===Nn(O(E))},isMatch:q,isEqual:function(E,B){return Le(E,B)},isMap:vr,isWeakMap:xr,isSet:Gi,isWeakSet:$o,keys:O,allKeys:nt,values:Ui,pairs:function(E){for(var B=O(E),W=B.length,X=Array(W),fe=0;fe<W;fe++)X[fe]=[B[fe],E[B[fe]]];return X},invert:Pr,functions:Rr,methods:Rr,extend:Tc,extendOwn:Zi,assign:Zi,defaults:il,create:function(E,B){var W=qo(E);return B&&Zi(W,B),W},clone:function(E){return St(E)?zs(E)?E.slice():Tc({},E):E},tap:function(E,B){return B(E),E},get:ol,has:function(E,B){for(var W=(B=sl(B)).length,X=0;X<W;X++){var fe=B[X];if(!Er(E,fe))return!1;E=E[fe]}return!!W},mapObject:function(E,B,W){B=ni(B,W);for(var X=O(E),fe=X.length,oe={},f=0;f<fe;f++){var p=X[f];oe[p]=B(E[p],p,E)}return oe},identity:Sa,constant:zi,noop:ul,toPath:Do,property:ku,propertyOf:function(E){return null==E?ul:function(B){return ol(E,B)}},matcher:al,matches:al,times:function(E,B,W){var X=Array(Math.max(0,E));B=fo(B,W,1);for(var fe=0;fe<E;fe++)X[fe]=B(fe);return X},random:Zl,now:ss,escape:Ta,unescape:Hi,templateSettings:Ou,template:function(E,B,W){!B&&W&&(B=W),B=il({},B,ne.templateSettings);var X=RegExp([(B.escape||Mo).source,(B.interpolate||Mo).source,(B.evaluate||Mo).source].join("|")+"|$","g"),fe=0,oe="__p+='";E.replace(X,function(C,D,x,P,J){return oe+=E.slice(fe,J).replace(Ru,Hl),fe=J+C.length,D?oe+="'+\n((__t=("+D+"))==null?'':_.escape(__t))+\n'":x?oe+="'+\n((__t=("+x+"))==null?'':__t)+\n'":P&&(oe+="';\n"+P+"\n__p+='"),C}),oe+="';\n";var f,p=B.variable;if(p){if(!Lu.test(p))throw new Error("variable is not a bare identifier: "+p)}else oe="with(obj||{}){\n"+oe+"}\n",p="obj";oe="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+oe+"return __p;\n";try{f=new Function(p,"_",oe)}catch(C){throw C.source=oe,C}var v=function(C){return f.call(this,C,ne)};return v.source="function("+p+"){\n"+oe+"}",v},result:function(E,B,W){var X=(B=sl(B)).length;if(!X)return Xn(W)?W.call(E):W;for(var fe=0;fe<X;fe++){var oe=null==E?void 0:E[B[fe]];void 0===oe&&(oe=W,fe=X),E=Xn(oe)?oe.call(E):oe}return E},uniqueId:function(E){var B=++Nc+"";return E?E+B:B},chain:function(E){var B=ne(E);return B._chain=!0,B},iteratee:Ko,partial:Jo,bind:Kn,bindAll:kc,memoize:function(E,B){var W=function(X){var fe=W.cache,oe=""+(B?B.apply(this,arguments):X);return Er(fe,oe)||(fe[oe]=E.apply(this,arguments)),fe[oe]};return W.cache={},W},delay:Na,defer:Wl,throttle:function(E,B,W){var X,fe,oe,f,p=0;W||(W={});var v=function(){p=!1===W.leading?0:ss(),X=null,f=E.apply(fe,oe),X||(fe=oe=null)},C=function(){var D=ss();p||!1!==W.leading||(p=D);var x=B-(D-p);return fe=this,oe=arguments,x<=0||x>B?(X&&(clearTimeout(X),X=null),p=D,f=E.apply(fe,oe),X||(fe=oe=null)):X||!1===W.trailing||(X=setTimeout(v,x)),f};return C.cancel=function(){clearTimeout(X),p=0,X=fe=oe=null},C},debounce:function(E,B,W){var X,fe,oe,f,p,v=function(){var D=ss()-fe;B>D?X=setTimeout(v,B-D):(X=null,W||(f=E.apply(p,oe)),X||(oe=p=null))},C=st(function(D){return p=this,oe=D,fe=ss(),X||(X=setTimeout(v,B),W&&(f=E.apply(p,oe))),f});return C.cancel=function(){clearTimeout(X),X=oe=p=null},C},wrap:function(E,B){return Jo(B,E)},negate:yr,compose:function(){var E=arguments,B=E.length-1;return function(){for(var W=B,X=E[B].apply(this,arguments);W--;)X=E[W].call(this,X);return X}},after:function(E,B){return function(){if(--E<1)return B.apply(this,arguments)}},before:ho,once:go,findKey:Fu,findIndex:Eo,findLastIndex:dl,sortedIndex:Qo,indexOf:Bu,lastIndexOf:Xl,find:Hr,detect:Hr,findWhere:function(E,B){return Hr(E,al(B))},each:os,forEach:os,map:kn,collect:kn,reduce:So,foldl:So,inject:So,reduceRight:Ms,foldr:Ms,filter:gi,select:gi,reject:function(E,B,W){return gi(E,yr(ni(B)),W)},every:An,all:An,some:ea,any:ea,contains:jt,includes:jt,include:jt,invoke:Us,pluck:po,where:function(E,B){return gi(E,al(B))},max:wn,min:function(E,B,W){var X,fe,oe=1/0,f=1/0;if(null==B||"number"==typeof B&&"object"!=typeof E[0]&&null!=E)for(var p=0,v=(E=Lr(E)?E:Ui(E)).length;p<v;p++)null!=(X=E[p])&&X<oe&&(oe=X);else B=ni(B,W),os(E,function(C,D,x){((fe=B(C,D,x))<f||fe===1/0&&oe===1/0)&&(oe=C,f=fe)});return oe},shuffle:function(E){return ql(E,1/0)},sample:ql,sortBy:function(E,B,W){var X=0;return B=ni(B,W),po(kn(E,function(fe,oe,f){return{value:fe,index:X++,criteria:B(fe,oe,f)}}).sort(function(fe,oe){var f=fe.criteria,p=oe.criteria;if(f!==p){if(f>p||void 0===f)return 1;if(f<p||void 0===p)return-1}return fe.index-oe.index}),"value")},groupBy:Oc,indexBy:Oa,countBy:Gt,partition:ii,toArray:fl,size:function(E){return null==E?0:Lr(E)?E.length:O(E).length},pick:Pc,omit:$d,first:si,head:si,take:si,initial:Pa,last:function(E,B,W){return null==E||E.length<1?null==B||W?void 0:[]:null==B||W?E[E.length-1]:ta(E,Math.max(0,E.length-B))},rest:ta,tail:ta,drop:ta,compact:function(E){return gi(E,Boolean)},flatten:function(E,B){return Zr(E,B,!1)},without:Rc,uniq:Mi,unique:Mi,union:Lc,intersection:function(E){for(var B=[],W=arguments.length,X=0,fe=Nn(E);X<fe;X++){var oe=E[X];if(!jt(B,oe)){var f;for(f=1;f<W&&jt(arguments[f],oe);f++);f===W&&B.push(oe)}}return B},difference:hl,unzip:Kl,transpose:Kl,zip:zn,object:function(E,B){for(var W={},X=0,fe=Nn(E);X<fe;X++)B?W[E[X]]=B[X]:W[E[X][0]]=E[X][1];return W},range:function(E,B,W){null==B&&(B=E||0,E=0),W||(W=B<E?-1:1);for(var X=Math.max(Math.ceil((B-E)/W),0),fe=Array(X),oe=0;oe<X;oe++,E+=W)fe[oe]=E;return fe},chunk:function(E,B){if(null==B||B<1)return[];for(var W=[],X=0,fe=E.length;X<fe;)W.push(xe.call(E,X,X+=B));return W},mixin:Vu,default:ne});return zu._=zu,zu}()}},fi=>{fi(fi.s=308)}]);