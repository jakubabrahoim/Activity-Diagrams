(self.webpackChunkangular_test=self.webpackChunkangular_test||[]).push([[179],{996:(ei,fi,et)=>{"use strict";var rr={};et.r(rr),et.d(rr,{Curve:()=>On,Ellipse:()=>Vs,Line:()=>$e,Path:()=>st,Point:()=>ae,Polyline:()=>nr,Rect:()=>We,bezier:()=>Aj,ellipse:()=>pj,line:()=>nf,normalizeAngle:()=>vu,point:()=>tp,random:()=>HA,rect:()=>ME,scale:()=>cj,snapToGrid:()=>tf,toDeg:()=>cy,toRad:()=>Ks});var B={};et.r(B),et.d(B,{absolute:()=>Vj,bottom:()=>$j,ellipse:()=>qj,ellipseSpread:()=>Jj,fn:()=>Zj,left:()=>Hj,line:()=>Wj,right:()=>Yj,top:()=>Xj});var fr={};et.r(fr),et.d(fr,{bottom:()=>nB,inside:()=>oB,insideOriented:()=>sB,left:()=>Kj,manual:()=>Qj,outside:()=>iB,outsideOriented:()=>rB,radial:()=>aB,radialOriented:()=>uB,right:()=>eB,top:()=>tB});var ct={};et.r(ct),et.d(ct,{Circle:()=>fw,Ellipse:()=>gB,Generic:()=>En,Image:()=>vB,Path:()=>o_,Polygon:()=>pB,Polyline:()=>mB,Rect:()=>fB,Rhombus:()=>yB,Text:()=>hB,TextBlock:()=>IB,TextBlockView:()=>CB,TextView:()=>dB});var Me={};et.r(Me),et.d(Me,{BorderedImage:()=>MB,Circle:()=>AB,Cylinder:()=>NB,DoubleLink:()=>LB,Ellipse:()=>wB,EmbeddedImage:()=>SB,HeaderedRectangle:()=>_B,Image:()=>xB,InscribedImage:()=>EB,Link:()=>l_,Path:()=>bB,Polygon:()=>u_,Polyline:()=>DB,Rectangle:()=>a_,ShadowLink:()=>kB,TextBlock:()=>RB});var on={};et.r(on),et.d(on,{Atomic:()=>FB,Coupled:()=>jB,Link:()=>BB,Model:()=>hw});var di={};et.r(di),et.d(di,{And:()=>WB,Gate:()=>Ay,Gate11:()=>pw,Gate21:()=>lf,IO:()=>gw,Input:()=>zB,Nand:()=>YB,Nor:()=>HB,Not:()=>VB,Or:()=>ZB,Output:()=>GB,Repeater:()=>UB,Wire:()=>JB,Xnor:()=>$B,Xor:()=>XB});var Tr={};et.r(Tr),et.d(Tr,{BishopBlack:()=>iz,BishopWhite:()=>rz,KingBlack:()=>QB,KingWhite:()=>qB,KnightBlack:()=>oz,KnightWhite:()=>sz,PawnBlack:()=>uz,PawnWhite:()=>az,QueenBlack:()=>ez,QueenWhite:()=>KB,RookBlack:()=>nz,RookWhite:()=>tz});var $t={};et.r($t),et.d($t,{Attribute:()=>op,Derived:()=>dz,Entity:()=>c_,ISA:()=>pz,IdentifyingRelationship:()=>cz,Key:()=>hz,Line:()=>mz,Multivalued:()=>fz,Normal:()=>gz,Relationship:()=>f_,WeakEntity:()=>lz});var dr={};et.r(dr),et.d(dr,{Arrow:()=>Cz,EndState:()=>Iz,StartState:()=>yz,State:()=>vz});var an={};et.r(an),et.d(an,{Arrow:()=>wz,Member:()=>Az});var Vn={};et.r(Vn),et.d(Vn,{Link:()=>Mz,Place:()=>bz,PlaceView:()=>Dz,Transition:()=>xz});var Ar={};et.r(Ar),et.d(Ar,{Abstract:()=>Sz,AbstractView:()=>Ez,Aggregation:()=>Oz,Association:()=>Lz,Class:()=>mw,ClassView:()=>vw,Composition:()=>Rz,EndState:()=>h_,Generalization:()=>Tz,Implementation:()=>Pz,Interface:()=>_z,InterfaceView:()=>Nz,StartState:()=>d_,State:()=>kz,Transition:()=>Fz});var Gr={};et.r(Gr),et.d(Gr,{basic:()=>ct,chess:()=>Tr,devs:()=>on,erd:()=>$t,fsa:()=>dr,logic:()=>di,org:()=>an,pn:()=>Vn,standard:()=>Me,uml:()=>Ar});var jt={};et.r(jt),et.d(jt,{manhattan:()=>Mw,metro:()=>f5,normal:()=>Yz,oneSide:()=>Xz,orthogonal:()=>ww});var qe={};et.r(qe),et.d(qe,{jumpover:()=>C5,normal:()=>A5,rounded:()=>w5,smooth:()=>b5});var Ue={};et.r(Ue),et.d(Ue,{addClass:()=>E5,mask:()=>M5,opacity:()=>S5,stroke:()=>D5});var Fe={};et.r(Fe),et.d(Fe,{connectionClosest:()=>z_,connectionLength:()=>N5,connectionPerpendicular:()=>O5,connectionRatio:()=>_5,resolveRef:()=>cp});var Je={};et.r(Je),et.d(Je,{anchor:()=>B5,bbox:()=>z5,boundary:()=>U5,rectangle:()=>G5});var mt={};function je(e){return"function"==typeof e}function Ln(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}et.r(mt),et.d(mt,{bottom:()=>X5,bottomLeft:()=>K5,bottomRight:()=>eG,center:()=>H5,left:()=>$5,midSide:()=>nG,modelCenter:()=>rG,perpendicular:()=>tG,right:()=>J5,top:()=>Y5,topLeft:()=>q5,topRight:()=>Q5});const A=Ln(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ti(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class _n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(je(r))try{r()}catch(s){t=s instanceof A?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{xo(s)}catch(o){t=null!=t?t:[],o instanceof A?t=[...t,...o.errors]:t.push(o)}}if(t)throw new A(t)}}add(t){var n;if(t&&t!==this)if(this.closed)xo(t);else{if(t instanceof _n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ti(n,t)}remove(t){const{_teardowns:n}=this;n&&ti(n,t),t instanceof _n&&t._removeParent(this)}}_n.EMPTY=(()=>{const e=new _n;return e.closed=!0,e})();const hi=_n.EMPTY;function Do(e){return e instanceof _n||e&&"closed"in e&&je(e.remove)&&je(e.add)&&je(e.unsubscribe)}function xo(e){je(e)?e():e.unsubscribe()}const Yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},as={setTimeout(...e){const{delegate:t}=as;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=as;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function no(e){as.setTimeout(()=>{const{onUnhandledError:t}=Yn;if(!t)throw e;t(e)})}function ro(){}const Fn=us("C",void 0,void 0);function us(e,t,n){return{kind:e,value:t,error:n}}let ir=null;function hr(e){if(Yn.useDeprecatedSynchronousErrorHandling){const t=!ir;if(t&&(ir={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ir;if(ir=null,n)throw r}}else e()}class gr extends _n{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Do(t)&&t.add(this)):this.destination=pr}static create(t,n,r){return new Ur(t,n,r)}next(t){this.isStopped?Si(us("N",t,void 0),this):this._next(t)}error(t){this.isStopped?Si(us("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Si(Fn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ur extends gr{constructor(t,n,r){let i;if(super(),je(t))i=t;else if(t){let s;({next:i,error:n,complete:r}=t),this&&Yn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe()):s=t,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Ui(i):ro,error:Ui(null!=n?n:ra),complete:r?Ui(r):ro}}}function Ui(e,t){return(...n)=>{try{e(...n)}catch(r){Yn.useDeprecatedSynchronousErrorHandling?function(e){Yn.useDeprecatedSynchronousErrorHandling&&ir&&(ir.errorThrown=!0,ir.error=e)}(r):no(r)}}}function ra(e){throw e}function Si(e,t){const{onStoppedNotification:n}=Yn;n&&as.setTimeout(()=>n(e,t))}const pr={closed:!0,next:ro,error:ra,complete:ro},ni="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vr(e){return e}let xt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(e){return e&&e instanceof gr||function(e){return e&&je(e.next)&&je(e.error)&&je(e.complete)}(e)&&Do(e)}(n)?n:new Ur(n,r,i);return hr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=wn(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(l){s(l),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ni](){return this}pipe(...n){return function(e){return 0===e.length?Vr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=wn(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function wn(e){var t;return null!==(t=null!=e?e:Yn.Promise)&&void 0!==t?t:Promise}const H=Ln(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ee=(()=>{class e extends xt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ae(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new H}next(n){hr(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?hi:(s.push(n),new _n(()=>ti(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new xt;return n.source=this,n}}return e.create=(t,n)=>new Ae(t,n),e})();class Ae extends ee{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:hi}}function we(e){return je(null==e?void 0:e.lift)}function Pe(e){return t=>{if(we(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Qe extends gr{constructor(t,n,r,i,s){super(t),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){t.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){t.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function ot(e,t){return Pe((n,r)=>{let i=0;n.subscribe(new Qe(r,s=>{r.next(e.call(t,s,i++))}))})}function Ni(e){return this instanceof Ni?(this.v=e,this):new Ni(e)}function Fa(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(I){r[I]&&(i[I]=function(b){return new Promise(function(E,j){s.push([I,b,E,j])>1||a(I,b)})})}function a(I,b){try{!function(I){I.value instanceof Ni?Promise.resolve(I.value.v).then(d,p):h(s[0][2],I)}(r[I](b))}catch(E){h(s[0][3],E)}}function d(I){a("next",I)}function p(I){a("throw",I)}function h(I,b){I(b),s.shift(),s.length&&a(s[0][0],s[0][1])}}function io(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function(s,o,a,l){Promise.resolve(l).then(function(d){s({value:d,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const Hs=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ga(e){return je(null==e?void 0:e.then)}function _o(e){return je(e[ni])}function Zr(e){return Symbol.asyncIterator&&je(null==e?void 0:e[Symbol.asyncIterator])}function Ua(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vi="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Va(e){return je(null==e?void 0:e[Vi])}function aa(e){return Fa(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Ni(n.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{n.releaseLock()}})}function ua(e){return je(null==e?void 0:e.getReader)}function ls(e){if(e instanceof xt)return e;if(null!=e){if(_o(e))return function(e){return new xt(t=>{const n=e[ni]();if(je(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Hs(e))return function(e){return new xt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Ga(e))return function(e){return new xt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,no)})}(e);if(Zr(e))return Du(e);if(Va(e))return function(e){return new xt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(ua(e))return function(e){return Du(aa(e))}(e)}throw Ua(e)}function Du(e){return new xt(t=>{(function(e,t){var n,r,i,s;return function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(h){o(h)}}function l(p){try{d(r.throw(p))}catch(h){o(h)}}function d(p){p.done?s(p.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(p.value).then(a,l)}d((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=io(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Wr(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function zn(e,t,n=1/0){return je(t)?zn((r,i)=>ot((s,o)=>t(r,s,i,o))(ls(e(r,i))),n):("number"==typeof t&&(n=t),Pe((r,i)=>function(e,t,n,r,i,s,o,a){const l=[];let d=0,p=0,h=!1;const I=()=>{h&&!l.length&&!d&&t.complete()},b=j=>d<r?E(j):l.push(j),E=j=>{d++;let U=!1;ls(n(j,p++)).subscribe(new Qe(t,Q=>{t.next(Q)},()=>{U=!0},void 0,()=>{if(U)try{for(d--;l.length&&d<r;){const Q=l.shift();E(Q)}I()}catch(Q){t.error(Q)}}))};return e.subscribe(new Qe(t,b,()=>{h=!0,I()})),()=>{}}(r,i,e,n)))}function Dr(e=1/0){return zn(Vr,e)}const Pr=new xt(e=>e.complete());function or(e){return e[e.length-1]}function Ys(e){return function(e){return e&&je(e.schedule)}(or(e))?e.pop():void 0}function Mu(e,t=0){return Pe((n,r)=>{n.subscribe(new Qe(r,i=>Wr(r,e,()=>r.next(i),t),()=>Wr(r,e,()=>r.complete(),t),i=>Wr(r,e,()=>r.error(i),t)))})}function ao(e,t=0){return Pe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Su(e,t){if(!e)throw new Error("Iterable cannot be null");return new xt(n=>{Wr(n,t,()=>{const r=e[Symbol.asyncIterator]();Wr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dn(e,t){return t?function(e,t){if(null!=e){if(_o(e))return function(e,t){return ls(e).pipe(ao(t),Mu(t))}(e,t);if(Hs(e))return function(e,t){return new xt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Ga(e))return function(e,t){return ls(e).pipe(ao(t),Mu(t))}(e,t);if(Zr(e))return Su(e,t);if(Va(e))return function(e,t){return new xt(n=>{let r;return Wr(n,t,()=>{r=e[Vi](),Wr(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>je(null==r?void 0:r.return)&&r.return()})}(e,t);if(ua(e))return function(e,t){return Su(aa(e),t)}(e,t)}throw Ua(e)}(e,t):ls(e)}function uo(e){return e<=0?()=>Pr:Pe((t,n)=>{let r=0;t.subscribe(new Qe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ri(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(uo(1)).subscribe(()=>e())}function dn(e){for(let t in e)if(e[t]===dn)return t;throw Error("Could not find renamed property on target object.")}function Mt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Mt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ms(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Xs=dn({__forward_ref__:dn});function Oo(e){return e.__forward_ref__=Oo,e.toString=function(){return Mt(this())},e}function Tt(e){return function(e){return"function"==typeof e&&e.hasOwnProperty(Xs)&&e.__forward_ref__===Oo}(e)?e():e}class xr extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Hr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function da(e,t){const n=t?` in ${t}`:"";throw new xr("201",`No provider for ${Hr(e)} found${n}`)}function Z(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function g(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function y(e){return{providers:e.providers||[],imports:e.imports||[]}}function D(e){return M(e,oe)||M(e,Ee)}function M(e,t){return e.hasOwnProperty(t)?e[t]:null}function Y(e){return e&&(e.hasOwnProperty(me)||e.hasOwnProperty(he))?e[me]:null}const oe=dn({\u0275prov:dn}),me=dn({\u0275inj:dn}),Ee=dn({ngInjectableDef:dn}),he=dn({ngInjectorDef:dn});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let Ve;function Xe(e){const t=Ve;return Ve=e,t}function Tn(e,t,n){const r=D(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&fe.Optional?null:void 0!==t?t:void da(Mt(e),"Injector")}function Kn(e){return{toString:e}.toString()}var Ke=(()=>((Ke=Ke||{})[Ke.OnPush=0]="OnPush",Ke[Ke.Default=1]="Default",Ke))(),Bt=(()=>{return(e=Bt||(Bt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Bt;var e})();const Gn="undefined"!=typeof globalThis&&globalThis,Tu="undefined"!=typeof window&&window,yl="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,en=Gn||"undefined"!=typeof global&&global||Tu||yl,Wi={},Vt=[],ds=dn({\u0275cmp:dn}),Ya=dn({\u0275dir:dn}),Ss=dn({\u0275pipe:dn}),Pu=dn({\u0275mod:dn}),Wt=dn({\u0275fac:dn}),Hi=dn({__NG_ELEMENT_ID__:dn});let Il=0;function ha(e){return Kn(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Vt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Bt.Emulated,id:"c",styles:e.styles||Vt,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,s=e.features,o=e.pipes;return r.id+=Il++,r.inputs=Cf(e.inputs,n),r.outputs=Cf(e.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Xr):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Cl):null,r})}function Xr(e){return ii(e)||function(e){return e[Ya]||null}(e)}function Cl(e){return function(e){return e[Ss]||null}(e)}const ga={};function Lo(e){return Kn(()=>{const t={type:e.type,bootstrap:e.bootstrap||Vt,declarations:e.declarations||Vt,imports:e.imports||Vt,exports:e.exports||Vt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ga[e.id]=e.type),t})}function Cf(e,t){if(null==e)return Wi;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const Mr=ha;function ii(e){return e[ds]||null}function hs(e,t){const n=e[Pu]||null;if(!n&&!0===t)throw new Error(`Type ${Mt(e)} does not have '\u0275mod' property.`);return n}const R=20;function ve(e){return Array.isArray(e)&&"object"==typeof e[1]}function se(e){return Array.isArray(e)&&!0===e[1]}function be(e){return 0!=(8&e.flags)}function ye(e){return 2==(2&e.flags)}function Re(e){return 1==(1&e.flags)}function Oe(e){return null!==e.template}function at(e){return 0!=(512&e[2])}function $a(e,t){return e.hasOwnProperty(Wt)?e[Wt]:null}class jy{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function kr(e){return e.type.prototype.ngOnChanges&&(e.setInput=By),Ri}function Ri(){const e=ch(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Wi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function By(e,t,n,r){const i=ch(e)||function(e,t){return e[Ap]=t}(e,{previous:Wi,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new jy(l&&l.currentValue,t,o===Wi),e[r]=t}const Ap="__ngSimpleChanges__";function ch(e){return e[Ap]||null}let ku;function vr(e){return!!e.listen}const wp={createRenderer:(e,t)=>void 0!==ku?ku:"undefined"!=typeof document?document:void 0};function Fr(e){for(;Array.isArray(e);)e=e[0];return e}function L(e,t){return Fr(t[e.index])}function Nt(e,t){const n=t[e];return ve(n)?n:n[0]}function fh(e){return 128==(128&e[2])}function ms(e,t){return null==t?null:e[t]}function Dp(e){e[18]=0}function dh(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Rt={lFrame:_p(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xp(){return Rt.bindingsEnabled}function _e(){return Rt.lFrame.lView}function Ut(){return Rt.lFrame.tView}function Jr(){let e=Mp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Mp(){return Rt.lFrame.currentTNode}function jo(e,t){const n=Rt.lFrame;n.currentTNode=e,n.isParent=t}function ya(){return Rt.lFrame.isParent}function xf(){return Rt.isInCheckNoChangesMode}function Mf(e){Rt.isInCheckNoChangesMode=e}function gh(e,t){const n=Rt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ml(t)}function Ml(e){Rt.lFrame.currentDirectiveIndex=e}function vh(e){Rt.lFrame.currentQueryIndex=e}function Ca(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Sf(e,t,n){if(n&fe.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&fe.Host||(i=Ca(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Rt.lFrame=Ns();return r.currentTNode=t,r.lView=e,!0}function zo(e){const t=Ns(),n=e[1];Rt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ns(){const e=Rt.lFrame,t=null===e?null:e.child;return null===t?_p(e):t}function _p(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function yh(){const e=Rt.lFrame;return Rt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ih=yh;function qa(){const e=yh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fo(e){Rt.lFrame.selectedIndex=e}function ju(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),d&&((e.viewHooks||(e.viewHooks=[])).push(n,d),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,d)),null!=p&&(e.destroyHooks||(e.destroyHooks=[])).push(n,p)}}function Uo(e,t,n){Ef(e,t,3,n)}function Ic(e,t,n,r){(3&e[2])===n&&Ef(e,t,n,r)}function Ci(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ef(e,t,n,r){const s=null!=r?r:-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[18]+=65536),(a<s||-1==s)&&($y(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function $y(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Cc{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Tf(e,t,n){const r=vr(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Of(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Pf(e){return 3===e||4===e||6===e}function Of(e){return 64===e.charCodeAt(0)}function Rf(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Op(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Op(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Rp(e){return-1!==e}function Bu(e){return 32767&e}function Sl(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Ac=!0;function wc(e){const t=Ac;return Ac=e,t}let e0=0;function El(e,t){const n=Lf(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,xh(r.data,e),xh(t,null),xh(r.blueprint,null));const i=kf(e,t),s=e.injectorIndex;if(Rp(i)){const o=Bu(i),a=Sl(i,t),l=a[1].data;for(let d=0;d<8;d++)t[s+d]=a[o+d]|l[o+d]}return t[s+8]=i,s}function xh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Lf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function kf(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function _l(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hi)&&(r=n[Hi]),null==r&&(r=n[Hi]=e0++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Ff(e,t,n){if(n&fe.Optional)return e;da(t,"NodeInjector")}function Fp(e,t,n,r){if(n&fe.Optional&&void 0===r&&(r=null),0==(n&(fe.Self|fe.Host))){const i=e[9],s=Xe(void 0);try{return i?i.get(t,r,n&fe.Optional):Tn(t,r,n&fe.Optional)}finally{Xe(s)}}return Ff(r,t,n)}function jf(e,t,n,r=fe.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Hi)?e[Hi]:void 0;return"number"==typeof t?t>=0?255&t:t0:t}(n);if("function"==typeof s){if(!Sf(t,e,r))return r&fe.Host?Ff(i,n,r):Fp(t,n,r,i);try{const o=s(r);if(null!=o||r&fe.Optional)return o;da(n)}finally{Ih()}}else if("number"==typeof s){let o=null,a=Lf(e,t),l=-1,d=r&fe.Host?t[16][6]:null;for((-1===a||r&fe.SkipSelf)&&(l=-1===a?kf(e,t):t[a+8],-1!==l&&Ts(r,!1)?(o=t[1],a=Bu(l),t=Sl(l,t)):a=-1);-1!==a;){const p=t[1];if(jp(s,a,p.data)){const h=n0(a,t,n,o,r,d);if(h!==Xt)return h}l=t[a+8],-1!==l&&Ts(r,t[1].data[a+8]===d)&&jp(s,a,t)?(o=p,a=Bu(l),t=Sl(l,t)):a=-1}}}return Fp(t,n,r,i)}const Xt={};function t0(){return new Tl(Jr(),_e())}function n0(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],p=function(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,p=s>>20,I=i?a+p:e.directiveEnd;for(let b=r?a:a+p;b<I;b++){const E=o[b];if(b<l&&n===E||b>=l&&E.type===n)return b}if(i){const b=o[l];if(b&&Oe(b)&&b.type===n)return l}return null}(a,o,n,null==r?ye(a)&&Ac:r!=o&&0!=(3&a.type),i&fe.Host&&s===a);return null!==p?Nl(t,o,p,a):Xt}function Nl(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof Cc}(i)){const o=i;o.resolving&&function(e,t){throw new xr("200",`Circular dependency in DI detected for ${e}`)}(Hr(s[n]));const a=wc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Xe(o.injectImpl):null;Sf(e,r,fe.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=kr(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&Xe(l),wc(a),o.resolving=!1,Ih()}}return i}function jp(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ts(e,t){return!(e&fe.Self||e&fe.Host&&t)}class Tl{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return jf(this._tNode,this._lView,t,r,n)}}const ai="__parameters__";function wa(e,t,n){return Kn(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,d,p){const h=l.hasOwnProperty(ai)?l[ai]:Object.defineProperty(l,ai,{value:[]})[ai];for(;h.length<=p;)h.push(null);return(h[p]=h[p]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class yn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=g({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Sh=new yn("AnalyzeForEntryComponents");function ho(e,t){e.forEach(n=>Array.isArray(n)?ho(n,t):t(n))}function qi(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Ll={},Ec="__NG_DI_FLAG__",Wf="ngTempTokenPath",ba=/\n/gm,Oh="__source",d0=dn({provide:String,useValue:dn});let kl;function Hp(e){const t=kl;return kl=e,t}function h0(e,t=fe.Default){if(void 0===kl)throw new Error("inject() must be called from an injection context");return null===kl?Tn(e,void 0,t):kl.get(e,t&fe.Optional?null:void 0,t)}function lt(e,t=fe.Default){return(Ve||h0)(Tt(e),t)}function _c(e){const t=[];for(let n=0;n<e.length;n++){const r=Tt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=fe.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Fl(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(lt(i,s))}else t.push(lt(r))}return t}function nu(e,t){return e[Ec]=t,e.prototype[Ec]=t,e}function Fl(e){return e[Ec]}const Zu=nu(wa("Inject",e=>({token:e})),-1),Li=nu(wa("Optional"),8),ru=nu(wa("SkipSelf"),4),lm="__ngContext__";function Fi(e,t){e[lm]=t}function Lc(e){const t=function(e){return e[lm]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Xh(e){return e.ngOriginalError}function H0(e,...t){e.error(...t)}class zl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=(e=t)&&e.ngErrorLogger||H0;var e;r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Xh(t);for(;n&&Xh(n);)n=Xh(n);return n||null}}const $h=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(en))();function Zo(e){return e instanceof Function?e():e}var Ls=(()=>((Ls=Ls||{})[Ls.Important=1]="Important",Ls[Ls.DashCase=2]="DashCase",Ls))();function Qh(e,t){return undefined(e,t)}function kc(e){const t=e[3];return se(t)?t[3]:t}function Ul(e){return eg(e[13])}function Kh(e){return eg(e[4])}function eg(e){for(;null!==e&&!se(e);)e=e[4];return e}function ou(e,t,n,r,i){if(null!=r){let s,o=!1;se(r)?s=r:ve(r)&&(o=!0,r=r[0]);const a=Fr(r);0===e&&null!==n?null==i?xm(t,n,a):Yu(t,n,a,i||null,!0):1===e&&null!==n?Yu(t,n,a,i||null,!0):2===e?function(e,t,n){const r=ad(e,t);r&&function(e,t,n,r){vr(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Fr(n)&&ou(t,e,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];jc(l[1],l,e,t,r,s)}}(t,e,s,n,i)}}function id(e,t,n){return vr(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function wm(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,dh(i,-1)),n.splice(r,1)}function Fc(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&wm(i,r),t>0&&(e[n-1][4]=r[4]);const s=Rs(e,10+t);!function(e,t){jc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ng(e,t){if(!(256&t[2])){const n=t[11];vr(n)&&n.destroyNode&&jc(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return rg(e[1],e);for(;t;){let n=null;if(ve(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)ve(t)&&rg(t[1],t),t=t[3];null===t&&(t=e),ve(t)&&rg(t[1],t),n=t&&t[4]}t=n}}(t)}}function rg(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Cc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(t):Fr(t[o]),l=r[i=n[s+2]],d=n[s+3];"boolean"==typeof d?a.removeEventListener(n[s],l,d):d>=0?r[i=d]():r[i=-d].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(e,t),1===t[1].type&&vr(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&se(t[3])){n!==t[3]&&wm(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function bm(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Bt.None||i===Bt.Emulated)return null}return L(r,n)}(e,t.parent,n)}function Yu(e,t,n,r,i){vr(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function xm(e,t,n){vr(e)?e.appendChild(t,n):t.appendChild(n)}function Mm(e,t,n,r,i){null!==r?Yu(e,t,n,r,i):xm(e,t,n)}function ad(e,t){return vr(e)?e.parentNode(t):t.parentNode}let Em=function(e,t,n){return 40&e.type?L(e,n):null};function Lt(e,t,n,r){const i=bm(e,r,t),s=t[11],a=function(e,t,n){return Em(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Mm(s,i,n[l],a,!1);else Mm(s,i,n,a,!1)}function ud(e,t){if(null!==t){const n=t.type;if(3&n)return L(t,e);if(4&n)return ur(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ud(e,r);{const i=e[t.index];return se(i)?ur(-1,i):Fr(i)}}if(32&n)return Qh(t,e)()||Fr(e[t.index]);{const r=Ki(e,t);return null!==r?Array.isArray(r)?r[0]:ud(kc(e[16]),r):ud(e,t.next)}}return null}function Ki(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ur(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return ud(r,i)}return t[7]}function Wo(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&Fi(Fr(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Wo(e,t,n.child,r,i,s,!1),ou(t,e,i,a,s);else if(32&l){const d=Qh(n,r);let p;for(;p=d();)ou(t,e,i,p,s);ou(t,e,i,a,s)}else 16&l?Nm(e,t,r,n,i,s):ou(t,e,i,a,s);n=o?n.projectionNext:n.next}}function jc(e,t,n,r,i,s){Wo(n,r,e.firstChild,t,i,s,!1)}function Nm(e,t,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)ou(t,e,i,l[d],s);else Wo(e,t,l,o[3],i,s,!0)}function ld(e,t,n){vr(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function sg(e,t,n){vr(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Ho(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const Bc="ng-template";function lr(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Ho(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function cr(e){return 4===e.type&&e.value!==Bc}function Tm(e,t,n){return t===(4!==e.type||n?e.value:Bc)}function yI(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Pf(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Tm(e,l,n)||""===l&&1===t.length){if(mo(r))return!1;o=!0}}else{const d=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!lr(e.attrs,d,n)){if(mo(r))return!1;o=!0}continue}const h=II(8&r?"class":l,i,cr(e),n);if(-1===h){if(mo(r))return!1;o=!0;continue}if(""!==d){let I;I=h>s?"":i[h+1].toLowerCase();const b=8&r?I:null;if(b&&-1!==Ho(b,d,0)||2&r&&d!==I){if(mo(r))return!1;o=!0}}}}else{if(!o&&!mo(r)&&!mo(l))return!1;if(o&&mo(l))continue;o=!1,r=l|1&r}}return mo(r)||o}function mo(e){return 0==(1&e)}function II(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Pm(e,t,n=!1){for(let r=0;r<t.length;r++)if(yI(e,t[r],n))return!0;return!1}function cd(e,t){return e?":not("+t.trim()+")":t}function wI(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!mo(o)&&(t+=cd(s,i),i=""),r=o,s=s||!mo(r);n++}return""!==i&&(t+=cd(s,i)),t}const ut={};function Hm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=e.data[s];vh(i),o.contentQueries(2,t[s],s)}}}function Vc(e,t,n,r,i,s,o,a,l,d){const p=t.blueprint.slice();return p[0]=i,p[2]=140|r,Dp(p),p[3]=p[15]=e,p[8]=n,p[10]=o||e&&e[10],p[11]=a||e&&e[11],p[12]=l||e&&e[12]||null,p[9]=d||e&&e[9]||null,p[6]=s,p[16]=2==t.type?e[16]:p,p}function Wl(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=Mp(),o=ya(),l=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(e,t,n,r,i),Rt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const e=Rt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return jo(s,!0),s}function $u(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Zc(e,t,n){zo(t);try{const r=e.viewQuery;null!==r&&Ag(1,r,n);const i=e.template;null!==i&&Ym(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Hm(e,t),e.staticViewQueries&&Ag(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)JI(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,qa()}}function Hl(e,t,n,r){const i=t[2];if(256==(256&i))return;zo(t);const s=xf();try{Dp(t),function(e){Rt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ym(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const d=e.preOrderCheckHooks;null!==d&&Uo(t,d,null)}else{const d=e.preOrderHooks;null!==d&&Ic(t,d,0,null),Ci(t,0)}if(function(e){for(let t=Ul(e);null!==t;t=Kh(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&dh(s,1),i[2]|=1024}}}(t),function(e){for(let t=Ul(e);null!==t;t=Kh(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];fh(r)&&Hl(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Hm(e,t),!s)if(o){const d=e.contentCheckHooks;null!==d&&Uo(t,d)}else{const d=e.contentHooks;null!==d&&Ic(t,d,1),Ci(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)fo(~i);else{const s=i,o=n[++r],a=n[++r];gh(o,s),a(2,t[s])}}}finally{fo(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)$I(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Ag(2,l,r),!s)if(o){const d=e.viewCheckHooks;null!==d&&Uo(t,d)}else{const d=e.viewHooks;null!==d&&Ic(t,d,2),Ci(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,dh(t[3],-1))}finally{qa()}}function OI(e,t,n,r){const i=t[10],s=!xf(),o=function(e){return 4==(4&e[2])}(t);try{s&&!o&&i.begin&&i.begin(),o&&Zc(e,t,r),Hl(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ym(e,t,n,r,i){const s=Rt.lFrame.selectedIndex,o=2&r;try{fo(-1),o&&t.length>R&&function(e,t,n,r){if(!r)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&Uo(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Ic(t,s,0,n)}fo(n)}(e,t,R,xf()),n(r,i)}finally{fo(s)}}function $m(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function yd(e,t,n,r,i,s,o,a,l,d){const p=R+r,h=p+i,I=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ut);return n}(p,h),b="function"==typeof d?d():d;return I[1]={type:e,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:t,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1}}function Km(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function pg(e,t,n,r,i,s){const o=s.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function Cd(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function tv(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Is(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Oe(t)&&(n[""]=e)}}function Ad(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function nv(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=$a(i.type)),o=new Cc(s,Oe(i),null);e.blueprint[r]=o,n[r]=o,pg(e,t,0,r,$u(e,n,i.hostVars,ut),i)}function WI(e,t,n){const r=L(t,e),i=$m(n),s=e[10],o=bd(e,Vc(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function vg(e,t,n,r,i,s){const o=s[t];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const d=o[l++],p=o[l++],h=o[l++];null!==a?r.setInput(n,h,d,p):n[p]=h}}}function HI(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function $I(e,t){const n=Nt(t,e);if(fh(n)){const r=n[1];80&n[2]?Hl(r,n,r.template,n[8]):n[5]>0&&wd(n)}}function wd(e){for(let r=Ul(e);null!==r;r=Kh(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Hl(o,s,o.template,s[8])}else s[5]>0&&wd(s)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Nt(n[r],e);fh(i)&&i[5]>0&&wd(i)}}function JI(e,t){const n=Nt(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Zc(r,n,n[8])}function bd(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Wc(e){for(;e;){e[2]|=64;const t=kc(e);if(at(e)&&!t)return e;e=t}return null}function Cg(e,t,n){const r=t[10];r.begin&&r.begin();try{Hl(e,t,e.template,n)}catch(i){throw lv(t,i),i}finally{r.end&&r.end()}}function sv(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Lc(n),i=r[1];OI(i,r,i.template,n)}}(e[8])}function Ag(e,t,n){vh(0),t(e,n)}const eC=(()=>Promise.resolve(null))();function ov(e){return e[7]||(e[7]=[])}function av(e){return e.cleanup||(e.cleanup=[])}function lv(e,t){const n=e[9],r=n?n.get(zl,null):null;r&&r.handleError(t)}function Dd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Ms(i,a):2==s&&(r=Ms(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const wg=new yn("INJECTOR",-1);class fv{get(t,n=Ll){if(n===Ll){const r=new Error(`NullInjectorError: No provider for ${Mt(t)}!`);throw r.name="NullInjectorError",r}return n}}const bg=new yn("Set Injector scope."),u={},c={};let m;function C(){return void 0===m&&(m=new fv),m}function _(e,t=null,n=null,r){const i=F(e,t,n,r);return i._resolveInjectorDefTypes(),i}function F(e,t=null,n=null,r){return new J(e,n,t||C(),r)}class J{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&ho(n,a=>this.processProvider(a,t,n)),ho([t],a=>this.processInjectorType(a,[],s)),this.records.set(wg,Se(void 0,this));const o=this.records.get(bg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:Mt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Ll,r=fe.Default){this.assertNotDestroyed();const i=Hp(this),s=Xe(void 0);try{if(!(r&fe.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=("function"==typeof(e=t)||"object"==typeof e&&e instanceof yn)&&D(t);a=l&&this.injectableDefInScope(l)?Se(te(t),u):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&fe.Self?C():this.parent).get(t,n=r&fe.Optional&&n===Ll?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Wf]=o[Wf]||[]).unshift(Mt(t)),i)throw o;return function(e,t,n,r){const i=e[Wf];throw t[Oh]&&i.unshift(t[Oh]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=Mt(t);if(Array.isArray(t))i=t.map(Mt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(ba,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Wf]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{Xe(s),Hp(i)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(Mt(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=Tt(t)))return!1;let i=Y(t);const s=null==i&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Y(s)),null==i)return!1;if(null!=i.imports&&!a){let p;r.push(o);try{ho(i.imports,h=>{this.processInjectorType(h,n,r)&&(void 0===p&&(p=[]),p.push(h))})}finally{}if(void 0!==p)for(let h=0;h<p.length;h++){const{ngModule:I,providers:b}=p[h];ho(b,E=>this.processProvider(E,I,b||Vt))}}this.injectorDefTypes.add(o);const l=$a(o)||(()=>new o);this.records.set(o,Se(l,u));const d=i.providers;if(null!=d&&!a){const p=t;ho(d,h=>this.processProvider(h,p,d))}return void 0!==s&&void 0!==t.providers}processProvider(t,n,r){let i=kt(t=Tt(t))?t:Tt(t&&t.provide);const s=function(e,t,n){return ze(e)?Se(void 0,e.useValue):Se(xe(e),u)}(t);if(kt(t)||!0!==t.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Se(void 0,u,!0),o.factory=()=>_c(o.multi),this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,s)}hydrate(t,n){return n.value===u&&(n.value=c,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Tt(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function te(e){const t=D(e),n=null!==t?t.factory:$a(e);if(null!==n)return n;if(e instanceof yn)throw new Error(`Token ${Mt(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${Mt(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[oe]||e[Ee]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function xe(e,t,n){let r;if(kt(e)){const i=Tt(e);return $a(i)||te(i)}if(ze(e))r=()=>Tt(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(..._c(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>lt(Tt(e.useExisting));else{const i=Tt(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return $a(i)||te(i);r=()=>new i(..._c(e.deps))}return r}function Se(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ze(e){return null!==e&&"object"==typeof e&&d0 in e}function kt(e){return"function"==typeof e}let Pn=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return _({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return _({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=Ll,e.NULL=new fv,e.\u0275prov=g({token:e,providedIn:"any",factory:()=>lt(wg)}),e.__NG_ELEMENT_ID__=-1,e})();function XN(e,t){ju(Lc(e)[1],Jr())}let dv=null;function xd(){if(!dv){const e=en.Symbol;if(e&&e.iterator)dv=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(dv=r)}}}return dv}function xg(e){return!!sC(e)&&(Array.isArray(e)||!(e instanceof Map)&&xd()in e)}function sC(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function gt(e,t=fe.Default){const n=_e();return null===n?lt(e,t):jf(Jr(),n,Tt(e),t)}function fC(){throw new Error("invalid")}function dC(e,t,n,r,i){const o=i?"class":"style";!function(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],d=e.data[o];null!==d.setInput?d.setInput(l,i,r,a):l[a]=i}}(e,n,t.inputs[o],o,r)}function fu(e,t,n,r){const i=_e(),s=Ut(),o=R+e,a=i[11],l=i[o]=id(a,t,Rt.lFrame.currentNamespace),d=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,d=Wl(t,e,2,i,ms(a,s));return function(e,t,n,r){let i=!1;if(xp()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Pm(n,o.selectors,!1)&&(i||(i=[]),_l(El(n,t),e,o.type),Oe(o)?(tv(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ad(n,e.data.length,s.length);for(let p=0;p<s.length;p++){const h=s[p];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,d=$u(e,t,s.length,null);for(let p=0;p<s.length;p++){const h=s[p];n.mergedAttrs=Rf(n.mergedAttrs,h.hostAttrs),nv(e,n,t,d,h),Is(d,h,o),null!==h.contentQueries&&(n.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=128);const I=h.type.prototype;!a&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!l&&(I.ngOnChanges||I.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),d++}!function(e,t){const r=t.directiveEnd,i=e.data,s=t.attrs,o=[];let a=null,l=null;for(let d=t.directiveStart;d<r;d++){const p=i[d],h=p.inputs,I=null===s||cr(t)?null:HI(h,s);o.push(I),a=Km(h,d,a),l=Km(p.outputs,d,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new xr("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],s)}}}(n,r,o)}n.mergedAttrs=Rf(n.mergedAttrs,n.attrs)}(t,n,d,ms(a,o)),null!==d.attrs&&Dd(d,d.attrs,!1),null!==d.mergedAttrs&&Dd(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(o,s,i,0,t,n,r):s.data[o];jo(d,!0);const p=d.mergedAttrs;null!==p&&Tf(a,l,p);const h=d.classes;null!==h&&sg(a,l,h);const I=d.styles;null!==I&&ld(a,l,I),64!=(64&d.flags)&&Lt(s,i,l,d),0===Rt.lFrame.elementDepthCount&&Fi(l,i),Rt.lFrame.elementDepthCount++,Re(d)&&(function(e,t,n){!xp()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||El(n,t),Fi(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],d=Oe(l);d&&WI(t,n,l);const p=Nl(t,e,a,n);Fi(p,t),null!==o&&vg(0,a-i,p,l,0,o),d&&(Nt(n.index,t)[8]=p)}}(e,t,n,L(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Rt.lFrame.currentDirectiveIndex;try{fo(o);for(let l=r;l<i;l++){const d=e.data[l],p=t[l];Ml(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&Cd(d,p)}}finally{fo(-1),Ml(a)}}(e,t,n))}(s,i,d),function(e,t,n){if(be(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,d,i)),null!==r&&function(e,t,n=L){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}(i,d)}function du(){let e=Jr();ya()?Rt.lFrame.isParent=!1:(e=e.parent,jo(e,!1));const t=e;Rt.lFrame.elementDepthCount--;const n=Ut();n.firstCreatePass&&(ju(n,e),be(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&dC(n,t,_e(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&dC(n,t,_e(),t.stylesWithoutHost,!1)}function pv(e,t,n,r){fu(e,t,n,r),du()}function mv(e){return!!e&&"function"==typeof e.then}const eD=function(e){return!!e&&"function"==typeof e.subscribe};function Ju(e,t,n,r){const i=_e(),s=Ut(),o=Jr();return function(e,t,n,r,i,s,o,a){const l=Re(r),p=e.firstCreatePass&&av(e),h=t[8],I=ov(t);let b=!0;if(3&r.type||a){const U=L(r,t),Q=a?a(U):U,z=I.length,w=a?S=>a(Fr(S[r.index])):r.index;if(vr(n)){let S=null;if(!a&&l&&(S=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,b=!1;else{s=hC(r,t,h,s,!1);const T=n.listen(Q,i,s);I.push(s,T),p&&p.push(i,w,z,z+1)}}else s=hC(r,t,h,s,!0),Q.addEventListener(i,s,o),I.push(s),p&&p.push(i,w,z,o)}else s=hC(r,t,h,s,!1);const E=r.outputs;let j;if(b&&null!==E&&(j=E[i])){const U=j.length;if(U)for(let Q=0;Q<U;Q+=2){const G=t[j[Q]][j[Q+1]].subscribe(s),K=I.length;I.push(s,G),p&&p.push(i,r.index,K,-(K+1))}}}(s,i,i[11],o,e,t,!!n,r),Ju}function rD(e,t,n,r){try{return!1!==n(r)}catch(i){return lv(e,i),!1}}function hC(e,t,n,r,i){return function s(o){if(o===Function)return r;const a=2&e.flags?Nt(e.index,t):t;0==(32&t[2])&&Wc(a);let l=rD(t,0,r,o),d=s.__ngNextListenerFn__;for(;d;)l=rD(t,0,d,o)&&l,d=d.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Yl(e,t=""){const n=_e(),r=Ut(),i=e+R,s=r.firstCreatePass?Wl(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return vr(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Lt(r,n,o,s),jo(s,!1)}const Yc=void 0;var C2=["en",[["a","p"],["AM","PM"],Yc],[["AM","PM"],Yc,Yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yc,"{1} 'at' {0}",Yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Fd={};function $D(e){return e in Fd||(Fd[e]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[e]),Fd[e]}var He=(()=>((He=He||{})[He.LocaleId=0]="LocaleId",He[He.DayPeriodsFormat=1]="DayPeriodsFormat",He[He.DayPeriodsStandalone=2]="DayPeriodsStandalone",He[He.DaysFormat=3]="DaysFormat",He[He.DaysStandalone=4]="DaysStandalone",He[He.MonthsFormat=5]="MonthsFormat",He[He.MonthsStandalone=6]="MonthsStandalone",He[He.Eras=7]="Eras",He[He.FirstDayOfWeek=8]="FirstDayOfWeek",He[He.WeekendRange=9]="WeekendRange",He[He.DateFormat=10]="DateFormat",He[He.TimeFormat=11]="TimeFormat",He[He.DateTimeFormat=12]="DateTimeFormat",He[He.NumberSymbols=13]="NumberSymbols",He[He.NumberFormats=14]="NumberFormats",He[He.CurrencyCode=15]="CurrencyCode",He[He.CurrencySymbol=16]="CurrencySymbol",He[He.CurrencyName=17]="CurrencyName",He[He.Currencies=18]="Currencies",He[He.Directionality=19]="Directionality",He[He.PluralCase=20]="PluralCase",He[He.ExtraData=21]="ExtraData",He))();const yv="en-US";let JD=yv;function IC(e,t,n,r,i){if(e=Tt(e),Array.isArray(e))for(let s=0;s<e.length;s++)IC(e[s],t,n,r,i);else{const s=Ut(),o=_e();let a=kt(e)?e:Tt(e.provide),l=xe(e);const d=Jr(),p=1048575&d.providerIndexes,h=d.directiveStart,I=d.providerIndexes>>20;if(kt(e)||!e.multi){const b=new Cc(l,i,gt),E=AC(a,t,i?p:p+I,h);-1===E?(_l(El(d,o),s,a),CC(s,e,t.length),t.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(b),o.push(b)):(n[E]=b,o[E]=b)}else{const b=AC(a,t,p+I,h),E=AC(a,t,p,p+I),j=b>=0&&n[b],U=E>=0&&n[E];if(i&&!U||!i&&!j){_l(El(d,o),s,a);const Q=function(e,t,n,r,i){const s=new Cc(e,n,gt);return s.multi=[],s.index=t,s.componentProviders=0,Cx(s,i,r&&!n),s}(i?yP:vP,n.length,i,r,l);!i&&U&&(n[E].providerFactory=Q),CC(s,e,t.length,0),t.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(Q),o.push(Q)}else CC(s,e,b>-1?b:E,Cx(n[i?E:b],l,!i&&r));!i&&r&&U&&n[E].componentProviders++}}}function CC(e,t,n,r){const i=kt(t),s=function(e){return!!e.useClass}(t);if(i||s){const l=(s?Tt(t.useClass):t).prototype.ngOnDestroy;if(l){const d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const p=d.indexOf(n);-1===p?d.push(n,[r,l]):d[p+1].push(r,l)}else d.push(n,l)}}}function Cx(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function AC(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function vP(e,t,n,r){return wC(this.multi,[])}function yP(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Nl(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),wC(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],wC(i,s);return s}function wC(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ax(e,t=[]){return n=>{n.providersResolver=(r,i)=>function(e,t,n){const r=Ut();if(r.firstCreatePass){const i=Oe(e);IC(n,r.data,r.blueprint,i,!0),IC(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class wx{}class wP{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${Mt(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Bd=(()=>{class e{}return e.NULL=new wP,e})();function bP(){return zd(Jr(),_e())}function zd(e,t){return new Xl(L(e,t))}let Xl=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=bP,e})();class Dx{}let SP=(()=>{class e{}return e.\u0275prov=g({token:e,providedIn:"root",factory:()=>null}),e})();class Dv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const EP=new Dv("13.1.1"),bC={};function xv(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Fr(s)),se(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1].firstChild;null!==d&&xv(l[1],l,d,r)}const o=n.type;if(8&o)xv(e,t,n.child,r);else if(32&o){const a=Qh(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Ki(t,n);if(Array.isArray(a))r.push(...a);else{const l=kc(t[16]);xv(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Pg{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return xv(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(se(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Fc(t,r),Rs(n,r))}this._attachedToViewContainer=!1}ng(this._lView[1],this._lView)}onDestroy(t){!function(e,t,n,r){const i=ov(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&av(e).push(r,i.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Wc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Mf(!0);try{Cg(e,t,n)}finally{Mf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,jc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class _P extends Pg{constructor(t){super(t),this._view=t}detectChanges(){sv(this._view)}checkNoChanges(){!function(e){Mf(!0);try{sv(e)}finally{Mf(!1)}}(this._view)}get context(){return null}}class xx extends Bd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ii(t);return new DC(n,this.ngModule)}}function Mx(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const TP=new yn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$h});class DC extends wx{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(wI).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Mx(this.componentDef.inputs)}get outputs(){return Mx(this.componentDef.outputs)}create(t,n,r,i){const s=(i=i||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,bC,i);return s!==bC||r===bC?s:t.get(n,r,i)}}}(t,i.injector):t,o=s.get(Dx,wp),a=s.get(SP,null),l=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",p=r?function(e,t,n){if(vr(e))return e.selectRootElement(t,n===Bt.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(l,r,this.componentDef.encapsulation):id(o.createRenderer(null,this.componentDef),d,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(d)),h=this.componentDef.onPush?576:528,I=function(e,t){return{components:[],scheduler:e||$h,clean:eC,playerHandler:t||null,flags:0}}(),b=yd(0,null,null,1,0,null,null,null,null,null),E=Vc(null,b,I,h,null,null,o,l,a,s);let j,U;zo(E);try{const Q=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const l=Wl(o,20,2,"#host",null),d=l.mergedAttrs=t.hostAttrs;null!==d&&(Dd(l,d,!0),null!==e&&(Tf(i,e,d),null!==l.classes&&sg(i,e,l.classes),null!==l.styles&&ld(i,e,l.styles)));const p=r.createRenderer(e,t),h=Vc(n,$m(t),null,t.onPush?64:16,n[20],l,r,p,s||null,null);return o.firstCreatePass&&(_l(El(l,n),o,t.type),tv(o,l),Ad(l,n.length,1)),bd(n,h),n[20]=h}(p,this.componentDef,E,o,l);if(p)if(r)Tf(l,p,["ng-version",EP.full]);else{const{attrs:z,classes:w}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!mo(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);z&&Tf(l,p,z),w&&w.length>0&&sg(l,p,w.join(" "))}if(U=function(e,t){return e.data[t]}(b,R),void 0!==n){const z=U.projection=[];for(let w=0;w<this.ngContentSelectors.length;w++){const S=n[w];z.push(null!=S?Array.from(S):null)}}j=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Jr();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),nv(e,r,t,$u(e,t,1,null),n));const i=Nl(t,e,r.directiveStart,r);Fi(i,t);const s=L(r,t);return s&&Fi(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(l=>l(o,t)),t.contentQueries){const l=Jr();t.contentQueries(1,o,l.directiveStart)}const a=Jr();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(fo(a.index),pg(n[1],a,0,a.directiveStart,a.directiveEnd,t),Cd(t,o)),o}(Q,this.componentDef,E,I,[XN]),Zc(b,E,null)}finally{qa()}return new RP(this.componentType,j,zd(U,E),E,U)}}class RP extends class{}{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new _P(i),this.componentType=t}get injector(){return new Tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class qu{}class Sx{}const Gd=new Map;class Nx extends qu{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xx(this);const r=hs(t);this._bootstrapComponents=Zo(r.bootstrap),this._r3Injector=F(t,n,[{provide:qu,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver}],Mt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Pn.THROW_IF_NOT_FOUND,r=fe.Default){return t===Pn||t===qu||t===wg?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xC extends Sx{constructor(t){super(),this.moduleType=t,null!==hs(t)&&function(e){const t=new Set;!function n(r){const i=hs(r,!0),s=i.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Mt(t)} vs ${Mt(t.name)}`)}(s,Gd.get(s),r),Gd.set(s,r));const o=Zo(i.imports);for(const a of o)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new Nx(this.moduleType,t)}}function MC(e){return t=>{setTimeout(e,void 0,t)}}const Gs=class extends ee{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,s,o;let a=t,l=n||(()=>null),d=r;if(t&&"object"==typeof t){const h=t;a=null===(i=h.next)||void 0===i?void 0:i.bind(h),l=null===(s=h.error)||void 0===s?void 0:s.bind(h),d=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}this.__isAsync&&(l=MC(l),a&&(a=MC(a)),d&&(d=MC(d)));const p=super.subscribe({next:a,error:l,complete:d});return t instanceof _n&&t.add(p),p}};Symbol;let _a=(()=>{class e{}return e.__NG_ELEMENT_ID__=sO,e})();function sO(){return function(e,t){let n;const r=t[e.index];if(se(r))n=r;else{let i;if(8&e.type)i=Fr(r);else{const s=t[11];i=s.createComment("");const o=L(e,t);Yu(s,ad(s,o),i,function(e,t){return vr(e)?e.nextSibling(t):t.nextSibling}(s,o),!1)}t[e.index]=n=function(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),bd(t,n)}return new kx(n,e,t)}(Jr(),_e())}const oO=_a,kx=class extends oO{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return zd(this._hostTNode,this._hostLView)}get injector(){return new Tl(this._hostTNode,this._hostLView)}get parentInjector(){const t=kf(this._hostTNode,this._hostLView);if(Rp(t)){const n=Sl(t,this._hostLView),r=Bu(t);return new Tl(n[1].data[r+8],n)}return new Tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Fx(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,s){const o=t&&!function(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const h=n||{};a=h.index,r=h.injector,i=h.projectableNodes,s=h.ngModuleRef}const l=o?t:new DC(ii(t)),d=r||this.parentInjector;if(!s&&null==l.ngModule&&d){const h=d.get(qu,null);h&&(s=h)}const p=l.create(d,i,void 0,s);return this.insert(p.hostView,a),p}insert(t,n){const r=t._lView,i=r[1];if(se(r[3])){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const h=r[3],I=new kx(h,h[6],h[3]);I.detach(I.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],qi(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,o,s);const a=ur(s,o),l=r[11],d=ad(l,o[7]);return null!==d&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,jc(e,r,n,1,i,s)}(i,o[6],l,r,d,a),t.attachToViewContainerRef(),qi(EC(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Fx(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Fc(this._lContainer,n);r&&(Rs(EC(this._lContainer),n),ng(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Fc(this._lContainer,n);return r&&null!=Rs(EC(this._lContainer),n)?new Pg(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function Fx(e){return e[8]}function EC(e){return e[8]||(e[8]=[])}function _v(...e){}const Nv=new yn("Application Initializer");let Vd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=_v,this.reject=_v,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(mv(s))n.push(s);else if(eD(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(lt(Nv,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();const kg=new yn("AppId"),RO={provide:kg,useFactory:function(){return`${UC()}${UC()}${UC()}`},deps:[]};function UC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oM=new yn("Platform Initializer"),VC=new yn("Platform ID"),aM=new yn("appBootstrapListener");let uM=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();const $l=new yn("LocaleId"),lM=new yn("DefaultCurrencyCode");class LO{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Tv=(()=>{class e{compileModuleSync(n){return new xC(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Zo(hs(n).declarations).reduce((o,a)=>{const l=ii(a);return l&&o.push(new DC(l)),o},[]);return new LO(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();const FO=(()=>Promise.resolve(0))();function ZC(e){"undefined"==typeof Zone?FO.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Di{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=en.requestAnimationFrame,t=en.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(en,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,HC(e),e.isCheckStableRunning=!0,WC(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),HC(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return cM(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),fM(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return cM(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),fM(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,HC(e),WC(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,BO,_v,_v);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const BO={};function WC(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function HC(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function cM(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fM(e){e._nesting--,WC(e)}class UO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let YC=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),ZC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ZC(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(lt(Di))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),dM=(()=>{class e{constructor(){this._applications=new Map,XC.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return XC.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();class VO{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let Na,XC=new VO;const hM=new yn("AllowMultipleToken");class gM{constructor(t,n){this.name=t,this.token=n}}function pM(e,t,n=[]){const r=`Platform: ${t}`,i=new yn(r);return(s=[])=>{let o=mM();if(!o||o.injector.get(hM,!1))if(e)e(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:bg,useValue:"platform"});!function(e){if(Na&&!Na.destroyed&&!Na.injector.get(hM,!1))throw new xr("400","");Na=e.get(vM);const t=e.get(oM,null);t&&t.forEach(n=>n())}(Pn.create({providers:a,name:r}))}return function(e){const t=mM();if(!t)throw new xr("401","");return t}()}}function mM(){return Na&&!Na.destroyed?Na:null}let vM=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(e,t){let n;return n="noop"===e?new UO:("zone.js"===e?void 0:e)||new Di({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Di,useValue:a}];return a.run(()=>{const d=Pn.create({providers:l,parent:this.injector,name:n.moduleType.name}),p=n.create(d),h=p.injector.get(zl,null);if(!h)throw new xr("402","");return a.runOutsideAngular(()=>{const I=a.onError.subscribe({next:b=>{h.handleError(b)}});p.onDestroy(()=>{$C(this._modules,p),I.unsubscribe()})}),function(e,t,n){try{const r=n();return mv(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(h,a,()=>{const I=p.injector.get(Vd);return I.runInitializers(),I.donePromise.then(()=>(function(e){Z(e,"Expected localeId to be defined"),"string"==typeof e&&(JD=e.toLowerCase().replace(/_/g,"-"))}(p.injector.get($l,yv)||yv),this._moduleDoBootstrap(p),p))})})}bootstrapModule(n,r=[]){const i=yM({},r);return function(e,t,n){const r=new xC(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Fg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new xr("403","");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xr("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(lt(Pn))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();function yM(e,t){return Array.isArray(t)?t.reduce(yM,e):Object.assign(Object.assign({},e),t)}let Fg=(()=>{class e{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new xt(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),l=new xt(d=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),ZC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),h.unsubscribe()}});this.isStable=function(...e){const t=Ys(e),n=function(e,t){return"number"==typeof or(e)?e.pop():1/0}(e),r=e;return r.length?1===r.length?ls(r[0]):Dr(n)(Dn(r,t)):Pr}(a,l.pipe(function(e={}){const{connector:t=(()=>new ee),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o=null,a=null,l=null,d=0,p=!1,h=!1;const I=()=>{null==a||a.unsubscribe(),a=null},b=()=>{I(),o=l=null,p=h=!1},E=()=>{const j=o;b(),null==j||j.unsubscribe()};return Pe((j,U)=>{d++,!h&&!p&&I();const Q=l=null!=l?l:t();U.add(()=>{d--,0===d&&!h&&!p&&(a=ri(E,i))}),Q.subscribe(U),o||(o=new Ur({next:z=>Q.next(z),error:z=>{h=!0,I(),a=ri(b,n,z),Q.error(z)},complete:()=>{p=!0,I(),a=ri(b,r),Q.complete()}}),Dn(j).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new xr("405","");let i;i=n instanceof wx?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(qu),a=i.create(Pn.NULL,[],r||i.selector,s),l=a.location.nativeElement,d=a.injector.get(YC,null),p=d&&a.injector.get(dM);return d&&p&&p.registerApplication(l,d),a.onDestroy(()=>{this.detachView(a.hostView),$C(this.components,a),p&&p.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new xr("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;$C(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(aM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(lt(Di),lt(Pn),lt(zl),lt(Bd),lt(Vd))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();function $C(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let CM=!0,JC=(()=>{class e{}return e.__NG_ELEMENT_ID__=eR,e})();function eR(e){return function(e,t,n){if(ye(e)&&!n){const r=Nt(e.index,t);return new Pg(r,r)}return 47&e.type?new Pg(t[16],t):null}(Jr(),_e(),16==(16&e))}class SM{constructor(){}supports(t){return xg(t)}create(t){return new aR(t)}}const oR=(e,t)=>t;class aR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oR}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<_M(r,i,s)?n:r,a=_M(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const d=a-i,p=l-i;if(d!=p){for(let I=0;I<d;I++){const b=I<s.length?s[I]:s[I]=0,E=b+I;p<=E&&E<d&&(s[I]=b+1)}s[o.previousIndex]=p-d}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!xg(t))throw new Error(`Error trying to diff '${Mt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[xd()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new uR(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new EM),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class uR{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EM{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new lR,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _M(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class NM{constructor(){}supports(t){return t instanceof Map||sC(t)}create(){return new cR}}class cR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||sC(t)))throw new Error(`Error trying to diff '${Mt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new fR(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class fR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TM(){return new jg([new SM])}let jg=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||TM()),deps:[[e,new ru,new Li]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=g({token:e,providedIn:"root",factory:TM}),e})();function PM(){return new Zd([new NM])}let Zd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||PM()),deps:[[e,new ru,new Li]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=g({token:e,providedIn:"root",factory:PM}),e})();const hR=[new NM],pR=new jg([new SM]),mR=new Zd(hR),vR=pM(null,"core",[{provide:VC,useValue:"unknown"},{provide:vM,deps:[Pn]},{provide:dM,deps:[]},{provide:uM,deps:[]}]),wR=[{provide:Fg,useClass:Fg,deps:[Di,Pn,zl,Bd,Vd]},{provide:TP,deps:[Di],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Vd,useClass:Vd,deps:[[new Li,Nv]]},{provide:Tv,useClass:Tv,deps:[]},RO,{provide:jg,useFactory:function(){return pR},deps:[]},{provide:Zd,useFactory:function(){return mR},deps:[]},{provide:$l,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||yv},deps:[[new Zu($l),new Li,new ru]]},{provide:lM,useValue:"USD"}];let DR=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(lt(Fg))},e.\u0275mod=Lo({type:e}),e.\u0275inj=y({providers:wR}),e})(),Ov=null;function Jl(){return Ov}const Jo=new yn("DocumentToken");let $c=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:function(){return lt(OM)},providedIn:"platform"}),e})();const _R=new yn("Location Initialized");let OM=(()=>{class e extends $c{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jl().getBaseHref(this._doc)}onPopState(n){const r=Jl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Jl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){RM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){RM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(lt(Jo))},e.\u0275prov=g({token:e,factory:function(){return new OM(lt(Jo))},providedIn:"platform"}),e})();function RM(){return!!window.history.pushState}function tA(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function LM(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ku(e){return e&&"?"!==e[0]?"?"+e:e}let Wd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:function(){return function(e){const t=lt(Jo).location;return new kM(lt($c),t&&t.origin||"")}()},providedIn:"root"}),e})();const nA=new yn("appBaseHref");let kM=(()=>{class e extends Wd{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return tA(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ku(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ku(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ku(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(lt($c),lt(nA,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),PR=(()=>{class e extends Wd{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=tA(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ku(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ku(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(lt($c),lt(nA,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),rA=(()=>{class e{constructor(n,r){this._subject=new Gs,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=LM(FM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ku(r))}normalize(n){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,FM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ku(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ku(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Ku,e.joinWithSlash=tA,e.stripTrailingSlash=LM,e.\u0275fac=function(n){return new(n||e)(lt(Wd),lt($c))},e.\u0275prov=g({token:e,factory:function(){return new rA(lt(Wd),lt($c))},providedIn:"root"}),e})();function FM(e){return e.replace(/\/index.html$/,"")}var ui=(()=>((ui=ui||{})[ui.Zero=0]="Zero",ui[ui.One=1]="One",ui[ui.Two=2]="Two",ui[ui.Few=3]="Few",ui[ui.Many=4]="Many",ui[ui.Other=5]="Other",ui))();const GR=function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=$D(t);if(n)return n;const r=t.split("-")[0];if(n=$D(r),n)return n;if("en"===r)return C2;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[He.PluralCase]};class Vv{}let mL=(()=>{class e extends Vv{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(GR(r||this.locale)(n)){case ui.Zero:return"zero";case ui.One:return"one";case ui.Two:return"two";case ui.Few:return"few";case ui.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(lt($l))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),JL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lo({type:e}),e.\u0275inj=y({providers:[{provide:Vv,useClass:mL}]}),e})();let ek=(()=>{class e{}return e.\u0275prov=g({token:e,providedIn:"root",factory:()=>new tk(lt(Jo),window)}),e})();class tk{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=qM(this.window.history)||qM(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function qM(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class mA extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new mA,Ov||(Ov=e)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=(Gg=Gg||document.querySelector("base"),Gg?Gg.getAttribute("href"):null);return null==n?null:function(e){Zv=Zv||document.createElement("a"),Zv.setAttribute("href",e);const t=Zv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Gg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Zv,Gg=null;const QM=new yn("TRANSITION_ID"),uk=[{provide:Nv,useFactory:function(e,t,n){return()=>{n.get(Vd).donePromise.then(()=>{const r=Jl(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[QM,Jo,Pn],multi:!0}];class vA{static init(){var e;e=new vA,XC=e}addToWindow(t){en.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},en.getAllAngularTestabilities=()=>t.getAllTestabilities(),en.getAllAngularRootElements=()=>t.getAllRootElements(),en.frameworkStabilizers||(en.frameworkStabilizers=[]),en.frameworkStabilizers.push(r=>{const i=en.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?Jl().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let lk=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();const Wv=new yn("EventManagerPlugins");let Hv=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(lt(Wv),lt(Di))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();class KM{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Jl().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let eS=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),Ug=(()=>{class e extends eS{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(tS),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(tS))}}return e.\u0275fac=function(n){return new(n||e)(lt(Jo))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();function tS(e){Jl().remove(e)}const yA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},IA=/%COMP%/g;function Yv(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Yv(e,i,n):(i=i.replace(IA,e),n.push(i))}return n}function iS(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let CA=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new AA(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Bt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new pk(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Bt.ShadowDom:return new mk(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Yv(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(lt(Hv),lt(Ug),lt(kg))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();class AA{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(yA[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=yA[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=yA[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ls.DashCase|Ls.Important)?t.style.setProperty(n,r,i&Ls.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ls.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,iS(r)):this.eventManager.addEventListener(t,n,iS(r))}}class pk extends AA{constructor(t,n,r,i){super(t),this.component=r;const s=Yv(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(IA,i+"-"+r.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(IA,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class mk extends AA{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Yv(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let vk=(()=>{class e extends KM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(lt(Jo))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();const oS=["alt","control","meta","shift"],Ik={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aS={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ck={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Ak=(()=>{class e extends KM{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jl().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="";if(oS.forEach(l=>{const d=r.indexOf(l);d>-1&&(r.splice(d,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&aS.hasOwnProperty(t)&&(t=aS[t]))}return Ik[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oS.forEach(s=>{s!=i&&Ck[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{e.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(lt(Jo))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();const Mk=pM(vR,"browser",[{provide:VC,useValue:"browser"},{provide:oM,useValue:function(){mA.makeCurrent(),vA.init()},multi:!0},{provide:Jo,useFactory:function(){return e=document,ku=e,document;var e},deps:[]}]),Sk=[{provide:bg,useValue:"root"},{provide:zl,useFactory:function(){return new zl},deps:[]},{provide:Wv,useClass:vk,multi:!0,deps:[Jo,Di,VC]},{provide:Wv,useClass:Ak,multi:!0,deps:[Jo]},{provide:CA,useClass:CA,deps:[Hv,Ug,kg]},{provide:Dx,useExisting:CA},{provide:eS,useExisting:Ug},{provide:Ug,useClass:Ug,deps:[Jo]},{provide:YC,useClass:YC,deps:[Di]},{provide:Hv,useClass:Hv,deps:[Wv,Di]},{provide:class{},useClass:lk,deps:[]}];let Ek=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:kg,useValue:n.appId},{provide:QM,useExisting:kg},uk]}}}return e.\u0275fac=function(n){return new(n||e)(lt(e,12))},e.\u0275mod=Lo({type:e}),e.\u0275inj=y({providers:Sk,imports:[JL,DR]}),e})();function qt(...e){return Dn(e,Ys(e))}"undefined"!=typeof window&&window;class Oa extends ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:Bk}=Array,{getPrototypeOf:zk,prototype:Gk,keys:Uk}=Object;const{isArray:Wk}=Array;function $k(...e){const t=Ys(e),n=function(e){return je(or(e))?e.pop():void 0}(e),{args:r,keys:i}=function(e){if(1===e.length){const t=e[0];if(Bk(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&zk(e)===Gk}(t)){const n=Uk(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Dn([],t);const s=new xt(function(e,t,n=Vr){return r=>{cS(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)cS(t,()=>{const d=Dn(e[l],t);let p=!1;d.subscribe(new Qe(r,h=>{s[l]=h,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):Vr));return n?s.pipe(function(e){return ot(t=>function(e,t){return Wk(t)?e(...t):e(t)}(e,t))}(n)):s}function cS(e,t,n){e?Wr(n,e,t):t()}const Xv=Ln(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function bA(...e){return Dr(1)(Dn(e,Ys(e)))}function fS(e){return new xt(t=>{ls(e()).subscribe(t)})}function dS(){return Pe((e,t)=>{let n=null;e._refCount++;const r=new Qe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class Qk extends xt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,we(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new _n;const n=this.getSubject();t.add(this.source.subscribe(new Qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=_n.EMPTY)}return t}refCount(){return dS()(this)}}function Jc(e,t){return Pe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new Qe(r,l=>{null==i||i.unsubscribe();let d=0;const p=s++;ls(e(l,p)).subscribe(i=new Qe(r,h=>r.next(t?t(l,h,p,d++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function e3(e,t,n,r,i){return(s,o)=>{let a=n,l=t,d=0;s.subscribe(new Qe(o,p=>{const h=d++;l=a?e(l,p,h):(a=!0,p),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function hS(e,t){return Pe(e3(e,t,arguments.length>=2,!0))}function Hd(e,t){return Pe((n,r)=>{let i=0;n.subscribe(new Qe(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Ql(e){return Pe((t,n)=>{let s,r=null,i=!1;r=t.subscribe(new Qe(n,void 0,void 0,o=>{s=ls(e(o,Ql(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Vg(e,t){return je(t)?zn(e,t,1):zn(e,1)}function DA(e){return e<=0?()=>Pr:Pe((t,n)=>{let r=[];t.subscribe(new Qe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gS(e=t3){return Pe((t,n)=>{let r=!1;t.subscribe(new Qe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function t3(){return new Xv}function pS(e){return Pe((t,n)=>{let r=!1;t.subscribe(new Qe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Yd(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Hd((i,s)=>e(i,s,r)):Vr,uo(1),n?pS(t):gS(()=>new Xv))}function Io(e,t,n){const r=je(e)||t||n?{next:e,error:t,complete:n}:e;return r?Pe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Qe(s,l=>{var d;null===(d=r.next)||void 0===d||d.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,l),s.error(l)},()=>{var l,d;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Vr}class tl{constructor(t,n){this.id=t,this.url=n}}class xA extends tl{constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zg extends tl{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mS extends tl{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class i3 extends tl{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class s3 extends tl{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o3 extends tl{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a3 extends tl{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class u3 extends tl{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l3 extends tl{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vS{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yS{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c3{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f3{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d3{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h3{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IS{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ln="primary";class g3{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Xd(e){return new g3(e)}const CS="ngNavigationCancelingError";function MA(e){const t=Error("NavigationCancelingError: "+e);return t[CS]=!0,t}function m3(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function pu(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!AS(e[i],t[i]))return!1;return!0}function AS(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function wS(e){return Array.prototype.concat.apply([],e)}function bS(e){return e.length>0?e[e.length-1]:null}function ts(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function mu(e){return eD(e)?e:mv(e)?Dn(Promise.resolve(e)):qt(e)}const I3={exact:function MS(e,t,n){if(!Qc(e.segments,t.segments)||!$v(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!MS(e.children[r],t.children[r],n))return!1;return!0},subset:SS},DS={exact:function(e,t){return pu(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>AS(e[n],t[n]))},ignored:()=>!0};function xS(e,t,n){return I3[n.paths](e.root,t.root,n.matrixParams)&&DS[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function SS(e,t,n){return ES(e,t,t.segments,n)}function ES(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Qc(i,n)||t.hasChildren()||!$v(i,n,r))}if(e.segments.length===n.length){if(!Qc(e.segments,n)||!$v(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!SS(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Qc(e.segments,i)&&$v(e.segments,i,r)&&e.children[ln])&&ES(e.children[ln],t,s,r)}}function $v(e,t,n){return t.every((r,i)=>DS[n](e[i].parameters,r.parameters))}class qc{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xd(this.queryParams)),this._queryParamMap}toString(){return D3.serialize(this)}}class In{constructor(t,n){this.segments=t,this.children=n,this.parent=null,ts(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jv(this)}}class Wg{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Xd(this.parameters)),this._parameterMap}toString(){return OS(this)}}function Qc(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class _S{}class NS{parse(t){const n=new O3(t);return new qc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Hg(t.root,!0)}`,r=function(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${qv(n)}=${qv(i)}`).join("&"):`${qv(n)}=${qv(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);var e;return`${n}${r}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const D3=new NS;function Jv(e){return e.segments.map(t=>OS(t)).join("/")}function Hg(e,t){if(!e.hasChildren())return Jv(e);if(t){const n=e.children[ln]?Hg(e.children[ln],!1):"",r=[];return ts(e.children,(i,s)=>{s!==ln&&r.push(`${s}:${Hg(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(e,t){let n=[];return ts(e.children,(r,i)=>{i===ln&&(n=n.concat(t(r,i)))}),ts(e.children,(r,i)=>{i!==ln&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===ln?[Hg(e.children[ln],!1)]:[`${i}:${Hg(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ln]?`${Jv(e)}/${n[0]}`:`${Jv(e)}/(${n.join("//")})`}}function TS(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qv(e){return TS(e).replace(/%3B/gi,";")}function SA(e){return TS(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qv(e){return decodeURIComponent(e)}function PS(e){return Qv(e.replace(/\+/g,"%20"))}function OS(e){return`${SA(e.path)}${function(e){return Object.keys(e).map(t=>`;${SA(t)}=${SA(e[t])}`).join("")}(e.parameters)}`}const E3=/^[^\/()?;=#]+/;function Kv(e){const t=e.match(E3);return t?t[0]:""}const _3=/^[^=?&#]+/,T3=/^[^&#]+/;class O3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ln]=new In(t,n)),r}parseSegment(){const t=Kv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Wg(Qv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Kv(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Kv(this.remaining);i&&(r=i,this.capture(r))}t[Qv(n)]=Qv(r)}parseQueryParam(t){const n=function(e){const t=e.match(_3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(e){const t=e.match(T3);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=PS(n),s=PS(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ln);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ln]:new In([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class RS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=EA(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=EA(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=_A(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return _A(t,this._root).map(n=>n.value)}}function EA(e,t){if(e===t.value)return t;for(const n of t.children){const r=EA(e,n);if(r)return r}return null}function _A(e,t){if(e===t.value)return[t];for(const n of t.children){const r=_A(e,n);if(r.length)return r.unshift(t),r}return[]}class nl{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function $d(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class LS extends RS{constructor(t,n){super(t),this.snapshot=n,NA(this,t)}toString(){return this.snapshot.toString()}}function kS(e,t){const n=function(e,t){const o=new ey([],{},{},"",{},ln,t,null,e.root,-1,{});return new jS("",new nl(o,[]))}(e,t),r=new Oa([new Wg("",{})]),i=new Oa({}),s=new Oa({}),o=new Oa({}),a=new Oa(""),l=new Jd(r,i,o,a,s,ln,t,n.root);return l.snapshot=n.root,new LS(new nl(l,[]),n)}class Jd{constructor(t,n,r,i,s,o,a,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ot(t=>Xd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ot(t=>Xd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FS(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ey{constructor(t,n,r,i,s,o,a,l,d,p,h){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=p,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jS extends RS{constructor(t,n){super(n),this.url=t,NA(this,n)}toString(){return BS(this._root)}}function NA(e,t){t.value._routerState=e,t.children.forEach(n=>NA(e,n))}function BS(e){const t=e.children.length>0?` { ${e.children.map(BS).join(", ")} } `:"";return`${e.value}${t}`}function TA(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,pu(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),pu(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!pu(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),pu(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function PA(e,t){const n=pu(e.params,t.params)&&function(e,t){return Qc(e,t)&&e.every((n,r)=>pu(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||PA(e.parent,t.parent))}function Yg(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Yg(e,r,i);return Yg(e,r)})}(e,t,n);return new nl(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Yg(e,a)),o}}const r=function(e){return new Jd(new Oa(e.url),new Oa(e.params),new Oa(e.queryParams),new Oa(e.fragment),new Oa(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Yg(e,s));return new nl(r,i)}}function ty(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xg(e){return"object"==typeof e&&null!=e&&e.outlets}function OA(e,t,n,r,i){let s={};return r&&ts(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new qc(n.root===e?t:zS(n.root,e,t),s,i)}function zS(e,t,n){const r={};return ts(e.children,(i,s)=>{r[s]=i===t?n:zS(i,t,n)}),new In(e.segments,r)}class GS{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ty(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Xg);if(i&&i!==bS(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class RA{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function US(e,t,n){if(e||(e=new In([],{})),0===e.segments.length&&e.hasChildren())return ny(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(Xg(a))break;const l=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!ZS(l,d,o))return s;r+=2}else{if(!ZS(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new In(e.segments.slice(0,r.pathIndex),{});return s.children[ln]=new In(e.segments.slice(r.pathIndex),e.children),ny(s,0,i)}return r.match&&0===i.length?new In(e.segments,{}):r.match&&!e.hasChildren()?LA(e,t,n):r.match?ny(e,0,i):LA(e,t,n)}function ny(e,t,n){if(0===n.length)return new In(e.segments,{});{const r=function(e){return Xg(e[0])?e[0].outlets:{[ln]:e}}(n),i={};return ts(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=US(e.children[o],t,s))}),ts(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new In(e.segments,i)}}function LA(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Xg(s)){const l=W3(s.outlets);return new In(r,l)}if(0===i&&ty(n[0])){r.push(new Wg(e.segments[t].path,VS(n[0]))),i++;continue}const o=Xg(s)?s.outlets[ln]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ty(a)?(r.push(new Wg(o,VS(a))),i+=2):(r.push(new Wg(o,{})),i++)}return new In(r,{})}function W3(e){const t={};return ts(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=LA(new In([],{}),0,n))}),t}function VS(e){const t={};return ts(e,(n,r)=>t[r]=`${n}`),t}function ZS(e,t,n){return e==n.path&&pu(t,n.parameters)}class Y3{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),TA(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=$d(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),ts(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=$d(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=$d(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=$d(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new h3(s.value.snapshot))}),t.children.length&&this.forwardEvent(new f3(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(TA(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),TA(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class kA{constructor(t,n){this.routes=t,this.module=n}}function Kl(e){return"function"==typeof e}function Kc(e){return e instanceof qc}const $g=Symbol("INITIAL_VALUE");function Jg(){return Jc(e=>$k(e.map(t=>t.pipe(uo(1),function(...e){const t=Ys(e);return Pe((n,r)=>{(t?bA(e,n,t):bA(e,n)).subscribe(r)})}($g)))).pipe(hS((t,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==$g?i:(s===$g&&(r=!0),r||!1!==s&&o!==n.length-1&&!Kc(s)?i:s),t)},$g),Hd(t=>t!==$g),ot(t=>Kc(t)?t:!0===t),uo(1)))}class eF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qg,this.attachRef=null}}class qg{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new eF,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let FA=(()=>{class e{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Gs,this.deactivateEvents=new Gs,this.attachEvents=new Gs,this.detachEvents=new Gs,this.name=s||ln,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new tF(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(gt(qg),gt(_a),gt(Bd),function(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Pf(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(Jr(),e)}("name"),gt(JC))},e.\u0275dir=Mr({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class tF{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Jd?this.route:t===qg?this.childContexts:this.parent.get(t,n)}}let WS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ha({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&pv(0,"router-outlet")},directives:[FA],encapsulation:2}),e})();function HS(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];nF(r,rF(t,r))}}function nF(e,t){e.children&&HS(e.children,t)}function rF(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function jA(e){const t=e.children&&e.children.map(jA),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ln&&(n.component=WS),n}function Ko(e){return e.outlet||ln}function YS(e,t){const n=e.filter(r=>Ko(r)===t);return n.push(...e.filter(r=>Ko(r)!==t)),n}const XS={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ry(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},XS):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||m3)(n,e,t);if(!s)return Object.assign({},XS);const o={};ts(s.posParams,(l,d)=>{o[d]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function iy(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(r=>sy(e,t,r)&&Ko(r)!==ln)}(e,n,r)){const o=new In(t,function(e,t,n,r){const i={};i[ln]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Ko(s)!==ln){const o=new In([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,i[Ko(s)]=o}return i}(e,t,r,new In(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(r=>sy(e,t,r))}(e,n,r)){const o=new In(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(sy(e,n,a)&&!i[Ko(a)]){const l=new In([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Ko(a)]=l}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const s=new In(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function sy(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function $S(e,t,n,r){return!!(Ko(e)===r||r!==ln&&sy(t,n,e))&&("**"===e.path||ry(t,e,n).matched)}function JS(e,t,n){return 0===t.length&&!e.children[n]}class Qg{constructor(t){this.segmentGroup=t||null}}class qS{constructor(t){this.urlTree=t}}function oy(e){return new xt(t=>t.error(new Qg(e)))}function QS(e){return new xt(t=>t.error(new qS(e)))}function uF(e){return new xt(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class fF{constructor(t,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(qu)}apply(){const t=iy(this.urlTree.root,[],[],this.config).segmentGroup,n=new In(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ln).pipe(ot(s=>this.createUrlTree(BA(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ql(s=>{if(s instanceof qS)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Qg?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ln).pipe(ot(i=>this.createUrlTree(BA(i),t.queryParams,t.fragment))).pipe(Ql(i=>{throw i instanceof Qg?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new In([],{[ln]:t}):t;return new qc(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(ot(s=>new In([],s))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Dn(i).pipe(Vg(s=>{const o=r.children[s],a=YS(n,s);return this.expandSegmentGroup(t,a,o,s).pipe(ot(l=>({segment:l,outlet:s})))}),hS((s,o)=>(s[o.outlet]=o.segment,s),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Hd((i,s)=>e(i,s,r)):Vr,DA(1),n?pS(t):gS(()=>new Xv))}())}expandSegment(t,n,r,i,s,o){return Dn(r).pipe(Vg(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,s,o).pipe(Ql(d=>{if(d instanceof Qg)return qt(null);throw d}))),Yd(a=>!!a),Ql((a,l)=>{if(a instanceof Xv||"EmptyError"===a.name){if(JS(n,i,s))return qt(new In([],{}));throw new Qg(n)}throw a}))}expandSegmentAgainstRoute(t,n,r,i,s,o,a){return $S(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o):oy(n):oy(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QS(s):this.lineralizeSegments(r,s).pipe(zn(o=>{const a=new In(o,{});return this.expandSegment(t,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:d,positionalParamSegments:p}=ry(n,i,s);if(!a)return oy(n);const h=this.applyRedirectCommands(l,i.redirectTo,p);return i.redirectTo.startsWith("/")?QS(h):this.lineralizeSegments(i,h).pipe(zn(I=>this.expandSegment(t,n,r,I.concat(s.slice(d)),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?qt(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(ot(I=>(r._loadedConfig=I,new In(i,{})))):qt(new In(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=ry(n,r,i);if(!o)return oy(n);const d=i.slice(l);return this.getChildConfig(t,r,i).pipe(zn(h=>{const I=h.module,b=h.routes,{segmentGroup:E,slicedSegments:j}=iy(n,a,d,b),U=new In(E.segments,E.children);if(0===j.length&&U.hasChildren())return this.expandChildren(I,b,U).pipe(ot(S=>new In(a,S)));if(0===b.length&&0===j.length)return qt(new In(a,{}));const Q=Ko(r)===s;return this.expandSegment(I,U,b,j,Q?ln:s,!0).pipe(ot(w=>new In(a.concat(w.segments),w.children)))}))}getChildConfig(t,n,r){return n.children?qt(new kA(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?qt(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(zn(i=>{return i?this.configLoader.load(t.injector,n).pipe(ot(s=>(n._loadedConfig=s,s))):(e=n,new xt(t=>t.error(MA(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))));var e})):qt(new kA([],t))}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?qt(i.map(o=>{const a=t.get(o);let l;if((e=a)&&Kl(e.canLoad))l=a.canLoad(n,r);else{if(!Kl(a))throw new Error("Invalid CanLoad guard");l=a(n,r)}var e;return mu(l)})).pipe(Jg(),Io(o=>{if(!Kc(o))return;const a=MA(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ot(o=>!0===o)):qt(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return qt(r);if(i.numberOfChildren>1||!i.children[ln])return uF(t.redirectTo);i=i.children[ln]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new qc(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return ts(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return ts(n.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,r,i)}),new In(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function BA(e){const t={};for(const r of Object.keys(e.children)){const s=BA(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function(e){if(1===e.numberOfChildren&&e.children[ln]){const t=e.children[ln];return new In(e.segments.concat(t.segments),t.children)}return e}(new In(e.segments,t))}class KS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ay{constructor(t,n){this.component=t,this.route=n}}function gF(e,t,n){const r=e._root;return Kg(r,t?t._root:null,n,[r.value])}function uy(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Kg(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=$d(t);return e.children.forEach(o=>{(function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Qc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Qc(e.url,t.url)||!pu(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PA(e,t)||!pu(e.queryParams,t.queryParams);default:return!PA(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new KS(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Kg(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ay(a.outlet.component,o))}else o&&ep(t,a,i),i.canActivateChecks.push(new KS(r)),Kg(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),ts(s,(o,a)=>ep(o,n.getContext(a),i)),i}function ep(e,t,n){const r=$d(e),i=e.value;ts(r,(s,o)=>{ep(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new ay(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class SF{}function eE(e){return new xt(t=>t.error(e))}class _F{constructor(t,n,r,i,s,o){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=iy(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,ln);if(null===n)return null;const r=new ey([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new nl(r,n),s=new jS(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const n=t.value,r=FS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=YS(t,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=tE(r);return i.sort((t,n)=>t.value.outlet===ln?-1:n.value.outlet===ln?1:t.value.outlet.localeCompare(n.value.outlet)),i}processSegment(t,n,r,i){for(const s of t){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return JS(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!$S(t,n,r,i))return null;let s,o=[],a=[];if("**"===t.path){const b=r.length>0?bS(r).parameters:{};s=new ey(r,b,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iE(t),Ko(t),t.component,t,nE(n),rE(n)+r.length,sE(t))}else{const b=ry(n,t,r);if(!b.matched)return null;o=b.consumedSegments,a=r.slice(b.lastChild),s=new ey(o,b.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iE(t),Ko(t),t.component,t,nE(n),rE(n)+o.length,sE(t))}const l=(e=t).children?e.children:e.loadChildren?e._loadedConfig.routes:[],{segmentGroup:d,slicedSegments:p}=iy(n,o,a,l.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution);var e;if(0===p.length&&d.hasChildren()){const b=this.processChildren(l,d);return null===b?null:[new nl(s,b)]}if(0===l.length&&0===p.length)return[new nl(s,[])];const h=Ko(t)===i,I=this.processSegment(l,d,p,h?ln:i);return null===I?null:[new nl(s,I)]}}function PF(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function tE(e){const t=[],n=new Set;for(const r of e){if(!PF(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=tE(r.children);t.push(new nl(r.value,i))}return t.filter(r=>!n.has(r))}function nE(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function rE(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function iE(e){return e.data||{}}function sE(e){return e.resolve||{}}function zA(e){return Jc(t=>{const n=e(t);return n?Dn(n).pipe(ot(()=>t)):qt(t)})}class zF extends class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const GA=new yn("ROUTES");class oE{constructor(t,n,r,i){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(t);return new kA(wS(o.injector.get(GA,void 0,fe.Self|fe.Optional)).map(jA),o)}),Ql(s=>{throw n._loader$=void 0,s}));return n._loader$=new Qk(i,()=>new ee).pipe(dS()),n._loader$}loadModuleFactory(t){return mu(t()).pipe(zn(n=>n instanceof Sx?qt(n):Dn(this.compiler.compileModuleAsync(n))))}}class UF{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function VF(e){throw e}function ZF(e,t,n){return t.parse("/")}function aE(e,t){return qt(null)}const WF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Co=(()=>{class e{constructor(n,r,i,s,o,a,l){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ee,this.errorHandler=VF,this.malformedUriErrorHandler=ZF,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:aE,afterPreactivation:aE},this.urlHandlingStrategy=new UF,this.routeReuseStrategy=new zF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(qu),this.console=o.get(uM);const h=o.get(Di);this.isNgZoneEnabled=h instanceof Di&&Di.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new qc(new In([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new oE(o,a,I=>this.triggerEvent(new vS(I)),I=>this.triggerEvent(new yS(I))),this.routerState=kS(this.currentUrlTree,this.rootComponentType),this.transitions=new Oa({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Hd(i=>0!==i.id),ot(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Jc(i=>{let s=!1,o=!1;return qt(i).pipe(Io(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jc(a=>{const l=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ly(a.source)&&(this.browserUrlTree=a.extractedUrl),qt(a).pipe(Jc(h=>{const I=this.transitions.getValue();return r.next(new xA(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),I!==this.transitions.getValue()?Pr:Promise.resolve(h)}),function(e,t,n,r){return Jc(i=>function(e,t,n,r,i){return new fF(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(ot(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Io(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function(e,t,n,r,i){return zn(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new _F(e,t,n,r,i,s).recognize();return null===o?eE(new SF):qt(o)}catch(o){return eE(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ot(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),Io(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const b=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(b,h)}this.browserUrlTree=h.urlAfterRedirects}const I=new s3(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);r.next(I)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:b,source:E,restoredState:j,extras:U}=a,Q=new xA(I,this.serializeUrl(b),E,j);r.next(Q);const z=kS(b,this.rootComponentType).snapshot;return qt(Object.assign(Object.assign({},a),{targetSnapshot:z,urlAfterRedirects:b,extras:Object.assign(Object.assign({},U),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Pr}),zA(a=>{const{targetSnapshot:l,id:d,extractedUrl:p,rawUrl:h,extras:{skipLocationChange:I,replaceUrl:b}}=a;return this.hooks.beforePreactivation(l,{navigationId:d,appliedUrlTree:p,rawUrlTree:h,skipLocationChange:!!I,replaceUrl:!!b})}),Io(a=>{const l=new o3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ot(a=>Object.assign(Object.assign({},a),{guards:gF(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(e,t){return zn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?qt(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Dn(e).pipe(zn(i=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?qt(s.map(a=>{const l=uy(a,t,i);let d;if(function(e){return e&&Kl(e.canDeactivate)}(l))d=mu(l.canDeactivate(e,t,n,r));else{if(!Kl(l))throw new Error("Invalid CanDeactivate guard");d=mu(l(e,t,n,r))}return d.pipe(Yd())})).pipe(Jg()):qt(!0)}(i.component,i.route,n,t,r)),Yd(i=>!0!==i,!0))}(o,r,i,e).pipe(zn(a=>a&&function(e){return"boolean"==typeof e}(a)?function(e,t,n,r){return Dn(t).pipe(Vg(i=>bA(function(e,t){return null!==e&&t&&t(new c3(e)),qt(!0)}(i.route.parent,r),function(e,t){return null!==e&&t&&t(new d3(e)),qt(!0)}(i.route,r),function(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>fS(()=>qt(o.guards.map(l=>{const d=uy(l,o.node,n);let p;if(function(e){return e&&Kl(e.canActivateChild)}(d))p=mu(d.canActivateChild(r,e));else{if(!Kl(d))throw new Error("Invalid CanActivateChild guard");p=mu(d(r,e))}return p.pipe(Yd())})).pipe(Jg())));return qt(s).pipe(Jg())}(e,i.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return qt(!0);const i=r.map(s=>fS(()=>{const o=uy(s,t,n);let a;if(function(e){return e&&Kl(e.canActivate)}(o))a=mu(o.canActivate(t,e));else{if(!Kl(o))throw new Error("Invalid CanActivate guard");a=mu(o(t,e))}return a.pipe(Yd())}));return qt(i).pipe(Jg())}(e,i.route,n))),Yd(i=>!0!==i,!0))}(r,s,e,t):qt(a)),ot(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Io(a=>{if(Kc(a.guardsResult)){const d=MA(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw d.url=a.guardsResult,d}const l=new a3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Hd(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),zA(a=>{if(a.guards.canActivateChecks.length)return qt(a).pipe(Io(l=>{const d=new u3(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),Jc(l=>{let d=!1;return qt(l).pipe(function(e,t){return zn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return qt(n);let s=0;return Dn(i).pipe(Vg(o=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return qt({});const s={};return Dn(i).pipe(zn(o=>function(e,t,n,r){const i=uy(e,t,r);return mu(i.resolve?i.resolve(t,n):i(t,n))}(e[o],t,n,r).pipe(Io(a=>{s[o]=a}))),DA(1),zn(()=>Object.keys(s).length===i.length?qt(s):Pr))}(e._resolve,e,t,r).pipe(ot(s=>(e._resolvedData=s,e.data=Object.assign(Object.assign({},e.data),FS(e,n).resolve),null)))}(o.route,r,e,t)),Io(()=>s++),DA(1),zn(o=>s===i.length?qt(n):Pr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Io({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Io(l=>{const d=new l3(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}))}),zA(a=>{const{targetSnapshot:l,id:d,extractedUrl:p,rawUrl:h,extras:{skipLocationChange:I,replaceUrl:b}}=a;return this.hooks.afterPreactivation(l,{navigationId:d,appliedUrlTree:p,rawUrlTree:h,skipLocationChange:!!I,replaceUrl:!!b})}),ot(a=>{const l=function(e,t,n){const r=Yg(e,t._root,n?n._root:void 0);return new LS(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Io(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>ot(r=>(new Y3(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Io({next(){s=!0},complete(){s=!0}}),function(e){return Pe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ql(a=>{if(o=!0,function(e){return e&&e[CS]}(a)){const l=Kc(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const d=new mS(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(d),l?setTimeout(()=>{const p=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ly(i.source)};this.scheduleNavigation(p,"imperative",null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new i3(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(d){i.reject(d)}}return Pr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){HS(n),this.config=n.map(jA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,d=i||this.routerState.root,p=l?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return OA(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new GS(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return ts(s.outlets,(l,d)=>{a[d]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new GS(n,t,r)}(n);if(s.toRoot())return OA(t.root,new In([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new RA(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new RA(s,s===t.root,0)}const r=ty(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new RA(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?ny(o.segmentGroup,o.index,s.commands):US(o.segmentGroup,o.index,s.commands);return OA(o.segmentGroup,a,t,r,i)}(d,this.currentUrlTree,n,h,null!=p?p:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Kc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},WF):!1===r?Object.assign({},HF):r,Kc(n))return xS(this.currentUrlTree,n,i);const s=this.parseUrl(n);return xS(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Zg(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,l,d;if(this.disposed)return Promise.resolve(!1);const p=this.transitions.value,h=ly(r)&&p&&!ly(p.source),I=p.rawUrl.toString()===n.toString(),b=p.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(h&&I&&b)return Promise.resolve(!0);let j,U,Q;o?(j=o.resolve,U=o.reject,Q=o.promise):Q=new Promise((S,T)=>{j=S,U=T});const z=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),w=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):w=0,this.setTransition({id:z,targetPageId:w,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:j,reject:U,promise:Q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Q.catch(S=>Promise.reject(S))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new mS(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){fC()},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();function ly(e){return"imperative"!==e}class uE{}class lE{preload(t,n){return qt(null)}}let cE=(()=>{class e{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new oE(i,r,l=>n.triggerEvent(new vS(l)),l=>n.triggerEvent(new yS(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hd(n=>n instanceof Zg),Vg(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(qu);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Dn(i).pipe(Dr(),ot(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?qt(r._loadedConfig):this.loader.load(n.injector,r)).pipe(zn(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(lt(Co),lt(Tv),lt(Pn),lt(uE))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),ZA=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof xA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Zg&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof IS&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new IS(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){fC()},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();const ef=new yn("ROUTER_CONFIGURATION"),fE=new yn("ROUTER_FORROOT_GUARD"),qF=[rA,{provide:_S,useClass:NS},{provide:Co,useFactory:function(e,t,n,r,i,s,o={},a,l){const d=new Co(null,e,t,n,r,i,wS(s));return a&&(d.urlHandlingStrategy=a),l&&(d.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(o,d),o.enableTracing&&d.events.subscribe(p=>{var h,I;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${p.constructor.name}`),console.log(p.toString()),console.log(p),null===(I=console.groupEnd)||void 0===I||I.call(console)}),d},deps:[_S,qg,rA,Pn,Tv,GA,ef,[class{},new Li],[class{},new Li]]},qg,{provide:Jd,useFactory:function(e){return e.routerState.root},deps:[Co]},cE,lE,class{preload(t,n){return n().pipe(Ql(()=>qt(null)))}},{provide:ef,useValue:{enableTracing:!1}}];function QF(){return new gM("Router",Co)}let dE=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[qF,hE(n),{provide:fE,useFactory:tj,deps:[[Co,new Li,new ru]]},{provide:ef,useValue:r||{}},{provide:Wd,useFactory:ej,deps:[$c,[new Zu(nA),new Li],ef]},{provide:ZA,useFactory:KF,deps:[Co,ek,ef]},{provide:uE,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:lE},{provide:gM,multi:!0,useFactory:QF},[WA,{provide:Nv,multi:!0,useFactory:sj,deps:[WA]},{provide:gE,useFactory:oj,deps:[WA]},{provide:aM,multi:!0,useExisting:gE}]]}}static forChild(n){return{ngModule:e,providers:[hE(n)]}}}return e.\u0275fac=function(n){return new(n||e)(lt(fE,8),lt(Co,8))},e.\u0275mod=Lo({type:e}),e.\u0275inj=y({}),e})();function KF(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ZA(e,t,n)}function ej(e,t,n={}){return n.useHash?new PR(e,t):new kM(e,t)}function tj(e){return"guarded"}function hE(e){return[{provide:Sh,multi:!0,useValue:e},{provide:GA,multi:!0,useValue:e}]}let WA=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ee}appInitializer(){return this.injector.get(_R,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Co),o=this.injector.get(ef);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?qt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ef),i=this.injector.get(cE),s=this.injector.get(ZA),o=this.injector.get(Co),a=this.injector.get(Fg);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(lt(Pn))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();function sj(e){return e.appInitializer.bind(e)}function oj(e){return e.bootstrapListener.bind(e)}const gE=new yn("Router Initializer");var As=et(66),cn=et(489),Wn=et(259);const{round:uj,floor:lj,PI:pE}=Math,cj={linear:function(e,t,n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]||0}},vu=function(e){return e%360+(e<0?360:0)},tf=function(e,t){return t*uj(e/t)},cy=function(e){return 180*e/pE%360},Ks=function(e,t){return(e=(t=t||!1)?e:e%360)*pE/180},HA=function(e,t){if(void 0===t)t=void 0===e?1:e,e=0;else if(t<e){const n=e;e=t,t=n}return lj(Math.random()*(t-e+1)+e)},{cos:fy,sin:YA,atan2:fj}=Math,mE=function(e,t){var n=Ks(e.y),r=Ks(t.y),o=Ks(t.x-e.x),a=YA(o)*fy(r),l=fy(n)*YA(r)-YA(n)*fy(r)*fy(o),h=cy(fj(a,l))-22.5;return h<0&&(h+=360),["NE","E","SE","S","SW","W","NW","N"][h=parseInt(h/45)]},XA=function(e,t){var n=e.x,r=e.y;return(n-=t.x)*n+(r-=t.y)*r},vE=function(e,t){return Math.sqrt(XA(e,t))},{abs:dy,cos:$A,sin:JA,sqrt:yE,min:IE,max:CE,atan2:dj,round:AE,pow:hj,PI:wE}=Math,ae=function(e,t){if(!(this instanceof ae))return new ae(e,t);if("string"==typeof e){var n=e.split(-1===e.indexOf("@")?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=void 0===e?0:e,this.y=void 0===t?0:t};ae.fromPolar=function(e,t,n){n=new ae(n);var r=dy(e*$A(t)),i=dy(e*JA(t)),s=vu(cy(t));return s<90?i=-i:s<180?(r=-r,i=-i):s<270&&(r=-r),new ae(n.x+r,n.y+i)},ae.random=function(e,t,n,r){return new ae(HA(e,t),HA(n,r))},ae.prototype={chooseClosest:function(e){var t=e.length;if(1===t)return new ae(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var s=new ae(e[i]),o=this.squaredDistance(s);o<r&&(n=s,r=o)}return n},adhereToRect:function(e){return e.containsPoint(this)||(this.x=IE(CE(this.x,e.x),e.x+e.width),this.y=IE(CE(this.y,e.y),e.y+e.height)),this},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return mE(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new ae(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ae(this.x-(e||0),this.y-(t||0))},distance:function(e){return vE(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){return new ae((1-t)*this.x+t*e.x,(1-t)*this.y+t*e.y)},magnitude:function(){return yE(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return dy(e.x-this.x)+dy(e.y-this.y)},move:function(e,t){var n=Ks(new ae(e).theta(this));return this.offset($A(n)*t,-JA(n)*t)},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ae(e).move(this,this.distance(e))},rotate:function(e,t){if(0===t)return this;e=e||new ae(0,0),t=Ks(vu(-t));var n=$A(t),r=JA(t),s=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=n*(this.x-e.x)-r*(this.y-e.y)+e.x,this.y=s,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=hj(10,e)}return this.x=AE(this.x*t)/t,this.y=AE(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new ae(n)||new ae(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=tf(this.x,e),this.y=tf(this.y,t||e),this},squaredDistance:function(e){return XA(this,e)},theta:function(e){e=new ae(e);var r=dj(-(e.y-this.y),e.x-this.x);return r<0&&(r=2*wE+r),180*r/wE},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ae(e)||new ae(0,0);var t=this.x,n=this.y;return this.x=yE((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=Ks(e.theta(new ae(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){return new ae(0,0).angleBetween(this,e)}},ae.prototype.translate=ae.prototype.offset;const tp=ae,{max:qA,min:QA}=Math,$e=function(e,t){return this instanceof $e?e instanceof $e?new $e(e.start,e.end):(this.start=new ae(e),void(this.end=new ae(t))):new $e(e,t)};$e.prototype={angle:function(){var e=new ae(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=QA(this.start.x,this.end.x),t=QA(this.start.y,this.end.y),n=qA(this.start.x,this.end.x),r=qA(this.start.y,this.end.y);return new We(e,t,n-e,r-t)},bearing:function(){return mE(this.start,this.end)},clone:function(){return new $e(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new $e(this.start,e).vector()),n=QA(1,qA(0,t/this.squaredLength()));return n!=n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(0!==t.cross(e,n))return!1;var r=this.length();return!(new $e(t,e).length()>r||new $e(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new $e(this.start,t),new $e(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new $e(this.start,t),new $e(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof $e&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new ae(this.end.x-this.start.x,this.end.y-this.start.y),n=new ae(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new ae(e.start.x-this.start.x,e.start.y-this.start.y),s=i.x*n.y-i.y*n.x,o=i.x*t.y-i.y*t.x;if(0===r||s*r<0||o*r<0)return null;if(r>0){if(s>r||o>r)return null}else if(s<r||o<r)return null;return[new ae(this.start.x+s*t.x/r,this.start.y+s*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return vE(this.start,this.end)},midpoint:function(){return new ae((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:n,end:r}=t,i=n.clone().rotate(r,270),s=r.clone().rotate(n,90);return n.move(s,e),r.move(i,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new ae(e);var t=this.start,n=this.end;return((n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x))/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return XA(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new $e(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new $e(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ae(this.end.x-this.start.x,this.end.y-this.start.y)}},$e.prototype.intersection=$e.prototype.intersect;const nf=$e,{sqrt:bE,round:hy,pow:gj}=Math,Vs=function(e,t,n){return this instanceof Vs?e instanceof Vs?new Vs(new ae(e.x,e.y),e.a,e.b):(e=new ae(e),this.x=e.x,this.y=e.y,this.a=t,void(this.b=n)):new Vs(e,t,n)};Vs.fromRect=function(e){return e=new We(e),new Vs(e.center(),e.width/2,e.height/2)},Vs.prototype={bbox:function(){return new We(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ae(this.x,this.y)},clone:function(){return new Vs(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,s=this.b,o=e.vector(),a=n.difference(new ae(this)),l=new ae(o.x/(i*i),o.y/(s*s)),d=new ae(a.x/(i*i),a.y/(s*s)),p=o.dot(l),h=o.dot(d),b=h*h-p*(a.dot(d)-1);if(b<0)return null;if(b>0){var E=bE(b),j=(-h-E)/p,U=(-h+E)/p;if((j<0||1<j)&&(U<0||1<U))return null;0<=j&&j<=1&&t.push(n.lerp(r,j)),0<=U&&U<=1&&t.push(n.lerp(r,U))}else{var Q=-h/p;if(!(0<=Q&&Q<=1))return null;t.push(n.lerp(r,Q))}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ae(e),t&&e.rotate(new ae(this.x,this.y),t);var i,n=e.x-this.x,r=e.y-this.y;if(0===n)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new ae(this.x,this.y),-t):i;var s=r/n,d=bE(1/(1/(this.a*this.a)+s*s/(this.b*this.b)));return i=new ae(this.x+(d=n<0?-d:d),this.y+s*d),t?i.rotate(new ae(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,s=this.x,o=this.y;return(t-s)*(t-s)/(r*r)+(n-o)*(n-o)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=gj(10,e)}return this.x=hy(this.x*t)/t,this.y=hy(this.y*t)/t,this.a=hy(this.a*t)/t,this.b=hy(this.b*t)/t,this},tangentTheta:function(e){var h,I,n=e.x,r=e.y,i=this.a,s=this.b,o=this.bbox().center(),a=o.x,l=o.y;return n>o.x+i/2||n<o.x-i/2?I=i*i/(n-a)-i*i*(r-l)*((h=n>o.x?r-30:r+30)-l)/(s*s*(n-a))+a:h=s*s/(r-l)-s*s*(n-a)*((I=r>o.y?n+30:n-30)-a)/(i*i*(r-l))+l,new ae(I,h).theta(e)},toString:function(){return new ae(this.x,this.y).toString()+" "+this.a+" "+this.b}};const pj=Vs,{abs:DE,cos:mj,sin:vj,min:np,max:xE,round:gy,pow:yj}=Math,We=function(e,t,n,r){if(!(this instanceof We))return new We(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=void 0===e?0:e,this.y=void 0===t?0:t,this.width=void 0===n?0:n,this.height=void 0===r?0:r};We.fromEllipse=function(e){return e=new Vs(e),new We(e.x-e.a,e.y-e.b,2*e.a,2*e.b)},We.fromPointUnion=function(...e){if(0===e.length)return null;const t=new ae;let n,r,i,s;n=r=1/0,i=s=-1/0;for(let o=0;o<e.length;o++){t.update(e[o]);const a=t.x,l=t.y;a<n&&(n=a),a>i&&(i=a),l<r&&(r=l),l>s&&(s=l)}return new We(n,r,i-n,s-r)},We.fromRectUnion=function(...e){if(0===e.length)return null;const t=new We;let n,r,i,s;n=r=1/0,i=s=-1/0;for(let o=0;o<e.length;o++){t.update(e[o]);const a=t.x,l=t.y,d=a+t.width,p=l+t.height;a<n&&(n=a),d>i&&(i=d),l<r&&(r=l),p>s&&(s=p)}return new We(n,r,i-n,s-r)},We.prototype={bbox:function(e){if(!e)return this.clone();var t=Ks(e),n=DE(vj(t)),r=DE(mj(t)),i=this.width*r+this.height*n,s=this.width*n+this.height*r;return new We(this.x+(this.width-i)/2,this.y+(this.height-s)/2,i,s)},bottomLeft:function(){return new ae(this.x,this.y+this.height)},bottomLine:function(){return new $e(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ae(this.x+this.width/2,this.y+this.height)},center:function(){return new ae(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new We(this)},containsPoint:function(e){return(e=new ae(e)).x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new We(this).normalize(),n=new We(e).normalize(),r=t.width,i=t.height,s=n.width,o=n.height;if(!(r&&i&&s&&o))return!1;var a=t.x,l=t.y,d=n.x,p=n.y;return s+=d,r+=a,o+=p,i+=l,a<=d&&s<=r&&l<=p&&o<=i},corner:function(){return new ae(this.x+this.width,this.y+this.height)},equals:function(e){var t=new We(this).normalize(),n=new We(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var s=xE(t.x,r.x),o=xE(t.y,r.y);return new We(s,o,np(n.x,i.x)-s,np(n.y,i.y)-o)},intersectionWithLine:function(e){var s,o,t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],r=[],i=[],a=n.length;for(o=0;o<a;o++)null!==(s=e.intersect(n[o]))&&i.indexOf(s.toString())<0&&(r.push(s),i.push(s.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ae(e);var r,n=new ae(this.x+this.width/2,this.y+this.height/2);t&&e.rotate(n,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],s=new $e(n,e),o=i.length-1;o>=0;--o){var a=i[o].intersection(s);if(null!==a){r=a;break}}return r&&t&&r.rotate(n,-t),r},leftLine:function(){return new $e(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ae(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new We(e),t||(t=e.center());var n,r,i,s,o,a,l,d,p=t.x,h=t.y;n=r=i=s=o=a=l=d=1/0;var I=e.topLeft();I.x<p&&(n=(this.x-p)/(I.x-p)),I.y<h&&(o=(this.y-h)/(I.y-h));var b=e.bottomRight();b.x>p&&(r=(this.x+this.width-p)/(b.x-p)),b.y>h&&(a=(this.y+this.height-h)/(b.y-h));var E=e.topRight();E.x>p&&(i=(this.x+this.width-p)/(E.x-p)),E.y<h&&(l=(this.y-h)/(E.y-h));var j=e.bottomLeft();return j.x<p&&(s=(this.x-p)/(j.x-p)),j.y>h&&(d=(this.y+this.height-h)/(j.y-h)),{sx:np(n,r,i,s),sy:np(o,a,l,d)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return np(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return ae.prototype.offset.call(this,e,t)},origin:function(){return new ae(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ae(e),this.containsPoint(e))switch(this.sideNearestToPoint(e)){case"right":return new ae(this.x+this.width,e.y);case"left":return new ae(this.x,e.y);case"bottom":return new ae(e.x,this.y+this.height);case"top":return new ae(e.x,this.y)}return e.adhereToRect(this)},rightLine:function(){return new $e(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ae(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=yj(10,e)}return this.x=gy(this.x*t)/t,this.y=gy(this.y*t)/t,this.width=gy(this.width*t)/t,this.height=gy(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ae(e);var n=this.x+this.width-e.x,r=e.y-this.y,s=e.x-this.x,o="left";return n<s&&(s=n,o="right"),r<s&&(s=r,o="top"),this.y+this.height-e.y<s&&(o="bottom"),o},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new $e(this.topLeft(),this.topRight())},topMiddle:function(){return new ae(this.x+this.width/2,this.y)},topRight:function(){return new ae(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return We.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}},We.prototype.bottomRight=We.prototype.corner,We.prototype.topLeft=We.prototype.origin,We.prototype.translate=We.prototype.offset;const ME=We,{abs:SE}=Math,nr=function(e){return this instanceof nr?"string"==typeof e?new nr.parse(e):void(this.points=Array.isArray(e)?e.map(ae):[]):new nr(e)};nr.parse=function(e){if(""===(e=e.trim()))return new nr;for(var t=[],n=e.split(/\s*,\s*|\s+/),r=n.length,i=0;i<r;i+=2)t.push({x:+n[i],y:+n[i+1]});return new nr(t)},nr.prototype={bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,s=i.length;if(0===s)return null;for(var o=0;o<s;o++){var a=i[o],l=a.x,d=a.y;l<e&&(e=l),l>t&&(t=l),d<n&&(n=d),d>r&&(r=d)}return new We(e,n,t-e,r-n)},clone:function(){var e=this.points,t=e.length;if(0===t)return new nr;for(var n=[],r=0;r<t;r++){var i=e[r].clone();n.push(i)}return new nr(n)},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.points,n=t.length;if(0===n||1===n)return 0;for(var r,i=1/0,s=0,o=n-1,a=0;a<o;a++){var l=new $e(t[a],t[a+1]),d=l.length(),p=l.closestPointNormalizedLength(e),I=l.pointAt(p).squaredDistance(e);I<i&&(i=I,r=s+p*d),s+=d}return r},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(0===t)return 0;var n=this.length();return 0===n?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(0===n)return!1;for(var r=e.x,i=e.y,s=n-1,o=0,a=0;o<n;o++){var l=t[s],d=t[o];if(e.equals(l))return!0;var p=new $e(l,d);if(p.containsPoint(e))return!0;if(i<=l.y&&i>d.y||i>l.y&&i<=d.y){var h=l.x-r>d.x-r?l.x-r:d.x-r;if(h>=0){var I=new ae(r+h,i),b=new $e(e,I);p.intersect(b)&&a++}}s=o}return a%2==1},convexHull:function(){var e,t,i,n=this.points,r=n.length;if(0===r)return new nr;for(e=0;e<r;e++)(void 0===i||n[e].y<i.y||n[e].y===i.y&&n[e].x>i.x)&&(i=n[e]);var s=[];for(e=0;e<r;e++){var o=i.theta(n[e]);0===o&&(o=360),s.push([n[e],e,o])}s.sort(function(Ne,ke){var Ge=Ne[2]-ke[2];return 0===Ge&&(Ge=ke[1]-Ne[1]),Ge}),s.length>2&&s.unshift(s[s.length-1]);for(var h,I,b,E,j,U,d={},p=[];0!==s.length;)if(I=(h=s.pop())[0],!d.hasOwnProperty(h[0]+"@@"+h[1]))for(var Q=!1;!Q;)if(p.length<2)p.push(h),Q=!0;else{E=(b=p.pop())[0];var z=(U=(j=p.pop())[0]).cross(E,I);if(z<0)p.push(j),p.push(b),p.push(h),Q=!0;else if(0===z){var S=E.angleBetween(U,I);SE(S-180)<1e-10||E.equals(I)||U.equals(E)?(d[b[0]+"@@"+b[1]]=E,p.push(j)):SE((S+1)%360-1)<1e-10&&(p.push(j),s.push(b))}else d[b[0]+"@@"+b[1]]=E,p.push(j)}p.length>2&&p.pop();var T,G=-1;for(t=p.length,e=0;e<t;e++){var K=p[e][1];(void 0===T||K<T)&&(T=K,G=e)}var le=[];if(G>0){var ge=p.slice(G),Ie=p.slice(0,G);le=ge.concat(Ie)}else le=p;var Te=[];for(t=le.length,e=0;e<t;e++)Te.push(le[e][0]);return new nr(Te)},equals:function(e){if(!e)return!1;var t=this.points,r=t.length;if(e.points.length!==r)return!1;for(var i=0;i<r;i++)if(!t[i].equals(e.points[i]))return!1;return!0},intersectionWithLine:function(e){for(var t=new $e(e),n=[],r=this.points,i=0,s=r.length-1;i<s;i++){var l=new $e(r[i],r[i+1]),d=t.intersectionWithLine(l);d&&n.push(d[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(0===t)return!1;for(var n=t-1,r=0;r<n;r++)if(new $e(e[r],e[r+1]).isDifferentiable())return!0;return!1},length:function(){var e=this.points,t=e.length;if(0===t)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length();return this.pointAtLength(r*e)},pointAtLength:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,s=n-1,o=0;o<s;o++){var a=r?o:s-1-o,l=t[a],d=t[a+1],p=new $e(l,d),h=l.distance(d);if(e<=i+h)return p.pointAtLength((r?1:-1)*(e-i));i+=h}return(r?t[n-1]:t[0]).clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,i=r.length,s=0;s<i;s++)r[s].scale(e,t,n);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const n=e.threshold||0;let r=0;for(;t[r+2];){const s=r+1,l=t[s];new $e(t[r],t[r+2]).closestPoint(l).distance(l)<=n?t.splice(s,1):r+=1}return this},tangentAt:function(e){var n=this.points.length;if(0===n||1===n)return null;e<0&&(e=0),e>1&&(e=1);var r=this.length();return this.tangentAtLength(r*e)},tangentAtLength:function(e){var t=this.points,n=t.length;if(0===n||1===n)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,s=0,o=n-1,a=0;a<o;a++){var l=r?a:o-1-a,d=t[l],p=t[l+1],h=new $e(d,p),I=d.distance(p);if(h.isDifferentiable()){if(e<=s+I)return h.tangentAtLength((r?1:-1)*(e-s));i=h}s+=I}return i?i.tangentAt(r?1:0):null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(0===t)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}},Object.defineProperty(nr.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(nr.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points.length;return 0===t?null:this.points[t-1]}});const{abs:py,sqrt:Ij,min:EE,max:_E,pow:KA}=Math,On=function(e,t,n,r){return this instanceof On?e instanceof On?new On(e.start,e.controlPoint1,e.controlPoint2,e.end):(this.start=new ae(e),this.controlPoint1=new ae(t),this.controlPoint2=new ae(n),void(this.end=new ae(r))):new On(e,t,n,r)};On.throughPoints=function(){function t(n){var r=n.length,i=[],s=[],o=2;i[0]=n[0]/o;for(var a=1;a<r;a++)s[a]=1/o,i[a]=(n[a]-i[a-1])/(o=(a<r-1?4:3.5)-s[a]);for(a=1;a<r;a++)i[r-a-1]-=s[r-a]*i[r-a];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=function(n){var o,r=[],i=[],s=n.length-1;if(1==s)return r[0]=new ae((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new ae(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var a=[];for(o=1;o<s-1;o++)a[o]=4*n[o].x+2*n[o+1].x;a[0]=n[0].x+2*n[1].x,a[s-1]=(8*n[s-1].x+n[s].x)/2;var l=t(a);for(o=1;o<s-1;++o)a[o]=4*n[o].y+2*n[o+1].y;a[0]=n[0].y+2*n[1].y,a[s-1]=(8*n[s-1].y+n[s].y)/2;var d=t(a);for(o=0;o<s;o++)r.push(new ae(l[o],d[o])),i.push(o<s-1?new ae(2*n[o+1].x-l[o+1],2*n[o+1].y-d[o+1]):new ae((n[s].x+l[s-1])/2,(n[s].y+d[s-1])/2));return[r,i]}(n),i=[],s=r[0].length,o=0;o<s;o++){var a=new ae(r[0][o].x,r[0][o].y),l=new ae(r[1][o].x,r[1][o].y);i.push(new On(n[o],a,l,n[o+1]))}return i}}(),On.prototype={bbox:function(){for(var j,U,Q,z,w,S,T,G,e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end,i=e.x,s=e.y,o=t.x,a=t.y,l=n.x,d=n.y,p=r.x,h=r.y,I=new Array,b=new Array,E=[new Array,new Array],K=0;K<2;++K)if(0===K?(U=6*i-12*o+6*l,j=-3*i+9*o-9*l+3*p,Q=3*o-3*i):(U=6*s-12*a+6*d,j=-3*s+9*a-9*d+3*h,Q=3*a-3*s),py(j)<1e-12){if(py(U)<1e-12)continue;0<(z=-Q/U)&&z<1&&b.push(z)}else G=Ij(T=U*U-4*Q*j),!(T<0)&&(0<(w=(-U+G)/(2*j))&&w<1&&b.push(w),0<(S=(-U-G)/(2*j))&&S<1&&b.push(S));for(var Ie,Te,Ne,le=b.length,ge=le;le--;)E[0][le]=Te=(Ie=1-(z=b[le]))*Ie*Ie*i+3*Ie*Ie*z*o+3*Ie*z*z*l+z*z*z*p,E[1][le]=Ne=Ie*Ie*Ie*s+3*Ie*Ie*z*a+3*Ie*z*z*d+z*z*z*h,I[le]={X:Te,Y:Ne};b[ge]=0,b[ge+1]=1,I[ge]={X:i,Y:s},I[ge+1]={X:p,Y:h},E[0][ge]=i,E[1][ge]=s,E[0][ge+1]=p,E[1][ge+1]=h,b.length=ge+2,E[0].length=ge+2,E[1].length=ge+2,I.length=ge+2;var ke=EE.apply(null,E[0]),Ge=EE.apply(null,E[1]),Ye=_E.apply(null,E[0]),it=_E.apply(null,E[1]);return new We(ke,Ge,Ye-ke,it-Ge)},clone:function(){return new On(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},s=this.closestPointLength(e,i);if(!s)return 0;var o=this.length(i);return 0===o?0:s/o},closestPointT:function(e,t){for(var i,s,o,a,l,d,p,n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions,h=r.length,I=h?1/h:0,b=0;b<h;b++){var E=r[b],j=E.start.distance(e),U=E.end.distance(e),Q=j+U;(!p||Q<p)&&(i=E,s=b*I,o=(b+1)*I,a=j,l=U,d=E.start.distance(E.end),p=Q)}for(var z=KA(10,-n);;){var w=a?py(a-l)/a:0,S=l?py(a-l)/l:0;if(w<z||S<z||!a||a<d*z||!l||l<d*z)return a<=l?s:o;var ge=i.divide(.5);I/=2;var Ie=ge[0].start.distance(e),Te=ge[0].end.distance(e),Ne=Ie+Te,ke=ge[1].start.distance(e),Ge=ge[1].end.distance(e);Ne<=ke+Ge?(i=ge[0],o-=I,a=Ie,l=Te):(i=ge[1],s+=I,a=ke,l=Ge)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){return this.toPolyline(t).containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new On(t,t,t,t),new On(t,n,r,i)];if(e>=1)return[new On(t,n,r,i),new On(i,i,i,i)];var s=this.getSkeletonPoints(e),l=s.divider,d=s.dividerControlPoint1,p=s.dividerControlPoint2;return[new On(t,s.startControlPoint1,s.startControlPoint2,l),new On(l,d,p,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var s=new $e(t,n).pointAt(e),o=new $e(n,r).pointAt(e),a=new $e(r,i).pointAt(e),l=new $e(s,o).pointAt(e),d=new $e(o,a).pointAt(e);return{startControlPoint1:s,startControlPoint2:l,divider:new $e(l,d).pointAt(e),dividerControlPoint1:d,dividerControlPoint2:a}},getSubdivisions:function(e){var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=[new On(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===t)return n;for(var r=this.endpointDistance(),i=KA(10,-t),s=0;;){s+=1;for(var o=[],a=n.length,l=0;l<a;l++){var p=n[l].divide(.5);o.push(p[0],p[1])}for(var h=0,I=o.length,b=0;b<I;b++)h+=o[b].endpointDistance();if(s>1&&(0!==h?(h-r)/h:0)<i)return o;n=o,r=h}},isDifferentiable:function(){var t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){for(var n=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,r=0,i=n.length,s=0;s<i;s++)r+=n[s].endpointDistance();return r},lengthAtT:function(e,t){if(e<=0)return 0;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:n})},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,i=t.divider,s=new $e(n,t.dividerControlPoint1);return s.translate(i.x-n.x,i.y-n.y),s},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},s=this.length(i);return this.tAtLength(s*e,i)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e);for(var o,a,l,d,p,r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:r}):t.subdivisions,s={precision:r,subdivisions:i},h=0,I=i.length,b=1/I,E=0;E<I;E++){var j=n?E:I-1-E,U=i[E],Q=U.endpointDistance();if(e<=h+Q){o=U,a=j*b,l=(j+1)*b,d=n?e-h:Q+h-e,p=n?Q+h-e:e-h;break}h+=Q}if(!o)return n?1:0;for(var z=this.length(s),w=KA(10,-r);;){if((0!==z?d/z:0)<w)return a;if((0!==z?p/z:0)<w)return l;var T,G,K=o.divide(.5);b/=2;var le=K[0].endpointDistance(),ge=K[1].endpointDistance();d<=le?(o=K[0],l-=b,G=le-(T=d)):(o=K[1],a+=b,G=ge-(T=d-le)),d=T,p=G}},toPoints:function(e){for(var n=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,r=[n[0].start.clone()],i=n.length,s=0;s<i;s++)r.push(n[s].end.clone());return r},toPolyline:function(e){return new nr(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}},On.prototype.divide=On.prototype.divideAtT;const st=function(e){if(!(this instanceof st))return new st(e);if("string"==typeof e)return new st.parse(e);var t,n;if(this.segments=[],e)if(Array.isArray(e)&&0!==e.length)if(n=(e=e.reduce(function(a,l){return a.concat(l)},[])).length,e[0].isSegment)for(t=0;t<n;t++)this.appendSegment(e[t]);else{var i=null;for(t=0;t<n;t++){var s=e[t];if(!(s instanceof $e||s instanceof On))throw new Error("Cannot construct a path segment from the provided object.");0===t&&this.appendSegment(st.createSegment("M",s.start)),i&&!i.end.equals(s.start)&&this.appendSegment(st.createSegment("M",s.start)),s instanceof $e?this.appendSegment(st.createSegment("L",s.end)):s instanceof On&&this.appendSegment(st.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),i=s}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof $e)this.appendSegment(st.createSegment("M",e.start)),this.appendSegment(st.createSegment("L",e.end));else if(e instanceof On)this.appendSegment(st.createSegment("M",e.start)),this.appendSegment(st.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else{if(!(e instanceof nr))throw new Error("Cannot construct a path from the provided object.");if(!e.points||0===e.points.length)return;for(n=e.points.length,t=0;t<n;t++){this.appendSegment(st.createSegment(0===t?"M":"L",e.points[t]))}}};function yu(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}function my(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(n=r.length,t=0;t<n;t++){var o,a,s=r[t];for(a in s)s.hasOwnProperty(a)&&(delete i[a],o=Object.getOwnPropertyDescriptor(s,a),Object.defineProperty(i,a,o))}return i}st.parse=function(e){if(!e)return new st;for(var t=new st,r=e.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),i=r.length,s=0;s<i;s++){var l=r[s].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),d=st.createSegment.apply(this,l);t.appendSegment(d)}return t},st.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=st.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return yu(t,n)},st.prototype={appendSegment:function(e){var r,t=this.segments,n=t.length,i=0!==n?t[n-1]:null;if(Array.isArray(e)){if(!(e=e.reduce(function(d,p){return d.concat(p)},[]))[0].isSegment)throw new Error("Segments required.");for(var o=e.length,a=0;a<o;a++)r=this.prepareSegment(e[a],i,null),t.push(r),i=r}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,i,null),t.push(r)}},bbox:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n,r=0;r<t;r++){var i=e[r];if(i.isVisible){var s=i.bbox();n=n?n.union(s):s}}if(n)return n;var o=e[t-1];return new We(o.end.x,o.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new st,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},s=this.closestPointT(e,i);return s?this.lengthAtT(s,i):0},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},s=this.closestPointLength(e,i);if(0===s)return 0;var o=this.length(i);return 0===o?0:s/o},closestPointT:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var o,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a=1/0,l=0;l<r;l++){var d=n[l];if(d.isVisible){var h=d.closestPointT(e,{precision:i,subdivisions:s[l]}),I=d.pointAtT(h),b=new $e(I,e).squaredLength();b<a&&(o={segmentIndex:l,value:h},a=b)}}return o||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var o,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a=1/0,l=0;l<r;l++){var d=n[l],p=s[l];if(d.isDifferentiable()){var h=d.closestPointT(e,{precision:i,subdivisions:p}),I=d.pointAtT(h),b=new $e(I,e).squaredLength();b<a&&(o=d.tangentAtT(h),a=b)}}return o||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,s=0;s<r;s++)n[s].containsPoint(e)&&i++;return i%2==1},divideAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(o);return this.divideAtLength(a*e,o)},divideAtLength:function(e,t){var n=this.segments.length;if(0===n)return null;var r=!0;e<0&&(r=!1,e=-e);var o,a,d,p,h,I,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,l=0;for(o=0;o<n;o++){var E=r?o:n-1-o;a=this.getSegment(E);var j=s[E],U=a.length({precision:i,subdivisions:j});if(a.isDifferentiable()&&(h=a,I=E,e<=l+U)){p=E,d=a.divideAtLength((r?1:-1)*(e-l),{precision:i,subdivisions:j});break}l+=U}if(!h)return null;d||(p=I,d=h.divideAtT(r?1:0));var Q=this.clone();Q.replaceSegment(p,d);var z=p,w=p+1,S=p+2;d[0].isDifferentiable()||(Q.removeSegment(z),w-=1,S-=1);var T=Q.getSegment(w).start;Q.insertSegment(w,st.createSegment("M",T)),S+=1,d[1].isDifferentiable()||(Q.removeSegment(S-1),S-=1);var G=S-z-1;for(o=S;o<Q.segments.length;o++){var K=this.getSegment(o-G);if("Z"===(a=Q.getSegment(o)).type&&!K.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var le=st.createSegment("L",K.end);Q.replaceSegment(o,le)}}return[new st(Q.segments.slice(0,w)),new st(Q.segments.slice(w))]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var s=t[i],o=n[i];if(s.type!==o.type||!s.equals(o))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){for(var t=this.segments,n=t.length,r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=[],s=0;s<n;s++){var a=t[s].getSubdivisions({precision:r});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,n=t.length,r=[];for(let i=0;i<n;i++){const s=t[i];s.isSubpathStart?r.push(new st(s)):r[r.length-1].appendSegment(s)}return r},insertSegment:function(e,t){var n=this.segments,r=n.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i,s=null,o=null;if(0!==r&&(o=e>=1?(s=n[e-1]).nextSegment:n[0]),Array.isArray(t)){if(!(t=t.reduce(function(p,h){return p.concat(h)},[]))[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++)i=this.prepareSegment(t[l],s,o),n.splice(e+l,0,i),s=i}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,o),n.splice(e,0,i)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,s=r.length;i<s;i++){var a=e.intersect(r[i]);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++)if(e[n].isDifferentiable())return!0;return!1},isValid:function(){var e=this.segments;return 0===e.length||"M"===e[0].type},length:function(e){var t=this.segments,n=t.length;if(0===n)return 0;for(var i=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,s=0,o=0;o<n;o++)s+=t[o].length({subdivisions:i[o]});return s},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(0===r)return 0;var i=e.segmentIndex;if(i<0)return 0;var s=e.value;i>=r?(i=r-1,s=1):s<0?s=0:s>1&&(s=1);for(var o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,d=0,p=0;p<i;p++){var h=n[p];d+=h.length({precisison:o,subdivisions:a[p]})}return d+(h=n[i]).lengthAtT(s,{precisison:o,subdivisions:a[i]})},pointAt:function(e,t){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(o);return this.pointAtLength(a*e,o)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;if(0===e)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e);for(var a,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l=0,d=0;d<r;d++){var p=i?d:r-1-d,h=n[p],I=o[p],b=h.length({precision:s,subdivisions:I});if(h.isVisible){if(e<=l+b)return h.pointAtLength((i?1:-1)*(e-l),{precision:s,subdivisions:I});a=h}l+=b}return a?i?a.end:a.start:n[r-1].end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,s=r.nextSegment;i&&(i.nextSegment=s),s&&(s.previousSegment=i),r.isSubpathStart&&s&&this.updateSubpathStartSegment(s)},replaceSegment:function(e,t){var n=this.segments,r=n.length;if(0===r)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var i,s=n[e],o=s.previousSegment,a=s.nextSegment,l=s.isSubpathStart;if(Array.isArray(t)){if(!(t=t.reduce(function(I,b){return I.concat(b)},[]))[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var d=t.length,p=0;p<d;p++)i=this.prepareSegment(t[p],o,a),n.splice(e+p,0,i),o=i,l&&i.isSubpathStart&&(l=!1)}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,a),n.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.segments,i=r.length,s=0;s<i;s++)r[s].scale(e,t,n);return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(o);return this.segmentIndexAtLength(a*e,o)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,a=null,l=0,d=0;d<r;d++){var p=i?d:r-1-d,h=n[p],b=h.length({precision:s,subdivisions:o[p]});if(h.isVisible){if(e<=l+b)return p;a=p}l+=b}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(o);return this.tangentAtLength(a*e,o)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var a,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l=0,d=0;d<r;d++){var p=i?d:r-1-d,h=n[p],I=o[p],b=h.length({precision:s,subdivisions:I});if(h.isDifferentiable()){if(e<=l+b)return h.tangentAtLength((i?1:-1)*(e-l),{precision:s,subdivisions:I});a=h}l+=b}return a?a.tangentAtT(i?1:0):null},tangentAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(0===n)return null;for(var i=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,s=[],o=[],a=0;a<n;a++){var l=t[a];if(l.isVisible){var d=i[a];if(d.length>0){var p=d.map(function(h){return h.start});Array.prototype.push.apply(o,p)}else o.push(l.start)}else o.length>0&&(o.push(t[a-1].end),s.push(o),o=[])}return o.length>0&&(o.push(this.end),s.push(o)),s},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new nr(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++)n+=e[r].serialize()+" ";return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)e.subpathStartSegment=t?t.subpathStartSegment:null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,st.createSegment("M",0,0)),this}},Object.defineProperty(st.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}}),Object.defineProperty(st.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});var rf={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(rf,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(rf,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(rf,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var ns=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof ns))return yu(ns,e);if(0===t)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof $e){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(2===t)return this.end=new ae(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(yu(ns,i));return r}if(1===t)return this.end=new ae(e[0]),this;for(r=[],n=0;n<t;n+=1)r.push(new ns(e[n]));return r},NE={clone:function(){return new ns(this.end)},divideAt:function(e){var n=new $e(this.start,this.end).divideAt(e);return[new ns(n[0]),new ns(n[1])]},divideAtLength:function(e){var n=new $e(this.start,this.end).divideAtLength(e);return[new ns(n[0]),new ns(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(NE,"type",{configurable:!0,enumerable:!0,value:"L"}),ns.prototype=my(rf,$e.prototype,NE);var Ao=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Ao))return yu(Ao,e);if(0===t)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r,s;if(e[0]instanceof On){if(1===t)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(6===t)return this.controlPoint1=new ae(+e[0],+e[1]),this.controlPoint2=new ae(+e[2],+e[3]),this.end=new ae(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=6)i=e.slice(n,n+6),r.push(yu(Ao,i));return r}if(3===t)return this.controlPoint1=new ae(e[0]),this.controlPoint2=new ae(e[1]),this.end=new ae(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");for(r=[],n=0;n<t;n+=3)s=e.slice(n,n+3),r.push(yu(Ao,s));return r},TE={clone:function(){return new Ao(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new On(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(e,t);return[new Ao(r[0]),new Ao(r[1])]},divideAtLength:function(e,t){var r=new On(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(e,t);return[new Ao(r[0]),new Ao(r[1])]},divideAtT:function(e){var n=new On(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(e);return[new Ao(n[0]),new Ao(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(TE,"type",{configurable:!0,enumerable:!0,value:"C"}),Ao.prototype=my(rf,On.prototype,TE);var sf=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof sf))return yu(sf,e);if(0===t)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r,s;if(e[0]instanceof $e){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}if(e[0]instanceof On){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(2===t)return this.end=new ae(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(yu(0===n?sf:ns,i));return r}if(1===t)return this.end=new ae(e[0]),this;for(r=[],n=0;n<t;n+=1)s=e[n],r.push(0===n?new sf(s):new ns(s));return r},ew={bbox:function(){return null},clone:function(){return new sf(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(ew,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(ew,"type",{configurable:!0,enumerable:!0,value:"M"}),sf.prototype=my(rf,ew);var Qd=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Qd))return yu(Qd,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},tw={clone:function(){return new Qd},divideAt:function(e){var n=new $e(this.start,this.end).divideAt(e);return[n[1].isDifferentiable()?new ns(n[0]):this.clone(),new ns(n[1])]},divideAtLength:function(e){var n=new $e(this.start,this.end).divideAtLength(e);return[n[1].isDifferentiable()?new ns(n[0]):this.clone(),new ns(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(tw,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(tw,"type",{configurable:!0,enumerable:!0,value:"Z"}),Qd.prototype=my(rf,$e.prototype,tw);var Cj=st.segmentTypes={L:ns,C:Ao,M:sf,Z:Qd,z:Qd};st.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Cj).join("")+",.]*$"),st.isDataSupported=function(e){return"string"==typeof e&&this.regexSupportedData.test(e)};const Aj={curveThroughPoints:function(e){return console.warn("deprecated"),new st(On.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var i,t=[],n=[],r=e.length-1;if(1==r)return t[0]=new ae((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new ae(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var s=[];for(i=1;i<r-1;i++)s[i]=4*e[i].x+2*e[i+1].x;s[0]=e[0].x+2*e[1].x,s[r-1]=(8*e[r-1].x+e[r].x)/2;var o=this.getFirstControlPoints(s);for(i=1;i<r-1;++i)s[i]=4*e[i].y+2*e[i+1].y;s[0]=e[0].y+2*e[1].y,s[r-1]=(8*e[r-1].y+e[r].y)/2;var a=this.getFirstControlPoints(s);for(i=0;i<r;i++)t.push(new ae(o[i],a[i])),n.push(i<r-1?new ae(2*e[i+1].x-o[i+1],2*e[i+1].y-a[i+1]):new ae((e[r].x+o[r-1])/2,(e[r].y+a[r-1])/2));return[t,n]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new On(e,t,n,r);return function(o){var a=i.divide(o);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var s=1;s<t;s++)r[s]=1/i,n[s]=(e[s]-n[s-1])/(i=(s<t-1?4:3.5)-r[s]);for(s=1;s<t;s++)n[t-s-1]-=r[t-s]*n[t-s];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new On(e,t,n,r);return function(o){return i.closestPointT(o)}}},Ce=function(){if("object"!=typeof window||!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r=Math,i=r.PI,s=r.atan2,o=r.sqrt,a=r.min,l=r.max,d=r.cos,p=r.sin,h=function(w,S,T){if(!(this instanceof h))return h.apply(Object.create(h.prototype),arguments);if(w){if(h.isV(w)&&(w=w.node),S=S||{},h.isString(w)){if("svg"===w.toLowerCase())w=h.createSvgDocument();else if("<"===w[0]){var G=h.createSvgDocument(w);if(G.childNodes.length>1){var le,ge,K=[];for(le=0,ge=G.childNodes.length;le<ge;le++){var Ie=G.childNodes[le];K.push(new h(document.importNode(Ie,!0)))}return K}w=document.importNode(G.firstChild,!0)}else w=document.createElementNS(t.svg,w);h.ensureId(w)}return this.node=w,this.setAttributes(S),T&&this.append(T),this}},I=h.prototype;function E(w,S,T){T||(T={});for(var G=T.includeAnnotationIndices,K=T.eol,le=T.lineHeight,ge=T.baseSize,Ie=0,Te={},Ne=S.length-1,ke=0;ke<=Ne;ke++){var Ge=S[ke],Ye=null;if(h.isObject(Ge)){var it=Ge.attrs,Hn=h("tspan",it),Un=Hn.node,Nr=Ge.t;K&&ke===Ne&&(Nr+=K),Un.textContent=Nr;var yt=it.class;yt&&Hn.addClass(yt),G&&Hn.attr("annotations",Ge.annotations),Ye=parseFloat(it["font-size"]),isFinite(Ye)||(Ye=ge),Ye&&Ye>Ie&&(Ie=Ye)}else K&&ke===Ne&&(Ge+=K),Un=document.createTextNode(Ge||" "),ge&&ge>Ie&&(Ie=ge);w.appendChild(Un)}return Ie&&(Te.maxFontSize=Ie),le?Te.lineHeight=le:Ie&&(Te.lineHeight=1.2*Ie),Te}Object.defineProperty(I,"id",{enumerable:!0,get:function(){return this.node.id},set:function(w){this.node.id=w}}),I.getTransformToElement=function(w){var S=this.node;if(h.isSVGGraphicsElement(w)&&h.isSVGGraphicsElement(S)){var T=h.toNode(w).getScreenCTM(),G=S.getScreenCTM();if(T&&G)return T.inverse().multiply(G)}return h.createSVGMatrix()},I.transform=function(w,S){var T=this.node;if(h.isUndefined(w))return h.transformStringToMatrix(this.attr("transform"));if(S&&S.absolute)return this.attr("transform",h.matrixToTransformString(w));var G=h.createSVGTransform(w);return T.transform.baseVal.appendItem(G),this},I.translate=function(w,S,T){T=T||{},S=S||0;var G=this.attr("transform")||"",K=h.parseTransformString(G);return G=K.value,h.isUndefined(w)?K.translate:(G=G.replace(/translate\([^)]*\)/g,"").trim(),this.attr("transform",("translate("+(T.absolute?w:K.translate.tx+w)+","+(T.absolute?S:K.translate.ty+S)+") "+G).trim()),this)},I.rotate=function(w,S,T,G){G=G||{};var K=this.attr("transform")||"",le=h.parseTransformString(K);return K=le.value,h.isUndefined(w)?le.rotate:(K=K.replace(/rotate\([^)]*\)/g,"").trim(),w%=360,this.attr("transform",(K+" rotate("+(G.absolute?w:le.rotate.angle+w)+(void 0!==S&&void 0!==T?","+S+","+T:"")+")").trim()),this)},I.scale=function(w,S){S=h.isUndefined(S)?w:S;var T=this.attr("transform")||"",G=h.parseTransformString(T);return T=G.value,h.isUndefined(w)?G.scale:(T=T.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(T+" scale("+w+","+S+")").trim()),this)},I.bbox=function(w,S){var T,G=this.node,K=G.ownerSVGElement;if(!K)return new We(0,0,0,0);try{T=G.getBBox()}catch(ge){T={x:G.clientLeft,y:G.clientTop,width:G.clientWidth,height:G.clientHeight}}if(w)return new We(T);var le=this.getTransformToElement(S||K);return h.transformRect(T,le)},I.getBBox=function(w){var T,S={},G=this.node;if(!G.ownerSVGElement||!h.isSVGGraphicsElement(G))return new We(0,0,0,0);if(w&&(w.target&&(S.target=h.toNode(w.target)),w.recursive&&(S.recursive=w.recursive)),S.recursive){var ge=this.children(),Ie=ge.length;if(0===Ie)return this.getBBox({target:S.target,recursive:!1});S.target||(S.target=this);for(var Te=0;Te<Ie;Te++){var ke,Ne=ge[Te];ke=0===Ne.children().length?Ne.getBBox({target:S.target,recursive:!1}):Ne.getBBox({target:S.target,recursive:!0}),T=T?T.union(ke):ke}return T}try{T=G.getBBox()}catch(Ge){T={x:G.clientLeft,y:G.clientTop,width:G.clientWidth,height:G.clientHeight}}if(S.target){var le=this.getTransformToElement(S.target);return h.transformRect(T,le)}return new We(T)};var j=/em$/;function U(w,S){var T=parseFloat(w);return j.test(w)?T*S:T}I.text=function(w,S){if(w&&"string"!=typeof w)throw new Error("Vectorizer: text() expects the first argument to be a string.");w=h.sanitizeText(w),S||(S={});var T=S.displayEmpty,G=S.eol,K=S.textPath,le=S.textVerticalAnchor,ge="middle"===le||"bottom"===le||"top"===le,Ie=S.x;void 0===Ie&&(Ie=this.attr("x")||0);var Te=S.includeAnnotationIndices,Ne=S.annotations;Ne&&!h.isArray(Ne)&&(Ne=[Ne]);var ke=S.lineHeight,Ge="auto"===ke,Ye=Ge?"1.5em":ke||"1em";this.empty(),this.attr({"xml:space":"preserve",display:w||T?null:"none"});var it=parseFloat(this.attr("font-size"));it||(it=16,(ge||Ne)&&this.attr("font-size",it));var Un,Hn=document;K?("string"==typeof K&&(K={d:K}),Un=function(w,S){w||(w={});var T=h("textPath"),G=w.d;if(G&&void 0===w["xlink:href"]){var K=h("path").attr("d",G).appendTo(S.defs());T.attr("xlink:href","#"+K.id)}return h.isObject(w)&&T.attr(w),T.node}(K,this)):Un=Hn.createDocumentFragment();for(var Dt,Nr=0,yt=w.split("\n"),zt=[],Ct=0,sn=yt.length-1;Ct<=sn;Ct++){var Cn,Rn=Ye,kn="v-line",Kt=Hn.createElementNS(t.svg,"tspan"),Cr=yt[Ct];if(Cr)if(Ne){var fn=(Cn=E(Kt,h.annotateString(Cr,Ne,{offset:-Nr,includeAnnotationIndices:Te}),{includeAnnotationIndices:Te,eol:Ct!==sn&&G,lineHeight:Ge?null:Ye,baseSize:it})).lineHeight;fn&&Ge&&0!==Ct&&(Rn=fn),0===Ct&&(Dt=.8*Cn.maxFontSize)}else G&&Ct!==sn&&(Cr+=G),Kt.textContent=Cr;else{Kt.textContent="-",kn+=" v-empty-line";var pt=Kt.style;pt.fillOpacity=0,pt.strokeOpacity=0,Ne&&(Cn={})}Cn&&zt.push(Cn),Ct>0&&Kt.setAttribute("dy",Rn),(Ct>0||K)&&Kt.setAttribute("x",Ie),Kt.className.baseVal=kn,Un.appendChild(Kt),Nr+=Cr.length+1}if(ge)if(Ne)Rn=function(w,S,T,G){if(!Array.isArray(S))return 0;var K=S.length;if(!K)return 0;for(var le=S[0],ge=U(le.maxFontSize,T)||T,Ie=0,Te=U(G,T),Ne=1;Ne<K;Ne++)Ie+=U((le=S[Ne]).lineHeight,T)||Te;var Ye,Ge=U(le.maxFontSize,T)||T;switch(w){case"middle":Ye=ge/2-.15*Ge-Ie/2;break;case"bottom":Ye=-.25*Ge-Ie;break;default:Ye=.8*ge}return Ye}(le,zt,it,Ye);else if("top"===le)Rn="0.8em";else{var Ze;switch(sn>0?(Ze=parseFloat(Ye)||1,Ze*=sn,j.test(Ye)||(Ze/=it)):Ze=0,le){case"middle":Rn=.3-Ze/2+"em";break;case"bottom":Rn=-Ze-.3+"em"}}else 0===le?Rn="0em":le?Rn=le:(Rn=0,null===this.attr("y")&&this.attr("y",Dt||"0.8em"));return Un.firstChild.setAttribute("dy",Rn),this.append(Un),this},I.removeAttr=function(w){var S=h.qualifyAttr(w),T=this.node;return S.ns?T.hasAttributeNS(S.ns,S.local)&&T.removeAttributeNS(S.ns,S.local):T.hasAttribute(w)&&T.removeAttribute(w),this},I.attr=function(w,S){if(h.isUndefined(w)){for(var T=this.node.attributes,G={},K=0;K<T.length;K++)G[T[K].name]=T[K].value;return G}if(h.isString(w)&&h.isUndefined(S))return this.node.getAttribute(w);if("object"==typeof w)for(var le in w)w.hasOwnProperty(le)&&this.setAttribute(le,w[le]);else this.setAttribute(w,S);return this},I.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",h.normalizePathData(this.attr("d"))),this},I.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},I.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},I.setAttributes=function(w){for(var S in w)w.hasOwnProperty(S)&&this.setAttribute(S,w[S]);return this},I.append=function(w){h.isArray(w)||(w=[w]);for(var S=0,T=w.length;S<T;S++)this.node.appendChild(h.toNode(w[S]));return this},I.prepend=function(w){var S=this.node.firstChild;return S?h(S).before(w):this.append(w)},I.before=function(w){var S=this.node,T=S.parentNode;if(T){h.isArray(w)||(w=[w]);for(var G=0,K=w.length;G<K;G++)T.insertBefore(h.toNode(w[G]),S)}return this},I.appendTo=function(w){return h.toNode(w).appendChild(this.node),this},I.svg=function(){return this.node instanceof window.SVGSVGElement?this:h(this.node.ownerSVGElement)},I.tagName=function(){return this.node.tagName.toUpperCase()},I.defs=function(){var w=this.svg()||this,S=w.node.getElementsByTagName("defs")[0];return S?h(S):h("defs").appendTo(w)},I.clone=function(){var w=h(this.node.cloneNode(!0));return w.node.id=h.uniqueId(),w},I.findOne=function(w){var S=this.node.querySelector(w);return S?h(S):void 0},I.find=function(w){var S=[],T=this.node.querySelectorAll(w);if(T)for(var G=0;G<T.length;G++)S.push(h(T[G]));return S},I.children=function(){for(var w=this.node.childNodes,S=[],T=0;T<w.length;T++)1===w[T].nodeType&&S.push(h(w[T]));return S},I.parent=function(){return h(this.node.parentNode)||null},I.index=function(){for(var w=0,S=this.node.previousSibling;S;)1===S.nodeType&&w++,S=S.previousSibling;return w},I.findParentByClass=function(w,S){for(var T=this.node.ownerSVGElement,G=this.node.parentNode;G&&G!==S&&G!==T;){var K=h(G);if(K.hasClass(w))return K;G=G.parentNode}return null},I.contains=function(w){var S=this.node,T=h.toNode(w),G=T&&T.parentNode;return S===G||!!(G&&1===G.nodeType&&16&S.compareDocumentPosition(G))},I.toLocalPoint=function(w,S){var T=this.svg().node,G=T.createSVGPoint();G.x=w,G.y=S;try{var K=G.matrixTransform(T.getScreenCTM().inverse()),le=this.getTransformToElement(T).inverse()}catch(ge){return G}return K.matrixTransform(le)},I.translateCenterToPoint=function(w){var T=this.getBBox({target:this.svg()}).center();return this.translate(w.x-T.x,w.y-T.y),this},I.translateAndAutoOrient=function(w,S,T){w=new ae(w),S=new ae(S),T||(T=this.svg());var G=this.scale();this.attr("transform","");var K=this.getBBox({target:T}).scale(G.sx,G.sy),le=h.createSVGTransform();le.setTranslate(-K.x-K.width/2,-K.y-K.height/2);var ge=h.createSVGTransform(),Ie=w.angleBetween(S,w.clone().offset(1,0));Ie&&ge.setRotate(Ie,0,0);var Te=h.createSVGTransform(),Ne=w.clone().move(S,K.width/2);Te.setTranslate(2*w.x-Ne.x,2*w.y-Ne.y);var ke=this.getTransformToElement(T),Ge=h.createSVGTransform();return Ge.setMatrix(Te.matrix.multiply(ge.matrix.multiply(le.matrix.multiply(ke.scale(G.sx,G.sy))))),this.attr("transform",h.matrixToTransformString(Ge.matrix)),this},I.animateAlongPath=function(w,S){S=h.toNode(S);var T=h.ensureId(S),G=h("animateMotion",w),K=h("mpath",{"xlink:href":"#"+T});G.append(K),this.append(G);try{G.node.beginElement()}catch(Ye){if("fake"===document.documentElement.getAttribute("smiling")){var le=G.node;le.animators=[];var ge=le.getAttribute("id");ge&&(id2anim[ge]=le);for(var Ie=getTargets(le),Te=0,Ne=Ie.length;Te<Ne;Te++){var Ge=new Animator(le,Ie[Te],Te);animators.push(Ge),le.animators[Te]=Ge,Ge.register()}}}return this},I.hasClass=function(w){return new RegExp("(\\s|^)"+w+"(\\s|$)").test(this.node.getAttribute("class"))},I.addClass=function(w){if(w&&!this.hasClass(w)){var S=this.node.getAttribute("class")||"";this.node.setAttribute("class",(S+" "+w).trim())}return this},I.removeClass=function(w){if(w&&this.hasClass(w)){var S=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+w+"(\\s|$)","g"),"$2");this.node.setAttribute("class",S)}return this},I.toggleClass=function(w,S){return(h.isUndefined(S)?this.hasClass(w):!S)?this.removeClass(w):this.addClass(w),this},I.sample=function(w){w=w||1;for(var le,S=this.node,T=S.getTotalLength(),G=[],K=0;K<T;)le=S.getPointAtLength(K),G.push({x:le.x,y:le.y,distance:K}),K+=w;return G},I.convertToPath=function(){var w=h("path");w.attr(this.attr());var S=this.convertToPathData();return S&&w.attr("d",S),w},I.convertToPathData=function(){var w=this.tagName();switch(w){case"PATH":return this.attr("d");case"LINE":return h.convertLineToPathData(this.node);case"POLYGON":return h.convertPolygonToPathData(this.node);case"POLYLINE":return h.convertPolylineToPathData(this.node);case"ELLIPSE":return h.convertEllipseToPathData(this.node);case"CIRCLE":return h.convertCircleToPathData(this.node);case"RECT":return h.convertRectToPathData(this.node)}throw new Error(w+" cannot be converted to PATH.")},h.prototype.toGeometryShape=function(){var w,S,T,G,K,le,ge,Ie,Te,Ne,ke,Ge,Ye,it,Hn;switch(this.tagName()){case"RECT":return w=parseFloat(this.attr("x"))||0,S=parseFloat(this.attr("y"))||0,T=parseFloat(this.attr("width"))||0,G=parseFloat(this.attr("height"))||0,new We(w,S,T,G);case"CIRCLE":return K=parseFloat(this.attr("cx"))||0,le=parseFloat(this.attr("cy"))||0,ge=parseFloat(this.attr("r"))||0,new Vs({x:K,y:le},ge,ge);case"ELLIPSE":return K=parseFloat(this.attr("cx"))||0,le=parseFloat(this.attr("cy"))||0,Ie=parseFloat(this.attr("rx"))||0,Te=parseFloat(this.attr("ry"))||0,new Vs({x:K,y:le},Ie,Te);case"POLYLINE":return Ne=h.getPointsFromSvgNode(this),new nr(Ne);case"POLYGON":return(Ne=h.getPointsFromSvgNode(this)).length>1&&Ne.push(Ne[0]),new nr(Ne);case"PATH":return ke=this.attr("d"),st.isDataSupported(ke)||(ke=h.normalizePathData(ke)),new st(ke);case"LINE":return Ge=parseFloat(this.attr("x1"))||0,it=parseFloat(this.attr("y1"))||0,Ye=parseFloat(this.attr("x2"))||0,Hn=parseFloat(this.attr("y2"))||0,new $e({x:Ge,y:it},{x:Ye,y:Hn})}return this.getBBox()},I.findIntersection=function(w,S){var T=this.svg().node,G=this.getBBox({target:S=S||T}),K=G.center();if(G.intersectionWithLineFromCenterToPoint(w)){var le,ge=this.tagName();if("RECT"===ge){var Ie=new We(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),Te=this.getTransformToElement(S),Ne=h.decomposeMatrix(Te),ke=T.createSVGTransform();ke.setRotate(-Ne.rotation,K.x,K.y);var Ge=h.transformRect(Ie,ke.matrix.multiply(Te));le=new We(Ge).intersectionWithLineFromCenterToPoint(w,Ne.rotation)}else if("PATH"===ge||"POLYGON"===ge||"POLYLINE"===ge||"CIRCLE"===ge||"ELLIPSE"===ge){var Nr,yt,zt,Ct,sn,it=("PATH"===ge?this:this.convertToPath()).sample(),Hn=1/0,Un=[];for(Nr=0;Nr<it.length;Nr++)zt=(zt=h.createSVGPoint((yt=it[Nr]).x,yt.y)).matrixTransform(this.getTransformToElement(S)),(sn=(yt=new ae(zt)).distance(K)+(Ct=1.1*yt.distance(w)))<Hn?(Hn=sn,Un=[{sample:yt,refDistance:Ct}]):sn<Hn+1&&Un.push({sample:yt,refDistance:Ct});Un.sort(function(Rn,kn){return Rn.refDistance-kn.refDistance}),Un[0]&&(le=Un[0].sample)}return le}},I.setAttribute=function(w,S){var T=this.node;if(null===S)return this.removeAttr(w),this;var G=h.qualifyAttr(w);return G.ns?T.setAttributeNS(G.ns,w,S):"id"===w?T.id=S:T.setAttribute(w,S),this},h.createSvgDocument=function(w){if(w){const T=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="1.1">${w}</svg>`,{documentElement:G}=h.parseXML(T,{async:!1});return G}const S=document.createElementNS(t.svg,"svg");return S.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),S.setAttribute("version","1.1"),S},h.createSVGStyle=function(w){const{node:S}=h("style",{type:"text/css"},[h.createCDATASection(w)]);return S},h.createCDATASection=function(w=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(w)},h.idCounter=0,h.uniqueId=function(){return"v-"+ ++h.idCounter},h.toNode=function(w){return h.isV(w)?w.node:w.nodeName&&w||w[0]},h.ensureId=function(w){return(w=h.toNode(w)).id||(w.id=h.uniqueId())},h.sanitizeText=function(w){return(w||"").replace(/ /g,"\xa0")},h.isUndefined=function(w){return void 0===w},h.isString=function(w){return"string"==typeof w},h.isObject=function(w){return w&&"object"==typeof w},h.isArray=Array.isArray,h.parseXML=function(w,S){var T;S=S||{};try{var G=new DOMParser;h.isUndefined(S.async)||(G.async=S.async),T=G.parseFromString(w,"text/xml")}catch(K){T=void 0}if(!T||T.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+w);return T},h.qualifyAttr=function(w){if(-1!==w.indexOf(":")){var S=w.split(":");return{ns:t[S[0]],local:S[1]}}return{ns:null,local:w}},h.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,h.transformSeparatorRegex=/[ ,]+/,h.transformationListRegex=/^(\w+)\((.*)\)/,h.transformStringToMatrix=function(w){var S=h.createSVGMatrix(),T=w&&w.match(h.transformRegex);if(!T)return S;for(var G=0,K=T.length;G<K;G++){var ge=T[G].match(h.transformationListRegex);if(ge){var Ie,Te,Ne,ke,Ge,Ye=h.createSVGMatrix(),it=ge[2].split(h.transformSeparatorRegex);switch(ge[1].toLowerCase()){case"scale":Ie=parseFloat(it[0]),Te=void 0===it[1]?Ie:parseFloat(it[1]),Ye=Ye.scaleNonUniform(Ie,Te);break;case"translate":Ne=parseFloat(it[0]),ke=parseFloat(it[1]),Ye=Ye.translate(Ne,ke);break;case"rotate":Ge=parseFloat(it[0]),Ne=parseFloat(it[1])||0,ke=parseFloat(it[2])||0,Ye=0!==Ne||0!==ke?Ye.translate(Ne,ke).rotate(Ge).translate(-Ne,-ke):Ye.rotate(Ge);break;case"skewx":Ge=parseFloat(it[0]),Ye=Ye.skewX(Ge);break;case"skewy":Ge=parseFloat(it[0]),Ye=Ye.skewY(Ge);break;case"matrix":Ye.a=parseFloat(it[0]),Ye.b=parseFloat(it[1]),Ye.c=parseFloat(it[2]),Ye.d=parseFloat(it[3]),Ye.e=parseFloat(it[4]),Ye.f=parseFloat(it[5]);break;default:continue}S=S.multiply(Ye)}}return S},h.matrixToTransformString=function(w){return w||(w=!0),"matrix("+(void 0!==w.a?w.a:1)+","+(void 0!==w.b?w.b:0)+","+(void 0!==w.c?w.c:0)+","+(void 0!==w.d?w.d:1)+","+(void 0!==w.e?w.e:0)+","+(void 0!==w.f?w.f:0)+")"},h.parseTransformString=function(w){var S,T,G;if(w){var K=h.transformSeparatorRegex;if(w.trim().indexOf("matrix")>=0){var le=h.transformStringToMatrix(w),ge=h.decomposeMatrix(le);G=[ge.scaleX,ge.scaleY],T=[ge.rotation];var Ie=[];(0!==(S=[ge.translateX,ge.translateY])[0]||0!==S[1])&&Ie.push("translate("+S+")"),(1!==G[0]||1!==G[1])&&Ie.push("scale("+G+")"),0!==T[0]&&Ie.push("rotate("+T+")"),w=Ie.join(" ")}else{var Te=w.match(/translate\((.*?)\)/);Te&&(S=Te[1].split(K));var Ne=w.match(/rotate\((.*?)\)/);Ne&&(T=Ne[1].split(K));var ke=w.match(/scale\((.*?)\)/);ke&&(G=ke[1].split(K))}}var Ge=G&&G[0]?parseFloat(G[0]):1;return{value:w,translate:{tx:S&&S[0]?parseInt(S[0],10):0,ty:S&&S[1]?parseInt(S[1],10):0},rotate:{angle:T&&T[0]?parseInt(T[0],10):0,cx:T&&T[1]?parseInt(T[1],10):void 0,cy:T&&T[2]?parseInt(T[2],10):void 0},scale:{sx:Ge,sy:G&&G[1]?parseFloat(G[1]):Ge}}},h.deltaTransformPoint=function(w,S){return{x:S.x*w.a+S.y*w.c+0,y:S.x*w.b+S.y*w.d+0}},h.decomposeMatrix=function(w){var S=h.deltaTransformPoint(w,{x:0,y:1}),T=h.deltaTransformPoint(w,{x:1,y:0}),G=180/i*s(S.y,S.x)-90,K=180/i*s(T.y,T.x);return{translateX:w.e,translateY:w.f,scaleX:o(w.a*w.a+w.b*w.b),scaleY:o(w.c*w.c+w.d*w.d),skewX:G,skewY:K,rotation:G}},h.matrixToScale=function(w){var S,T,G,K;return w?(S=h.isUndefined(w.a)?1:w.a,K=h.isUndefined(w.d)?1:w.d,T=w.b,G=w.c):S=K=1,{sx:T?o(S*S+T*T):S,sy:G?o(G*G+K*K):K}},h.matrixToRotate=function(w){var S={x:0,y:1};return w&&(S=h.deltaTransformPoint(w,S)),{angle:vu(cy(s(S.y,S.x))-90)}},h.matrixToTranslate=function(w){return{tx:w&&w.e||0,ty:w&&w.f||0}},h.isV=function(w){return w instanceof h},h.isVElement=h.isV,h.isSVGGraphicsElement=function(w){return!!w&&(w=h.toNode(w))instanceof SVGElement&&"function"==typeof w.getScreenCTM};var z=h("svg").node;return h.createSVGMatrix=function(w){var S=z.createSVGMatrix();for(var T in w)S[T]=w[T];return S},h.createSVGTransform=function(w){return h.isUndefined(w)?z.createSVGTransform():(w instanceof SVGMatrix||(w=h.createSVGMatrix(w)),z.createSVGTransformFromMatrix(w))},h.createSVGPoint=function(w,S){var T=z.createSVGPoint();return T.x=w,T.y=S,T},h.transformRect=function(w,S){var T=z.createSVGPoint();T.x=w.x,T.y=w.y;var G=T.matrixTransform(S);T.x=w.x+w.width,T.y=w.y;var K=T.matrixTransform(S);T.x=w.x+w.width,T.y=w.y+w.height;var le=T.matrixTransform(S);T.x=w.x,T.y=w.y+w.height;var ge=T.matrixTransform(S),Ie=a(G.x,K.x,le.x,ge.x),Te=l(G.x,K.x,le.x,ge.x),Ne=a(G.y,K.y,le.y,ge.y),ke=l(G.y,K.y,le.y,ge.y);return new We(Ie,Ne,Te-Ie,ke-Ne)},h.transformPoint=function(w,S){return new ae(h.createSVGPoint(w.x,w.y).matrixTransform(S))},h.transformLine=function(w,S){return new $e(h.transformPoint(w.start,S),h.transformPoint(w.end,S))},h.transformPolyline=function(w,S){var T=w instanceof nr?w.points:w;h.isArray(T)||(T=[]);for(var G=[],K=0,le=T.length;K<le;K++)G[K]=h.transformPoint(T[K],S);return new nr(G)},h.styleToObject=function(w){for(var S={},T=w.split(";"),G=0;G<T.length;G++){var le=T[G].split("=");S[le[0].trim()]=le[1].trim()}return S},h.createSlicePathData=function(w,S,T,G){var K=2*i-1e-6,le=w,ge=S,Ie=T,Te=G,Ne=(Te<Ie&&(Ne=Ie,Ie=Te,Te=Ne),Te-Ie),ke=Ne<i?"0":"1",Ge=d(Ie),Ye=p(Ie),it=d(Te),Hn=p(Te);return Ne>=K?le?"M0,"+ge+"A"+ge+","+ge+" 0 1,1 0,"+-ge+"A"+ge+","+ge+" 0 1,1 0,"+ge+"M0,"+le+"A"+le+","+le+" 0 1,0 0,"+-le+"A"+le+","+le+" 0 1,0 0,"+le+"Z":"M0,"+ge+"A"+ge+","+ge+" 0 1,1 0,"+-ge+"A"+ge+","+ge+" 0 1,1 0,"+ge+"Z":le?"M"+ge*Ge+","+ge*Ye+"A"+ge+","+ge+" 0 "+ke+",1 "+ge*it+","+ge*Hn+"L"+le*it+","+le*Hn+"A"+le+","+le+" 0 "+ke+",0 "+le*Ge+","+le*Ye+"Z":"M"+ge*Ge+","+ge*Ye+"A"+ge+","+ge+" 0 "+ke+",1 "+ge*it+","+ge*Hn+"L0,0Z"},h.mergeAttrs=function(w,S){for(var T in S)w[T]="class"===T?w[T]?w[T]+" "+S[T]:S[T]:"style"===T?h.isObject(w[T])&&h.isObject(S[T])?h.mergeAttrs(w[T],S[T]):h.isObject(w[T])?h.mergeAttrs(w[T],h.styleToObject(S[T])):h.isObject(S[T])?h.mergeAttrs(h.styleToObject(w[T]),S[T]):h.mergeAttrs(h.styleToObject(w[T]),h.styleToObject(S[T])):S[T];return w},h.annotateString=function(w,S,T){S=S||[];for(var le,Ie,Te,G=(T=T||{}).offset||0,K=[],ge=[],Ne=0;Ne<w.length;Ne++){Ie=ge[Ne]=w[Ne];for(var ke=0;ke<S.length;ke++){var Ge=S[ke];Ne>=Ge.start+G&&Ne<Ge.end+G&&(h.isObject(Ie)?Ie.attrs=h.mergeAttrs(h.mergeAttrs({},Ie.attrs),Ge.attrs):Ie=ge[Ne]={t:w[Ne],attrs:Ge.attrs},T.includeAnnotationIndices&&(Ie.annotations||(Ie.annotations=[])).push(ke))}(Te=ge[Ne-1])?h.isObject(Ie)&&h.isObject(Te)?JSON.stringify(Ie.attrs)===JSON.stringify(Te.attrs)?le.t+=Ie.t:(K.push(le),le=Ie):h.isObject(Ie)||h.isObject(Te)?(K.push(le),le=Ie):le=(le||"")+Ie:le=Ie}return le&&K.push(le),K},h.findAnnotationsAtIndex=function(w,S){var T=[];return w&&w.forEach(function(G){G.start<S&&S<=G.end&&T.push(G)}),T},h.findAnnotationsBetweenIndexes=function(w,S,T){var G=[];return w&&w.forEach(function(K){(S>=K.start&&S<K.end||T>K.start&&T<=K.end||K.start>=S&&K.end<T)&&G.push(K)}),G},h.shiftAnnotations=function(w,S,T){return w&&w.forEach(function(G){G.start<S&&G.end>=S?G.end+=T:G.start>=S&&(G.start+=T,G.end+=T)}),w},h.convertLineToPathData=function(w){return["M",(w=h(w)).attr("x1"),w.attr("y1"),"L",w.attr("x2"),w.attr("y2")].join(" ")},h.convertPolygonToPathData=function(w){var S=h.getPointsFromSvgNode(w);return 0===S.length?null:h.svgPointsToPath(S)+" Z"},h.convertPolylineToPathData=function(w){var S=h.getPointsFromSvgNode(w);return 0===S.length?null:h.svgPointsToPath(S)},h.svgPointsToPath=function(w){for(var S=0,T=w.length;S<T;S++)w[S]=w[S].x+" "+w[S].y;return"M "+w.join(" L")},h.getPointsFromSvgNode=function(w){var S=[],T=(w=h.toNode(w)).points;if(T)for(var G=0,K=T.numberOfItems;G<K;G++)S.push(T.getItem(G));return S},h.KAPPA=.551784,h.convertCircleToPathData=function(w){w=h(w);var S=parseFloat(w.attr("cx"))||0,T=parseFloat(w.attr("cy"))||0,G=parseFloat(w.attr("r")),K=G*h.KAPPA;return["M",S,T-G,"C",S+K,T-G,S+G,T-K,S+G,T,"C",S+G,T+K,S+K,T+G,S,T+G,"C",S-K,T+G,S-G,T+K,S-G,T,"C",S-G,T-K,S-K,T-G,S,T-G,"Z"].join(" ")},h.convertEllipseToPathData=function(w){w=h(w);var S=parseFloat(w.attr("cx"))||0,T=parseFloat(w.attr("cy"))||0,G=parseFloat(w.attr("rx")),K=parseFloat(w.attr("ry"))||G,le=G*h.KAPPA,ge=K*h.KAPPA;return["M",S,T-K,"C",S+le,T-K,S+G,T-ge,S+G,T,"C",S+G,T+ge,S+le,T+K,S,T+K,"C",S-le,T+K,S-G,T+ge,S-G,T,"C",S-G,T-ge,S-le,T-K,S,T-K,"Z"].join(" ")},h.convertRectToPathData=function(w){return w=h(w),h.rectToPath({x:parseFloat(w.attr("x"))||0,y:parseFloat(w.attr("y"))||0,width:parseFloat(w.attr("width"))||0,height:parseFloat(w.attr("height"))||0,rx:parseFloat(w.attr("rx"))||0,ry:parseFloat(w.attr("ry"))||0})},h.rectToPath=function(w){var T=w.x,G=w.y,K=w.width,le=w.height,ge=a(w.rx||w["top-rx"]||0,K/2),Ie=a(w.rx||w["bottom-rx"]||0,K/2),Te=a(w.ry||w["top-ry"]||0,le/2),Ne=a(w.ry||w["bottom-ry"]||0,le/2);return(ge||Ie||Te||Ne?["M",T,G+Te,"v",le-Te-Ne,"a",Ie,Ne,0,0,0,Ie,Ne,"h",K-2*Ie,"a",Ie,Ne,0,0,0,Ie,-Ne,"v",-(le-Ne-Te),"a",ge,Te,0,0,0,-ge,-Te,"h",-(K-2*ge),"a",ge,Te,0,0,0,-ge,Te,"Z"]:["M",T,G,"H",T+K,"V",G+le,"H",T,"V",G,"Z"]).join(" ")},h.normalizePathData=function(){var w="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",S=new RegExp("([a-z])["+w+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+w+"]*,?["+w+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+w+"]*,?["+w+"]*","ig"),G=Math,K=G.PI,le=G.sin,ge=G.cos,Ie=G.tan,Te=G.asin,Ne=G.sqrt,ke=G.abs;function Ge(yt,zt,Dt,Ct,sn,Rn){var kn=1/3,Kt=2/3;return[kn*yt+Kt*Dt,kn*zt+Kt*Ct,kn*sn+Kt*Dt,kn*Rn+Kt*Ct,sn,Rn]}function Ye(yt,zt,Dt){return{x:yt*ge(Dt)-zt*le(Dt),y:yt*le(Dt)+zt*ge(Dt)}}function it(yt,zt,Dt,Ct,sn,Rn,kn,Kt,Cr,Cn){var Ze,Gt=120*K/180,fn=K/180*(+sn||0),pt=[];if(Cn)os=Cn[0],Kr=Cn[1],vp=Cn[2],yp=Cn[3];else{zt=(Ze=Ye(yt,zt,-fn)).y;var ss=((yt=Ze.x)-(Kt=(Ze=Ye(Kt,Cr,-fn)).x))/2,bs=(zt-(Cr=Ze.y))/2,al=ss*ss/(Dt*Dt)+bs*bs/(Ct*Ct);al>1&&(Dt*=al=Ne(al),Ct*=al);var Nb=Dt*Dt,Tb=Ct*Ct,ON=(Rn==kn?-1:1)*Ne(ke((Nb*Tb-Nb*bs*bs-Tb*ss*ss)/(Nb*bs*bs+Tb*ss*ss))),vp=ON*Dt*bs/Ct+(yt+Kt)/2,yp=ON*-Ct*ss/Dt+(zt+Cr)/2,os=Te(((zt-yp)/Ct).toFixed(9)),Kr=Te(((Cr-yp)/Ct).toFixed(9));(os=yt<vp?K-os:os)<0&&(os=2*K+os),(Kr=Kt<vp?K-Kr:Kr)<0&&(Kr=2*K+Kr),kn&&os>Kr&&(os-=2*K),!kn&&Kr>os&&(Kr-=2*K)}var Pb=Kr-os;if(ke(Pb)>Gt){var YV=Kr,XV=Kt,$V=Cr;pt=it(Kt=vp+Dt*ge(Kr=os+Gt*(kn&&Kr>os?1:-1)),Cr=yp+Ct*le(Kr),Dt,Ct,sn,0,kn,XV,$V,[Kr,YV,vp,yp])}Pb=Kr-os;var JV=ge(os),qV=le(os),QV=ge(Kr),KV=le(Kr),RN=Ie(Pb/4),LN=4/3*(Dt*RN),kN=4/3*(Ct*RN),FN=[yt,zt],oh=[yt+LN*qV,zt-kN*JV],jN=[Kt+LN*KV,Cr-kN*QV],BN=[Kt,Cr];if(oh[0]=2*FN[0]-oh[0],oh[1]=2*FN[1]-oh[1],Cn)return[oh,jN,BN].concat(pt);for(var zN=[],eZ=(pt=[oh,jN,BN].concat(pt).join().split(",")).length,oc=0;oc<eZ;oc++)zN[oc]=oc%2?Ye(pt[oc-1],pt[oc],fn).y:Ye(pt[oc],pt[oc+1],fn).x;return zN}function Nr(yt){var zt=function(yt){if((!Array.isArray(yt)||!Array.isArray(yt&&yt[0]))&&(yt=function(yt){if(!yt)return null;var zt={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Dt=[];return String(yt).replace(S,function(Ct,sn,Rn){var kn=[],Kt=sn.toLowerCase();for(Rn.replace(T,function(Cr,Cn){Cn&&kn.push(+Cn)}),"m"===Kt&&kn.length>2&&(Dt.push([sn].concat(kn.splice(0,2))),Kt="l",sn="m"===sn?"l":"L");kn.length>=zt[Kt]&&(Dt.push([sn].concat(kn.splice(0,zt[Kt]))),zt[Kt]););}),Dt}(yt)),!yt||!yt.length)return[["M",0,0]];for(var Kt,zt=[],Dt=0,Ct=0,sn=0,Rn=0,Cr=yt.length,Cn=0;Cn<Cr;Cn++){var Gt=[];zt.push(Gt);var pt,Ze,fn=yt[Cn];if((Kt=fn[0])!=Kt.toUpperCase())switch(Gt[0]=Kt.toUpperCase(),Gt[0]){case"A":Gt[1]=fn[1],Gt[2]=fn[2],Gt[3]=fn[3],Gt[4]=fn[4],Gt[5]=fn[5],Gt[6]=+fn[6]+Dt,Gt[7]=+fn[7]+Ct;break;case"V":Gt[1]=+fn[1]+Ct;break;case"H":Gt[1]=+fn[1]+Dt;break;case"M":for(sn=+fn[1]+Dt,Rn=+fn[2]+Ct,pt=fn.length,Ze=1;Ze<pt;Ze++)Gt[Ze]=+fn[Ze]+(Ze%2?Dt:Ct);break;default:for(pt=fn.length,Ze=1;Ze<pt;Ze++)Gt[Ze]=+fn[Ze]+(Ze%2?Dt:Ct)}else for(var ss=fn.length,bs=0;bs<ss;bs++)Gt[bs]=fn[bs];switch(Gt[0]){case"Z":Dt=+sn,Ct=+Rn;break;case"H":Dt=Gt[1];break;case"V":Ct=Gt[1];break;case"M":sn=Gt[Gt.length-2],Rn=Gt[Gt.length-1],Dt=Gt[Gt.length-2],Ct=Gt[Gt.length-1];break;default:Dt=Gt[Gt.length-2],Ct=Gt[Gt.length-1]}}return zt}(yt),Dt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function Ct(pt,Ze,ss){var bs,al;if(!pt)return["C",Ze.x,Ze.y,Ze.x,Ze.y,Ze.x,Ze.y];switch(pt[0]in{T:1,Q:1}||(Ze.qx=null,Ze.qy=null),pt[0]){case"M":Ze.X=pt[1],Ze.Y=pt[2];break;case"A":pt=0===parseFloat(pt[1])||0===parseFloat(pt[2])?["L",pt[6],pt[7]]:["C"].concat(it.apply(0,[Ze.x,Ze.y].concat(pt.slice(1))));break;case"S":"C"===ss||"S"===ss?(bs=2*Ze.x-Ze.bx,al=2*Ze.y-Ze.by):(bs=Ze.x,al=Ze.y),pt=["C",bs,al].concat(pt.slice(1));break;case"T":"Q"===ss||"T"===ss?(Ze.qx=2*Ze.x-Ze.qx,Ze.qy=2*Ze.y-Ze.qy):(Ze.qx=Ze.x,Ze.qy=Ze.y),pt=["C"].concat(Ge(Ze.x,Ze.y,Ze.qx,Ze.qy,pt[1],pt[2]));break;case"Q":Ze.qx=pt[1],Ze.qy=pt[2],pt=["C"].concat(Ge(Ze.x,Ze.y,pt[1],pt[2],pt[3],pt[4]));break;case"H":pt=["L"].concat(pt[1],Ze.y);break;case"V":pt=["L"].concat(Ze.x,pt[1])}return pt}function sn(pt,Ze){if(pt[Ze].length>7){pt[Ze].shift();for(var ss=pt[Ze];ss.length;)Rn[Ze]="A",pt.splice(Ze++,0,["C"].concat(ss.splice(0,6)));pt.splice(Ze,1),Cr=zt.length}}for(var Rn=[],kn="",Kt="",Cr=zt.length,Cn=0;Cn<Cr;Cn++){zt[Cn]&&(kn=zt[Cn][0]),"C"!==kn&&(Rn[Cn]=kn,Cn>0&&(Kt=Rn[Cn-1])),zt[Cn]=Ct(zt[Cn],Dt,Kt),"A"!==Rn[Cn]&&"C"===kn&&(Rn[Cn]="C"),sn(zt,Cn);var Gt=zt[Cn],fn=Gt.length;Dt.x=Gt[fn-2],Dt.y=Gt[fn-1],Dt.bx=parseFloat(Gt[fn-4])||Dt.x,Dt.by=parseFloat(Gt[fn-3])||Dt.y}return(!zt[0][0]||"M"!==zt[0][0])&&zt.unshift(["M",0,0]),zt}return function(yt){return Nr(yt).join(",").split(",").join(" ")}}(),h.namespace=t,h.g=rr,h}(),Ra={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default"},La=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Ra.classNamePrefix.length)!==Ra.classNamePrefix&&(t=Ra.classNamePrefix+t),t}).join(" ")},wj=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Ra.classNamePrefix.length)===Ra.classNamePrefix&&(t=t.substr(Ra.classNamePrefix.length)),t}).join(" ")},PE=function(e,t){for(var n={},r={},i=Ce.namespace.svg,s=t||i,o=document.createDocumentFragment(),a=[e,o,s];a.length>0;){s=a.pop();for(var l=a.pop(),d=a.pop(),p=0,h=d.length;p<h;p++){var I=d[p];if(!I.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var b=I.tagName;I.hasOwnProperty("namespaceURI")&&(s=I.namespaceURI);var E=document.createElementNS(s,b),j=s===i,U=j?Ce:Wn,Q=I.attributes;Q&&U(E).attr(Q);var z=I.style;if(z&&Wn(E).css(z),I.hasOwnProperty("className")){var w=I.className;j?E.className.baseVal=w:E.className=w}if(I.hasOwnProperty("textContent")&&(E.textContent=I.textContent),I.hasOwnProperty("selector")){var S=I.selector;if(n[S])throw new Error("json-dom-parser: selector must be unique");n[S]=E,U(E).attr("joint-selector",S)}if(I.hasOwnProperty("groupSelector")){var T=I.groupSelector;Array.isArray(T)||(T=[T]);for(var G=0,K=T.length;G<K;G++){var le=T[G],ge=r[le];ge||(ge=r[le]=[]),ge.push(E)}}l.appendChild(E);var Ie=I.children;Array.isArray(Ie)&&a.push(Ie,E,s)}}return{fragment:o,selectors:n,groupSelectors:r}},nw=function(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},rp=function(e,t,n){for(var i,r=Array.isArray(t)?t:t.split(n||"/"),s=0,o=r.length;s<o;){if(i=r[s++],Object(e)!==e||!(i in e))return;e=e[i]}return e},OE=function(e,t){return"string"!=typeof t&&"number"!=typeof t&&(t=String(t)),!("constructor"===t&&"function"==typeof e[t]||"__proto__"===t)},rw=function(e,t,n,r){const i=Array.isArray(t)?t:t.split(r||"/"),s=i.length-1;let o=e,a=0;for(;a<s;a++){const l=i[a];if(!OE(o,l))return e;o=o[l]||(o[l]={})}return o[i[s]]=n,e},RE=function(e,t,n){const r=Array.isArray(t)?t:t.split(n||"/"),i=r.length-1;let s=e,o=0;for(;o<i;o++){const a=r[o];if(!OE(s,a))return e;const l=s[a];if(!l)return e;s=l}return delete s[r[i]],e},vy=function(e){return vy.id=vy.id||1,e.id=void 0===e.id?"j_"+vy.id++:e.id,e.id},xj=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},zr=function(e){var t=e,n=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];if(n){for(var r in e)void 0===n[r]&&(n[r]=e[r]);t=n}var i=t.target;if(i){var s=i.correspondingUseElement;s&&(t.target=s)}return t},iw=function(){var e;if("undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),s=setTimeout(function(){n(r+i)},i);return t=r+i,s}}return function(n,r,...i){return e(void 0!==r?n.bind(r,...i):n)}}(),sw=((t="undefined"!=typeof window)&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e),Zs=function(e){return rs(e)&&"%"===e.slice(-1)},Mj=function(e,t){var r=parseFloat(e);if(Number.isNaN(r))return null;var s,i={};if(i.value=r,null==t)s="[A-Za-z]*";else if(Array.isArray(t)){if(0===t.length)return null;s=t.join("|")}else rs(t)&&(s=t);var l,o=(l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+s+")$").exec(e))?l[1]:null;return null===o?null:(i.unit=o,i)},LE=function(e,t,n={},r={}){var i=t.width,s=t.height,o=r.svgDocument||Ce("svg").node,a=Ce("tspan").node,l=Ce("text").attr(n).append(a).node,d=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(d),o.appendChild(l),r.svgDocument||document.body.appendChild(o);var p=r.separator||" ",h=r.eol||"\n",I=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,b=r.maxLineCount;to(b)||(b=1/0);for(var Q,z,w,E=e.split(p),j=[],U=[],S=0,T=0,G=E.length;S<G;S++){var K=E[S];if(K){var le=!1;if(h&&K.indexOf(h)>=0){if(K.length>1){for(var ge=K.split(h),Ie=0,Te=ge.length-1;Ie<Te;Ie++)ge.splice(2*Ie+1,0,h);E.splice(S,1,...ge.filter(Dt=>""!==Dt)),S--,G=E.length;continue}U[++T]="",le=!0}if(!le)if(d.data=U[T]?U[T]+" "+K:K,a.getComputedTextLength()<=i)U[T]=d.data,(Q||z)&&(j[T++]=!0,Q=0,z=0);else{if(!U[T]||Q){var Ne=!!Q;if(Q=K.length-1,Ne||!Q){if(!Q){if(!U[T]){U=[];break}E.splice(S,2,K+E[S+1]),G--,j[T++]=!0,S--;continue}E[S]=K.substring(0,Q),E[S+1]=K.substring(Q)+(void 0===E[S+1]?"":E[S+1])}else{if(z)E.splice(S,2,E[S]+E[S+1]),z=0;else{var ke=K.search(I);ke>-1&&ke!==K.length-1&&0!==ke&&(z=ke+1,Q=0),E.splice(S,1,K.substring(0,z||Q),K.substring(z||Q)),G++}T&&!j[T-1]&&T--}S--;continue}T++,S--}var Ge=null;if(U.length>b)Ge=b-1;else if(void 0!==s){var Ye;void 0===w&&(w=(Ye="auto"===n.lineHeight?{value:1.5,unit:"em"}:Mj(n.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===Ye.unit&&(w*=l.getBBox().height)),w*U.length>s&&(Ge=Math.floor(s/w)-1)}if(null!==Ge){U.splice(Ge+1);var it=r.ellipsis;if(!it||Ge<0)break;"string"!=typeof it&&(it="\u2026");var Hn=U[Ge];if(!Hn&&!le)break;var Nr,yt,Un=Hn.length;do{if(yt=Hn[Un],Nr=Hn.substring(0,Un),yt?yt.match(p)&&(Nr+=yt):Nr+="string"==typeof p?p:" ",d.data=Nr+=it,a.getComputedTextLength()<=i){U[Ge]=Nr;break}Un--}while(Un>=0);break}}}return r.svgDocument?o.removeChild(l):document.body.removeChild(o),U.join(h)},Sj=function(e){var t=Wn(Wn.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var n=this;Wn.each(n.attributes,function(){var i=this.name,s=this.value;(i.startsWith("on")||s.startsWith("javascript:")||s.startsWith("data:")||s.startsWith("vbscript:"))&&Wn(n).removeAttr(i)})}),t.html()},of=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,s;return n=r=i=s=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=s=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(s=+e.left),{top:n,right:r,bottom:i,left:s}},Tj={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},kE={number:function(e,t){var n=t-e;return function(r){return e+n*r}},object:function(e,t){var n=Object.keys(e);return function(r){var i,s,o={};for(i=n.length-1;-1!=i;i--)o[s=n[i]]=e[s]+(t[s]-e[s])*r;return o}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=255&n,s=(255&r)-i,o=65280&n,a=(65280&r)-o,l=16711680&n,d=(16711680&r)-l;return function(p){return"#"+(1<<24|i+s*p&255|o+a*p&65280|l+d*p&16711680).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),s=i[1].indexOf("."),o=s>0?i[1].length-s-1:0,a=+i[1]-(e=+r[1]),l=r[2];return function(d){return(e+a*d).toFixed(o)+l}}},Pj={outline:function(e){var n=Number.isFinite(e.margin)?e.margin:2,r=Number.isFinite(e.width)?e.width:1;return ws('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){return ws('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return ws('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return ws(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ws('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ws('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ws('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return ws('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ws('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return ws('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ws('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},ws=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(r){for(var i=Array.from(arguments),s=i.slice(1,4).find(function(l){return!!l}),o=s.split("."),a=n[o.shift()];void 0!==a&&o.length;)a=a[o.shift()];return void 0!==a?a:""})}},dt=cn.assign,wo=cn.defaults,ow=cn.defaultsDeep,Iu=cn.invokeMap||cn.invoke,FE=cn.sortedIndexBy||cn.sortedIndex,Kd=cn.uniqBy||cn.uniq,ea=cn.clone,eo=cn.cloneDeep,ec=cn.isEmpty,aw=cn.isEqual,Xn=cn.isFunction,ji=cn.isPlainObject,mn=cn.toArray,Oj=cn.groupBy,Rj=cn.flattenDeep,jE=cn.without,BE=cn.difference,zE=cn.union,Cu=cn.has,Bi=cn.result,tc=cn.omit,Lj=cn.pick,ta=cn.forIn,kj=cn.camelCase,Fj=cn.uniqueId,zi=function(){if(cn.mergeWith){var e=Array.from(arguments),t=e[e.length-1],n=Xn(t)?t:GE;return e.push(function(r,i){var s=n(r,i);return void 0!==s?s:Array.isArray(r)&&!Array.isArray(i)?i:void 0}),cn.mergeWith.apply(this,e)}return cn.merge.apply(this,arguments)},Er=function(e){return!!e&&("object"==typeof e||"function"==typeof e)},to=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"===Object.prototype.toString.call(e)},rs=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&"[object String]"===Object.prototype.toString.call(e)},GE=function(){};var e,t;function UE(e){e=Kd(e);const t=mn(e).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return mn(e).forEach(function(n){const r=t[n.id];if(r.isLink()){const o=r.source(),a=r.target();o.id&&t[o.id]&&r.prop("source/id",t[o.id].id),a.id&&t[a.id]&&r.prop("target/id",t[a.id].id)}const i=n.get("parent");i&&t[i]&&r.set("parent",t[i].id);const s=mn(n.get("embeds")).reduce(function(o,a){return t[a]&&o.push(t[a].id),o},[]);ec(s)||r.set("embeds",s)}),t}const af={width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Bj=Object.keys(af).map(e=>af[e]).join(""),VE="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",zj=/\s/g,Gj=/calc\(([^)]*)\)/g,ZE=new RegExp(`^(${VE}\\*)?([${Bj}])([-+]${VE})?$`,"g");function WE(e){return"string"==typeof e&&e.includes("calc")}function HE(e,t){return e.replace(Gj,function(n,r){return function(e,t){const n=ZE.exec(e.replace(zj,""));if(!n)throw new Error(`Invalid calc() expression: ${e}`);ZE.lastIndex=0;const[,r=1,i,s=0]=n,{width:o,height:a}=t;let l=0;switch(i){case af.width:l=o;break;case af.height:l=a;break;case af.minimum:l=Math.min(a,o);break;case af.maximum:l=Math.max(a,o);break;case af.diagonal:l=Math.sqrt(a*a+o*o)}return parseFloat(r)*l+parseFloat(s)}(r,t)})}function nc(e,t){return function(n,r){var i=Zs(n);n=parseFloat(n),i&&(n/=100);var s={};if(isFinite(n)){var o=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);s[e]=o}return s}}function yy(e,t,n){return function(r,i){var o,s=Zs(r);if(r=parseFloat(r),s&&(r/=100),isFinite(r)){var a=i[n]();o=s||r>0&&r<1?a[e]+i[t]*r:a[e]+r}var l=ae();return l[e]=o||0,l}}function YE(e,t,n){return function(r,i){var s;s="middle"===r?i[t]/2:r===n?i[t]:isFinite(r)?r>-1&&r<1?-i[t]*r:-r:Zs(r)?i[t]*parseFloat(r)/100:0;var o=ae();return o[e]=-(i[e]+s),o}}function XE(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(i,s,o){var a=Wn(o),l=a.data(n);if(!l||l.value!==i){var d=e(i);l={value:i,shape:d,shapeBBox:d.bbox()},a.data(n,l)}var p=l.shape.clone(),h=l.shapeBBox.clone(),I=h.origin(),b=s.origin();h.x=b.x,h.y=b.y;var E=s.maxRectScaleToFit(h,b);return p.scale(0===h.width||0===s.width?1:E.sx,0===h.height||0===s.height?1:E.sy,I),r&&p.translate(-I.x,-I.y),p}}function $E(e){var n=XE(function(r){return new st(Ce.normalizePathData(r))},e);return function(r,i,s){return{d:n(r,i,s).serialize()}}}function JE(e){var t=XE(nr,e);return function(n,r,i){return{points:t(n,r,i).serialize()}}}function Iy(e,t){var n=new ae(1,0);return function(r){var i,s,o=this[e](r);return o?(s=t.rotate?o.vector().vectorAngle(n):0,i=o.start):(i=this.path.start,s=0),0===s?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+s+")"}}}function eh(e,t,n){return void 0!==n.text}function ip(){return this.model.isLink()}function uw(e){var t={},n=e.stroke;"string"==typeof n&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return void 0===r&&(r=e["stroke-opacity"]),void 0===r&&(r=e.opacity),void 0!==r&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}const vn={xlinkHref:{set:"xlink:href"},xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},filter:{qualify:ji,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:ji,set:function(e){return"url(#"+this.paper.defineGradient(e)+")"}},stroke:{qualify:ji,set:function(e){return"url(#"+this.paper.defineGradient(e)+")"}},sourceMarker:{qualify:ji,set:function(e,t,n,r){return e=dt(uw(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:ji,set:function(e,t,n,r){return e=dt(uw(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:ji,set:function(e,t,n,r){return e=dt(uw(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!ji(n.textWrap)},set:function(e,t,n,r){var i=Wn(n),s="joint-text",o=i.data(s),a=Lj(r,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:l}=a;WE(l)&&(a.x=HE(l,t));var d=a.fontSize=r["font-size"]||r.fontSize,p=JSON.stringify([e,a]);if(void 0===o||o!==p){d&&n.setAttribute("font-size",d);var h=a.textPath;if(Er(h)){var I=h.selector;if("string"==typeof I){var b=this.findBySelector(I)[0];b instanceof SVGPathElement&&(a.textPath=dt({"xlink:href":"#"+b.id},h))}}Ce(n).text(""+e,a),i.data(s,p)}}},textWrap:{qualify:ji,set:function(e,t,n,r){var i=e.width||0;Zs(i)?t.width*=parseFloat(i)/100:i<=0?t.width+=i:t.width=i;var s=e.height||0;Zs(s)?t.height*=parseFloat(s)/100:s<=0?t.height+=s:t.height=s;var o,a=e.text;void 0===a&&(a=r.text),o=void 0!==a?LE(""+a,t,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,maxLineCount:e.maxLineCount}):"",vn.text.set.call(this,o,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var r=Wn(n),i="joint-title",s=r.data(i);if(void 0===s||s!==e){r.data(i,e);var o=n.firstChild;if(o&&"TITLE"===o.tagName.toUpperCase())o.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,o)}}}},lineHeight:{qualify:eh},textVerticalAnchor:{qualify:eh},textPath:{qualify:eh},annotations:{qualify:eh},eol:{qualify:eh},displayEmpty:{qualify:eh},port:{set:function(e){return null===e||void 0===e.id?e:e.id}},style:{qualify:ji,set:function(e,t,n){Wn(n).css(e)}},html:{set:function(e,t,n){Wn(n).html(e+"")}},ref:{},refX:{position:yy("x","width","origin")},refY:{position:yy("y","height","origin")},refDx:{position:yy("x","width","corner")},refDy:{position:yy("y","height","corner")},refWidth:{set:nc("width","width")},refHeight:{set:nc("height","height")},refRx:{set:nc("rx","width")},refRy:{set:nc("ry","height")},refRInscribed:{set:function(e){var t=nc("r","width"),n=nc("r","height");return function(r,i){return(i.height>i.width?t:n)(r,i)}}()},refRCircumscribed:{set:function(e,t){var n=Zs(e);e=parseFloat(e),n&&(e/=100);var i,r=Math.sqrt(t.height*t.height+t.width*t.width);return isFinite(e)&&(i=n||e>=0&&e<=1?e*r:Math.max(e+r,0)),{r:i}}},refCx:{set:nc("cx","width")},refCy:{set:nc("cy","height")},xAlignment:{offset:YE("x","width","right")},yAlignment:{offset:YE("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:$E({resetOffset:!0})},refDKeepOffset:{set:$E({resetOffset:!1})},refPointsResetOffset:{set:JE({resetOffset:!0})},refPointsKeepOffset:{set:JE({resetOffset:!1})},connection:{qualify:ip,set:function({stubs:e=0}){let t;if(isFinite(e)&&0!==e){let n;n=e<0?(this.getConnectionLength()+e)/2:e;const r=this.getConnection(),i=r.divideAtLength(n),s=r.divideAtLength(-n);i&&s&&(t=`${i[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:ip,set:Iy("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:ip,set:Iy("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:ip,set:Iy("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:ip,set:Iy("getTangentAtRatio",{rotate:!1})}};["transform","d","points","width","height","cx","cy","r","rx","ry","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{vn[e]={qualify:WE,set:function(n,r){return{[e]:HE(n,r)}}}}),vn.refR=vn.refRInscribed,vn.refD=vn.refDResetOffset,vn.refPoints=vn.refPointsResetOffset,vn.atConnectionLength=vn.atConnectionLengthKeepGradient,vn.atConnectionRatio=vn.atConnectionRatioKeepGradient,vn.refX2=vn.refX,vn.refY2=vn.refY,vn.refWidth2=vn.refWidth,vn.refHeight2=vn.refHeight,vn["ref-x"]=vn.refX,vn["ref-y"]=vn.refY,vn["ref-dy"]=vn.refDy,vn["ref-dx"]=vn.refDx,vn["ref-width"]=vn.refWidth,vn["ref-height"]=vn.refHeight,vn["x-alignment"]=vn.xAlignment,vn["y-alignment"]=vn.yAlignment;const qE=vn,Au=As.Model.extend({constructor:function(e,t){var n,r=e||{};"function"==typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=Fj("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=Bi(this,"defaults"))&&(r=zi({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Bi(this.constructor.prototype,"defaults").attrs||{},r={};ta(this.attributes.attrs,function(s,o){const a=t[o];ta(s,function(l,d){Er(l)&&!Array.isArray(l)?ta(l,function(p,h){(!a||!a[d]||!aw(a[d][h],p))&&(r[o]=r[o]||{},(r[o][d]||(r[o][d]={}))[h]=p)}):(!a||!aw(a[d],l))&&(r[o]=r[o]||{},r[o][d]=l)})});const i=eo(tc(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(e){(!e||!e.id)&&this.set("id",this.generateId(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},processPorts:function(){var e=this.ports,t={};ta(this.get("attrs"),function(s,o){s&&s.port&&(void 0!==s.port.id?t[s.port.id]=s.port:t[s.port]={id:s.port})});var n={};ta(e,function(s,o){t[o]||(n[o]=!0)}),this.graph&&!ec(n)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(s){n[s.get("target").port]&&s.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(s){n[s.get("source").port]&&s.remove()})),this.ports=t},remove:function(e={}){const{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,e);const i=this.getEmbeddedCells();for(let s=0,o=i.length;s<o;s++){const a=i[s];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=e||{};var r,n=t.maxZIndex();e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst})).unshift(this):r=[this],n=n-r.length+1;var i=t.get("cells"),s=i.indexOf(this)!==i.length-r.length;s||(s=r.some(function(o,a){return o.get("z")!==n+a})),s&&(this.startBatch("to-front"),n+=r.length,r.forEach(function(o,a){o.set("z",n+a,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=e||{};var r,n=t.minZIndex();e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst})).unshift(this):r=[this];var s=0!==t.get("cells").indexOf(this);s||(s=r.some(function(o,a){return o.get("z")!==n+a})),s&&(this.startBatch("to-back"),n-=r.length,r.forEach(function(o,a){o.set("z",n+a,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return void 0===e?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){if(this===e||this.isEmbeddedIn(e))throw new Error("Recursive embedding not allowed.");this.startBatch("embed");var n=dt([],this.get("embeds"));return n[e.isLink()?"unshift":"push"](e.id),e.parent(this.id,t),this.set("embeds",Kd(n),t),this.stopBatch("embed"),this},unembed:function(e,t){return this.startBatch("unembed"),e.unset("parent",t),this.set("embeds",jE(this.get("embeds"),e.id),t),this.stopBatch("unembed"),this},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},this.graph){var t;if(e.deep)if(e.breadthFirst){t=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();t.push(r),n.push.apply(n,r.getEmbeddedCells())}}else(t=this.getEmbeddedCells()).forEach(function(i){t.push.apply(t,i.getEmbeddedCells(e))});else t=mn(this.get("embeds")).map(this.graph.getCell,this.graph);return t}return[]},isEmbeddedIn:function(e,t){var n=rs(e)?e:e.id,r=this.parent();if(t=wo({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if((e=e||{}).deep)return mn(UE([this].concat(this.getEmbeddedCells({deep:!0}))));var t=As.Model.prototype.clone.apply(this,arguments);return t.set("id",this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var r="/",i=rs(e);if(i||Array.isArray(e)){if(arguments.length>1){var s,o;i?o=(s=e).split("/"):(s=e.join(r),o=e.slice());var a=o[0],l=o.length;if((n=n||{}).propertyPath=s,n.propertyValue=t,n.propertyPathArray=o,1===l)return this.set(a,t,n);for(var d={},p=d,h=a,I=1;I<l;I++){var b=o[I],E=Number.isFinite(i?Number(b):b);p=p[h]=E?[]:{},h=b}d=rw(d,o,t,"/");var j=zi({},this.attributes);n.rewrite&&RE(j,s,"/");var U=zi(j,d);return this.set(a,U[a],n)}return rp(this.attributes,e,r)}return this.set(zi({},this.attributes,e),t)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if("attrs"===r&&(t.dirty=!0),1===n.length)return this.unset(e,t);var i=n.slice(1),s=eo(this.get(r));return RE(s,i,"/"),this.set(r,s,t)},attr:function(e,t,n){var r=Array.from(arguments);return 0===r.length?this.get("attrs"):(r[0]=Array.isArray(e)?["attrs"].concat(e):rs(e)?"attrs/"+e:{attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/",n=dt({duration:100,delay:10,timingFunction:Tj.linear,valueFunction:kE.number},n);var o,s=0,a=function(d){var p,h,I;(h=(d-=s=s||d)/n.duration)<1?this._transitionIds[e]=p=iw(a):(h=1,delete this._transitionIds[e]),I=o(n.timingFunction(h)),n.transitionId=p,this.prop(e,I,n),p||this.trigger("transition:end",this,e)}.bind(this),l=function(d){this.stopTransitions(e),o=n.valueFunction(rp(this.attributes,e,r),t),this._transitionIds[e]=iw(d),this.trigger("transition:start",this,e)}.bind(this);return setTimeout(l,n.delay,a)},getTransitions:function(){return Object.keys(this._transitionIds)},stopTransitions:function(e,t){t=t||"/";var n=e&&e.split(t);return Object.keys(this._transitionIds).filter(n&&function(r){return aw(n,r.split(t).slice(0,n.length))}).forEach(function(r){sw(this._transitionIds[r]),delete this._transitionIds[r],this.trigger("transition:end",this,r)},this),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,dt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,dt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new ae(0,0)},getPointFromConnectedLink:function(){return new ae},getBBox:function(){return new We(0,0,0,0)}},{getAttributeDefinition:function(e){var t=this.attributes;return t&&t[e]||qE[e]},define:function(e,t,n,r){n=dt({defaults:ow({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return"undefined"!=typeof joint&&Cu(joint,"shapes")&&rw(joint.shapes,e,i,"."),i}});function QE(e,t,n){var r=e.toJSON();return r.angle=t||0,wo({},n,r)}function sp(e,t,n){return e.map(function(r,i,s){var o=this.pointAt((i+.5)/s.length);return(r.dx||r.dy)&&o.offset(r.dx||0,r.dy||0),QE(o.round(),0,r)},nf(t,n))}function KE(e,t,n,r){var i=t.center(),s=t.width/t.height,o=t.topMiddle(),a=Vs.fromRect(t);return e.map(function(l,d,p){var h=n+r(d,p.length),I=o.clone().rotate(i,-h).scale(s,1,i),b=l.compensateRotation?-a.tangentTheta(I):0;return(l.dx||l.dy)&&I.offset(l.dx||0,l.dy||0),l.dr&&I.move(i,l.dr),QE(I.round(),b,l)})}function lw(e,t){var n=t.x;rs(n)&&(n=parseFloat(n)/100*e.width);var r=t.y;return rs(r)&&(r=parseFloat(r)/100*e.height),tp(n||0,r||0)}const Vj=function(e,t,n){return e.map(lw.bind(null,t))},Zj=function(e,t,n){return n.fn(e,t,n)},Wj=function(e,t,n){return sp(e,lw(t,n.start||t.origin()),lw(t,n.end||t.corner()))},Hj=function(e,t,n){return sp(e,t.origin(),t.bottomLeft())},Yj=function(e,t,n){return sp(e,t.topRight(),t.corner())},Xj=function(e,t,n){return sp(e,t.origin(),t.topRight())},$j=function(e,t,n){return sp(e,t.bottomLeft(),t.corner())},Jj=function(e,t,n){var i=n.step||360/e.length;return KE(e,t,n.startAngle||0,function(s){return s*i})},qj=function(e,t,n){var i=n.step||20;return KE(e,t,n.startAngle||0,function(s,o){return(s+.5-o/2)*i})};function rc(e,t){return ow({},e,t,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function e_(e,t,n,r){r=wo({},r,{offset:15});var o,a,l,d,i=t.center().theta(e),s=t_(t),p=r.offset,h=0;i<s[1]||i>s[2]?(l=".3em",o=p,a=0,d="start"):i<s[0]?(l="0",o=0,a=-p,n?(h=-90,d="start"):d="middle"):i<s[3]?(l=".3em",o=-p,a=0,d="end"):(l=".6em",o=0,a=p,n?(h=90,d="start"):d="middle");var I=Math.round;return rc({x:I(o),y:I(a),angle:h,attrs:{".":{y:l,"text-anchor":d}}})}function t_(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner());return[n,t.theta(e.topRight()),i,r]}function n_(e,t,n,r){var s,o,a,l,i=t.center().theta(e),d=(r=wo({},r,{offset:15})).offset,p=0,h=t_(t);i<h[1]||i>h[2]?(a=".3em",s=-d,o=0,l="end"):i<h[0]?(a=".6em",s=0,o=d,n?(p=90,l="start"):l="middle"):i<h[3]?(a=".3em",s=d,o=0,l="start"):(a="0em",s=0,o=-d,n?(p=-90,l="start"):l="middle");var I=Math.round;return rc({x:I(s),y:I(o),angle:p,attrs:{".":{y:a,"text-anchor":l}}})}function r_(e,t,n){n=wo({},n,{offset:20});var l,r=tp(0,0),i=-e.theta(r),s=i,o=e.clone().move(r,n.offset).difference(e).round(),a=".3em";(i+90)%180==0?(l=t?"end":"middle",!t&&-270===i&&(a="0em")):i>-270&&i<-90?(l="start",s=i-180):l="end";var d=Math.round;return rc({x:d(o.x),y:d(o.y),angle:t?s:0,attrs:{".":{y:a,"text-anchor":l}}})}const Qj=function(e,t,n){return rc(n,t)},Kj=function(e,t,n){return rc(n,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},eB=function(e,t,n){return rc(n,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},tB=function(e,t,n){return rc(n,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},nB=function(e,t,n){return rc(n,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},rB=function(e,t,n){return e_(e,t,!0,n)},iB=function(e,t,n){return e_(e,t,!1,n)},sB=function(e,t,n){return n_(e,t,!0,n)},oB=function(e,t,n){return n_(e,t,!1,n)},aB=function(e,t,n){return r_(e.difference(t.center()),!1,n)},uB=function(e,t,n){return r_(e.difference(t.center()),!0,n)};var i_=function(e){var t=eo(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=B,this.portLabelLayoutNamespace=fr,this._init(t)};i_.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},s=i.name,o=this.portLayoutNamespace;o[s]||(s="left");var a=i.args||{},l=r.map(function(h){return h&&h.position&&h.position.args}),d=o[s](l,t,a),p={ports:r,result:[]};return mn(d).reduce(function(h,I,b){var E=h.ports[b];return h.result.push({portId:E.id,portTransformation:I,labelTransformation:this._getPortLabelLayout(E,ae(I),t),portAttrs:E.attrs,portSize:E.size,labelSize:E.label.size}),h}.bind(this),p),p.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if(Er(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var s=mn(e.items),o=0,a=s.length;o<a;o++)this.ports.push(this._evaluatePort(s[o]))},_evaluateGroup:function(e){return zi(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=dt({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=zi({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=zi({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=dt({},n.size,t.size),t},_getZIndex:function(e,t){return to(t.z)?t.z:to(e.z)||"auto"===e.z?e.z:"auto"},_createPositionNode:function(e,t){return zi({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r,n={};Xn(e)?(r="fn",n.fn=e):rs(e)?r=e:void 0===e?r=t?"left":null:Array.isArray(e)?(r="absolute",n.x=e[0],n.y=e[1]):Er(e)&&(r=e.name,dt(n,e.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};const lB={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};mn(e.items).forEach(function(a){t[a.id]=!0});var n=this.previous("ports")||{},r={};mn(n.items).forEach(function(a){t[a.id]||(r[a.id]=!0)});var i=this.graph;i&&!ec(r)&&(i.getConnectedLinks(this,{inbound:!0}).forEach(function(a){r[a.get("target").port]&&a.remove()}),i.getConnectedLinks(this,{outbound:!0}).forEach(function(a){r[a.get("source").port]&&a.remove()}))},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return-1!==this.getPortIndex(e)},getPorts:function(){return eo(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=mn(this.prop(["ports","items"])).filter(n=>n.group===e);return eo(t)},getPort:function(e){return eo(mn(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){return this._portSettingsData.getGroupPortsMetrics(e,We(this.size())).reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(e){var t=Er(e)?e.id:e;return this._isValidPortId(t)?mn(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!Er(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=dt([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){const r="number"==typeof e?e:this.getPortIndex(e);if(!Er(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=dt([],this.prop("ports/items"));return i.splice(r,0,t),this.prop("ports/items",i,n),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(-1===i)throw new Error("Element: unable to find port with id "+e);var s=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?s[0]=["ports","items",i].concat(t):rs(t)?s[0]=["ports/items/",i,"/",t].join(""):(s=["ports/items/"+i],ji(t)&&(s.push(t),s.push(n))),this.prop.apply(this,s)},_validatePorts:function(){var e=this.get("ports")||{},t=[],n=mn((e=e||{}).items);return n.forEach(function(r){"object"!=typeof r&&t.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),Kd(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return null!=e&&!Er(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",dt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const n=t||{},r=this.getPortIndex(e);if(-1!==r){const i=dt([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},0===e.length)return this.this;r=dt([],this.prop(["ports","items"])).filter(function(s){return!e.some(function(o){const a=Er(o)?o.id:o;return s.id===a})})}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t,e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new i_(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(s){if(!t.find(function(o){return o.id===s.id}))return s}),i=t.filter(function(s){if(!n.find(function(o){return o.id===s.id}))return s});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},cB={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=Oj(this.model._portSettingsData.getPorts(),"z"),s="auto";mn(i[s]).forEach(function(p){var h=this._getPortElement(p);t.append(h),e.push(h)},this);for(var o=Object.keys(i),a=0;a<o.length;a++){var l=o[a];if(l!==s){var d=parseInt(l,10);this._appendPorts(i[l],d,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=mn(e).map(this._getPortElement,this);n[t]||t<0?Ce(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const n=this._portElementsCache[e];if(!n)return null;const r=n.portContentElement.node,i=n.portContentSelectors,[s=null]=this.findBySelector(t,r,i);return s},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){Iu(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){var t,n,s,r=Ce(this.portContainerMarkup).addClass("joint-port"),i=this._getPortMarkup(e);if(Array.isArray(i)){var o=this.parseDOMJSON(i,r.node),a=o.fragment;t=a.childNodes.length>1?Ce("g").append(a):Ce(a.firstChild),s=o.selectors}else t=Ce(i),Array.isArray(t)&&(t=Ce("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});var d,I,l=this._getPortLabelMarkup(e.label);if(Array.isArray(l)){var p=this.parseDOMJSON(l,r.node),h=p.fragment;n=h.childNodes.length>1?Ce("g").append(h):Ce(h.firstChild),d=p.selectors}else n=Ce(l),Array.isArray(n)&&(n=Ce("g").append(n));if(!n)throw new Error("ElementView: Invalid port label markup.");if(s&&d){for(var b in d)if(s[b]&&b!==this.selector)throw new Error("ElementView: selectors within port must be unique.");I=dt({},s,d)}else I=s||d;return r.append([t.addClass("joint-port-body"),n.addClass("joint-port-label")]),this._portElementsCache[e.id]={portElement:r,portLabelElement:n,portSelectors:I,portLabelSelectors:d,portContentElement:t,portContentSelectors:s},r},_updatePortGroup:function(e){for(var t=We(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var s=n[r],a=this._portElementsCache[s.portId]||{},l=s.portTransformation;this.applyPortTransform(a.portElement,l),this.updateDOMSubtreeAttributes(a.portElement.node,s.portAttrs,{rootBBox:new We(s.portSize),selectors:a.portSelectors});var d=s.labelTransformation;d&&(this.applyPortTransform(a.portLabelElement,d,-l.angle||0),this.updateDOMSubtreeAttributes(a.portLabelElement.node,d.attrs,{rootBBox:new We(s.labelSize),selectors:a.portLabelSelectors}))}},applyPortTransform:function(e,t,n){var r=Ce.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},_r=Au.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Au.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){var r=to(t);if((n=(r?n:e)||{}).parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var i=this.getParentCell(),s=i&&!i.isLink()?i.get("position"):{x:0,y:0}}if(r){if(n.parentRelative&&(e+=s.x,t+=s.y),n.deep){var o=this.get("position");this.translate(e-o.x,t-o.y,n)}else this.set("position",{x:e,y:t},n);return this}var a=ae(this.get("position"));return n.parentRelative?a.difference(s):a},translate:function(e,t,n){if(t=t||0,0===(e=e||0)&&0===t)return this;(n=n||{}).translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if("function"==typeof i){var s=i.call(this,r.x+e,r.y+t,n);e=s.x-r.x,t=s.y-r.y}else{var o=this.getBBox({deep:!0}),a=r.x-o.x,l=r.y-o.y,d=Math.max(i.x+a,Math.min(i.x+i.width+a-o.width,r.x+e)),p=Math.max(i.y+l,Math.min(i.y+i.height+l-o.height,r.y+t));e=d-r.x,t=p-r.y}var h={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(Er(n.transition)||(n.transition={}),this.transition("position",h,dt({},n.transition,{valueFunction:kE.object})),Iu(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",h,n),Iu(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return void 0===e?{width:r.width,height:r.height}:(Er(e)&&(n=t,t=to(e.height)?e.height:r.height,e=to(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(this.startBatch("resize",n=n||{}),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width}var o,i=vu(this.get("angle")||0),s=this.getBBox();if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((i+45)/90),a%=4);var l=s[["bottomLeft","corner","topRight","origin"][a]](),d=ae(l).rotate(s.center(),-i),p=Math.sqrt(e*e+t*t)/2,h=a*Math.PI/2;h+=Math.atan(a%2==0?t/e:e/t),h-=Ks(i);var I=ae.fromPolar(p,h,d);o=ae(I).offset(e/-2,t/-2)}else switch(o=s.topLeft(),n.direction){case"top":case"top-right":o.offset(0,s.height-t);break;case"left":case"bottom-left":o.offset(s.width-e,0);break;case"top-left":o.offset(s.width-e,s.height-t)}this.set("size",{width:e,height:t},n),this.position(o.x,o.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(h=>h.isElement());if(0===n.length)return this;this.startBatch("fit-embeds",e),e.deep&&Iu(n,"fitEmbeds",e);const{left:r,right:i,top:s,bottom:o}=of(e.padding);let{x:a,y:l,width:d,height:p}=t.getCellsBBox(n);return a-=r,l-=s,d+=r+i,p+=o+s,this.set({position:{x:a,y:l},size:{width:d,height:p}},e),this.stopBatch("fit-embeds"),this},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),s=this.get("size"),o=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-s.width/2-o.x,l=i.y-s.height/2-o.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(o.x+a,o.y+l,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return vu(this.get("angle")||0)},getBBox:function(e){if((e=e||{}).deep&&this.graph){var t=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return t.push(this),this.graph.getCellsBBox(t)}var n=this.get("position"),r=this.get("size");return new We(n.x,n.y,r.width,r.height)},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var s=i.port;if(!s||!this.hasPort(s))return r;var o=this.portProp(s,["group"]),a=this.getPortsPositions(o),l=new ae(a[s]).offset(n.origin()),d=this.angle();return d&&l.rotate(r,-d),l}});dt(_r.prototype,lB);const uf={},rl=As.View.extend({options:{},theme:null,themeClassNamePrefix:La("theme-"),requireSetThemeOverride:!1,defaultTheme:Ra.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=dt({},this.options,e),As.View.call(this,e)},initialize:function(){uf[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},renderChildren:function(e){if(e||(e=Bi(this,"children")),e){var t=this.svgElement,r=PE(e,Ce.namespace[t?"svg":"xhtml"]);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&1===n.nodeType;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Bi(this,"el"));else{var e=Bi(this,"tagName"),t=dt({},Bi(this,"attributes")),n=dt({},Bi(this,"style"));this.id&&(t.id=Bi(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(Ce.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof As.$?e:As.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=Ce(this.el))},_ensureElClassName:function(){var e=Bi(this,"className");if(e){var t=La(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override||(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e),this},addThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),uf[this.cid]=null,As.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var i in t){var s=t[i];"function"!=typeof s&&(s=this[s]),s&&Wn(e).on(i+r,n,s.bind(this))}return this},undelegateElementEvents:function(e){return Wn(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Bi(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return void 0===t?n&&n[r]||{}:(n||(n=e.data={}),n[r]||(n[r]={}),dt(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&dt({},e[0])||{},n=e[1]&&dt({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return"function"==typeof r&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,As.View.extend.call(this,t,n)}});function cw(e){return e?Array.isArray(e)?e:[e]:[]}const ic=rl.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,transformGroup:null,requestUpdate(e,t){const{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return this.update(e,t),this.mount(),this.transform(),0},findNode(e,t=null){let n;if("string"==typeof t)[n]=e.findBySelector(t);else if(ji(t)){const r=e.model.isLink(),{label:i=null,port:s,selector:o}=t;r&&null!==i?n=e.findLabelNode(i,o):!r&&s?n=e.findPortNode(s,o):[n]=e.findBySelector(o)}else t&&(n=Ce.toNode(t),n instanceof SVGElement||(n=null));return n||null},mount(){const{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:i}=this;if(!e||i)return;const{vel:s,paper:o}=t,{layer:a}=r;a?this.transformGroup=Ce("g").addClass("highlight-transform").append(n).appendTo(o.getLayerNode(a)):(!n.parentNode||n.nextSibling)&&s.append(n)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:n}=this;!e||(t?(this.transformGroup=null,t.remove()):n.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;const r=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),s=r.multiply(i);e.attr("transform",Ce.matrixToTransformString(s))},update(){const{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;const s=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),s?(this.highlight(t,s),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){}},{_views:{},highlight:function(e,t,n){const r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){const r=this.uniqueId(t,n);this.remove(e,r)},get(e,t=null){const{cid:n}=e,{_views:r}=this,i=r[n];if(null===t){const s=[];if(!i)return s;for(let o in i){const a=i[o];a instanceof this&&s.push(a)}return s}if(!i)return null;if(t in i){const s=i[t];if(s instanceof this)return s}return null},add(e,t,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const i=ic.get(e,n);i&&i.remove();const s=new this(r);return s.id=n,this._addRef(e,n,s),s.requestUpdate(e,t),s},_addRef(e,t,n){const{cid:r}=e,{_views:i}=this;let s=i[r];s||(s=i[r]={}),s[t]=n},_removeRef(e,t){const{cid:n}=e,{_views:r}=this,i=r[n];if(i){t&&delete i[t];for(let s in i)return;delete r[n]}},remove(e,t=null){cw(this.get(e,t)).forEach(n=>{n.remove()})},update(e,t=null,n=!1){cw(this.get(e,t)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(e,t=null){cw(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},uniqueId:(e,t="")=>Ce.ensureId(e)+JSON.stringify(t)}),th={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},bn=rl.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,r,i){e.push("type-"+i.slice(0,r+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var r,i,s,e={},t={},n=0,o=Bi(this,"presentationAttributes");for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];for(Array.isArray(l)||(l=[l]),r=0,i=l.length;r<i;r++){var d=e[s=l[r]];d||(d=e[s]=1<<n++),t[a]|=d}}var p=Bi(this,"initFlag");for(Array.isArray(p)||(p=[p]),r=0,i=p.length;r<i;r++)e[s=p[r]]||(e[s]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||vy(this),rl.call(this,e)},initialize:function(){this.setFlags(),rl.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){const{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=PE(e),r=n.selectors,i=n.groupSelectors;for(var s in i){if(r[s])throw new Error("dia.CellView: ambiguous group selector");r[s]=i[s]}if(t){var o=this.selector;if(r[o])throw new Error("dia.CellView: ambiguous root selector.");r[o]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=Xn(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Er(t)&&!1!==t[e]||function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"===Object.prototype.toString.call(e)}(t)&&!1!==t},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||"."===e)return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return Ra.useCSSSelectors?Wn(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix(),i=this.getRootRotateMatrix();return Ce.transformRect(t,r.multiply(i).multiply(n))},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return Ce.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model.position();return Ce.createSVGMatrix().translate(t.x,t.y)},getRootRotateMatrix:function(){var e=Ce.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,s=r.height/2;e=e.translate(i,s).rotate(n).translate(-i,-s)}return e},_notifyHighlight:function(e,t,n={}){const{el:r}=this;let i;if([i=r]="string"==typeof t?this.findBySelector(t):this.$(t),n.partial=i!==r,void 0===n.type){let s;switch(!0){case n.embedding:s=th.EMBEDDING;break;case n.connecting:s=th.CONNECTING;break;case n.magnetAvailability:s=th.MAGNET_AVAILABILITY;break;case n.elementAvailability:s=th.ELEMENT_AVAILABILITY;break;default:s=th.DEFAULT}n.type=s}return this.notify(e,i,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let n=this.$(e)[0];n||(n=t);do{const r=n.getAttribute("magnet"),i=n===t;if((r||i)&&"false"!==r)return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return e},getSelector:function(e,t){var n;if(e===this.el)return"string"==typeof t&&(n="> "+t),n;if(e){var r=Ce(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,s=r.getDefaultLink(this,e);return s.set({source:this.getLinkEnd(e,t,n,s,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),s.findView(r)},getLinkEnd:function(e,...t){var n=this.model,r=n.id,i=this.findAttribute("port",e),s=e.getAttribute("joint-selector"),o={id:r};return null!=s&&(o.magnet=s),null!=i?(o.port=i,!n.hasPort(i)&&!s&&(o.selector=this.getSelector(e))):null==s&&this.el!==e&&(o.selector=this.getSelector(e)),this.customizeLinkEnd(o,e,...t)},customizeLinkEnd:function(e,t,n,r,i,s){const{paper:o}=this,{connectionStrategy:a}=o.options;if("function"==typeof a){var l=a.call(o,e,this,t,new ae(n,r),i,s,o);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var s,t=this.el,n=e.port,r=e.magnet,i=this.model;return null!=n&&i.isElement()&&i.hasPort(n)?s=this.findPortNode(n,r)||t:(r||(r=e.selector),!r&&null!=n&&(r='[port="'+n+'"]'),s=this.findBySelector(r,t,this.selectors)[0]),this.findProxyNode(s,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var s=this.paper,o=s.options.magnetThreshold,a=this.getEventTarget(e),l=r.targetMagnet;if("onleave"===o){if(l===a||Ce(l).contains(a))return}else if(s.eventData(e).mousemoved<=o)return;this.dragLinkStart(e,l,t,n)}},dragLinkEnd:function(e,t,n){var i=this.eventData(e).linkView;!i||(i.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){ec(t)||(e instanceof SVGElement?Ce(e).attr(t):Wn(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,s,o,a,l,d,p,h=[];for(n in t)!t.hasOwnProperty(n)||(r=t[n],!(i=this.getAttributeDefinition(n))||Xn(i.qualify)&&!i.qualify.call(this,r,e,t)?(a||(a={}),a[xj(n)]=r):(rs(i.set)&&(a||(a={}),a[i.set]=r),null!==r&&h.push(n,i)));for(s=0,o=h.length;s<o;s+=2)r=t[n=h[s]],Xn((i=h[s+1]).set)&&(l||(l={}),l[n]=r),Xn(i.position)&&(d||(d={}),d[n]=r),Xn(i.offset)&&(p||(p={}),p[n]=r);return{raw:t,normal:a,set:l,position:d,offset:p}},updateRelativeAttributes:function(e,t,n,r){r||(r={});var i,s,a=t.raw||{},l=t.normal||{},d=t.set,p=t.position,h=t.offset;for(i in d){s=d[i];var I=this.getAttributeDefinition(i).set.call(this,s,n.clone(),e,a);Er(I)?dt(l,I):void 0!==I&&(l[i]=I)}if(e instanceof HTMLElement)this.setNodeAttributes(e,l);else{var U,Q,z,b=l.transform,E=Ce.transformStringToMatrix(b),j=ae(E.e,E.f);if(b&&(l=tc(l,"transform"),E.e=E.f=0),p||h){var w=this.getNodeScale(e,r.scalableNode);U=w.sx,Q=w.sy}var S=!1;for(i in p)s=p[i],(z=this.getAttributeDefinition(i).position.call(this,s,n.clone(),e,a))&&(j.offset(ae(z).scale(U,Q)),S||(S=!0));this.setNodeAttributes(e,l);var T=!1;if(h){var G=this.getNodeBoundingRect(e);if(G.width>0&&G.height>0){var K=Ce.transformRect(G,E).scale(1/U,1/Q);for(i in h)s=h[i],(z=this.getAttributeDefinition(i).offset.call(this,s,K,e,a))&&(j.offset(ae(z).scale(U,Q)),T||(T=!0))}}(void 0!==b||S||T)&&(j.round(1),E.e=j.x,E.f=j.y,e.setAttribute("transform",Ce.matrixToTransformString(E)))}},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=Ce.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return void 0===t.boundingRect&&(t.boundingRect=Ce(e).getBBox()),new We(t.boundingRect)},getNodeMatrix:function(e){var t=this.nodeCache(e);if(void 0===t.magnetMatrix){var n=this.rotatableNode||this.el;t.magnetMatrix=Ce(e).getTransformToElement(n)}return Ce.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return void 0===t.geometryShape&&(t.geometryShape=Ce(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,s,o,a,l={},d=[];for(var p in e)if(e.hasOwnProperty(p)&&ji(o=e[p])){var h=n[p]=this.findBySelector(p,t,r);for(i=0,s=h.length;i<s;i++){var I=h[i];a=Ce.ensureId(I);var b=r&&r[p]===I,E=l[a];if(E){E.array||(d.push(a),E.array=!0,E.attributes=[E.attributes],E.selectedLength=[E.selectedLength]);var j=E.attributes,U=E.selectedLength;if(b)j.unshift(o),U.unshift(-1);else{var Q=FE(U,s);j.splice(Q,0,o),U.splice(Q,0,s)}}else l[a]={attributes:o,selectedLength:b?-1:s,node:I,array:!1}}}for(i=0,s=d.length;i<s;i++)(o=l[a=d[i]]).attributes=zi({},...o.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:n,type:r,clientX:i=0,clientY:s=0}=e;return t.fromPoint||"touchmove"===r||"touchend"===r?document.elementFromPoint(i,s):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=We()),n.selectors||(n.selectors=this.selectors);var a,l,d,p,h,r={},i={},s=[],o=[],I=n.roAttributes,b=this.findNodesAttributes(I||t,e,r,n.selectors),E=I?this.findNodesAttributes(t,e,r,n.selectors):b;for(var j in b)if((h=this.processNodeAttributes(l=(p=b[j]).node,d=p.attributes)).set||h.position||h.offset){var z,U=E[j]&&E[j].attributes,Q=U&&void 0===d.ref?U.ref:d.ref;if(Q){if(!(z=(r[Q]||this.findBySelector(Q,e,n.selectors))[0]))throw new Error('dia.CellView: "'+Q+'" reference does not exist.')}else z=null;if(a={node:l,refNode:z,processedAttributes:h,allAttributes:U},z){var w=o.findIndex(function(ke){return ke.refNode===l});w>-1?o.splice(w,0,a):o.push(a)}else s.push(a)}else this.setNodeAttributes(l,h.normal);s.push(...o);for(var S,T=0,G=s.length;T<G;T++){l=(a=s[T]).node,z=a.refNode;var K=Ce(n.rotatableNode),le=z?Ce.ensureId(z):"",ge=!!K&&!!z&&K.contains(z),Ie=i[le];if(!Ie){var Te=ge?K:e;Ie=i[le]=z?Ce(z).getBBox({target:Te}):n.rootBBox}I?(h=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(h,a.processedAttributes)):h=a.processedAttributes;var Ne=Ie;ge&&!K.contains(l)&&(S||(S=Ce.transformStringToMatrix(K.attr("transform"))),Ne=Ce.transformRect(Ie,S)),this.updateRelativeAttributes(l,h,Ne,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),dt(e.set,t.set),dt(e.position,t.position),dt(e.offset,t.offset);var n=e.normal&&e.normal.transform;void 0!==n&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return!(!t||e&&t.getName()!==e)},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){ic.remove(this)},updateHighlighters:function(e=!1){ic.update(this,null,e)},transformHighlighters:function(){ic.transform(this)},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){const{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){const{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t}=this;t.isAsync()&&t.dumpView(this);const n=this.getEventTarget(e,{fromPoint:!0}),r=t.findView(n);r!==this&&(this.mouseleave(e),r&&r.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Highlighting:th,addPresentationAttributes:function(e){return zi({},Bi(this.prototype,"presentationAttributes"),e,function(t,n){if(t&&n&&("string"==typeof t&&(t=[t]),"string"==typeof n&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return Kd(t.concat(n))})}}),An={UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",TOOLS:"TOOLS",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},ci=bn.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=bn.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){bn.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[An.UPDATE],position:[An.TRANSLATE,An.TOOLS],size:[An.RESIZE,An.PORTS,An.TOOLS],angle:[An.ROTATE,An.TOOLS],markup:[An.RENDER],ports:[An.PORTS]},initFlag:[An.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){const{useCSSSelectors:n}=Ra;this.hasFlag(e,An.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,An.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[An.RENDER,An.UPDATE,An.RESIZE,An.TRANSLATE,An.ROTATE,An.PORTS,An.TOOLS]);else{let i=!1;this.hasFlag(e,An.RESIZE)&&(this.resize(t),i=!0,e=this.removeFlag(e,[An.RESIZE,An.UPDATE])),this.hasFlag(e,An.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,An.UPDATE),i=!0,n&&(e=this.removeFlag(e,An.PORTS))),this.hasFlag(e,An.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,An.TRANSLATE),r=!0),this.hasFlag(e,An.ROTATE)&&(this.rotate(),e=this.removeFlag(e,An.ROTATE),r=!0),this.hasFlag(e,An.PORTS)&&(this._renderPorts(),i=!0,e=this.removeFlag(e,An.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,An.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,An.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();const{useCSSSelectors:n}=Ra;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new We(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=Ce(n[this.rotatableSelector])||null,this.scalableNode=Ce(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(Ce(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),Ra.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,s=!1;i.node.getElementsByTagName("path").length>0&&(s=!0);var o=i.getBBox({recursive:s});i.attr("transform","scale("+r.width/(o.width||1)+","+r.height/(o.height||1)+")");var d=this.rotatableNode,p=d&&d.attr("transform");if(p){d.attr("transform",p+" rotate("+-n+","+r.width/2+","+r.height/2+")");var h=i.getBBox({target:this.paper.cells});t.set("position",{x:h.x,y:h.y},dt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,r=(e.paper||this.paper).model,i=e.initialZIndices={},s=t.getEmbeddedCells({deep:!0}),o=r.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...s,...o].forEach(d=>i[d.id]=d.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=r.getElements().reduce((d,p)=>Math.max(d,p.attributes.z||0),0);o.forEach(d=>{d.attributes.z<=a&&d.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(r.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e){e||(e={});var t=e.model||this.model,n=e.paper||this.paper,r=n.options,i=[];i=Xn(r.findParentBy)?mn(r.findParentBy.call(n.model,this)).filter(function(h){return h instanceof Au&&this.model.id!==h.id&&!h.isEmbeddedIn(this.model)}.bind(this)):n.model.findModelsUnderElement(t,{searchBy:r.findParentBy}),r.frontParentOnly&&(i=i.slice(-1));for(var o=null,a=e.candidateEmbedView,l=i.length-1;l>=0;l--){var d=i[l];if(a&&a.model.id==d.id){o=a;break}var p=d.findView(n);if(r.validateEmbedding.call(n,this,p)){o=p;break}}o&&o!=a&&(this.clearEmbedding(e),e.candidateEmbedView=o.highlight(o.findProxyNode(null,"container"),{embedding:!0})),!o&&a&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=r.options,{initialParentId:s}=e;if(s&&"function"==typeof i&&!i.call(r,this))return void this._disallowUnembed(e)}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,s=(e.paper||this.paper).model;switch(n){case"remove":r.remove({ui:!0});break;case"revert":{const{initialParentId:o,initialPosition:a,initialZIndices:l}=e;if(a){const{x:p,y:h}=a;r.position(p,h,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(p=>{const h=s.getCell(p);h&&h.set("z",l[p],{ui:!0})});const d=s.getCell(o);d&&d.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const r=this.findAttribute("port",e);if(r){const i=this.findPortNode(r,n);if(i)return i}else{const[i]=this.findBySelector(n);if(i)return i}}return e},notifyPointerdown(e,t,n){bn.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){bn.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),bn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){bn.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){bn.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){bn.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.isPropagationStopped(e)||(this.notifyPointerdown(e,t,n),this.dragStart(e,t,n))},pointermove:function(e,t,n){var r=this.eventData(e);switch(r.action){case"magnet":this.dragMagnet(e,t,n);break;case"move":(r.delegatedView||this).drag(e,t,n);default:this.notifyPointermove(e,t,n)}this.eventData(e,r)},pointerup:function(e,t,n){var r=this.eventData(e);switch(r.action){case"magnet":this.dragMagnetEnd(e,t,n);break;case"move":(r.delegatedView||this).dragEnd(e,t,n);default:this.notifyPointerup(e,t,n)}var i=r.targetMagnet;i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){bn.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){bn.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){bn.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){bn.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){bn.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){this.dragMagnetStart(e,t,n)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:"move",delegatedView:r});const i=r.model.position();r.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){if(this.can("addLinkFromMagnet")){var r=e.currentTarget,i=this.paper;this.eventData(e,{targetMagnet:r}),e.stopPropagation(),i.options.validateMagnet(this,r,e)?(i.options.magnetThreshold<=0&&this.dragLinkStart(e,r,t,n),this.eventData(e,{action:"magnet"}),this.stopPropagation(e)):this.pointerdown(e,t,n),i.delegateDragEvents(this,e.data)}},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,s=this.model,o=this.eventData(e),{pointerOffset:a,restrictedArea:l,embedding:d}=o,p=tf(t+a.x,i),h=tf(n+a.y,i);s.position(p,h,{restrictedArea:l,deep:!0,ui:!0}),r.options.embeddingMode&&(d||(this.prepareEmbedding(o),d=!0),this.processEmbedding(o)),this.eventData(e,{embedding:d})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:An});dt(ci.prototype,cB);const s_={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(void 0!==n)return n;try{n=t()}catch(r){n=!1}return this._results[e]=n,n}},En=_r.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),fB=En.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),dB=ci.extend({presentationAttributes:ci.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=ci.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),hB=En.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),fw=En.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),gB=En.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),pB=En.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),mB=En.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),vB=En.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),o_=En.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),yB=o_.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),Cy=s_.test("svgforeignobject"),IB=En.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Cy?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),En.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":dt({},t),div:{style:dt({},t)}})},updateContent:function(e,t){this.attr(Cy?{".content":{html:Sj(t)}}:{".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),CB=ci.extend({presentationAttributes:Cy?ci.prototype.presentationAttributes:ci.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=ci.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var n=this.model;if(Cy)ci.prototype.update.call(this,n,t);else{var r=tc(t||n.get("attrs"),".content");ci.prototype.update.call(this,n,r),(!t||Cu(t,".content"))&&this.updateContent(n,t)}},updateContent:function(e,t){var n=zi({},(t||e.get("attrs"))[".content"]);n=tc(n,"text");var r=LE(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),i=rw({},".content",n,"/");i[".content"].text=r,ci.prototype.update.call(this,e,i)}}),Gi=Au.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){return void 0===e?ea(this.get("source")):e instanceof Au?((r=ea(t)||{}).id=e.id,this.set("source",r,n)):ji(e)?this.set("source",r=e,t):((r=ea(t)||{}).x=e.x,r.y=e.y,this.set("source",r,n));var r},target:function(e,t,n){return void 0===e?ea(this.get("target")):e instanceof Au?((r=ea(t)||{}).id=e.id,this.set("target",r,n)):ji(e)?this.set("target",r=e,t):((r=ea(t)||{}).x=e.x,r.y=e.y,this.set("target",r,n));var r},router:function(e,t,n){if(void 0===e){var r=this.get("router");return r?"object"==typeof r?ea(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("router",i?e:{name:e,args:t},i?t:n)},connector:function(e,t,n){if(void 0===e){var r=this.get("connector");return r?"object"==typeof r?ea(r):r:this.get("smooth")?{name:"smooth"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("connector",i?e:{name:e,args:t},i?t:n)},label:function(e,t,n){var r=this.labels();return(e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return 0===arguments.length?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if((e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(0===arguments.length)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var i=e[r],s=this._normalizeVertex(i);n.push(s)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1);var s=this._normalizeVertex(t);return r.splice(e,0,s),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){return ji(e)?e:{x:e.x,y:e.y}},translate:function(e,t,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(r){return{x:(r.x||0)+e,y:(r.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(i){return ae(i).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!Xn(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=e(r)),i.id||(n.target=e(i));var s=this.vertices();return s.length>0&&(n.vertices=s.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ae(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ae(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ae),this.getTargetPoint()];return new nr(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(t=n===r||n.isEmbeddedIn(r)?r:r.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,r)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,i=n.id;if(!r||!i)return!1;var s=r===i;if(!s&&e.deep&&this.graph){var o=this.getSourceCell(),a=this.getTargetCell();s=o.isEmbeddedIn(a)||a.isEmbeddedIn(o)}return s},getSourceCell:function(){const{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=rs(e)||to(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){return e.id===t.id&&(e.port===t.port||!e.port&&!t.port)}}),a_=_r.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),AB=_r.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),wB=_r.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),bB=_r.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),u_=_r.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),DB=_r.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),xB=_r.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),MB=_r.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),SB=_r.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),EB=_r.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),_B=_r.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),NB=_r.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(void 0===e)return this.attr("body/lateralArea");var n=Zs(e);return this.attr({body:{lateralArea:e},top:n?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e}},t)}},{attributes:{lateralArea:{set:function(e,t){var n=Zs(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,s=t.width,o=t.height,l=n?o*e:e,d=Ce.KAPPA,p=d*(s/2),h=d*(n?o*e:e),b=r+s/2,E=r+s,j=i+l,U=j-l,Q=i+o-l,z=i+o;return{d:["M",r,j,"L",r,Q,"C",r,Q+h,b-p,z,b,z,"C",b+p,z,E,Q+h,E,Q,"L",E,j,"C",E,j-h,b+p,U,b,U,"C",b-p,U,r,j-h,r,j,"Z"].join(" ")}}}}});var OB=s_.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};const RB=_r.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},OB]},{attributes:{text:{set:function(e,t,n,r){if(!(n instanceof HTMLElement)){var i=r.style||{},s={text:e,width:-5,height:"100%"},o=dt({textVerticalAnchor:"middle"},i);return qE.textWrap.set.call(this,s,t,n,o),{fill:i.color||null}}n.textContent=e},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),l_=Gi.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),LB=Gi.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),kB=Gi.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),hw=En.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){En.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,n){var r=Kd(this.get("inPorts")),i=BE(Kd(this.get("outPorts")),r),s=this.createPortItems("in",r),o=this.createPortItems("out",i);this.prop("ports/items",s.concat(o),dt({rewrite:!0},n))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return mn(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,n){var r=this.get(t);return this.set(t,Array.isArray(r)?r.concat(e):[e],n)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,n){return this.set(t,jE(this.get(t),e),n)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,n){return this.prop("ports/groups/"+e,Er(t)?t:{},n)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),FB=hw.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),jB=hw.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),BB=Gi.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),Ay=En.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),gw=Ay.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),zB=gw.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),GB=gw.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),pw=Ay.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),lf=Ay.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),UB=pw.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),VB=pw.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),ZB=lf.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),WB=lf.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),HB=lf.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),YB=lf.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),XB=lf.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),$B=lf.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),JB=Gi.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),qB=En.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),QB=En.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),KB=En.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),ez=En.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),tz=En.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),nz=En.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),rz=En.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),iz=En.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),sz=En.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),oz=En.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),az=En.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),uz=En.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),c_=_r.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),lz=c_.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),f_=_r.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),cz=f_.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),op=_r.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),fz=op.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),dz=op.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),hz=op.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),gz=op.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),pz=_r.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),mz=Gi.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}}),vz=fw.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),yz=_r.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),Iz=_r.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Cz=Gi.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),Az=_r.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),wz=Gi.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),bz=En.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),Dz=ci.extend({presentationAttributes:ci.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:ci.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...e){let t=ci.prototype.confirmUpdate.call(this,...e);return this.hasFlag(t,"TOKENS")&&(this.renderTokens(),this.update(),t=this.removeFlag(t,"TOKENS")),t},renderTokens:function(){const e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){e.removeClass(n)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(Ce("circle"));break;case 2:e.addClass("two"),e.append([Ce("circle"),Ce("circle")]);break;case 3:e.addClass("three"),e.append([Ce("circle"),Ce("circle"),Ce("circle")]);break;default:e.addClass("alot"),e.append(Ce("text").text(t+""))}}}),xz=En.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),Mz=Gi.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),mw=En.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),En.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;t.forEach(function(r){var i=Array.isArray(r.text)?r.text:[r.text],s=20*i.length+20;e[".uml-class-"+r.type+"-text"].text=i.join("\n"),e[".uml-class-"+r.type+"-rect"].height=s,e[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=s})}}),vw=ci.extend({initialize:function(){ci.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),Sz=mw.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),Ez=vw,_z=mw.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),Nz=vw,Tz=Gi.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),Pz=Gi.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),Oz=Gi.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),Rz=Gi.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),Lz=Gi.define("uml.Association"),kz=En.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),En.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),d_=fw.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),h_=En.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Fz=Gi.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}});function g_(e,t){return 0===t?"0%":Math.round(e/t*100)+"%"}function p_(e){return function(t,n,r,i){return(n.isNodeConnection(r)?Bz:jz)(e,t,n,r,i)}}function jz(e,t,n,r,i){var s=n.model.angle(),o=n.getNodeUnrotatedBBox(r),a=n.model.getBBox().center();i.rotate(a,s);var l=i.x-o.x,d=i.y-o.y;return e&&(l=g_(l,o.width),d=g_(d,o.height)),t.anchor={name:"topLeft",args:{dx:l,dy:d,rotate:!0}},t}function Bz(e,t,n,r,i){var s=n.getConnection();if(!s)return t;var o=s.closestPointLength(i);if(e){var a=s.length();t.anchor={name:"connectionRatio",args:{ratio:o/a}}}else t.anchor={name:"connectionLength",args:{length:o}};return t}p_(!1);const zz=p_(!0),cf=rl.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:n}=this;return!t||!n||t.guard(e,n)}});function m_(e,t,n){return zz.call(this.paper,{},t,n,e,this.model).anchor}function v_(e,t){const{model:n}=e;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}var y_=rl.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(e,t){this.vel.attr({cx:e,cy:t})},onPointerDown:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.trigger("will-change",this,e))},onPointerMove:function(e){this.trigger("changing",this,e)},onDoubleClick:function(e){this.trigger("remove",this,e)},onPointerUp:function(e){this.trigger("changed",this,e),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}}),I_=(cf.extend({name:"vertices",options:{handleClass:y_,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){return this.relatedView.model.vertices().length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},renderHandles:function(){for(var t=this.relatedView.model.vertices(),n=0,r=t.length;n<r;n++){var i=t[n],s=new this.options.handleClass({index:n,paper:this.paper,guard:o=>this.guard(o)});s.render(),s.position(i.x,i.y),this.simulateRelatedView(s.el),s.vel.appendTo(this.el),this.handles.push(s),this.startHandleListening(s)}},updateHandles:function(){for(var t=this.relatedView.model.vertices(),n=0,r=t.length;n<r;n++){var i=t[n],s=this.handles[n];if(!s)return;s.position(i.x,i.y)}},updatePath:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(e){var t=this.relatedView;t.can("vertexMove")&&(this.listenTo(e,"will-change",this.onHandleWillChange),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"changed",this.onHandleChanged)),t.can("vertexRemove")&&this.listenTo(e,"remove",this.onHandleRemove)},getNeighborPoints:function(e){var t=this.relatedView,n=t.model.vertices(),i=e<n.length-1?n[e+1]:t.targetAnchor;return{prev:new ae(e>0?n[e-1]:t.sourceAnchor),next:new ae(i)}},onHandleWillChange:function(e,t){this.focus();const{relatedView:n,options:r}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),r.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(t))},onHandleChanging:function(e,t){const{options:n,relatedView:r}=this;var i=e.options.index,[s,o,a]=r.paper.getPointerArgs(t),l={x:o,y:a};this.snapVertex(l,i),r.model.vertex(i,l,{ui:!0,tool:this.cid}),e.position(l.x,l.y),n.stopPropagation||r.notifyPointermove(s,o,a)},onHandleChanged:function(e,t){const{options:n,relatedView:r}=this;if(n.vertexAdding&&this.updatePath(),n.redundancyRemoval){r.removeRedundantLinearVertices({ui:!0,tool:this.cid})&&this.render(),this.blur(),r.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(t).vertexAdded&&r.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[s,o,a]=r.paper.getPointerArgs(t);n.stopPropagation||r.notifyPointerup(s,o,a),r.checkMouseleave(s)}},snapVertex:function(e,t){var n=this.options.snapRadius;if(n>0){var r=this.getNeighborPoints(t),i=r.prev,s=r.next;Math.abs(e.x-i.x)<n?e.x=i.x:Math.abs(e.x-s.x)<n&&(e.x=s.x),Math.abs(e.y-i.y)<n?e.y=r.prev.y:Math.abs(e.y-s.y)<n&&(e.y=s.y)}},onHandleRemove:function(e,t){var r=this.relatedView;r.model.removeVertex(e.options.index,{ui:!0}),this.options.vertexAdding&&this.updatePath(),r.checkMouseleave(zr(t))},onPathPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=zr(e),n=this.paper.snapToGrid(t.clientX,t.clientY).toJSON(),r=this.relatedView;r.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var i=r.getVertexIndex(n.x,n.y);this.snapVertex(n,i),r.model.insertVertex(i,n,{ui:!0,tool:this.cid}),this.render();var s=this.handles[i];this.eventData(t,{vertexAdded:!0}),s.onPointerDown(t)}},onRemove:function(){this.resetHandles()}},{VertexHandle:y_}),rl.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(e,t,n,r){var i=Ce.createSVGMatrix().translate(e,t).rotate(n),s=this.childNodes.handle;s.setAttribute("transform",Ce.matrixToTransformString(i)),s.setAttribute("cursor",n%180==0?"row-resize":"col-resize");var o=r.getClosestPoint(new ae(e,t)),a=this.childNodes.line;a.setAttribute("x1",e),a.setAttribute("y1",t),a.setAttribute("x2",o.x),a.setAttribute("y2",o.y)},onPointerDown:function(e){this.options.guard(e)||(this.trigger("change:start",this,e),e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data))},onPointerMove:function(e){this.trigger("changing",this,e)},onPointerUp:function(e){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,e)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}})),C_=(cf.extend({name:"segments",precision:.5,options:{handleClass:I_,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:m_,snapRadius:10,snapHandle:!0,stopPropagation:!0},handles:null,onRender:function(){this.resetHandles();var e=this.relatedView,t=e.model.vertices();t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var n=0,r=t.length;n<r-1;n++){var o=this.renderHandle(t[n],t[n+1]);this.simulateRelatedView(o.el),this.handles.push(o),o.options.index=n}return this},renderHandle:function(e,t){var n=new this.options.handleClass({paper:this.paper,guard:r=>this.guard(r)});return n.render(),this.updateHandle(n,e,t),n.vel.appendTo(this.el),this.startHandleListening(n),n},update:function(){return this.render(),this},startHandleListening:function(e){this.listenTo(e,"change:start",this.onHandleChangeStart),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},shiftHandleIndexes:function(e){for(var t=this.handles,n=0,r=t.length;n<r;n++)t[n].options.index+=e},resetAnchor:function(e,t){var n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(e,t,n){var r=e.options.index,o=this.relatedView.model.vertices(),a=e.options.axis,l=o[r-2]||n.sourceAnchor,d=o[r+1]||n.targetAnchor,p=this.options.snapRadius;return Math.abs(t[a]-l[a])<p?t[a]=l[a]:Math.abs(t[a]-d[a])<p&&(t[a]=d[a]),t},onHandleChanging:function(e,t){const{options:n}=this;var r=this.eventData(t),i=this.relatedView,s=i.paper,o=e.options.index-1,a=zr(t),l=s.snapToGrid(a.clientX,a.clientY),d=this.snapHandle(e,l.clone(),r),p=e.options.axis,h=this.options.snapHandle?0:l[p]-d[p],I=i.model,b=eo(I.vertices()),E=b[o],j=b[o+1],U=this.options.anchor;"function"!=typeof U&&(U=null);var Q=i.sourceView,z=i.sourceBBox,w=!1,S=!1;if(E?0===o?z.containsPoint(E)?(b.shift(),this.shiftHandleIndexes(-1),w=!0):(E[p]=d[p],S=!0):E[p]=d[p]:((E=i.sourceAnchor.toJSON())[p]=d[p],z.containsPoint(E)?(E[p]=d[p],w=!0):(b.unshift(E),this.shiftHandleIndexes(1),S=!0)),U&&Q){if(w){var T=r.sourceAnchor.clone();T[p]=d[p];var G=U.call(i,T,Q,i.sourceMagnet||Q.el,"source",i);this.resetAnchor("source",G)}S&&this.resetAnchor("source",r.sourceAnchorDef)}var K=i.targetView,le=i.targetBBox,ge=!1,Ie=!1;if(j?o===b.length-2?le.containsPoint(j)?(b.pop(),ge=!0):(j[p]=d[p],Ie=!0):j[p]=d[p]:((j=i.targetAnchor.toJSON())[p]=d[p],le.containsPoint(j)?ge=!0:(b.push(j),Ie=!0)),U&&K){if(ge){var Te=r.targetAnchor.clone();Te[p]=d[p];var Ne=U.call(i,Te,K,i.targetMagnet||K.el,"target",i);this.resetAnchor("target",Ne)}Ie&&this.resetAnchor("target",r.targetAnchorDef)}I.vertices(b,{ui:!0,tool:this.cid}),this.updateHandle(e,E,j,h),n.stopPropagation||i.notifyPointermove(a,l.x,l.y)},onHandleChangeStart:function(e,t){const{options:n,handles:r,relatedView:i}=this,{model:s,paper:o}=i;var a=e.options.index;if(Array.isArray(r)){for(var l=0,d=r.length;l<d;l++)l!==a&&r[l].hide();this.focus(),this.eventData(t,{sourceAnchor:i.sourceAnchor.clone(),targetAnchor:i.targetAnchor.clone(),sourceAnchorDef:ea(s.prop(["source","anchor"])),targetAnchorDef:ea(s.prop(["target","anchor"]))}),s.startBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||i.notifyPointerdown(...o.getPointerArgs(t))}},onHandleChangeEnd:function(e,t){const{options:n,relatedView:r}=this,{paper:i,model:s}=r;n.redundancyRemoval&&r.removeRedundantLinearVertices({ui:!0,tool:this.cid});const o=zr(t),a=i.snapToGrid(o.clientX,o.clientY);this.render(),this.blur(),s.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||r.notifyPointerup(o,a.x,a.y),r.checkMouseleave(o)},updateHandle:function(e,t,n,r){var i=Math.abs(t.x-n.x)<this.precision,s=Math.abs(t.y-n.y)<this.precision;if(i||s){var o=new $e(t,n);if(o.length()<this.options.segmentLengthThreshold)e.hide();else{var l=o.midpoint(),d=i?"x":"y";l[d]+=r||0;var p=o.vector().vectorAngle(new ae(1,0));e.position(l.x,l.y,p,this.relatedView),e.show(),e.options.axis=d}}else e.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:I_}),cf.extend({tagName:"path",xAxisVector:new ae(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},onRender:function(){this.update()},update:function(){var r,i,e=this.ratio,t=this.relatedView,n=t.getTangentAtRatio(e);if(n?(r=n.start,i=n.vector().vectorAngle(this.xAxisVector)||0):(r=t.getPointAtRatio(e),i=0),!r)return this;var s=Ce.createSVGMatrix().translate(r.x,r.y).rotate(i);return this.vel.transform(s,{absolute:!0}),this},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.relatedView;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.can("arrowheadMove")&&(t.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),t.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(e){var t=zr(e),n=this.paper.snapToGrid(t.clientX,t.clientY);this.relatedView.pointermove(t,n.x,n.y)},onPointerUp:function(e){this.undelegateDocumentEvents();var t=this.relatedView,n=t.paper,r=zr(e),i=n.snapToGrid(r.clientX,r.clientY);t.pointerup(r,i.x,i.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",t.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}})),Uz=(C_.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),C_.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),cf.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{relatedView:e,vel:t}=this,n=e.model.isLink()?this.getLinkMatrix():this.getElementMatrix();t.transform(n,{absolute:!0})},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:n=0,y:r=0,offset:i={},useModelGeometry:s,rotate:o}=t,a=v_(e,s);const l=e.model.angle();o||(a=a.bbox(l));const{x:d=0,y:p=0}=i;Zs(n)&&(n=parseFloat(n)/100*a.width),Zs(r)&&(r=parseFloat(r)/100*a.height);let h=Ce.createSVGMatrix().translate(a.x+a.width/2,a.y+a.height/2);return o&&(h=h.rotate(l)),h=h.translate(n+d-a.width/2,r+p-a.height/2),h},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:n=0,distance:r=0,rotate:i}=t;let s,o,a;s=Zs(r)?e.getTangentAtRatio(parseFloat(r)/100):e.getTangentAtLength(r),s?(o=s.start,a=s.vector().vectorAngle(new ae(1,0))||0):(o=e.getConnection().start,a=0);let l=Ce.createSVGMatrix().translate(o.x,o.y).rotate(a).translate(0,n);return i||(l=l.rotate(-a)),l},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;"function"==typeof t&&t.call(this.relatedView,e,this.relatedView,this)}}})),Vz=Uz.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}}),A_=(cf.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:e,options:t,vel:n}=this,{useModelGeometry:r,rotate:i}=t,s=of(t.padding);let o=v_(e,r).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});var a=e.model;if(a.isElement()){var l=a.angle();if(l)if(i){var d=a.getBBox().center();n.rotate(l,d.x,d.y,{absolute:!0})}else o=o.bbox(l)}return n.attr(o.toJSON()),this}}),cf.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:function(e,t,n,r,i,s){var o=s.options.snapRadius,a="source"===r,d=this.model.vertex(a?0:-1)||this.getEndAnchor(a?"target":"source");return d&&(Math.abs(d.x-e.x)<o&&(e.x=d.x),Math.abs(d.y-e.y)<o&&(e.y=d.y)),e},anchor:m_,resetAnchor:!0,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){return this.relatedView.getEndView(this.type)?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var e=this.childNodes;if(e){var t=e.anchor;if(t){var n=this.relatedView,r=this.type,i=n.getEndAnchor(r),s=this.options,o=n.model.prop([r,"anchor"]);t.setAttribute("transform","translate("+i.x+","+i.y+")");var a=o?s.customAnchorAttributes:s.defaultAnchorAttributes;for(var l in a)t.setAttribute(l,a[l])}}},updateArea:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var l,d,p,n=this.relatedView,r=this.type,i=n.getEndView(r),s=i.model,o=n.getEndMagnet(r),a=this.options.areaPadding;isFinite(a)||(a=0),i.isNodeConnection(o)?(d=0,p=(l=i.getBBox()).center()):(l=i.getNodeUnrotatedBBox(o),d=s.angle(),p=l.center(),d&&p.rotate(s.getBBox().center(),-d)),l.inflate(a),t.setAttribute("x",-l.width/2),t.setAttribute("y",-l.height/2),t.setAttribute("width",l.width),t.setAttribute("height",l.height),t.setAttribute("transform","translate("+p.x+","+p.y+") rotate("+d+")")}}},toggleArea:function(e){this.childNodes.area.style.display=e?"":"none"},onPointerDown:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(e){var t=this.type,n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(e){var t=this.relatedView,n=this.type,r=t.getEndView(n),i=r.model,s=t.getEndMagnet(n),o=zr(e),a=this.paper.clientToLocalPoint(o.clientX,o.clientY),l=this.options.snap;if("function"==typeof l&&(a=l.call(t,a,r,s,n,t,this),a=new ae(a)),this.options.restrictArea)if(r.isNodeConnection(s)){var d=r.getClosestPoint(a);d&&(a=d)}else{var p=r.getNodeUnrotatedBBox(s),h=i.angle(),I=i.getBBox().center(),b=a.clone().rotate(I,h);p.containsPoint(b)||(a=p.pointNearestToPoint(b).rotate(I,-h))}var E,j=this.options.anchor;"function"==typeof j&&(E=j.call(t,a,r,s,n,t)),this.resetAnchor(E),this.update()},onPointerUp:function(e){this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var t=this.relatedView;this.options.redundancyRemoval&&t.removeRedundantLinearVertices({ui:!0,tool:this.cid}),t.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){var e=this.options.resetAnchor;!1!==e&&(!0===e&&(e=null),this.resetAnchor(eo(e)),this.update())}}));A_.extend({name:"source-anchor",type:"source"}),A_.extend({name:"target-anchor",type:"target"});const yw={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof Au?r=t:r instanceof Au&&(t.length>1&&t.pop(),r=t)),i instanceof Au&&(i={}),e.call(this,r,i)}}},Wz=As.Collection.extend({initialize:function(e,t){this.cellNamespace=t.cellNamespace?t.cellNamespace:"undefined"!=typeof joint&&Cu(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,s=new("link"===e.type?Gi:rp(n.cellNamespace,e.type,".")||_r)(e,t);return t.dry||(s.graph=n.graph),s},comparator:function(e){return e.get("z")||0}}),Iw=As.Model.extend({initialize:function(e,t){var n=new Wz([],{model:(t=t||{}).cellModel,cellNamespace:t.cellNamespace,graph:this});As.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=As.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return"object"==typeof e?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=tc(r,"cells")),As.Model.prototype.set.call(this,r,n)},clear:function(e){e=dt({},e,{clear:!0});var t=this.get("cells");if(0===t.length)return this;this.startBatch("clear",e);var n=t.sortBy(function(r){return r.isLink()?1:2});do{n.shift().remove(e)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof As.Model?(n=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):n=e,!rs(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof As.Model?e.has("z")||e.set("z",this.maxZIndex()+1):void 0===e.z&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return 0===e.length||(e=Rj(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t)),this},resetCells:function(e,t){var n=mn(e).map(function(r){return this._prepareCell(r,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Iu(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){var n=(t=t||{}).indirect,r=t.inbound,i=t.outbound;void 0===r&&void 0===i&&(r=i=!0);var s=[],o={};function a(h,I){if(ta(h.getOutboundEdges(I.id),function(E,j){if(!o[j]){var U=h.getCell(j);s.push(U),o[j]=!0,n&&(r&&l(h,U),i&&a(h,U))}}.bind(h)),n&&I.isLink()){var b=I.getTargetCell();b&&b.isLink()&&(o[b.id]||(s.push(b),a(h,b)))}}function l(h,I){if(ta(h.getInboundEdges(I.id),function(E,j){if(!o[j]){var U=h.getCell(j);s.push(U),o[j]=!0,n&&(r&&l(h,U),i&&a(h,U))}}.bind(h)),n&&I.isLink()){var b=I.getSourceCell();b&&b.isLink()&&(o[b.id]||(s.push(b),l(h,b)))}}if(i&&a(this,e),r&&l(this,e),t.deep){var d=e.getEmbeddedCells({deep:!0}),p={};d.forEach(function(h){h.isElement()&&(p[h.id]=!0)}),d.forEach(function(h){h.isLink()||(i&&ta(this.getOutboundEdges(h.id),function(I,b){if(!o[b]){var E=this.getCell(b),{source:j,target:U}=E.attributes,Q=j.id,z=U.id;if(!t.includeEnclosed&&Q&&p[Q]&&z&&p[z])return;s.push(this.getCell(b)),o[b]=!0}}.bind(this)),r&&ta(this.getInboundEdges(h.id),function(I,b){if(!o[b]){var E=this.getCell(b),{source:j,target:U}=E.attributes,Q=j.id,z=U.id;if(!t.includeEnclosed&&Q&&p[Q]&&z&&p[z])return;s.push(this.getCell(b)),o[b]=!0}}.bind(this)))},this)}return s},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;void 0===n&&void 0===r&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce(function(a,l){var{source:d,target:p}=l.attributes,h=l.hasLoop(t);if(n&&Cu(d,"id")&&!a[d.id]){var I=this.getCell(d.id);I.isElement()&&(h||I&&I!==e&&(!t.deep||!I.isEmbeddedIn(e)))&&(a[d.id]=I)}if(r&&Cu(p,"id")&&!a[p.id]){var b=this.getCell(p.id);b.isElement()&&(h||b&&b!==e&&(!t.deep||!b.isEmbeddedIn(e)))&&(a[p.id]=b)}return a}.bind(this),{});if(e.isLink()){if(n){var s=e.getSourceCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}if(r){var o=e.getTargetCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}}return mn(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);e=e.sort(function(n,r){return n.length-r.length});var t=mn(e.shift()).find(function(n){return e.every(function(r){return r.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){var n=[];return this.search(e,function(r){r!==e&&n.push(r)},dt({},t=t||{},{outbound:!0})),n},cloneCells:UE,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],s=[];return mn(e).forEach(function(o){r[o.id]||(n.push(o),r[o.id]=o,o.isLink()?s.push(o):i.push(o)),t.deep&&o.getEmbeddedCells({deep:!0}).forEach(function(l){r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?s.push(l):i.push(l))})}),s.forEach(function(o){var{source:a,target:l}=o.attributes;if(a.id&&!r[a.id]){var d=this.getCell(a.id);n.push(d),r[d.id]=d,i.push(d)}if(l.id&&!r[l.id]){var p=this.getCell(l.id);n.push(this.getCell(l.id)),r[p.id]=p,i.push(p)}},this),i.forEach(function(o){this.getConnectedLinks(o,t).forEach(function(l){var{source:d,target:p}=l.attributes;!r[l.id]&&d.id&&r[d.id]&&p.id&&r[p.id]&&(n.push(l),r[l.id]=l)})},this),n},getPredecessors:function(e,t){var n=[];return this.search(e,function(r){r!==e&&n.push(r)},dt({},t=t||{},{inbound:!0})),n},search:function(e,t,n){(n=n||{}).breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){const r={},i={},s=[];for(s.push(e),i[e.id]=0;s.length>0;){var o=s.shift();if(r[o.id]||(r[o.id]=!0,!1===t.call(this,o,i[o.id])))continue;const a=this.getNeighbors(o,n);for(let l=0,d=a.length;l<d;l++){const p=a[l];i[p.id]=i[o.id]+1,s.push(p)}}},dfs:function(e,t,n={}){const r={},i={},s=[];for(s.push(e),i[e.id]=0;s.length>0;){const o=s.pop();if(r[o.id]||(r[o.id]=!0,!1===t.call(this,o,i[o.id])))continue;const a=this.getNeighbors(o,n),l=s.length;for(let d=0,p=a.length;d<p;d++){const h=a[d];i[h.id]=i[o.id]+1,s.splice(l,0,h)}}},getSources:function(){var e=[];return ta(this._nodes,function(t,n){(!this._in[n]||ec(this._in[n]))&&e.push(this.getCell(n))}.bind(this)),e},getSinks:function(){var e=[];return ta(this._nodes,function(t,n){(!this._out[n]||ec(this._out[n]))&&e.push(this.getCell(n))}.bind(this)),e},isSource:function(e){return!this._in[e.id]||ec(this._in[e.id])},isSink:function(e){return!this._out[e.id]||ec(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){var r=(n=n||{}).inbound,i=n.outbound;void 0===r&&void 0===i&&(r=i=!0);var s=!1;return this.getConnectedLinks(e,n).forEach(function(o){var{source:a,target:l}=o.attributes;if(r&&Cu(a,"id")&&a.id===t.id||i&&Cu(l,"id")&&l.id===t.id)return s=!0,!1}),s},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Iu(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(function(t){return t.getBBox().containsPoint(e)})},findModelsInArea:function(e,t){e=ME(e);var n=(t=wo(t||{},{strict:!1})).strict?"containsRect":"intersect";return this.getElements().filter(function(r){return e[n](r.getBBox())})},findModelsUnderElement:function(e,t){t=wo(t||{},{searchBy:"bbox"});var n=e.getBBox();return("bbox"===t.searchBy?this.findModelsInArea(n):this.findModelsFromPoint(n[t.searchBy]())).filter(function(i){return e.id!==i.id&&!i.isEmbeddedIn(e)})},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t){return t||(t={}),mn(e).reduce(function(n,r){var i=r.getBBox(t);if(!i)return n;var s=r.angle();return s&&(i=i.bbox(s)),n?n.union(i):i},null)},translate:function(e,t,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return Iu(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var s=Math.max(e/i.width,0),o=Math.max(t/i.height,0);Iu(n,"scale",s,o,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",dt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",dt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let n;return n=0===arguments.length?Object.keys(t):Array.isArray(e)?e:[e],n.some(r=>t[r]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var i=t.getSourceCell();if(i&&e.getConnectedLinks(i,{outbound:!0}).filter(function(a){var{source:l,target:d}=a.attributes;return l&&l.id===n.id&&(!l.port||l.port===n.port)&&d&&d.id===r.id&&(!d.port||d.port===r.port)}).length>1)return!1}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});!function(e,t,n){if(rs(n)){if(!yw[n])throw new Error('Unknown wrapper: "'+n+'"');n=yw[n]}if(!Xn(n))throw new Error("Wrapper must be a function.");mn(["resetCells","addCells","removeCells"]).forEach(function(r){e[r]=n(e[r])})}(Iw.prototype,0,yw.cells);const Hz=rl.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null,component:!1},configure:function(e){var t=(e=dt(this.options,e)).tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof bn))return this;for(var r=this.tools=[],i=0,s=t.length;i<s;i++){var o=t[i];o instanceof cf&&(o.configure(n,this),this.vel.append(o.el),r.push(o))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,r=0,i=t.length;r<i;r++){var s=t[r];n?e.tool!==s.cid&&s.isVisible()&&s.update():s.render()}return n||(this.mount(),this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){var e=this.options,t=e.relatedView;return t&&(e.component?t.el:t.paper.tools).appendChild(this.el),this}}),Yz=function(e,t,n){return e},Xz=function(e,t,n){var d,p,h,r=t.side||"bottom",i=of(t.padding||40),s=n.sourceBBox,o=n.targetBBox,a=s.center(),l=o.center();switch(r){case"bottom":h=1,d="y",p="height";break;case"top":h=-1,d="y",p="height";break;case"left":h=-1,d="x",p="width";break;case"right":h=1,d="x",p="width";break;default:throw new Error("Router: invalid side")}return a[d]+=h*(s[p]/2+i[r]),l[d]+=h*(o[p]/2+i[r]),h*(a[d]-l[d])>0?l[d]=a[d]:a[d]=l[d],[a].concat(e,l)};var $z={N:"S",S:"N",E:"W",W:"E"},Jz={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function wy(e,t,n){var r=new ae(e.x,t.y);return n.containsPoint(r)&&(r=new ae(t.x,e.y)),r}function Cw(e,t){return e["W"===t||"E"===t?"width":"height"]}function Ws(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function by(e){return new We(e.x,e.y,0,0)}function Dy(e){var t=of(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function w_(e,t){return e.sourceBBox.clone().moveAndExpand(Dy(t))}function b_(e,t){return e.targetBBox.clone().moveAndExpand(Dy(t))}function D_(e,t,n){var r=new ae(e.x,t.y),i=new ae(t.x,e.y),s=Ws(e,r),o=Ws(e,i),a=$z[n],l=s===n||s!==a&&(o===a||o!==n)?r:i;return{points:[l],direction:Ws(l,t)}}function xy(e,t,n){var r=wy(e,t,n);return{points:[r],direction:Ws(r,t)}}function Kz(e,t,n,r){var l,i={},s=[new ae(e.x,t.y),new ae(t.x,e.y)],o=s.filter(function(h){return!n.containsPoint(h)}),a=o.filter(function(h){return Ws(h,e)!==r});if(a.length>0)l=a.filter(function(h){return Ws(e,h)===r}).pop(),i.points=[l=l||a[0]],i.direction=Ws(l,t);else{l=BE(s,o)[0];var d=new ae(t).move(l,-Cw(n,r)/2),p=wy(d,e,n);i.points=[p,d],i.direction=Ws(d,t)}return i}function e5(e,t,n,r){var i=xy(t,e,r),s=i.points[0];if(n.containsPoint(s)){var o=(i=xy(e,t,n)).points[0];if(r.containsPoint(o)){var a=new ae(e).move(o,-Cw(n,Ws(e,o))/2),l=new ae(t).move(s,-Cw(r,Ws(t,s))/2),d=new $e(a,l).midpoint(),p=xy(e,d,n),h=D_(d,t,p.direction);i.points=[p.points[0],h.points[0]],i.direction=h.direction}}return i}function Aw(e,t,n,r,i){var p,h,I,s={},o=n.union(r).inflate(1),a=o.center().distance(t)>o.center().distance(e),l=a?t:e,d=a?e:t;return i?(p=ae.fromPolar(o.width+o.height,Jz[i],l),p=o.pointNearestToPoint(p).move(p,-1)):p=o.pointNearestToPoint(l).move(l,1),h=wy(p,d,o),p.round().equals(h.round())?(h=ae.fromPolar(o.width+o.height,Ks(p.theta(l))+Math.PI/2,d),I=wy(p,h=o.pointNearestToPoint(h).move(d,1).round(),o),s.points=a?[h,I,p]:[p,I,h]):s.points=a?[h,p]:[p,h],s.direction=Ws(a?p:h,t),s}function ww(e,t,n){var r=w_(n,t),i=b_(n,t),s=function(e,t){return e.sourceAnchor?e.sourceAnchor:w_(e,t).center()}(n,t),o=function(e,t){return e.targetAnchor?e.targetAnchor:b_(e,t).center()}(n,t);r=r.union(by(s)),i=i.union(by(o)),(e=mn(e).map(ae)).unshift(s),e.push(o);for(var a,l=[],d=0,p=e.length-1;d<p;d++){var h=null,I=e[d],b=e[d+1],E=!!Ws(I,b);if(0===d)d+1===p?r.intersect(i.clone().inflate(1))?h=Aw(I,b,r,i):E||(h=e5(I,b,r,i)):r.containsPoint(b)?h=Aw(I,b,r,by(b).moveAndExpand(Dy(t))):E||(h=xy(I,b,r));else if(d+1===p){var j=E&&Ws(b,I)===a;i.containsPoint(I)||j?h=Aw(I,b,by(I).moveAndExpand(Dy(t)),i,a):E||(h=Kz(I,b,i,a))}else E||(h=D_(I,b,a));h?(Array.prototype.push.apply(l,h.points),a=h.direction):a=Ws(I,b),d+1<p&&l.push(b)}return l}var x_={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!Xn(ww))throw new Error("Manhattan requires the orthogonal router as default fallback.");return ww(e,dt({},x_,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function bw(e){this.map={},this.options=e,this.mapGridSize=100}function ff(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function M_(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function S_(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function E_(e,t){return e.sourceAnchor?e.sourceAnchor:M_(e,t).center()}function Dw(e,t,n,r,i){var s=360/n,o=e.theta(function(e,t,n,r){var i=r.step;return new ae(e.x+(t.x-e.x)/n.x*i,e.y+(t.y-e.y)/n.y*i)}(e,t,r,i)),a=vu(o+s/2);return s*Math.floor(a/s)}function __(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function N_(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);return r?t+(n-r*t)/r:n}function ap(e,t){return e.round(t)}function My(e,t,n){return ap(function(e,t){var n=t.source,r=tf(e.x-n.x,t.x)+n.x,i=tf(e.y-n.y,t.y)+n.y;return new ae(r,i)}(e.clone(),t),n)}function up(e){return e.clone().toString()}function xw(e){return new ae(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function o5(e,t,n,r,i,s,o){for(var h,a=[],l=xw(i.difference(n)),d=up(n),p=e[d];p;){var I=xw((h=t[d]).difference(p));I.equals(l)||(a.unshift(h),l=I),p=e[d=up(p)]}var b=t[d];return xw(b.difference(r)).equals(l)||a.unshift(b),a}function T_(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var s=e.manhattanDistance(t[r]);s<n&&(n=s)}return n}function P_(e,t,n,r,i){var s=i.precision,o=i.directionMap,a=e.difference(t.center()),l=Er(o)?Object.keys(o):[],d=mn(n),p=l.reduce(function(h,I){if(d.includes(I)){for(var z,b=o[I],E=new ae(e.x+b.x*(Math.abs(a.x)+t.width),e.y+b.y*(Math.abs(a.y)+t.height)),U=new $e(e,E).intersect(t)||[],Q=U.length,w=null,S=0;S<Q;S++){var T=U[S],G=e.squaredDistance(T);(void 0===z||G>z)&&(z=G,w=T)}if(w){var K=My(w,r,s);t.containsPoint(K)&&(K=My(K.offset(b.x*r.x,b.y*r.y),r,s)),h.push(K)}}return h},[]);return t.containsPoint(e)||p.push(My(e,r,s)),p}function a5(e,t,n,r){var s,o,i=r.precision;s=ap(e instanceof We?E_(this,r).clone():e.clone(),i),o=ap(t instanceof We?function(e,t){return e.targetAnchor?e.targetAnchor:S_(e,t).center()}(this,r).clone():t.clone(),i);var l,d,p,h,a=function(e,t,n){return{source:t.clone(),x:N_(n.x-t.x,e),y:N_(n.y-t.y,e)}}(r.step,s,o);if(p=e instanceof We?P_(l=s,e,r.startDirections,a,r):[l=s],t instanceof We?(d=o,h=P_(o,t,r.endDirections,a,r)):h=[d=o],p=p.filter(fn=>!n(fn)),h=h.filter(fn=>!n(fn)),p.length>0&&h.length>0){for(var I=new ff,b={},E={},j={},U=0,Q=p.length;U<Q;U++){var z=p[U],w=up(z);I.add(w,T_(z,h)),b[w]=z,j[w]=0}var G,K,S=r.previousDirectionAngle,T=void 0===S,le=r.directions;!function(e,t,n){var r=n.step;mn(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*t.x,i.gridOffsetY=i.offsetY/r*t.y})}(0,a,r);for(var ge=le.length,Ie=mn(h).reduce(function(fn,pt){var Ze=up(pt);return fn.push(Ze),fn},[]),Te=r.maximumLoops;!I.isEmpty()&&Te>0;){var Un,Ne=I.pop(),ke=b[Ne],Ge=E[Ne],Ye=j[Ne],it=void 0===Ge,Hn=ke.equals(l);Un=it?T?Hn?null:Dw(l,ke,ge,a,r):S:Dw(Ge,ke,ge,a,r);var Nr=p.length===h.length;if(Nr)for(var yt=0;yt<p.length;yt++)if(!p[yt].equals(h[yt])){Nr=!1;break}if((!it||!Nr)&&Ie.indexOf(Ne)>=0)return r.previousDirectionAngle=Un,o5(E,b,ke,l,d);for(U=0;U<ge;U++){var Dt=(G=le[U]).angle;if(K=__(Un,Dt),T&&Hn||!(K>r.maxAllowedDirectionChange)){var Ct=My(ke.clone().offset(G.gridOffsetX,G.gridOffsetY),a,i),sn=up(Ct);if(!I.isClose(sn)&&!n(Ct)){if(Ie.indexOf(sn)>=0&&!Ct.equals(d)&&__(Dt,Dw(Ct,d,ge,a,r))>r.maxAllowedDirectionChange)continue;var Gt=Ye+G.cost+(Hn?0:r.penalties[K]);(!I.isOpen(sn)||Gt<j[sn])&&(b[sn]=Ct,E[sn]=ke,j[sn]=Gt,I.add(sn,Gt+T_(Ct,h)))}}}Te--}}return r.fallbackRoute.call(this,l,d,r)}bw.prototype.build=function(e,t){var n=this.options,r=mn(n.excludeEnds).reduce(function(l,d){var p=t.get(d);if(p){var h=e.getCell(p.id);h&&l.push(h)}return l},[]),i=[],s=e.getCell(t.get("source").id);s&&(i=zE(i,s.getAncestors().map(function(l){return l.id})));var o=e.getCell(t.get("target").id);o&&(i=zE(i,o.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return e.getElements().reduce(function(l,d){var p=mn(n.excludeTypes).includes(d.get("type")),h=r.find(function(S){return S.id===d.id}),I=i.includes(d.id);if(!(p||h||I))for(var E=d.getBBox().moveAndExpand(n.paddingBox),j=E.origin().snapToGrid(a),U=E.corner().snapToGrid(a),Q=j.x;Q<=U.x;Q+=a)for(var z=j.y;z<=U.y;z+=a){var w=Q+"@"+z;l[w]=l[w]||[],l[w].push(E)}return l},this.map),this},bw.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return mn(this.map[t]).every(function(n){return!n.containsPoint(e)})},ff.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=FE(this.items,e,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,e)},ff.prototype.remove=function(e){this.hash[e]=this.CLOSE},ff.prototype.isOpen=function(e){return this.hash[e]===this.OPEN},ff.prototype.isClose=function(e){return this.hash[e]===this.CLOSE},ff.prototype.isEmpty=function(){return 0===this.items.length},ff.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};const Mw=function(e,t,n){return function(e,t,n){(function(e){if(e.directions=Bi(e,"directions"),e.penalties=Bi(e,"penalties"),e.paddingBox=Bi(e,"paddingBox"),e.padding=Bi(e,"padding"),e.padding){var t=of(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}mn(e.directions).forEach(function(n){var r=new ae(0,0),i=new ae(n.offsetX,n.offsetY);n.angle=vu(r.theta(i))})})(t),n.options.perpendicular=!!t.perpendicular;var r=M_(n,t),i=S_(n,t),s=E_(n,t);let o;if("function"==typeof t.isPointObstacle)o=t.isPointObstacle;else{const w=new bw(t);w.build(n.paper.model,n.model),o=S=>!w.isPointAccessible(S)}for(var p,h,a=mn(e).map(ae),l=[],d=s,I=0,b=a.length;I<=b;I++){var E=null;if(h=p||r,!(p=a[I])&&(p=i,(!n.model.get("source").id||!n.model.get("target").id)&&Xn(t.draggingRoute))){var U=h===r?s:h,Q=p.origin();E=t.draggingRoute.call(n,U,Q,t)}if(null===(E=E||a5.call(n,h,p,o,t)))return t.fallbackRouter(e,t,n);var z=E[0];z&&z.equals(d)&&E.shift(),d=E[E.length-1]||d,Array.prototype.push.apply(l,E)}return l}(e,dt({},x_,t),n)};var c5={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],s={x:t.x,y:e.y},o={x:e.x,y:t.y};if(r%180>90){var a=s;s=o,o=a}var l=r%90<45?s:o,d=new $e(e,l),p=90*Math.ceil(r/90),h=ae.fromPolar(d.squaredLength(),Ks(p+135),l),I=new $e(t,h),b=d.intersection(I),E=b||t,U=360/n.directions.length,Q=(b?E:e).theta(t),z=vu(Q+U/2),w=U*Math.floor(z/U);return n.previousDirectionAngle=w,E&&i.push(E.round()),i.push(t),i}};const f5=function(e,t,n){if(!Xn(Mw))throw new Error("Metro requires the manhattan router.");return Mw(e,dt({},c5,t),n)};var O_=["arc","gap","cubic"],g5=["smooth"],Sy=1/3,Ey=2/3;function Sw(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(i,s,o){var a=r[o+1];return null!=a&&(i[o]=nf(s,a)),i},[])}function L_(e,t){return nf(e,t).squaredLength()}function k_(e,t,n,r){var s,i=new st;return s=st.createSegment("M",e[0].start),i.appendSegment(s),mn(e).forEach(function(o,a){if(o.isJump){var l,d,p,h;if("arc"===n){l=-90,d=o.start.difference(o.end);var I=Number(d.x<0||0===d.x&&d.y<0);I&&(l+=180);var j,b=o.midpoint(),E=new $e(b,o.end).rotate(b,l);p=(j=new $e(o.start,b)).pointAt(2/3).rotate(o.start,l),h=E.pointAt(1/3).rotate(E.end,-l),s=st.createSegment("C",p,h,E.end),i.appendSegment(s),j=new $e(b,o.end),p=E.pointAt(1/3).rotate(E.end,l),h=j.pointAt(1/3).rotate(o.end,-l),s=st.createSegment("C",p,h,o.end),i.appendSegment(s)}else if("gap"===n)s=st.createSegment("M",o.end),i.appendSegment(s);else if("cubic"===n){l=o.start.theta(o.end);var U=.6*t,Q=1.35*t;d=o.start.difference(o.end),(I=Number(d.x<0||0===d.x&&d.y<0))&&(Q*=-1),p=ae(o.start.x+U,o.start.y+Q).rotate(o.start,l),h=ae(o.end.x-U,o.end.y+Q).rotate(o.end,l),s=st.createSegment("C",p,h,o.end),i.appendSegment(s)}}else{var z=e[a+1];0==r||!z||z.isJump?(s=st.createSegment("L",o.end),i.appendSegment(s)):function(e,t,n,r,i){var b,s=n.distance(r)/2,o=n.distance(i)/2,a=-Math.min(e,s),l=-Math.min(e,o),d=n.clone().move(r,a).round(),p=n.clone().move(i,l).round(),h=new ae(Sy*d.x+Ey*n.x,Ey*n.y+Sy*d.y),I=new ae(Sy*p.x+Ey*n.x,Ey*n.y+Sy*p.y);b=st.createSegment("L",d),t.appendSegment(b),b=st.createSegment("C",h,I,p),t.appendSegment(b)}(r,i,o.end,o.start,z.end)}}),i}const C5=function(e,t,n,r){!function(e){var t=e.paper,n=t._jumpOverUpdateList;if(null==n){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",function(){this.hasActiveBatch()||function(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){const r=t[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}(t)}),r.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}(this);var i=r.raw,s=r.size||5,o=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||0,l=r.ignoreConnectors||g5;-1===O_.indexOf(o)&&(o=O_[0]);var d=this.paper,h=d.model.getLinks();if(1===h.length)return k_(Sw(e,t,n),s,o,a);var I=this.model,b=h.indexOf(I),E=d.options.defaultConnector||{},j=h.filter(function(T,G){var K=T.get("connector")||E;return!(mn(l).includes(K.name)||G>b&&"jumpover"===K.name)}),U=j.map(function(T){return d.findViewByModel(T)}),Q=Sw(e,t,n),z=U.map(function(T){return null==T?[]:T===this?Q:Sw(T.sourcePoint,T.targetPoint,T.route)},this),w=Q.reduce(function(T,G){var K=j.reduce(function(le,ge,Ie){if(ge!==I){var Te=function(e,t){return mn(t).reduce(function(n,r){var i=e.intersection(r);return i&&n.push(i),n},[])}(G,z[Ie]);le.push.apply(le,Te)}return le},[]).sort(function(le,ge){return L_(G.start,le)-L_(G.start,ge)});return K.length>0?T.push.apply(T,function(e,t,n){return t.reduce(function(r,i,s){if(!0===i.skip)return r;var o=r.pop()||e,a=tp(i).move(o.start,-n),l=tp(i).move(o.start,+n),d=t[s+1];if(null!=d){var p=l.distance(d);p<=n&&(l=d.move(o.start,p),d.skip=!0)}else if(a.distance(o.end)<2*n+1)return r.push(o),r;if(l.distance(o.start)<2*n+1)return r.push(o),r;var b=nf(a,l);return b.isJump=!0,r.push(nf(o.start,a),b,nf(l,o.end)),r},[])}(G,K,s)):T.push(G),T},[]),S=k_(w,s,o,a);return i?S:S.serialize()},A5=function(e,t,n,r){var i=r&&r.raw,s=[e].concat(n).concat([t]),o=new nr(s),a=new st(o);return i?a:a.serialize()},w5=function(e,t,n,r){r||(r={});var a,i=r.radius||10,s=r.raw,o=new st;a=st.createSegment("M",e),o.appendSegment(a);for(var p,h,I,b,E,j,U,Q,z,w,S,l=1/3,d=2/3,T=0,G=n.length;T<G;T++)p=new ae(n[T]),h=n[T-1]||e,I=n[T+1]||t,b=E||p.distance(h)/2,E=p.distance(I)/2,j=-Math.min(i,b),U=-Math.min(i,E),Q=p.clone().move(h,j).round(),z=p.clone().move(I,U).round(),w=new ae(l*Q.x+d*p.x,d*p.y+l*Q.y),S=new ae(l*z.x+d*p.x,d*p.y+l*z.y),a=st.createSegment("L",Q),o.appendSegment(a),a=st.createSegment("C",w,S,z),o.appendSegment(a);return a=st.createSegment("L",t),o.appendSegment(a),s?o:o.serialize()},b5=function(e,t,n,r){var s,i=r&&r.raw;if(n&&0!==n.length){var o=[e].concat(n).concat([t]),a=On.throughPoints(o);s=new st(a)}else{var l;if(s=new st,l=st.createSegment("M",e),s.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var d=(e.x+t.x)/2;l=st.createSegment("C",d,e.y,d,t.y,t.x,t.y),s.appendSegment(l)}else{var p=(e.y+t.y)/2;l=st.createSegment("C",e.x,p,t.x,p,t.x,t.y),s.appendSegment(l)}}return i?s:s.serialize()},Ft={RENDER:"RENDER",UPDATE:"UPDATE",TOOLS:"TOOLS",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},lp=bn.extend({className:function(){var e=bn.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){bn.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Ft.RENDER],attrs:[Ft.UPDATE],router:[Ft.UPDATE],connector:[Ft.CONNECTOR],smooth:[Ft.UPDATE],manhattan:[Ft.UPDATE],toolMarkup:[Ft.LEGACY_TOOLS],labels:[Ft.LABELS],labelMarkup:[Ft.LABELS],vertices:[Ft.VERTICES,Ft.UPDATE],vertexMarkup:[Ft.VERTICES],source:[Ft.SOURCE,Ft.UPDATE],target:[Ft.TARGET,Ft.UPDATE]},initFlag:[Ft.RENDER,Ft.SOURCE,Ft.TARGET,Ft.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Ft.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Ft.SOURCE)}if(this.hasFlag(e,Ft.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Ft.TARGET)}const{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,Ft.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),this.removeFlag(e,[Ft.RENDER,Ft.UPDATE,Ft.VERTICES,Ft.LABELS,Ft.TOOLS,Ft.LEGACY_TOOLS,Ft.CONNECTOR]);let s=!1;this.hasFlag(e,Ft.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Ft.VERTICES));const{model:o}=this,{attributes:a}=o;let l=this.hasFlag(e,Ft.LABELS),d=this.hasFlag(e,Ft.LEGACY_TOOLS);l&&(this.onLabelsChange(o,a.labels,t),e=this.removeFlag(e,Ft.LABELS),s=!0),d&&(this.renderTools(),e=this.removeFlag(e,Ft.LEGACY_TOOLS));const p=this.hasFlag(e,Ft.UPDATE),h=this.hasFlag(e,Ft.CONNECTOR);return(p||h)&&(p?t.translateBy&&o.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Ft.UPDATE,Ft.TOOLS,Ft.CONNECTOR]),l=!1,d=!1,s=!0),l&&this.updateLabelPositions(),d&&this.updateToolsPosition(),s&&this.updateHighlighters(),this.hasFlag(e,Ft.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Ft.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Ft.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1&&t[n[1]]){if(2===r)return"markup"in Object(e.propertyValue);if("markup"!==n[2])return!1}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=Ce(e);Array.isArray(t)||(t=[t]);for(var n=this._V,r=0,i=t.length;r<i;r++){var s=t[r],o=s.attr("class");o&&(o=wj(o),n[Wn.camelCase(o)]=s)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if("string"==typeof e)return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=Ce(e),n=document.createDocumentFragment();if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.appendChild(t[r].node);else n.appendChild(t.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment&&e.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n,r=t.childNodes;return(n=r.length>1||"G"!==r[0].nodeName.toUpperCase()?Ce("g").append(t):Ce(r[0])).addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,s=i.attributes.labels||[],o=s.length;if(0===o)return t&&t.remove(),this;t?t.empty():t=e.labels=Ce("g").addClass("labels");for(var a=t.node,l=0;l<o;l++){var h,I,p=this._normalizeLabelMarkup(this._getLabelMarkup(s[l].markup));if(p)h=p.node,I=p.selectors;else{var E=this._normalizeLabelMarkup(this._getLabelMarkup(i._builtins.defaultLabel.markup)),j=i._getDefaultLabel(),Q=this._normalizeLabelMarkup(this._getLabelMarkup(j.markup))||E;h=Q.node,I=Q.selectors}h.setAttribute("label-idx",l),a.appendChild(h),n[l]=h;var z=this.selector;if(I[z])throw new Error("dia.LinkView: ambiguous label root selector.");I[z]=h,r[l]=I}return a.parentNode||this.el.appendChild(a),this.updateLabels(),this},findLabelNode:function(e,t){const n=this._labelCache[e];if(!n)return null;const r=this._labelSelectors[e],[i=null]=this.findBySelector(t,n,r);return i},_mergeLabelAttrs:function(e,t,n,r){return null===t?null:void 0===t?null===n?null:void 0===n?e?void 0:r:e?n:zi({},r,n):e?zi({},n,t):zi({},r,n,t)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),i=e._builtins.defaultLabel.attrs,s=e._getDefaultLabel(),o=s.markup,a=s.attrs,l=0,d=t.length;l<d;l++){var p=this._labelCache[l];p.setAttribute("cursor",n?"move":"default");var h=this._labelSelectors[l],I=t[l],j=this._mergeLabelAttrs(I.markup||o,I.attrs,a,i);this.updateDOMSubtreeAttributes(p,j,{rootBBox:new We(I.size),selectors:h})}return this},renderTools:function(){if(!this._V.linkTools)return this;var r,e=Wn(this._V.linkTools.node).empty(),t=ws(this.model.get("toolMarkup")||this.model.toolMarkup),n=Ce(t());return e.append(n.node),this._toolCache=n,this.options.doubleLinkTools&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=ws(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=Ce(t())):r=n.clone(),e.append(r.node),this._tool2Cache=r),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Wn(this._V.markerVertices.node).empty(),t=ws(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){e.append(Ce(t(dt({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Wn(this._V.markerArrowheads.node);e.empty();var t=ws(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=Ce(t({end:"source"})),this._V.targetArrowhead=Ce(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],s=i.length,o=new nr(i);o.simplify({threshold:.001});const a=o.points.map(d=>d.toJSON()),l=a.length;return s===l?0:(n.vertices(a.slice(1,l-1),e),s-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ae(this.sourceAnchor);case"target":return new ae(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ae(this.sourcePoint);case"target":return new ae(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:n,path:r}=this;if(!n||!r)return;const i=new nr(n);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,s=this.findRoute(t);this.route=s;var o=this.findConnectionPoints(s,r,i);this.sourcePoint=o.source,this.targetPoint=o.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findMarkerPoints(e,t,n),i=this.findPath(e,r.source||t,r.target||n);this.path=i},findMarkerPoints:function(e,t,n){var o,a,r=e[0],i=e[e.length-1],s=this._markerCache;return this._V.markerSource&&(s.sourceBBox=s.sourceBBox||this._V.markerSource.getBBox(),o=ae(t).move(r||n,s.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(s.targetBBox=s.targetBBox||this._V.markerTarget.getBBox(),a=ae(n).move(i||t,s.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),s.sourcePoint=o||t.clone(),s.targetPoint=a||n.clone(),{source:o,target:a}},findAnchorsOrdered:function(e,t,n,r){var i,s,o,a,l=this.model,d=l.get(e),p=l.get(n),h=this.getEndView(e),I=this.getEndView(n),b=this.getEndMagnet(e),E=this.getEndMagnet(n);h?(o=t?new ae(t):I?E:new ae(p),i=this.getAnchor(d.anchor,h,b,o,e)):i=new ae(d),I?(a=new ae(r||i),s=this.getAnchor(p.anchor,I,E,a,n)):s=new ae(p);var j={};return j[e]=i,j[n]=s,j},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var h,I,b,Q,r=e[0],i=e[e.length-1],s=this.model,o=s.get("source"),a=s.get("target"),l=this.sourceView,d=this.targetView,p=this.paper.options;if(l&&!l.isNodeConnection(this.sourceMagnet)){h=this.sourceMagnet||l.el;var E=o.connectionPoint||p.defaultConnectionPoint,U=new $e(r||n,t);b=this.getConnectionPoint(E,l,h,U,"source")}else b=t;if(d&&!d.isNodeConnection(this.targetMagnet)){I=this.targetMagnet||d.el;var z=a.connectionPoint||p.defaultConnectionPoint,S=new $e(i||t,n);Q=this.getConnectionPoint(z,d,I,S,"target")}else Q=n;return{source:b,target:Q}},getAnchor:function(e,t,n,r,i){var a,s=t.isNodeConnection(n),o=this.paper.options;if(e||(e=s?o.defaultLinkAnchor:o.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:o.defaultAnchor),!e)throw new Error("Anchor required.");if("function"==typeof e)a=e;else{var l=e.name;if("function"!=typeof(a=o[s?"linkAnchorNamespace":"anchorNamespace"][l]))throw new Error("Unknown anchor: "+l)}var p=a.call(this,t,n,r,e.args||{},i,this);return p?p.round(this.decimalsRounding):new ae},getConnectionPoint:function(e,t,n,r,i){var s,d,o=r.end,a=this.paper.options;if("function"==typeof a.linkConnectionPoint&&(s=a.linkConnectionPoint(this,t,n===t.el?void 0:n,r.start,i)))return s;if(!e)return o;if("function"==typeof e)d=e;else{var p=e.name;if("function"!=typeof(d=a.connectionPointNamespace[p]))throw new Error("Unknown connection point: "+p)}return(s=d.call(this,r,t,n,e.args||{},i,this))?s.round(this.decimalsRounding):o},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_normalizeLabelPosition:function(e){return"number"==typeof e?{distance:e,offset:null,angle:0,args:null}:e},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var t=this.model,n=t.get("labels")||[];if(!n.length)return this;for(var i=t._builtins.defaultLabel.position,s=t._getDefaultLabel(),o=this._normalizeLabelPosition(s.position),a=zi({},i,o),l=0,d=n.length;l<d;l++){var p=this._labelCache[l];if(p){var I=this._normalizeLabelPosition(n[l].position),b=zi({},a,I),E=this._getLabelTransformationMatrix(b);p.setAttribute("transform",Ce.matrixToTransformString(E)),this._cleanLabelMatrices(l)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let i in r){const{id:s}=r[i];s&&s in t&&delete t[s].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength?(r=this.getPointAtLength(n-(this.options.doubleLinkToolsOffset||t)),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("visibility","visible")):this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===Wn.css(this._V.markerArrowheads.node,"display"))return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:n}=this,r=`${e}View`,i=t.get(e),s=i&&i.id;if(!s)return this[r]=null,this.updateEndMagnet(e),!0;const o=n.getModelById(s);if(!o)throw new Error("LinkView: invalid "+e+" cell.");const a=o.findView(n);return!!a&&(this[r]=a,this.updateEndMagnet(e),!0)},updateEndMagnet:function(e){const t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=mn(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionAngle:function(e){return(this.model.label(e).position||{}).angle||0},_getLabelPositionArgs:function(e){return(this.model.label(e).position||{}).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(e,t){return null===e?null:void 0===e?null===t?null:t:zi({},t,e)},addLabel:function(e,t,n,r){var i,s,a,o=0;"number"!=typeof e?(i=e.x,s=e.y,"number"==typeof t?(o=t,a=n):a=t):(i=e,s=t,"number"==typeof n?(o=n,a=r):a=n);var l=this._getDefaultLabelPositionArgs(),p=this._mergeLabelPositionArgs(a,l),h={position:this.getLabelPosition(i,s,o,p)};return this.model.insertLabel(-1,h,a),-1},addVertex:function(e,t,n){var r="number"!=typeof e,i=r?e.x:e,s=r?e.y:t,o=r?t:n,a={x:i,y:s},l=this.getVertexIndex(i,s);return this.model.insertVertex(l,a,o),l},sendToken:function(e,t,n){var i,s,o;Er(t)?(i=t.duration,s="reverse"===t.direction,o=t.connection):(i=t,s=!1,o=null);var a={dur:(i=i||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};s&&(a.keyPoints="1;0",a.keyTimes="0;1");var d,h,I,l=Ce(e);if("string"==typeof o)d=this.findBySelector(o,this.el,this.selectors)[0];else{var p=this._V;d=p.connection?p.connection.node:this.el.querySelector("path")}if(!(d instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,d),setTimeout((h=l,I=n,function(){h.remove(),"function"==typeof I&&I()}),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||jt,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n){if(!r)return e.map(ae);n=r}var i=Xn(n)?n:t[n.name];if(!Xn(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');return i.call(this,e,n.args||{},this)||e.map(ae)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||qe,i=this.model.connector();i||(i=this.paper.options.defaultConnector||{});var o=Xn(i)?i:r[i.name];if(!Xn(o))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=ea(i.args||{});a.raw=!0;var l=o.call(this,t,n,e,a,this);return"string"==typeof l&&(l=new st(Ce.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Zs(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var o,i={},s=0;"number"==typeof n?(s=n,o=r):o=n,o&&(i.args=o);var j,U,a=!(o&&o.absoluteDistance),l=o&&o.absoluteDistance&&o.reverseDistance,d=o&&o.absoluteOffset,p=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},I=new ae(e,t),b=p.closestPointT(I,h),E=p.lengthAtT(b,h);if(a&&(E=E/this.getConnectionLength()||0),l&&(E=-1*(this.getConnectionLength()-E)||1),i.distance=E,d||(j=p.tangentAtT(b)),j)U=j.pointOffset(I);else{var Q=p.pointAtT(b),z=I.difference(Q);U={x:z.x,y:z.y}}return i.offset=U,i.angle=s,i},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if("number"==typeof e)t=e;else{if("number"!=typeof e.distance)throw new Error("dia.LinkView: invalid label position distance.");r=e.args||{},t=e.distance,n=e.angle||0}var i=t>0&&t<=1,s=0,o={x:0,y:0};if(e.offset){var a=e.offset;"number"==typeof a&&(s=a),a.x&&(o.x=a.x),a.y&&(o.y=a.y)}var j,l=0!==o.x||0!==o.y||0===s,d=r.keepGradient,p=r.ensureLegibility,h=this.path,I={segmentSubdivisions:this.getConnectionSubdivisions()},b=i?t*this.getConnectionLength():t,E=h.tangentAtLength(b,I),U=n;if(E){if(l)(j=E.start).offset(o);else{var Q=E.clone();Q.rotate(E.start,-90),Q.setLength(s),j=Q.end}d&&(U=E.angle()+n,p&&(U=vu((U+90)%180-90)))}else j=h.start,l&&j.offset(o);return Ce.createSVGMatrix().translate(j.x,j.y).rotate(U)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ae(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model.vertices(),i=this.getClosestPointLength(new ae(e,t)),s=0,o=r.length;s<o&&!(i<this.getClosestPointLength(r[s]));s++);return s},notifyPointerdown(e,t,n){bn.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){bn.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),bn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){bn.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){bn.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){bn.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){switch(this.notifyPointerdown(e,t,n),e.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(e,t,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(e,t,n);case"marker-arrowhead":return void this.dragArrowheadStart(e,t,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(e,t,n);case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;switch(r&&this.eventData(e,r),this.eventData(e).action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n)}r&&dt(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;switch(r&&(this.eventData(e,r),this._dragData=null),this.eventData(e).action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){bn.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){bn.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){bn.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){bn.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){bn.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){var i=Ce(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools")){if("remove"===t)return void this.model.remove({ui:!0});this.notify(t,e,n,r)}this.notifyPointerdown(e,n,r),this.paper.delegateDragEvents(this,e.data)}else bn.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n),this.eventData(e).stopPropagation&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){var i=parseInt(e.currentTarget.getAttribute("label-idx"),10),s=this._getLabelPositionAngle(i),o=this._getLabelPositionArgs(i),a=this._getDefaultLabelPositionArgs(),l=this._mergeLabelPositionArgs(o,a);this.eventData(e,{action:"label-move",labelIdx:i,positionAngle:s,positionArgs:l,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var i=parseInt(e.target.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var i=parseInt(e.target.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var i=e.target.getAttribute("end"),s=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,s)}},dragStart:function(e,t,n){!this.can("linkMove")||this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t,n,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset,this.model.label(r.labelIdx,i)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?this._snapArrowhead(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){"remove"===e.whenNotAllowed?this.model.remove({ui:!0}):this.model.set(e.arrowhead,e.initialEnd,{ui:!0})},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n);if(i&&!Gi.endsEqual(r,i)){var o=this.paper;r.id&&this.notify("link:disconnect",t,o.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,o.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapArrowhead:function(e,t,n){const r=this.eventData(e);var i=this.paper.options.snapLinks.radius||50,s=this.paper.findViewsInArea({x:t-i,y:n-i,width:2*i,height:2*i}),o=r.closestView||null,a=r.closestMagnet||null,l=r.magnetProxy||null;r.closestView=r.closestMagnet=r.magnetProxy=null;var d=Number.MAX_VALUE,p=new ae(t,n),h=this.paper;s.forEach(function(z){const w=[];"false"!==z.el.getAttribute("magnet")&&w.push({bbox:z.model.getBBox(),magnet:z.el}),z.$("[magnet]").toArray().forEach(S=>{w.push({bbox:z.getNodeBBox(S),magnet:S})}),w.forEach(S=>{const{magnet:T,bbox:G}=S,K=G.center().squaredDistance(p);K<d&&(a===T||h.options.validateConnection.apply(h,r.validateConnectionArgs(z,z.el===T?null:T)))&&(d=K,r.closestView=z,r.closestMagnet=T)})},this);var I,b=null,E=r.closestView,j=r.closestMagnet;j&&(b=r.magnetProxy=E.findProxyNode(j,"highlighter"));var U=r.arrowhead,Q=a!==j;if(o&&Q&&o.unhighlight(l,{connecting:!0,snapping:!0}),E){if(!Q)return;E.highlight(b,{connecting:!0,snapping:!0}),I=E.getLinkEnd(j,t,n,this.model,U)}else I={x:t,y:n};this.model.set(U,I||{x:t,y:n},{ui:!0}),o&&this.notify("link:snap:disconnect",e,o,a,U),E&&this.notify("link:snap:connect",e,E,j,U)},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){const{paper:i,model:s}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const o=r.viewUnderPointer=i.findView(e);if(o){const a=r.magnetUnderPointer=o.findMagnet(e),l=r.magnetProxy=o.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(o,a))?l&&o.highlight(l,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,s.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){const{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:s,magnetProxy:o,arrowhead:a}=e;if(!s||!o||!i)return;i.unhighlight(o,{connecting:!0});const l=i.getLinkEnd(s,t,n,r,a);r.set(a,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){null!==e.z&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,r=0,i=0;"source"===e?(r=2,n="target"):(i=2,n="source");var s=this.model.get(n);if(s.id){var o=t[r]=this.paper.findViewByModel(s.id),a=o.getMagnetFromLinkEnd(s);a===o.el&&(a=void 0),t[r+1]=a}return function(d,p){return t[i]=d,t[i+1]=d.el===p?void 0:p,t}},_markAvailableMagnets:function(e){function t(h,I){var b=h.paper;return b.options.validateConnection.apply(b,this.validateConnectionArgs(h,I))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,s=r.length;i<s;i++){var o=r[i].findView(n);if(o){var a=Array.prototype.slice.call(o.el.querySelectorAll("[magnet]"));"false"!==o.el.getAttribute("magnet")&&a.push(o.el);var l=a.filter(t.bind(e,o));if(l.length>0){for(var d=0,p=l.length;d<p;d++)o.highlight(l[d],{magnetAvailability:!0});o.highlight(null,{elementAvailability:!0}),e.marked[o.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var n,r,t=Object.keys(e.marked),i=0,s=t.length;i<s;i++){r=e.marked[n=t[i]];var o=this.paper.findViewByModel(n);if(o){for(var a=0,l=r.length;a<l;a++)o.unhighlight(r[a],{magnetAvailability:!0});o.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:ea(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),!0!==t.ignoreBackwardsCompatibility&&(this._dragData=n),n}},{Flags:Ft});Object.defineProperty(lp.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new We(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new We(this.sourceAnchor):e.getNodeBBox(n||e.el)}}),Object.defineProperty(lp.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new We(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new We(this.targetAnchor):e.getNodeBBox(n||e.el)}});const D5=ic.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:n}=this,{useFirstSubpath:r}=n;let i;try{const s=Ce(t);if(i=s.convertToPathData().trim(),"PATH"===s.tagName()&&r){const o=i.search(/.M/i)+1;o>0&&(i=i.substr(0,o))}}catch(s){const o=e.getNodeBoundingRect(t);i=Ce.rectToPath(dt({},n,o.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:n,options:r}=this,{padding:i,layer:s}=r;let o=e.getNodeMatrix(t);if(i){!s&&t===e.el&&n.remove();let a=e.getNodeBoundingRect(t);const l=a.x+a.width/2,d=a.y+a.height/2;a=Ce.transformRect(a,o);const p=Math.max(a.width,1),h=Math.max(a.height,1),I=(p+i)/p,b=(h+i)/h,E=Ce.createSVGMatrix({a:I,b:0,c:0,d:b,e:l-I*l,f:d-b*d});o=o.multiply(E)}n.attr({d:this.getPathData(e,t),transform:Ce.matrixToTransformString(o)})},highlight(e,t){const{vel:n,options:r}=this;n.attr(r.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),F_=20,M5=ic.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:F_,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,s=t.tagName();if(!Ce.isSVGGraphicsElement(t)||i.includes(s))return t.remove(),!1;if(r.includes(s)){const o=e.vel.findOne(`#${t.id}`);if(o){const{node:a}=o;let l=e.getNodeBoundingRect(a);e.model.isElement()&&(l=Ce.transformRect(l,e.getNodeMatrix(a)));const d=Ce("rect",l.toJSON()),{x:p,y:h}=l.center(),{angle:I,cx:b=p,cy:E=h}=o.rotate();I&&d.rotate(I,b,E),t.parent().append(d)}return t.remove(),!1}return n.forEach(o=>{"fill"===o&&"none"===t.attr("fill")||t.removeAttr(o)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{t.removeAttr(r)})},getMaskShape(e,t){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,s=t.tagName();let o;if("G"===s){if(!i)return null;o=t.clone(),function(e,t){const n=e.children();for(;n.length>0;){const r=n.shift();t(r)&&n.push(...r.children())}}(o,a=>this.transformMaskChild(e,a))}else{if(r.includes(s))return null;o=t.clone()}return this.transformMaskRoot(e,o),o},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:s,attrs:o}=i,a="stroke-width"in o?o["stroke-width"]:1,l="none"!==t.attr("fill");let d=parseFloat(t.attr("stroke-width"));isNaN(d)&&(d=1);const p=d+2*s,h=p+2*a;let I=this.getMaskShape(e,t);if(!I){const b=e.getNodeBoundingRect(t.node);b.inflate(b.width?0:.5,b.height?0:.5),I=Ce("rect",b.toJSON())}return I.attr(o),Ce("mask",{id:this.getMaskId()}).append([I.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":h}),I.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":p})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:n,vel:r}=this,{padding:i,attrs:s,maskClip:o=F_,layer:a}=n,l="stroke"in s?s.stroke:"#000000";!a&&t===e.el&&r.remove();const d=e.getNodeBoundingRect(t).inflate(i+o),p=this.getMask(e,Ce(t));this.addMask(e.paper,p),r.attr(d.toJSON()),r.attr({transform:Ce.matrixToTransformString(e.getNodeMatrix(t)),mask:`url(#${p.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),S5=ic.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:La("highlight-opacity"),highlight:function(e,t){Ce(t).addClass(this.opacityClassName)},unhighlight:function(e,t){Ce(t).removeClass(this.opacityClassName)}}),j_=La("highlighted"),E5=ic.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:j_},highlight:function(e,t){Ce(t).addClass(this.options.className)},unhighlight:function(e,t){Ce(t).removeClass(this.options.className)}},{className:j_});function _5(e,t,n,r){return e.getPointAtRatio("ratio"in r?r.ratio:.5)}function N5(e,t,n,r){return e.getPointAtLength("length"in r?r.length:20)}function cp(e){return function(t,n,r,i){if(r instanceof Element){var o,s=this.paper.findView(r);if(s)if(s.isNodeConnection(r)){var a="fixedAt"in i?i.fixedAt:"50%";o=B_(s,a)}else o=s.getNodeBBox(r).center();else o=new ae;return e.call(this,t,n,o,i)}return e.apply(this,arguments)}}function B_(e,t){var n=parseFloat(t);return Zs(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}const O5=cp(function(e,t,n,r){var i=1e6,s=e.getConnection(),o=e.getConnectionSubdivisions(),a=new $e(n.clone().offset(0,i),n.clone().offset(0,-i)),l=new $e(n.clone().offset(i,0),n.clone().offset(-i,0)),d=a.intersect(s,{segmentSubdivisions:o}),p=l.intersect(s,{segmentSubdivisions:o}),h=[];return d&&Array.prototype.push.apply(h,d),p&&Array.prototype.push.apply(h,p),h.length>0?n.chooseClosest(h):"fallbackAt"in r?B_(e,r.fallbackAt):z_(e,t,n,r)}),z_=cp(function(e,t,n,r){return e.getClosestPoint(n)||new ae});function _y(e,t,n){if(ji(n)){const{x:i,y:s}=n;if(isFinite(s)){const o=new $e(t,e),{start:a,end:l}=o.parallel(s);t=a,e=l}n=i}if(!isFinite(n))return e;var r=e.distance(t);return 0===n&&r>0?e:e.move(t,-Math.min(n,r-1))}function Ew(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}function G_(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate(Ew(n)/2);var s=e.intersect(i);return _y(s?e.start.chooseClosest(s):e.end,e.start,r.offset)}var _w="segmentSubdivisons",Nw="shapeBBox";const B5=function(e,t,n,r){let{offset:i,alignOffset:s,align:o}=r;return o&&function(e,t,n=0){let r,i,s,o;const{start:a,end:l}=e;switch(t){case"left":r="x",i=l,s=a,o=-1;break;case"right":r="x",i=a,s=l,o=1;break;case"top":r="y",i=l,s=a,o=-1;break;case"bottom":r="y",i=a,s=l,o=1;break;default:return}a[r]<l[r]?i[r]=s[r]:s[r]=i[r],isFinite(n)&&(i[r]+=o*n,s[r]+=o*n)}(e,o,s),_y(e.end,e.start,i)},z5=G_,G5=function(e,t,n,r){var i=t.model.angle();if(0===i)return G_(e,t,n,r);var s=t.getNodeUnrotatedBBox(n);r.stroke&&s.inflate(Ew(n)/2);var o=s.center(),a=e.clone().rotate(o,i),l=a.setLength(1e6).intersect(s);return _y(l?a.start.chooseClosest(l).rotate(o,-i):e.end,e.start,r.offset)},U5=function(e,t,n,r){var i,s,o=r.selector,a=e.end;if(i="string"==typeof o?t.findBySelector(o)[0]:Array.isArray(o)?rp(n,o):function(e){if(!e)return null;var t=e;do{var n=t.tagName;if("string"!=typeof n)return null;if("G"===(n=n.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}(n),!Ce.isSVGGraphicsElement(i)){if(i===n||!Ce.isSVGGraphicsElement(n))return a;i=n}var z,l=t.getNodeShape(i),d=t.getNodeMatrix(i),p=t.getRootTranslateMatrix(),h=t.getRootRotateMatrix(),I=p.multiply(h).multiply(d),b=I.inverse(),E=Ce.transformLine(e,b),j=E.start.clone(),U=t.getNodeData(i);if(!1===r.insideout&&(U[Nw]||(U[Nw]=l.bbox()),U[Nw].containsPoint(j)))return a;if(l instanceof st){var w=r.precision||2;U[_w]||(U[_w]=l.getSegmentSubdivisions({precision:w})),z={precision:w,segmentSubdivisions:U[_w]}}!0===r.extrapolate&&E.setLength(1e6),(s=E.intersect(l,z))?Ce.isArray(s)&&(s=j.chooseClosest(s)):!0===r.sticky&&(s=l instanceof We?l.pointNearestToPoint(j):l instanceof Vs?l.intersectionWithLineFromCenterToPoint(j):l.closestPoint(j,z));var S=s?Ce.transformPoint(s,I):a,T=r.offset||0;return r.stroke&&(T+=Ew(i)/2),_y(S,e.start,T)};function il(e){return function(t,n,r,i){var s=!!i.rotate,o=s?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=o[e](),l=i.dx;if(l){var d=Zs(l);l=parseFloat(l),isFinite(l)&&(d&&(l/=100,l*=o.width),a.x+=l)}var p=i.dy;if(p){var h=Zs(p);p=parseFloat(p),isFinite(p)&&(h&&(p/=100,p*=o.height),a.y+=p)}return s?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}const H5=il("center"),Y5=il("topMiddle"),X5=il("bottomMiddle"),$5=il("leftMiddle"),J5=il("rightMiddle"),q5=il("origin"),Q5=il("topRight"),K5=il("bottomLeft"),eG=il("corner"),tG=cp(function(e,t,n,r){var i=e.model.angle(),s=e.getNodeBBox(t),o=s.center(),a=s.origin(),l=s.corner(),d=r.padding;if(isFinite(d)||(d=0),a.y+d<=n.y&&n.y<=l.y-d){var p=n.y-o.y;o.x+=0===i||180===i?0:1*p/Math.tan(Ks(i)),o.y+=p}else if(a.x+d<=n.x&&n.x<=l.x-d){var h=n.x-o.x;o.y+=90===i||270===i?0:h*Math.tan(Ks(i)),o.x+=h}return o}),nG=cp(function(e,t,n,r){var s,o,a,i=!!r.rotate;i?(s=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),o=e.model.angle()):s=e.getNodeBBox(t);var p,l=r.padding;switch(isFinite(l)&&s.inflate(l),i&&n.rotate(a,o),s.sideNearestToPoint(n)){case"left":p=s.leftMiddle();break;case"right":p=s.rightMiddle();break;case"top":p=s.topMiddle();break;case"bottom":p=s.bottomMiddle()}return i?p.rotate(a,-o):p}),rG=function(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)},nh={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},fp={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools"},Tw=9007199254740991,Pw=bn.Highlighting,V_={[Pw.DEFAULT]:{name:"stroke",options:{padding:3}},[Pw.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[Pw.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},sG=rl.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:ci,linkView:lp,snapLabels:!1,snapLinks:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:V_,preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Gi,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return"passive"!==t.getAttribute("magnet")},validateConnection:function(e,t,n,r,i,s){return("target"===i?n:e)instanceof ci},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:nh.EXACT,frozen:!1,onViewUpdate:function(e,t,n,r,i){t&e.FLAG_INSERT||r.mounting||r.isolate||i.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Ue,anchorNamespace:mt,linkAnchorNamespace:Fe,connectionPointNamespace:Je},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",mousewheel:"mousewheel",DOMMouseScroll:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_zPivots:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace="undefined"!=typeof joint&&Cu(joint,"shapes")?joint.shapes:null);const n=this.model=e.model||new Iw;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this.setDimensions(),this.startListening(),this._views={},this._zPivots={},this.$document=Wn(t.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!to(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),0===r&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===nh.APPROX){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.removeZPivots(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:s,origin:o,highlighting:a,cellViewNamespace:l,interactive:d}=e;!l&&"undefined"!=typeof joint&&Cu(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),Xn(t)||(e.defaultConnector=eo(t)),Xn(n)||(e.defaultRouter=eo(n)),Xn(r)||(e.defaultConnectionPoint=eo(r)),Xn(i)||(e.defaultAnchor=eo(i)),Xn(s)||(e.defaultLinkAnchor=eo(s)),ji(d)&&(e.interactive=dt({},d)),ji(a)&&(e.highlighting=ow({},a,V_)),e.origin=dt({},o)},children:function(){var e=Ce.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:La("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:La("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:La("layers"),selector:"layers",children:[{tagName:"g",className:La("back-layer"),selector:"back"},{tagName:"g",className:La("cells-layer viewport"),selector:"cells"},{tagName:"g",className:La("front-layer"),selector:"front"},{tagName:"g",className:La("tools-layer"),selector:"tools"}]}]}]},getLayerNode(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:n,cells:r,defs:i,tools:s,layers:o,back:a,front:l,background:d,grid:p}=e;return this.svg=n,this.defs=i,this.tools=s,this.cells=r,this.layers=o,this.$background=Wn(d),this.$grid=Wn(p),dt(this._layers,{[fp.BACK]:a,[fp.CELLS]:r,[fp.FRONT]:l,[fp.TOOLS]:s}),Ce.ensureId(n),this.viewport=r,t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(void 0===e){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),Ce.createSVGMatrix(e)}e=Ce.createSVGMatrix(e);var r=Ce.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return Ce.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof bn)for(var r=e.model,i=this.model.getConnectedLinks(r),s=0,o=i.length;s<o;s++){var a=i[s],l=this.findViewByModel(a);if(l){var d=["UPDATE"];a.getTargetCell()===r&&d.push("TARGET"),a.getSourceCell()===r&&d.push("SOURCE");var p=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(d),p,n)}}},forcePostponedViewUpdate:function(e,t){if(!(e&&e instanceof bn))return!1;var n=e.model;if(n.isElement())return!1;if(0==(t&e.getFlag(["SOURCE","TARGET"]))){var r=0,i=this.findViewByModel(n.getSourceCell());i&&!this.isViewMounted(i)&&(r=this.dumpView(i),e.updateEndMagnet("source"));var s=0,o=this.findViewByModel(n.getTargetCell());if(o&&!this.isViewMounted(o)&&(s=this.dumpView(o),e.updateEndMagnet("target")),0===r&&0===s)return!this.dumpView(e)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&!1!==r.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var s=this.updateViews(r);i&&this.notifyAfterRender(s,r)}},scheduleViewUpdate:function(e,t,n,r){const{_updates:i,options:s}=this,{FLAG_REMOVE:o,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:d}=e;let p=i.priorities[n];if(p||(p=i.priorities[n]={}),n>l)for(let b=n-1;b>=l;b--){const E=i.priorities[b];!E||!(d in E)||(p[d]|=E[d],delete E[d])}let h=p[d]||0;if((h&t)===t)return;h||i.count++,t&o&&h&a?p[d]^=a:t&a&&h&o&&(p[d]^=o),p[d]|=t;const I=s.onViewUpdate;"function"==typeof I&&I.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var n=e.cid,r=this._updates.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|r[n];return delete r[n],i},dumpView:function(e,t){var n=this.dumpViewUpdate(e);return n?this.updateView(e,n,t):0},updateView:function(e,t,n){if(!e)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:i,model:s}=e;if(e instanceof bn){if(t&r)return this.removeView(s),0;t&i&&(this.insertView(e),t^=i)}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){return!!e&&e.cid in this._updates.mounted},dumpViews:function(e){var t=wo({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,r=0,i=Tw;do{r++,t=this.updateViewsBatch(e),n+=t.updated,i=Math.min(t.priority,i)}while(!t.empty);const s={updated:n,batches:r,priority:i};return this.notifyAfterRender(s,e),s},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Tw});var n=this._updates,r=n.id;if(r){sw(r),0===t.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);var i=this.updateViewsBatch(e),s=wo({},e,{mountBatchSize:1e3-i.mounted,unmountBatchSize:1e3-i.unmounted}),o=this.checkViewport(s),a=o.unmounted,l=o.mounted,d=t.processed,p=n.count;i.updated>0&&(i.processed=d+=i.updated+i.unmounted,t.priority=Math.min(i.priority,t.priority),i.empty&&0===l?(i.unmounted+=a,i.mounted+=l,i.priority=t.priority,this.notifyAfterRender(i,e),t.processed=0,n.count=0):t.processed=d);var h=e.progress;if(p&&"function"==typeof h&&h.call(this,i.empty,d,p,i,this),n.id!==r)return}n.id=iw(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;"function"!=typeof t&&(t=this.options.beforeRender,"function"!=typeof t)||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;"function"!=typeof n&&(n=this.options.afterRender),"function"==typeof n&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||1/0,n=this._updates,r=0,i=0,s=0,o=0,a=Tw,l=!0,d=this.options,p=n.priorities,h="viewport"in e?e.viewport:d.viewport;"function"!=typeof h&&(h=null);var I=d.onViewPostponed;"function"!=typeof I&&(I=null);var b=Object.keys(p);e:for(var E=0,j=b.length;E<j;E++){var U=b[E],Q=p[U];for(var z in Q){if(r>=t){l=!1;break e}var w=uf[z];if(w){var S=Q[z];if(0==(S&w.FLAG_REMOVE)){var T=z in n.unmounted;if(w.DETACHABLE&&h&&!h.call(this,w,!T,this)){T||(this.registerUnmountedView(w),w.unmount()),n.unmounted[z]|=S,delete Q[z],s++;continue}T&&(S|=w.FLAG_INSERT,o++),S|=this.registerMountedView(w)}var G=this.updateView(w,S,e);G>0&&(Q[z]=G,!I||!I.call(this,w,G,this)||Q[z])?(i++,l=!1):(a>U&&(a=U),r++,delete Q[z])}else delete Q[z]}}return{priority:a,updated:r,postponed:i,unmounted:s,mounted:o,empty:l}},getUnmountedViews:function(){const t=Object.keys(this._updates.unmounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=uf[t[i]];return r},getMountedViews:function(){const t=Object.keys(this._updates.mounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=uf[t[i]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;"function"!=typeof e&&(e=null);for(var i=this._updates,s=i.unmountedCids,o=i.unmounted,a=0,l=(Math.min(s.length,"mountBatchSize"in t?t.mountBatchSize:1/0));a<l;a++){var d=s[a];if(d in o){var p=uf[d];if(p){if(p.DETACHABLE&&e&&!e.call(this,p,!1,this)){s.push(d);continue}n++;var h=this.registerMountedView(p);h&&this.scheduleViewUpdate(p,h,p.UPDATE_PRIORITY,{mounting:!0})}}}return s.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if("function"!=typeof e)return n;for(var i=this._updates,s=i.mountedCids,o=i.mounted,a=0,l=(Math.min(s.length,"unmountBatchSize"in t?t.unmountBatchSize:1/0));a<l;a++){var d=s[a];if(d in o){var p=uf[d];if(p){if(!p.DETACHABLE||e.call(this,p,!0,this)){s.push(d);continue}n++,this.registerUnmountedView(p)&&p.unmount()}}}return s.splice(0,a),n},checkViewport:function(e){var t=wo({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);return r>0&&(t.mountBatchSize=Math.min(this._updates.unmountedCids.length-r,t.mountBatchSize)),{mounted:this.checkUnmountedViews(n,t),unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var s=t.id;t.id=null,this.isAsync()&&s&&sw(s)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,(!n||n!==r||!t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===nh.EXACT},onRemove:function(){this.freeze(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return to(t)||(t=this.el.clientWidth),to(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){var n=this.options,r=void 0===e?n.width:e,i=void 0===t?n.height:t;this.options.width=r,this.options.height=i,to(r)&&(r=Math.round(r)),to(i)&&(i=Math.round(i)),this.$el.css({width:null===r?"":r,height:null===i?"":i});var s=this.getComputedSize();this.trigger("resize",s.width,s.height)},setOrigin:function(e,t){return this.translate(e||0,t||0,{absolute:!0})},fitToContent:function(e,t,n,r){Er(e)?(e=(r=e).gridWidth||1,t=r.gridHeight||1,n=r.padding||0):(r||(r={}),e=e||1,t=t||1,n=n||0);var i=Math.max(r.minWidth||0,e),s=Math.max(r.minHeight||0,t),o=r.maxWidth||Number.MAX_VALUE,a=r.maxHeight||Number.MAX_VALUE,l=r.allowNewOrigin;n=of(n);var d="contentArea"in r?new We(r.contentArea):this.getContentArea(r),p=this.scale(),h=this.translate(),I=p.sx,b=p.sy;d.x*=I,d.y*=b,d.width*=I,d.height*=b;var E=Math.ceil((d.width+d.x)/e),j=Math.ceil((d.height+d.y)/t);r.allowNegativeBottomRight||(E=Math.max(E,1),j=Math.max(j,1)),E*=e,j*=t;var U=0,Q=0;("negative"===l&&d.x<0||"positive"===l&&d.x>=0||"any"===l)&&(U=Math.ceil(-d.x/e)*e,E+=U+=n.left),("negative"===l&&d.y<0||"positive"===l&&d.y>=0||"any"===l)&&(Q=Math.ceil(-d.y/t)*t,j+=Q+=n.top),E+=n.right,j+=n.bottom,E=Math.max(E,i),j=Math.max(j,s),E=Math.min(E,o),j=Math.min(j,a);var z=this.getComputedSize(),w=E!=z.width||j!=z.height;return(U!=h.tx||Q!=h.ty)&&this.translate(U,Q),w&&this.setDimensions(E,j),new We(-U/I,-Q/b,E/I,j/b)},scaleContentToFit:function(e){var t,n;if(e||(e={}),"contentArea"in e){var r=e.contentArea;t=this.localToPaperRect(r),n=new ae(r)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(t.width&&t.height){wo(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var d,i=of(e.padding),s=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,a=e.minScaleY||e.minScale,l=e.maxScaleY||e.maxScale;if(e.fittingBBox)d=e.fittingBBox;else{var p=this.translate(),h=this.getComputedSize();d={x:p.tx,y:p.ty,width:h.width,height:h.height}}d=new We(d).moveAndExpand({x:i.left,y:i.top,width:-i.left-i.right,height:-i.top-i.bottom});var I=this.scale(),b=d.width/t.width*I.sx,E=d.height/t.height*I.sy;if(e.preserveAspectRatio&&(b=E=Math.min(b,E)),e.scaleGrid){var j=e.scaleGrid;b=j*Math.floor(b/j),E=j*Math.floor(E/j)}b=Math.min(o,Math.max(s,b)),E=Math.min(l,Math.max(a,E));var U=this.options.origin,Q=d.x-n.x*b-U.x,z=d.y-n.y*E-U.y;this.scale(b,E),this.translate(Q,z)}},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new We:Ce(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let n;return n=Xn(t)?t.apply(this,e):!0===t?this.getArea():t?new We(t):null,n},createViewForModel:function(e){var t,n,r=this.options.cellViewNamespace,i=e.get("type")+"View",s=rp(r,i,".");return e.isLink()?(t=this.options.linkView,n=lp):(t=this.options.elementView,n=ci),new(t.prototype instanceof As.View?s||t:t.call(this,e)||s||n)({model:e,interactive:this.options.interactive})},removeView:function(e){const{id:t}=e,{_views:n,_updates:r}=this,i=n[t];if(i){var{cid:s}=i;const{mounted:o,unmounted:a}=r;i.remove(),delete n[t],delete o[s],delete a[s]}return i},renderView:function(e,t){var i,s,n=e.id,r=this._views;return n in r?s=(i=r[n]).FLAG_INSERT:((i=r[e.id]=this.createViewForModel(e)).paper=this,s=this.registerUnmountedView(i)|i.getFlag(Bi(i,"initFlag"))),this.requestViewUpdate(i,s,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var n=0,r=e.length;n<r;n++)this.renderView(e[n],t);this.unfreeze({key:"reset"}),this.sortViews()},removeViews:function(){Iu(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen())return void(this._updates.sort=!0);this.sortViewsExact()}},sortViewsExact:function(){var e=Wn(this.cells).children("[model-id]"),t=this.model.get("cells");!function(e,t){var n=Wn(e),r=n.map(function(){var s=this.parentNode,o=s.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(s===this)throw new Error("You can't sort elements if any one is a descendant of another.");s.insertBefore(this,o),s.removeChild(o)}});Array.prototype.sort.call(n,t).each(function(i){r[i].call(this)})}(e,function(n,r){var i=t.get(n.getAttribute("model-id")),s=t.get(r.getAttribute("model-id")),o=i.attributes.z||0,a=s.attributes.z||0;return o===a?0:o<a?-1:1})},insertView:function(e){var t=this.cells;if(this.options.sorting===nh.APPROX){var n=e.model.get("z"),r=this.addZPivot(n);t.insertBefore(e.el,r)}else t.appendChild(e.el)},addZPivot:function(e){(e=+e)||(e=0);var t=this._zPivots,n=t[e];if(n)return n;n=t[e]=document.createComment("z-index:"+(e+1));var r=-1/0;for(var i in t)(i=+i)<e&&i>r&&(r=i);var s=this.cells;return s.insertBefore(n,r!==-1/0?t[r].nextSibling:s.firstChild),n},removeZPivots:function(){var{_zPivots:e,viewport:t}=this;for(var n in e)t.removeChild(e[n]);this._zPivots={}},scale:function(e,t,n,r){if(void 0===e)return Ce.matrixToScale(this.matrix());void 0===t&&(t=e),void 0===n&&(n=0,r=0);var i=this.translate();(n||r||i.tx||i.ty)&&this.translate(i.tx-n*(e-1),i.ty-r*(t-1)),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(void 0===e)return Ce.matrixToRotate(this.matrix());if(void 0===t){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(void 0===e)return Ce.matrixToTranslate(this.matrix());var n=this.matrix();n.e=e||0,n.f=t||0,this.matrix(n);var r=this.translate(),i=this.options.origin;return i.x=r.tx,i.y=r.ty,this.trigger("translate",r.tx,r.ty),this.options.drawGrid&&this.drawGrid(),this},findView:function(e){var t=rs(e)?this.cells.querySelector(e):e instanceof Wn?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=rs(e)||to(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){return e=new ae(e),this.model.getElements().map(this.findViewByModel,this).filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=wo(t||{},{strict:!1}),e=new We(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(i){return i&&e[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){"string"==typeof e&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new ae(e,t);return Ce.transformPoint(n,this.matrix())},localToPaperRect:function(e,t,n,r){var i=new We(e,t,n,r);return Ce.transformRect(i,this.matrix())},paperToLocalPoint:function(e,t){var n=new ae(e,t);return Ce.transformPoint(n,this.matrix().inverse())},paperToLocalRect:function(e,t,n,r){var i=new We(e,t,n,r);return Ce.transformRect(i,this.matrix().inverse())},localToClientPoint:function(e,t){var n=new ae(e,t);return Ce.transformPoint(n,this.clientMatrix())},localToClientRect:function(e,t,n,r){var i=new We(e,t,n,r);return Ce.transformRect(i,this.clientMatrix())},clientToLocalPoint:function(e,t){var n=new ae(e,t);return Ce.transformPoint(n,this.clientMatrix().inverse())},clientToLocalRect:function(e,t,n,r){var i=new We(e,t,n,r);return Ce.transformRect(i,this.clientMatrix().inverse())},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new ae(e,t).difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),s=new We(e,t,n,r);return s.x-=i.x,s.y-=i.y,this.paperToLocalRect(s)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ae(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof lp))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t)||!n.linkPinning&&!i.linkPinning.call(this,r,t)||"function"==typeof n.allowLink&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return Xn(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e;const{highlighting:r,highlighterNamespace:i}=this.options;if(void 0===t){if(!r||n&&(t=r[n],!1===t))return!1;t||(t=r.default)}if(!t)return!1;rs(t)&&(t={name:t});const s=t.name,o=i[s];if(!o)throw new Error('Unknown highlighter ("'+s+'")');if("function"!=typeof o.highlight)throw new Error('Highlighter ("'+s+'") is missing required highlight() method');if("function"!=typeof o.unhighlight)throw new Error('Highlighter ("'+s+'") is missing required unhighlight() method');return{highlighter:o,options:t.options||{},name:s}},onCellHighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:s}=r;i.highlight(e,t,s)},onCellUnhighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:s}=r;i.unhighlight(e,t,s)},pointerdblclick:function(e){e.preventDefault(),e=zr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){if(this.eventData(e).mousemoved<=this.options.clickThreshold){e=zr(e);var n=this.findView(e.target);if(this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,r.x,r.y):this.trigger("blank:pointerclick",e,r.x,r.y)}},contextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),e=zr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=zr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?(e.preventDefault(),t.pointerdown(e,n.x,n.y)):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,n.x,n.y)),this.delegateDragEvents(t,e.data)}},pointermove:function(e){var t=this.eventData(e);if(t.mousemoved||(t.mousemoved=0),!(++t.mousemoved<=this.options.moveThreshold)){e=zr(e);var r=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,r.x,r.y):this.trigger("blank:pointermove",e,r.x,r.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=zr(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(Wn.Event(e,{type:"click",data:e.data})),e.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(e){e=zr(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=zr(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=zr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.findView(e.relatedTarget);if(t){if(n===t)return;t.mouseenter(e)}else{if(n)return;this.trigger("paper:mouseenter",e)}}},mouseleave:function(e){e=zr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.findView(e.relatedTarget);if(t){if(n===t)return;t.mouseleave(e)}else{if(n)return;this.trigger("paper:mouseleave",e)}}},mousewheel:function(e){e=zr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),i=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail));t?t.mousewheel(e,r.x,r.y,i):this.trigger("blank:mousewheel",e,r.x,r.y,i)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=zr(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget;if(n.getAttribute("magnet")){var i=this.findView(n);if(i){if(e=zr(e),this.guard(e,i))return;var s=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,n,s.x,s.y)}}},onmagnet:function(e){this.magnetEvent(e,function(t,n,r,i,s){t.onmagnet(n,i,s)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,r,i,s){t.magnetpointerdblclick(n,r,i,s)})},magnetcontextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.magnetEvent(e,function(t,n,r,i,s){t.magnetcontextmenu(n,r,i,s)})},onlabel:function(e){var n=this.findView(e.currentTarget);if(n){if(e=zr(e),this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,r.x,r.y)}},getPointerArgs(e){const t=zr(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t),this.undelegateEvents()},guard:function(e,t){return!!("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,t))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(t&&t.model&&t.model instanceof Au||this.svg===e.target||this.el===e.target||Wn.contains(this.svg,e.target)))},setGridSize:function(e){return this.options.gridSize=e,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:Ce("svg",{width:"100%",height:"100%"},Ce("defs")),patterns:{},add:function(e,t){Ce(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(Ce("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return void 0!==this.patterns[e]}}),this._gridCache},setGrid:function(e){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(e)?e:[e||{}]).forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(rs(e)&&Array.isArray(t[e]))return t[e].map(function(l){return dt({},l)});var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(t[i])){var s=t[i].map(function(l){return dt({},l)}),o=Array.isArray(n.args)?n.args:[n.args||{}];wo(o[0],tc(e,"args"));for(var a=0;a<o.length;a++)s[a]&&dt(s[a],o[a]);return s}return r?n:[n]},drawGrid:function(e){var t=this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(o,a){var l="pattern_"+a,d=zi(o,n[a],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});d.width=t*(r.a||1)*(d.scaleFactor||1),d.height=t*(r.d||1)*(d.scaleFactor||1),i.exist(l)||i.add(l,Ce("pattern",{id:l,patternUnits:"userSpaceOnUse"},Ce(d.markup)));var p=i.get(l);Xn(d.update)&&d.update(p.node.childNodes[0],d);var h=d.ox%d.width;h<0&&(h+=d.width);var I=d.oy%d.height;I<0&&(I+=d.height),p.attr({x:h,y:I,width:d.width,height:d.height})});var s=(new XMLSerializer).serializeToString(i.root.node);return s="url(data:image/svg+xml;base64,"+btoa(s)+")",this.$grid.css("backgroundImage",s),this},updateBackgroundImage:function(e){var t=(e=e||{}).position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();Er(t)&&(t=i.tx+r.sx*(t.x||0)+"px "+(i.ty+r.sy*(t.y||0))+"px"),Er(n)&&(n=(n=new We(n).scale(r.sx,r.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(e instanceof HTMLImageElement){var n,r=(t=t||{}).size,i=t.repeat||"no-repeat",s=t.opacity||1,o=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[kj(i)];if(Xn(a)){e.width*=o,e.height*=o;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),i="repeat",Er(r)?(r.width*=l.width/e.width,r.height*=l.height/e.height):void 0===r&&(t.size={width:l.width/o,height:l.height/o})}else n=e.src,void 0===r&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:s,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(this.updateBackgroundColor((e=e||{}).color),e.image){e=this._background=eo(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Iu(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Er(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+nw(JSON.stringify(e))),!this.isDefined(t)){var i=Pj[n]&&Pj[n](e.args||{});if(!i)throw new Error("Non-existing filter "+n);var s=dt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});Ce(i,s).appendTo(this.defs)}return t},defineGradient:function(e){if(!Er(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");var t=e.id,n=e.type,r=e.stops;if(t||(t=n+this.svg.id+nw(JSON.stringify(e))),!this.isDefined(t)){var i=ws('<stop offset="${offset}" stop-color="${color}" stop-opacity="${opacity}"/>'),o=["<"+n+">",mn(r).map(function(l){return i({offset:l.offset,color:l.color,opacity:Number.isFinite(l.opacity)?l.opacity:1})}).join(""),"</"+n+">"].join(""),a=dt({id:t},e.attrs);Ce(o,a).appendTo(this.defs)}return t},defineMarker:function(e){if(!Er(e))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");var t=e.id;if(t||(t=this.svg.id+nw(JSON.stringify(e))),!this.isDefined(t)){var n=tc(e,"type","userSpaceOnUse");Ce("marker",{id:t,orient:"auto",overflow:"visible",markerUnits:e.markerUnits||"userSpaceOnUse"},[Ce(e.type||"path",n)]).appendTo(this.defs)}return t}},{sorting:nh,Layers:fp,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=3*n,i.height=3*r;for(var s=i.getContext("2d"),o=to(t.watermarkAngle)?-t.watermarkAngle:-20,a=Ks(o),l=i.width/4,d=i.height/4,p=0;p<4;p++)for(var h=0;h<4;h++)(p+h)%2>0&&(s.setTransform(1,0,0,1,(2*p-1)*l,(2*h-1)*d),s.rotate(a),s.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){Ce(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;Ce(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,s=t.thickness;n=r-s>=0&&i-s>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ce(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,s=t.thickness;n=r-s>=0&&i-s>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ce(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,s=t.thickness;n=r-s>=0&&i-s>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ce(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}});let Z_=(()=>{class e{createNewPaper(n,r,i,s,o){return new sG({el:n,model:r,width:i,height:s,gridSize:1,drawGrid:{name:"mesh",args:{color:"black"}},background:{color:"white"},cellViewNamespace:o,interactive:!0,linkPinning:!1,multiLinks:!1,defaultLink:new l_,defaultConnector:{name:"rounded"},defaultConnectionPoint:{name:"boundary"},defaultAnchor:{name:"perpendicular",args:{padding:10}},defaultLinkAnchor:{name:"perpendicular",args:{padding:10}},defaultRouter:{name:"normal"},validateConnection:function(l,d,p,h,I,b){return l!==p}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),oG=(()=>{class e{createPort(n,r){return{label:{position:{name:"left"},markup:[{tagName:"text",selector:"label"}]},attrs:{portBody:{magnet:!0,width:80,height:8,x:0,y:0,r:10,fill:"#03071E"}},markup:[{tagName:"circle",selector:"portBody"}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),W_=(()=>{class e{createActionElement(){var n=new a_({position:{x:200,y:100},size:{width:200,height:100},attrs:{text:{text:"test action"},body:{rx:10,ry:10}}}),r=new oG,i=r.createPort(-8,-8);return n.addPort(i),i=r.createPort(8,-8),n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),aG=(()=>{class e{createDiamondElement(){return new u_({position:{x:100,y:200},size:{width:100,height:100},attrs:{text:{text:"test diamond"},body:{transform:"rotate(45, 50, 50)"}}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),uG=(()=>{class e{createStartElement(){return new d_({position:{x:100,y:100},size:{width:40,height:40},attrs:{circle:{fill:"black",stroke:"none"}}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})(),lG=(()=>{class e{createEndElement(){return new h_({position:{x:150,y:100},size:{width:40,height:40},attrs:{"circle.outer":{stroke:"black","stroke-width":2},"circle.inner":{fill:"black",stroke:"none"}}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e})();const cG=[{path:"activity",component:(()=>{class e{constructor(n){const r=Gr,i=document.createElement("div");i.id="paper",i.style.margin="auto",i.style.borderStyle="solid",i.style.borderWidth="2px",i.style.overflow="auto",document.body.appendChild(i),this.graph=new Iw({},{cellNamespace:r}),this.paper=n.createNewPaper(i,this.graph,1200,700,r),this.paper.drawGrid(),this.action=new W_,this.diamond=new aG,this.start=new uG,this.end=new lG}ngOnInit(){this.paper.on("link:mouseenter",n=>{this.showLinkTools(n)}),this.paper.on("link:mouseleave",n=>{n.removeTools()})}addActionToGraph(){this.action.createActionElement().addTo(this.graph)}addDiamondToGraph(){this.diamond.createDiamondElement().addTo(this.graph)}addStartToGraph(){this.start.createStartElement().addTo(this.graph)}addEndToGraph(){this.end.createEndElement().addTo(this.graph)}saveDiagram(){let n=this.graph.toJSON();console.log(n)}showLinkTools(n){var r=new Hz({tools:[new Vz({distance:"50%",markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#f6f6f6",stroke:"#ff5148","stroke-width":2,cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#ff5148","stroke-width":2,"pointer-events":"none"}}]})]});n.addTools(r)}}return e.\u0275fac=function(n){return new(n||e)(gt(Z_))},e.\u0275cmp=ha({type:e,selectors:[["app-diagram-paper"]],features:[Ax([Z_,W_])],decls:14,vars:0,consts:[["id","toolbox"],["id","addAction",1,"buttonMargin",3,"click"],["id","addDiamond",1,"buttonMargin",3,"click"],["id","addStart",1,"buttonMargin",3,"click"],["id","addEnd",1,"buttonMargin",3,"click"],["id","save",1,"buttonMargin",3,"click"]],template:function(n,r){1&n&&(fu(0,"h4"),Yl(1,"Activity Diagrams"),du(),fu(2,"div",0),fu(3,"button",1),Ju("click",function(){return r.addActionToGraph()}),Yl(4,"Add Action Element"),du(),fu(5,"button",2),Ju("click",function(){return r.addDiamondToGraph()}),Yl(6,"Add Diamond Element"),du(),fu(7,"button",3),Ju("click",function(){return r.addStartToGraph()}),Yl(8,"Add Start Element"),du(),fu(9,"button",4),Ju("click",function(){return r.addEndToGraph()}),Yl(10,"Add End Element"),du(),fu(11,"button",5),Ju("click",function(){return r.saveDiagram()}),Yl(12,"Save Diagram"),du(),du(),pv(13,"br"))},styles:[".buttonMargin[_ngcontent-%COMP%]{margin-right:10px}"]}),e})()}];let fG=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lo({type:e}),e.\u0275inj=y({imports:[[dE.forRoot(cG)],dE]}),e})(),dG=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ha({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){1&n&&(fu(0,"h1"),Yl(1,"DIAGRAMY NA ENDPOINTE /activity"),du(),pv(2,"router-outlet"))},directives:[FA],styles:[""]}),e})(),hG=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Lo({type:e,bootstrap:[dG]}),e.\u0275inj=y({providers:[],imports:[[Ek,fG]]}),e})();function H_(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(d){return void n(d)}a.done?t(l):Promise.resolve(l).then(r,i)}function $n(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){H_(s,r,i,o,a,"next",l)}function a(l){H_(s,r,i,o,a,"throw",l)}o(void 0)})}}class CG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function bG(){return"object"==typeof indexedDB}function DG(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){t(n)}})}class dp extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,dp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ty.prototype.create)}}class Ty{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?function(e,t){return e.replace(EG,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new dp(i,`${this.serviceName}: ${o} (${i}).`,r)}}const EG=/\{\$([^}]+)}/g;function Oy(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(K_(s)&&K_(o)){if(!Oy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function K_(e){return null!==e&&"object"==typeof e}function eN(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function tN(e){return e&&e._delegate?e._delegate:e}class df{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const hf="[DEFAULT]";class kG{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new CG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(n=null==t?void 0:t.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:hf})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(t=hf){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return $n(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=hf){return this.instances.has(t)}getOptions(t=hf){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch(s){}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FG(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(t=hf){return this.component?this.component.multipleInstances?t:hf:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function FG(e){return e===hf?void 0:e}class BG{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new kG(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const kw=[];var Jn=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Jn||(Jn={})),Jn))();const nN={debug:Jn.DEBUG,verbose:Jn.VERBOSE,info:Jn.INFO,warn:Jn.WARN,error:Jn.ERROR,silent:Jn.SILENT},zG=Jn.INFO,GG={[Jn.DEBUG]:"log",[Jn.VERBOSE]:"log",[Jn.INFO]:"info",[Jn.WARN]:"warn",[Jn.ERROR]:"error"},UG=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=GG[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class rN{constructor(t){this.name=t,this._logLevel=zG,this._logHandler=UG,this._userLogHandler=null,kw.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?nN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jn.DEBUG,...t),this._logHandler(this,Jn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jn.VERBOSE,...t),this._logHandler(this,Jn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jn.INFO,...t),this._logHandler(this,Jn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jn.WARN,...t),this._logHandler(this,Jn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jn.ERROR,...t),this._logHandler(this,Jn.ERROR,...t)}}class VG{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Fw="@firebase/app",jw=new rN("@firebase/app"),Bw="[DEFAULT]",pU={[Fw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gf=new Map,Ry=new Map;function mU(e,t){try{e.container.addComponent(t)}catch(n){jw.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function rh(e){const t=e.name;if(Ry.has(t))return jw.debug(`There were multiple attempts to register component ${t}.`),!1;Ry.set(t,e);for(const n of gf.values())mU(n,e);return!0}function hp(e,t){return e.container.getProvider(t)}const gp=new Ty("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class yU{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new df("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gp.create("app-deleted",{appName:this._name})}}function sc(e,t,n){var r;let i=null!==(r=pU[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void jw.warn(a.join(" "))}rh(new df(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}rh(new df("platform-logger",t=>new VG(t),"PRIVATE")),sc(Fw,"0.7.11",""),sc(Fw,"0.7.11","esm2017"),sc("fire-js",""),sc("firebase","9.6.1","app");var DU=et(940);const sN="@firebase/installations",aN="w:0.5.4",uN="FIS_v2",sl=new Ty("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function lN(e){return e instanceof dp&&e.code.includes("request-failed")}function Uw({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function cN(e){return{token:e.token,requestStatus:2,expiresIn:NU(e.expiresIn),creationTime:Date.now()}}function Vw(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=$n(function*(e,t){const r=(yield t.json()).error;return sl.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Zw.apply(this,arguments)}function fN({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function dN(e,{refreshToken:t}){const n=fN(e);return n.append("Authorization",function(e){return`${uN} ${e}`}(t)),n}function Ww(e){return Hw.apply(this,arguments)}function Hw(){return Hw=$n(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t}),Hw.apply(this,arguments)}function NU(e){return Number(e.replace("s","000"))}function PU(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=$n(function*(e,{fid:t}){const n=Uw(e),s={method:"POST",headers:fN(e),body:JSON.stringify({fid:t,authVersion:uN,appId:e.appId,sdkVersion:aN})},o=yield Ww(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||t,registrationStatus:2,refreshToken:a.refreshToken,authToken:cN(a.authToken)}}throw yield Vw("Create Installation",o)}),Yw.apply(this,arguments)}function hN(e){return new Promise(t=>{setTimeout(t,e)})}const RU=/^[cdef][\w-]{21}$/;function LU(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function(e){return function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return RU.test(n)?n:""}catch(e){return""}}function ih(e){return`${e.appName}!${e.appId}`}const sh=new Map;function gN(e,t){const n=ih(e);pN(n,t),function(e,t){const n=(!pf&&"BroadcastChannel"in self&&(pf=new BroadcastChannel("[Firebase] FID Change"),pf.onmessage=e=>{pN(e.data.key,e.data.fid)}),pf);n&&n.postMessage({key:e,fid:t}),0===sh.size&&pf&&(pf.close(),pf=null)}(n,t)}function pN(e,t){const n=sh.get(e);if(n)for(const r of n)r(t)}let pf=null;const mf="firebase-installations-store";let $w=null;function Jw(){return $w||($w=(0,DU.openDb)("firebase-installations-database",1,e=>{0===e.oldVersion&&e.createObjectStore(mf)})),$w}function Ly(e,t){return qw.apply(this,arguments)}function qw(){return qw=$n(function*(e,t){const n=ih(e),i=(yield Jw()).transaction(mf,"readwrite"),s=i.objectStore(mf),o=yield s.get(n);return yield s.put(t,n),yield i.complete,(!o||o.fid!==t.fid)&&gN(e,t.fid),t}),qw.apply(this,arguments)}function Qw(e){return Kw.apply(this,arguments)}function Kw(){return Kw=$n(function*(e){const t=ih(e),r=(yield Jw()).transaction(mf,"readwrite");yield r.objectStore(mf).delete(t),yield r.complete}),Kw.apply(this,arguments)}function pp(e,t){return eb.apply(this,arguments)}function eb(){return eb=$n(function*(e,t){const n=ih(e),i=(yield Jw()).transaction(mf,"readwrite"),s=i.objectStore(mf),o=yield s.get(n),a=t(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&gN(e,a.fid),a}),eb.apply(this,arguments)}function tb(e){return nb.apply(this,arguments)}function nb(){return nb=$n(function*(e){let t;const n=yield pp(e,r=>{const i=UU(r),s=VU(e,i);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),nb.apply(this,arguments)}function UU(e){return IN(e||{fid:LU(),registrationStatus:0})}function VU(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(sl.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return rb.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:WU(e)}:{installationEntry:t}}function rb(){return rb=$n(function*(e,t){try{return Ly(e,yield PU(e,t))}catch(n){throw lN(n)&&409===n.customData.serverCode?yield Qw(e):yield Ly(e,{fid:t.fid,registrationStatus:0}),n}}),rb.apply(this,arguments)}function WU(e){return ib.apply(this,arguments)}function ib(){return ib=$n(function*(e){let t=yield yN(e);for(;1===t.registrationStatus;)yield hN(100),t=yield yN(e);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield tb(e);return r||n}return t}),ib.apply(this,arguments)}function yN(e){return pp(e,t=>{if(!t)throw sl.create("installation-not-found");return IN(t)})}function IN(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function YU(e,t){return sb.apply(this,arguments)}function sb(){return sb=$n(function*({appConfig:e,platformLoggerProvider:t},n){const r=XU(e,n),i=dN(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:aN}})},l=yield Ww(()=>fetch(r,a));if(l.ok)return cN(yield l.json());throw yield Vw("Generate Auth Token",l)}),sb.apply(this,arguments)}function XU(e,{fid:t}){return`${Uw(e)}/${t}/authTokens:generate`}function ob(e){return ab.apply(this,arguments)}function ab(){return ab=$n(function*(e,t=!1){let n;const r=yield pp(e.appConfig,s=>{if(!AN(s))throw sl.create("not-registered");const o=s.authToken;if(!t&&qU(o))return s;if(1===o.requestStatus)return n=$U(e,t),s;{if(!navigator.onLine)throw sl.create("app-offline");const a=KU(s);return n=JU(e,a),a}});return n?yield n:r.authToken}),ab.apply(this,arguments)}function $U(e,t){return ub.apply(this,arguments)}function ub(){return ub=$n(function*(e,t){let n=yield CN(e.appConfig);for(;1===n.authToken.requestStatus;)yield hN(100),n=yield CN(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ob(e,t):r}),ub.apply(this,arguments)}function CN(e){return pp(e,t=>{if(!AN(t))throw sl.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function JU(e,t){return lb.apply(this,arguments)}function lb(){return lb=$n(function*(e,t){try{const n=yield YU(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield Ly(e.appConfig,r),n}catch(n){if(!lN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield Ly(e.appConfig,r)}else yield Qw(e.appConfig);throw n}}),lb.apply(this,arguments)}function AN(e){return void 0!==e&&2===e.registrationStatus}function qU(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function KU(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function cb(){return cb=$n(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield tb(t.appConfig);return r?r.catch(console.error):ob(t).catch(console.error),n.fid}),cb.apply(this,arguments)}function fb(){return fb=$n(function*(e,t=!1){const n=e;return yield rV(n.appConfig),(yield ob(n,t)).token}),fb.apply(this,arguments)}function rV(e){return db.apply(this,arguments)}function db(){return db=$n(function*(e){const{registrationPromise:t}=yield tb(e);t&&(yield t)}),db.apply(this,arguments)}function pb(e){return sl.create("missing-app-config-values",{valueName:e})}const wN="installations";rh(new df(wN,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw pb("App Configuration");if(!e.name)throw pb("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw pb(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:hp(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),rh(new df("installations-internal",e=>{const n=hp(e.getProvider("app").getImmediate(),wN).getImmediate();return{getId:()=>function(e){return cb.apply(this,arguments)}(n),getToken:i=>function(e){return fb.apply(this,arguments)}(n,i)}},"PRIVATE")),sc(sN,"0.5.4"),sc(sN,"0.5.4","esm2017");const ky="analytics",fV="firebase_id",gV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bN="https://www.googletagmanager.com/gtag/js",is=new rN("@firebase/analytics");function DN(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function pV(e,t){const n=document.createElement("script");n.src=`${bN}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function vV(e,t,n,r,i,s){return mb.apply(this,arguments)}function mb(){return mb=$n(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const l=(yield DN(n)).find(d=>d.measurementId===i);l&&(yield t[l.appId])}}catch(a){is.error(a)}e("config",i,s)}),mb.apply(this,arguments)}function yV(e,t,n,r,i){return vb.apply(this,arguments)}function vb(){return vb=$n(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield DN(n);for(const l of o){const d=a.find(h=>h.measurementId===l),p=d&&t[d.appId];if(!p){s=[];break}s.push(p)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){is.error(s)}}),vb.apply(this,arguments)}function AV(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(bN))return t;return null}const bo=new Ty("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xN=new class{constructor(t={},n=1e3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function MV(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function SV(e){return yb.apply(this,arguments)}function yb(){return yb=$n(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:MV(r)},s=gV.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(t=l.error)||void 0===t?void 0:t.message)&&(a=l.error.message)}catch(l){}throw bo.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),yb.apply(this,arguments)}function EV(e){return Ib.apply(this,arguments)}function Ib(){return Ib=$n(function*(e,t=xN,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw bo.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw bo.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TV;return setTimeout($n(function*(){a.abort()}),void 0!==n?n:6e4),MN({appId:r,apiKey:i,measurementId:s},o,a,t)}),Ib.apply(this,arguments)}function MN(e,t,n){return Cb.apply(this,arguments)}function Cb(){return Cb=$n(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=xN){const{appId:s,measurementId:o}=e;try{yield _V(r,t)}catch(a){if(o)return is.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield SV(e);return i.deleteThrottleMetadata(s),a}catch(a){if(!NV(a)){if(i.deleteThrottleMetadata(s),o)return is.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?eN(n,i.intervalMillis,30):eN(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),is.debug(`Calling attemptFetch again in ${l} millis`),MN(e,d,r,i)}}),Cb.apply(this,arguments)}function _V(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(bo.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function NV(e){if(!(e instanceof dp&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class TV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function PV(){return Ab.apply(this,arguments)}function Ab(){return Ab=$n(function*(){if(!bG())return is.warn(bo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield DG()}catch(e){return is.warn(bo.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}),Ab.apply(this,arguments)}function wb(){return wb=$n(function*(e,t,n,r,i,s,o){var a;const l=EV(e);l.then(b=>{n[b.measurementId]=b.appId,e.options.measurementId&&b.measurementId!==e.options.measurementId&&is.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>is.error(b)),t.push(l);const d=PV().then(b=>{if(b)return r.getId()}),[p,h]=yield Promise.all([l,d]);AV()||pV(s,p.measurementId),i("js",new Date);const I=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return I.origin="firebase",I.update=!0,null!=h&&(I[fV]=h),i("config",p.measurementId,I),p.measurementId}),wb.apply(this,arguments)}class RV{constructor(t){this.app=t}_delete(){return delete ol[this.app.options.appId],Promise.resolve()}}let ol={},SN=[];const EN={};let NN,mp,Fy="dataLayer",bb=!1;function kV(e,t,n){!function(){const e=[];if(function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),!("undefined"==typeof navigator||!navigator.cookieEnabled)||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bo.create("invalid-analytics-context",{errorInfo:t});is.warn(n.message)}}();const r=e.options.appId;if(!r)throw bo.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw bo.create("no-api-key");is.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ol[r])throw bo.create("already-exists",{id:r});if(!bb){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Fy);const{wrappedGtag:s,gtagCore:o}=function(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(e,t,n,r){function s(){return(s=$n(function*(o,a,l){try{"event"===o?yield yV(e,t,n,a,l):"config"===o?yield vV(e,t,n,r,a,l):e("set",a)}catch(d){is.error(d)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(ol,SN,EN,Fy,"gtag");mp=s,NN=o,bb=!0}return ol[r]=function(e,t,n,r,i,s,o){return wb.apply(this,arguments)}(e,SN,EN,t,NN,Fy,n),new RV(e)}function Db(){return Db=$n(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const s=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),Db.apply(this,arguments)}const TN="@firebase/analytics";rh(new df(ky,(t,{options:n})=>kV(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),rh(new df("analytics-internal",function(t){try{const n=t.getProvider(ky).getImmediate();return{logEvent:(r,i,s)=>function(e,t,n,r){e=tN(e),function(e,t,n,r,i){return Db.apply(this,arguments)}(mp,ol[e.app.options.appId],t,n,r).catch(i=>is.error(i))}(n,r,i,s)}}catch(n){throw bo.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),sc(TN,"0.7.4"),sc(TN,"0.7.4","esm2017");const HV=function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Bw,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw gp.create("bad-app-name",{appName:String(r)});const i=gf.get(r);if(i){if(Oy(e,i.options)&&Oy(n,i.config))return i;throw gp.create("duplicate-app",{appName:r})}const s=new BG(r);for(const a of Ry.values())s.addComponent(a);const o=new yU(e,n,s);return gf.set(r,o),o}({apiKey:"AIzaSyCicijCz-sJ8fORlqMW0x-3PxT3pvlkENM",authDomain:"activity-diagrams.firebaseapp.com",projectId:"activity-diagrams",storageBucket:"activity-diagrams.appspot.com",messagingSenderId:"163878131006",appId:"1:163878131006:web:81832421e12c5161c4486f",measurementId:"G-K6B2N874H8"});!function(e=function(e=Bw){const t=gf.get(e);if(!t)throw gp.create("no-app",{appName:e});return t}()){const t=hp(e=tN(e),ky);t.isInitialized()?t.getImmediate():function(e,t={}){const n=hp(e,ky);if(n.isInitialized()){const i=n.getImmediate();if(Oy(t,n.getOptions()))return i;throw bo.create("already-initialized")}n.initialize({options:t})}(e)}(HV),CM=!1,Mk().bootstrapModule(hG).catch(e=>console.error(e))},66:(ei,fi,et)=>{var rr,B,ct;ct="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global,rr=[et(610),et(259),fi],void 0!==(B=function(di,Tr,$t){ct.Backbone=function(fr,ct,Me,on){var di=fr.Backbone,Tr=Array.prototype.slice;ct.VERSION="1.4.0",ct.$=on,ct.noConflict=function(){return fr.Backbone=di,this},ct.emulateHTTP=!1,ct.emulateJSON=!1;var an,$t=ct.Events={},dr=/\s+/,Vn=function(N,P,H,ee,Ae){var Pe,we=0;if(H&&"object"==typeof H)for((void 0!==ee&&"context"in Ae&&void 0===Ae.context&&(Ae.context=ee),Pe=Me.keys(H));we<Pe.length;we++)P=Vn(N,P,Pe[we],H[Pe[we]],Ae);else if(H&&dr.test(H))for(Pe=H.split(dr);we<Pe.length;we++)P=N(P,Pe[we],ee,Ae);else P=N(P,H,ee,Ae);return P};$t.on=function(N,P,H){return this._events=Vn(Ar,this._events||{},N,P,{context:H,ctx:this,listening:an}),an&&((this._listeners||(this._listeners={}))[an.id]=an,an.interop=!1),this},$t.listenTo=function(N,P,H){if(!N)return this;var ee=N._listenId||(N._listenId=Me.uniqueId("l")),Ae=this._listeningTo||(this._listeningTo={}),we=an=Ae[ee];we||(this._listenId||(this._listenId=Me.uniqueId("l")),we=an=Ae[ee]=new Je(this,N));var Pe=Gr(N,P,H,this);if(an=void 0,Pe)throw Pe;return we.interop&&we.on(P,H),this};var Ar=function(N,P,H,ee){if(H){var Ae=N[P]||(N[P]=[]),we=ee.context,Pe=ee.ctx,Qe=ee.listening;Qe&&Qe.count++,Ae.push({callback:H,context:we,ctx:we||Pe,listening:Qe})}return N},Gr=function(N,P,H,ee){try{N.on(P,H,ee)}catch(Ae){return Ae}};$t.off=function(N,P,H){return this._events?(this._events=Vn(jt,this._events,N,P,{context:H,listeners:this._listeners}),this):this},$t.stopListening=function(N,P,H){var ee=this._listeningTo;if(!ee)return this;for(var Ae=N?[N._listenId]:Me.keys(ee),we=0;we<Ae.length;we++){var Pe=ee[Ae[we]];if(!Pe)break;Pe.obj.off(P,H,this),Pe.interop&&Pe.off(P,H)}return Me.isEmpty(ee)&&(this._listeningTo=void 0),this};var jt=function(N,P,H,ee){if(N){var Qe,Ae=ee.context,we=ee.listeners,Pe=0;if(!P&&!Ae&&!H){for(Qe=Me.keys(we);Pe<Qe.length;Pe++)we[Qe[Pe]].cleanup();return}for(Qe=P?[P]:Me.keys(N);Pe<Qe.length;Pe++){var ot=N[P=Qe[Pe]];if(!ot)break;for(var un=[],jn=0;jn<ot.length;jn++){var Zt=ot[jn];if(H&&H!==Zt.callback&&H!==Zt.callback._callback||Ae&&Ae!==Zt.context)un.push(Zt);else{var qn=Zt.listening;qn&&qn.off(P,H)}}un.length?N[P]=un:delete N[P]}return N}};$t.once=function(N,P,H){var ee=Vn(qe,{},N,P,this.off.bind(this));return"string"==typeof N&&null==H&&(P=void 0),this.on(ee,P,H)},$t.listenToOnce=function(N,P,H){var ee=Vn(qe,{},P,H,this.stopListening.bind(this,N));return this.listenTo(N,ee)};var qe=function(N,P,H,ee){if(H){var Ae=N[P]=Me.once(function(){ee(P,Ae),H.apply(this,arguments)});Ae._callback=H}return N};$t.trigger=function(N){if(!this._events)return this;for(var P=Math.max(0,arguments.length-1),H=Array(P),ee=0;ee<P;ee++)H[ee]=arguments[ee+1];return Vn(Ue,this._events,N,void 0,H),this};var Ue=function(N,P,H,ee){if(N){var Ae=N[P],we=N.all;Ae&&we&&(we=we.slice()),Ae&&Fe(Ae,ee),we&&Fe(we,[P].concat(ee))}return N},Fe=function(N,P){var H,ee=-1,Ae=N.length,we=P[0],Pe=P[1],Qe=P[2];switch(P.length){case 0:for(;++ee<Ae;)(H=N[ee]).callback.call(H.ctx);return;case 1:for(;++ee<Ae;)(H=N[ee]).callback.call(H.ctx,we);return;case 2:for(;++ee<Ae;)(H=N[ee]).callback.call(H.ctx,we,Pe);return;case 3:for(;++ee<Ae;)(H=N[ee]).callback.call(H.ctx,we,Pe,Qe);return;default:for(;++ee<Ae;)(H=N[ee]).callback.apply(H.ctx,P);return}},Je=function(N,P){this.id=N._listenId,this.listener=N,this.obj=P,this.interop=!0,this.count=0,this._events=void 0};Je.prototype.on=$t.on,Je.prototype.off=function(N,P){var H;this.interop?(this._events=Vn(jt,this._events,N,P,{context:void 0,listeners:void 0}),H=!this._events):(this.count--,H=0===this.count),H&&this.cleanup()},Je.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},$t.bind=$t.on,$t.unbind=$t.off,Me.extend(ct,$t);var mt=ct.Model=function(N,P){var H=N||{};P||(P={}),this.preinitialize.apply(this,arguments),this.cid=Me.uniqueId(this.cidPrefix),this.attributes={},P.collection&&(this.collection=P.collection),P.parse&&(H=this.parse(H,P)||{});var ee=Me.result(this,"defaults");H=Me.defaults(Me.extend({},ee,H),ee),this.set(H,P),this.changed={},this.initialize.apply(this,arguments)};Me.extend(mt.prototype,$t,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(N){return Me.clone(this.attributes)},sync:function(){return ct.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return Me.escape(this.get(N))},has:function(N){return null!=this.get(N)},matches:function(N){return!!Me.iteratee(N,this)(this.attributes)},set:function(N,P,H){if(null==N)return this;var ee;if("object"==typeof N?(ee=N,H=P):(ee={})[N]=P,H||(H={}),!this._validate(ee,H))return!1;var Ae=H.unset,we=H.silent,Pe=[],Qe=this._changing;this._changing=!0,Qe||(this._previousAttributes=Me.clone(this.attributes),this.changed={});var ot=this.attributes,un=this.changed,jn=this._previousAttributes;for(var Zt in ee)Me.isEqual(ot[Zt],P=ee[Zt])||Pe.push(Zt),Me.isEqual(jn[Zt],P)?delete un[Zt]:un[Zt]=P,Ae?delete ot[Zt]:ot[Zt]=P;if(this.idAttribute in ee&&(this.id=this.get(this.idAttribute)),!we){Pe.length&&(this._pending=H);for(var qn=0;qn<Pe.length;qn++)this.trigger("change:"+Pe[qn],this,ot[Pe[qn]],H)}if(Qe)return this;if(!we)for(;this._pending;)H=this._pending,this._pending=!1,this.trigger("change",this,H);return this._pending=!1,this._changing=!1,this},unset:function(N,P){return this.set(N,void 0,Me.extend({},P,{unset:!0}))},clear:function(N){var P={};for(var H in this.attributes)P[H]=void 0;return this.set(P,Me.extend({},N,{unset:!0}))},hasChanged:function(N){return null==N?!Me.isEmpty(this.changed):Me.has(this.changed,N)},changedAttributes:function(N){if(!N)return!!this.hasChanged()&&Me.clone(this.changed);var ee,P=this._changing?this._previousAttributes:this.attributes,H={};for(var Ae in N){var we=N[Ae];Me.isEqual(P[Ae],we)||(H[Ae]=we,ee=!0)}return!!ee&&H},previous:function(N){return null!=N&&this._previousAttributes?this._previousAttributes[N]:null},previousAttributes:function(){return Me.clone(this._previousAttributes)},fetch:function(N){N=Me.extend({parse:!0},N);var P=this,H=N.success;return N.success=function(ee){var Ae=N.parse?P.parse(ee,N):ee;if(!P.set(Ae,N))return!1;H&&H.call(N.context,P,ee,N),P.trigger("sync",P,ee,N)},wn(this,N),this.sync("read",this,N)},save:function(N,P,H){var ee;null==N||"object"==typeof N?(ee=N,H=P):(ee={})[N]=P;var Ae=(H=Me.extend({validate:!0,parse:!0},H)).wait;if(ee&&!Ae){if(!this.set(ee,H))return!1}else if(!this._validate(ee,H))return!1;var we=this,Pe=H.success,Qe=this.attributes;H.success=function(jn){we.attributes=Qe;var Zt=H.parse?we.parse(jn,H):jn;if(Ae&&(Zt=Me.extend({},ee,Zt)),Zt&&!we.set(Zt,H))return!1;Pe&&Pe.call(H.context,we,jn,H),we.trigger("sync",we,jn,H)},wn(this,H),ee&&Ae&&(this.attributes=Me.extend({},Qe,ee));var ot=this.isNew()?"create":H.patch?"patch":"update";"patch"===ot&&!H.attrs&&(H.attrs=ee);var un=this.sync(ot,this,H);return this.attributes=Qe,un},destroy:function(N){N=N?Me.clone(N):{};var P=this,H=N.success,ee=N.wait,Ae=function(){P.stopListening(),P.trigger("destroy",P,P.collection,N)};N.success=function(Pe){ee&&Ae(),H&&H.call(N.context,P,Pe,N),P.isNew()||P.trigger("sync",P,Pe,N)};var we=!1;return this.isNew()?Me.defer(N.success):(wn(this,N),we=this.sync("delete",this,N)),ee||Ae(),we},url:function(){var N=Me.result(this,"urlRoot")||Me.result(this.collection,"url")||xt();if(this.isNew())return N;var P=this.get(this.idAttribute);return N.replace(/[^\/]$/,"$&/")+encodeURIComponent(P)},parse:function(N,P){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(N){return this._validate({},Me.extend({},N,{validate:!0}))},_validate:function(N,P){if(!P.validate||!this.validate)return!0;N=Me.extend({},this.attributes,N);var H=this.validationError=this.validate(N,P)||null;return!H||(this.trigger("invalid",this,H,Me.extend(P,{validationError:H})),!1)}});var je=ct.Collection=function(N,P){P||(P={}),this.preinitialize.apply(this,arguments),P.model&&(this.model=P.model),void 0!==P.comparator&&(this.comparator=P.comparator),this._reset(),this.initialize.apply(this,arguments),N&&this.reset(N,Me.extend({silent:!0},P))},Ln={add:!0,remove:!0,merge:!0},A={add:!0,remove:!1},ti=function(N,P,H){H=Math.min(Math.max(H,0),N.length);var we,ee=Array(N.length-H),Ae=P.length;for(we=0;we<ee.length;we++)ee[we]=N[we+H];for(we=0;we<Ae;we++)N[we+H]=P[we];for(we=0;we<ee.length;we++)N[we+Ae+H]=ee[we]};Me.extend(je.prototype,$t,{model:mt,preinitialize:function(){},initialize:function(){},toJSON:function(N){return this.map(function(P){return P.toJSON(N)})},sync:function(){return ct.sync.apply(this,arguments)},add:function(N,P){return this.set(N,Me.extend({merge:!1},P,A))},remove:function(N,P){P=Me.extend({},P);var H=!Me.isArray(N);N=H?[N]:N.slice();var ee=this._removeModels(N,P);return!P.silent&&ee.length&&(P.changes={added:[],merged:[],removed:ee},this.trigger("update",this,P)),H?ee[0]:ee},set:function(N,P){if(null!=N){(P=Me.extend({},Ln,P)).parse&&!this._isModel(N)&&(N=this.parse(N,P)||[]);var H=!Me.isArray(N);N=H?[N]:N.slice();var ee=P.at;null!=ee&&(ee=+ee),ee>this.length&&(ee=this.length),ee<0&&(ee+=this.length+1);var Bn,sr,Ae=[],we=[],Pe=[],Qe=[],ot={},un=P.add,jn=P.merge,Zt=P.remove,qn=!1,xs=this.comparator&&null==ee&&!1!==P.sort,Mo=Me.isString(this.comparator)?this.comparator:null;for(sr=0;sr<N.length;sr++){var mr=this.get(Bn=N[sr]);if(mr){if(jn&&Bn!==mr){var Ei=this._isModel(Bn)?Bn.attributes:Bn;P.parse&&(Ei=mr.parse(Ei,P)),mr.set(Ei,P),Pe.push(mr),xs&&!qn&&(qn=mr.hasChanged(Mo))}ot[mr.cid]||(ot[mr.cid]=!0,Ae.push(mr)),N[sr]=mr}else un&&(Bn=N[sr]=this._prepareModel(Bn,P))&&(we.push(Bn),this._addReference(Bn,P),ot[Bn.cid]=!0,Ae.push(Bn))}if(Zt){for(sr=0;sr<this.length;sr++)ot[(Bn=this.models[sr]).cid]||Qe.push(Bn);Qe.length&&this._removeModels(Qe,P)}var So=!1;if(Ae.length&&!xs&&un&&Zt?(So=this.length!==Ae.length||Me.some(this.models,function(wr,br){return wr!==Ae[br]}),this.models.length=0,ti(this.models,Ae,0),this.length=this.models.length):we.length&&(xs&&(qn=!0),ti(this.models,we,null==ee?this.length:ee),this.length=this.models.length),qn&&this.sort({silent:!0}),!P.silent){for(sr=0;sr<we.length;sr++)null!=ee&&(P.index=ee+sr),(Bn=we[sr]).trigger("add",Bn,this,P);(qn||So)&&this.trigger("sort",this,P),(we.length||Qe.length||Pe.length)&&(P.changes={added:we,removed:Qe,merged:Pe},this.trigger("update",this,P))}return H?N[0]:N}},reset:function(N,P){P=P?Me.clone(P):{};for(var H=0;H<this.models.length;H++)this._removeReference(this.models[H],P);return P.previousModels=this.models,this._reset(),N=this.add(N,Me.extend({silent:!0},P)),P.silent||this.trigger("reset",this,P),N},push:function(N,P){return this.add(N,Me.extend({at:this.length},P))},pop:function(N){var P=this.at(this.length-1);return this.remove(P,N)},unshift:function(N,P){return this.add(N,Me.extend({at:0},P))},shift:function(N){var P=this.at(0);return this.remove(P,N)},slice:function(){return Tr.apply(this.models,arguments)},get:function(N){if(null!=N)return this._byId[N]||this._byId[this.modelId(this._isModel(N)?N.attributes:N)]||N.cid&&this._byId[N.cid]},has:function(N){return null!=this.get(N)},at:function(N){return N<0&&(N+=this.length),this.models[N]},where:function(N,P){return this[P?"find":"filter"](N)},findWhere:function(N){return this.where(N,!0)},sort:function(N){var P=this.comparator;if(!P)throw new Error("Cannot sort a set without a comparator");N||(N={});var H=P.length;return Me.isFunction(P)&&(P=P.bind(this)),1===H||Me.isString(P)?this.models=this.sortBy(P):this.models.sort(P),N.silent||this.trigger("sort",this,N),this},pluck:function(N){return this.map(N+"")},fetch:function(N){var P=(N=Me.extend({parse:!0},N)).success,H=this;return N.success=function(ee){H[N.reset?"reset":"set"](ee,N),P&&P.call(N.context,H,ee,N),H.trigger("sync",H,ee,N)},wn(this,N),this.sync("read",this,N)},create:function(N,P){var H=(P=P?Me.clone(P):{}).wait;if(!(N=this._prepareModel(N,P)))return!1;H||this.add(N,P);var ee=this,Ae=P.success;return P.success=function(we,Pe,Qe){H&&ee.add(we,Qe),Ae&&Ae.call(Qe.context,we,Pe,Qe)},N.save(null,P),N},parse:function(N,P){return N},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(N){return N[this.model.prototype.idAttribute||"id"]},values:function(){return new hi(this,Do)},keys:function(){return new hi(this,xo)},entries:function(){return new hi(this,Yn)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(N,P){if(this._isModel(N))return N.collection||(N.collection=this),N;(P=P?Me.clone(P):{}).collection=this;var H=new this.model(N,P);return H.validationError?(this.trigger("invalid",this,H.validationError,P),!1):H},_removeModels:function(N,P){for(var H=[],ee=0;ee<N.length;ee++){var Ae=this.get(N[ee]);if(Ae){var we=this.indexOf(Ae);this.models.splice(we,1),this.length--,delete this._byId[Ae.cid];var Pe=this.modelId(Ae.attributes);null!=Pe&&delete this._byId[Pe],P.silent||(P.index=we,Ae.trigger("remove",Ae,this,P)),H.push(Ae),this._removeReference(Ae,P)}}return H},_isModel:function(N){return N instanceof mt},_addReference:function(N,P){this._byId[N.cid]=N;var H=this.modelId(N.attributes);null!=H&&(this._byId[H]=N),N.on("all",this._onModelEvent,this)},_removeReference:function(N,P){delete this._byId[N.cid];var H=this.modelId(N.attributes);null!=H&&delete this._byId[H],this===N.collection&&delete N.collection,N.off("all",this._onModelEvent,this)},_onModelEvent:function(N,P,H,ee){if(P){if(("add"===N||"remove"===N)&&H!==this)return;if("destroy"===N&&this.remove(P,ee),"change"===N){var Ae=this.modelId(P.previousAttributes()),we=this.modelId(P.attributes);Ae!==we&&(null!=Ae&&delete this._byId[Ae],null!=we&&(this._byId[we]=P))}}this.trigger.apply(this,arguments)}});var _n="function"==typeof Symbol&&Symbol.iterator;_n&&(je.prototype[_n]=je.prototype.values);var hi=function(N,P){this._collection=N,this._kind=P,this._index=0},Do=1,xo=2,Yn=3;_n&&(hi.prototype[_n]=function(){return this}),hi.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var P,N=this._collection.at(this._index);if(this._index++,this._kind===Do)P=N;else{var H=this._collection.modelId(N.attributes);P=this._kind===xo?H:[H,N]}return{value:P,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var as=ct.View=function(N){this.cid=Me.uniqueId("view"),this.preinitialize.apply(this,arguments),Me.extend(this,Me.pick(N,ro)),this._ensureElement(),this.initialize.apply(this,arguments)},no=/^(\S+)\s*(.*)$/,ro=["model","collection","el","id","attributes","className","tagName","events"];Me.extend(as.prototype,$t,{tagName:"div",$:function(N){return this.$el.find(N)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(N){return this.undelegateEvents(),this._setElement(N),this.delegateEvents(),this},_setElement:function(N){this.$el=N instanceof ct.$?N:ct.$(N),this.el=this.$el[0]},delegateEvents:function(N){if(N||(N=Me.result(this,"events")),!N)return this;for(var P in this.undelegateEvents(),N){var H=N[P];if(Me.isFunction(H)||(H=this[H]),H){var ee=P.match(no);this.delegate(ee[1],ee[2],H.bind(this))}}return this},delegate:function(N,P,H){return this.$el.on(N+".delegateEvents"+this.cid,P,H),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(N,P,H){return this.$el.off(N+".delegateEvents"+this.cid,P,H),this},_createElement:function(N){return document.createElement(N)},_ensureElement:function(){if(this.el)this.setElement(Me.result(this,"el"));else{var N=Me.extend({},Me.result(this,"attributes"));this.id&&(N.id=Me.result(this,"id")),this.className&&(N.class=Me.result(this,"className")),this.setElement(this._createElement(Me.result(this,"tagName"))),this._setAttributes(N)}},_setAttributes:function(N){this.$el.attr(N)}});var Mi=function(N,P,H,ee){Me.each(H,function(Ae,we){P[we]&&(N.prototype[we]=function(N,P,H,ee){switch(P){case 1:return function(){return N[H](this[ee])};case 2:return function(Ae){return N[H](this[ee],Ae)};case 3:return function(Ae,we){return N[H](this[ee],na(Ae,this),we)};case 4:return function(Ae,we,Pe){return N[H](this[ee],na(Ae,this),we,Pe)};default:return function(){var Ae=Tr.call(arguments);return Ae.unshift(this[ee]),N[H].apply(N,Ae)}}}(P,Ae,we,ee))})},na=function(N,P){return Me.isFunction(N)?N:Me.isObject(N)&&!P._isModel(N)?us(N):Me.isString(N)?function(H){return H.get(N)}:N},us=function(N){var P=Me.matches(N);return function(H){return P(H.attributes)}};Me.each([[je,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[mt,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(N){var P=N[0],H=N[1],ee=N[2];P.mixin=function(Ae){var we=Me.reduce(Me.functions(Ae),function(Pe,Qe){return Pe[Qe]=0,Pe},{});Mi(P,Ae,we,ee)},Mi(P,Me,H,ee)}),ct.sync=function(N,P,H){var ee=Ds[N];Me.defaults(H||(H={}),{emulateHTTP:ct.emulateHTTP,emulateJSON:ct.emulateJSON});var Ae={type:ee,dataType:"json"};if(H.url||(Ae.url=Me.result(P,"url")||xt()),null==H.data&&P&&("create"===N||"update"===N||"patch"===N)&&(Ae.contentType="application/json",Ae.data=JSON.stringify(H.attrs||P.toJSON(H))),H.emulateJSON&&(Ae.contentType="application/x-www-form-urlencoded",Ae.data=Ae.data?{model:Ae.data}:{}),H.emulateHTTP&&("PUT"===ee||"DELETE"===ee||"PATCH"===ee)){Ae.type="POST",H.emulateJSON&&(Ae.data._method=ee);var we=H.beforeSend;H.beforeSend=function(ot){if(ot.setRequestHeader("X-HTTP-Method-Override",ee),we)return we.apply(this,arguments)}}"GET"!==Ae.type&&!H.emulateJSON&&(Ae.processData=!1);var Pe=H.error;H.error=function(ot,un,jn){H.textStatus=un,H.errorThrown=jn,Pe&&Pe.call(H.context,ot,un,jn)};var Qe=H.xhr=ct.ajax(Me.extend(Ae,H));return P.trigger("request",P,Qe,H),Qe};var Ds={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};ct.ajax=function(){return ct.$.ajax.apply(ct.$,arguments)};var gr=ct.Router=function(N){N||(N={}),this.preinitialize.apply(this,arguments),N.routes&&(this.routes=N.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Ur=/\((.*?)\)/g,Ui=/(\(\?)?:\w+/g,ra=/\*\w+/g,Si=/[\-{}\[\]+?.,\\\^$|#\s]/g;Me.extend(gr.prototype,$t,{preinitialize:function(){},initialize:function(){},route:function(N,P,H){Me.isRegExp(N)||(N=this._routeToRegExp(N)),Me.isFunction(P)&&(H=P,P=""),H||(H=this[P]);var ee=this;return ct.history.route(N,function(Ae){var we=ee._extractParameters(N,Ae);!1!==ee.execute(H,we,P)&&(ee.trigger.apply(ee,["route:"+P].concat(we)),ee.trigger("route",P,we),ct.history.trigger("route",ee,P,we))}),this},execute:function(N,P,H){N&&N.apply(this,P)},navigate:function(N,P){return ct.history.navigate(N,P),this},_bindRoutes:function(){if(this.routes){this.routes=Me.result(this,"routes");for(var N,P=Me.keys(this.routes);null!=(N=P.pop());)this.route(N,this.routes[N])}},_routeToRegExp:function(N){return N=N.replace(Si,"\\$&").replace(Ur,"(?:$1)?").replace(Ui,function(P,H){return H?P:"([^/?]+)"}).replace(ra,"([^?]*?)"),new RegExp("^"+N+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(N,P){var H=N.exec(P).slice(1);return Me.map(H,function(ee,Ae){return Ae===H.length-1?ee||null:ee?decodeURIComponent(ee):null})}});var pr=ct.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},ni=/^[#\/]|\s+$/g,Vr=/^\/+|\/+$/g,ia=/#.*$/;pr.started=!1,Me.extend(pr.prototype,$t,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(N){return decodeURI(N.replace(/%25/g,"%2525"))},getSearch:function(){var N=this.location.href.replace(/#.*/,"").match(/\?.+/);return N?N[0]:""},getHash:function(N){var P=(N||this).location.href.match(/#(.*)$/);return P?P[1]:""},getPath:function(){var N=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===N.charAt(0)?N.slice(1):N},getFragment:function(N){return null==N&&(N=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),N.replace(ni,"")},start:function(N){if(pr.started)throw new Error("Backbone.history has already been started");if(pr.started=!0,this.options=Me.extend({root:"/"},this.options,N),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Vr,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var P=this.root.slice(0,-1)||"/";return this.location.replace(P+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var H=document.body,ee=H.insertBefore(this.iframe,H.firstChild).contentWindow;ee.document.open(),ee.document.close(),ee.location.hash="#"+this.fragment}var Ae=window.addEventListener||function(we,Pe){return attachEvent("on"+we,Pe)};if(this._usePushState?Ae("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ae("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var N=window.removeEventListener||function(P,H){return detachEvent("on"+P,H)};this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&N("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),pr.started=!1},route:function(N,P){this.handlers.unshift({route:N,callback:P})},checkUrl:function(N){var P=this.getFragment();if(P===this.fragment&&this.iframe&&(P=this.getHash(this.iframe.contentWindow)),P===this.fragment)return!1;this.iframe&&this.navigate(P),this.loadUrl()},loadUrl:function(N){return!!this.matchRoot()&&(N=this.fragment=this.getFragment(N),Me.some(this.handlers,function(P){if(P.route.test(N))return P.callback(N),!0}))},navigate:function(N,P){if(!pr.started)return!1;(!P||!0===P)&&(P={trigger:!!P}),N=this.getFragment(N||"");var H=this.root;(""===N||"?"===N.charAt(0))&&(H=H.slice(0,-1)||"/");var ee=H+N;N=N.replace(ia,"");var Ae=this.decodeFragment(N);if(this.fragment!==Ae){if(this.fragment=Ae,this._usePushState)this.history[P.replace?"replaceState":"pushState"]({},document.title,ee);else{if(!this._wantsHashChange)return this.location.assign(ee);if(this._updateHash(this.location,N,P.replace),this.iframe&&N!==this.getHash(this.iframe.contentWindow)){var we=this.iframe.contentWindow;P.replace||(we.document.open(),we.document.close()),this._updateHash(we.location,N,P.replace)}}if(P.trigger)return this.loadUrl(N)}},_updateHash:function(N,P,H){if(H){var ee=N.href.replace(/(javascript:|#).*$/,"");N.replace(ee+"#"+P)}else N.hash="#"+P}}),ct.history=new pr;mt.extend=je.extend=gr.extend=as.extend=pr.extend=function(N,P){var ee,H=this;return ee=N&&Me.has(N,"constructor")?N.constructor:function(){return H.apply(this,arguments)},Me.extend(ee,H,P),ee.prototype=Me.create(H.prototype,N),ee.prototype.constructor=ee,ee.__super__=H.prototype,ee};var xt=function(){throw new Error('A "url" property or function must be specified')},wn=function(N,P){var H=P.error;P.error=function(ee){H&&H.call(P.context,N,ee,P),N.trigger("error",N,ee,P)}};return ct}(ct,$t,di,Tr)}.apply(fi,rr))&&(ei.exports=B)},940:function(ei,fi){!function(et){"use strict";function rr(Ue){return Array.prototype.slice.call(Ue)}function B(Ue){return new Promise(function(Fe,Je){Ue.onsuccess=function(){Fe(Ue.result)},Ue.onerror=function(){Je(Ue.error)}})}function fr(Ue,Fe,Je){var mt,je=new Promise(function(Ln,A){B(mt=Ue[Fe].apply(Ue,Je)).then(Ln,A)});return je.request=mt,je}function ct(Ue,Fe,Je){var mt=fr(Ue,Fe,Je);return mt.then(function(je){if(je)return new dr(je,mt.request)})}function Me(Ue,Fe,Je){Je.forEach(function(mt){Object.defineProperty(Ue.prototype,mt,{get:function(){return this[Fe][mt]},set:function(je){this[Fe][mt]=je}})})}function on(Ue,Fe,Je,mt){mt.forEach(function(je){je in Je.prototype&&(Ue.prototype[je]=function(){return fr(this[Fe],je,arguments)})})}function di(Ue,Fe,Je,mt){mt.forEach(function(je){je in Je.prototype&&(Ue.prototype[je]=function(){return this[Fe][je].apply(this[Fe],arguments)})})}function Tr(Ue,Fe,Je,mt){mt.forEach(function(je){je in Je.prototype&&(Ue.prototype[je]=function(){return ct(this[Fe],je,arguments)})})}function $t(Ue){this._index=Ue}function dr(Ue,Fe){this._cursor=Ue,this._request=Fe}function an(Ue){this._store=Ue}function Vn(Ue){this._tx=Ue,this.complete=new Promise(function(Fe,Je){Ue.oncomplete=function(){Fe()},Ue.onerror=function(){Je(Ue.error)},Ue.onabort=function(){Je(Ue.error)}})}function Ar(Ue,Fe,Je){this._db=Ue,this.oldVersion=Fe,this.transaction=new Vn(Je)}function Gr(Ue){this._db=Ue}Me($t,"_index",["name","keyPath","multiEntry","unique"]),on($t,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Tr($t,"_index",IDBIndex,["openCursor","openKeyCursor"]),Me(dr,"_cursor",["direction","key","primaryKey","value"]),on(dr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ue){Ue in IDBCursor.prototype&&(dr.prototype[Ue]=function(){var Fe=this,Je=arguments;return Promise.resolve().then(function(){return Fe._cursor[Ue].apply(Fe._cursor,Je),B(Fe._request).then(function(mt){if(mt)return new dr(mt,Fe._request)})})})}),an.prototype.createIndex=function(){return new $t(this._store.createIndex.apply(this._store,arguments))},an.prototype.index=function(){return new $t(this._store.index.apply(this._store,arguments))},Me(an,"_store",["name","keyPath","indexNames","autoIncrement"]),on(an,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Tr(an,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),di(an,"_store",IDBObjectStore,["deleteIndex"]),Vn.prototype.objectStore=function(){return new an(this._tx.objectStore.apply(this._tx,arguments))},Me(Vn,"_tx",["objectStoreNames","mode"]),di(Vn,"_tx",IDBTransaction,["abort"]),Ar.prototype.createObjectStore=function(){return new an(this._db.createObjectStore.apply(this._db,arguments))},Me(Ar,"_db",["name","version","objectStoreNames"]),di(Ar,"_db",IDBDatabase,["deleteObjectStore","close"]),Gr.prototype.transaction=function(){return new Vn(this._db.transaction.apply(this._db,arguments))},Me(Gr,"_db",["name","version","objectStoreNames"]),di(Gr,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ue){[an,$t].forEach(function(Fe){Ue in Fe.prototype&&(Fe.prototype[Ue.replace("open","iterate")]=function(){var Je=rr(arguments),mt=Je[Je.length-1],je=this._store||this._index,Ln=je[Ue].apply(je,Je.slice(0,-1));Ln.onsuccess=function(){mt(Ln.result)}})})}),[$t,an].forEach(function(Ue){Ue.prototype.getAll||(Ue.prototype.getAll=function(Fe,Je){var mt=this,je=[];return new Promise(function(Ln){mt.iterateCursor(Fe,function(A){A?(je.push(A.value),void 0===Je||je.length!=Je?A.continue():Ln(je)):Ln(je)})})})}),et.openDb=function(Ue,Fe,Je){var mt=fr(indexedDB,"open",[Ue,Fe]),je=mt.request;return je&&(je.onupgradeneeded=function(Ln){Je&&Je(new Ar(je.result,Ln.oldVersion,je.transaction))}),mt.then(function(Ln){return new Gr(Ln)})},et.deleteDb=function(Ue){return fr(indexedDB,"deleteDatabase",[Ue])},Object.defineProperty(et,"__esModule",{value:!0})}(fi)},259:function(ei,fi){var rr;!function(B,fr){"use strict";"object"==typeof ei.exports?ei.exports=B.document?fr(B,!0):function(ct){if(!ct.document)throw new Error("jQuery requires a window with a document");return fr(ct)}:fr(B)}("undefined"!=typeof window?window:this,function(B,fr){"use strict";var ct=[],Me=Object.getPrototypeOf,on=ct.slice,di=ct.flat?function(f){return ct.flat.call(f)}:function(f){return ct.concat.apply([],f)},Tr=ct.push,$t=ct.indexOf,dr={},an=dr.toString,Vn=dr.hasOwnProperty,Ar=Vn.toString,Gr=Ar.call(Object),jt={},qe=function(g){return"function"==typeof g&&"number"!=typeof g.nodeType&&"function"!=typeof g.item},Ue=function(g){return null!=g&&g===g.window},Fe=B.document,Je={type:!0,src:!0,nonce:!0,noModule:!0};function mt(f,g,v){var y,D,M=(v=v||Fe).createElement("script");if(M.text=f,g)for(y in Je)(D=g[y]||g.getAttribute&&g.getAttribute(y))&&M.setAttribute(y,D);v.head.appendChild(M).parentNode.removeChild(M)}function je(f){return null==f?f+"":"object"==typeof f||"function"==typeof f?dr[an.call(f)]||"object":typeof f}var A=function(f,g){return new A.fn.init(f,g)};function ti(f){var g=!!f&&"length"in f&&f.length,v=je(f);return!qe(f)&&!Ue(f)&&("array"===v||0===g||"number"==typeof g&&g>0&&g-1 in f)}A.fn=A.prototype={jquery:"3.6.0",constructor:A,length:0,toArray:function(){return on.call(this)},get:function(f){return null==f?on.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var g=A.merge(this.constructor(),f);return g.prevObject=this,g},each:function(f){return A.each(this,f)},map:function(f){return this.pushStack(A.map(this,function(g,v){return f.call(g,v,g)}))},slice:function(){return this.pushStack(on.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,function(f,g){return(g+1)%2}))},odd:function(){return this.pushStack(A.grep(this,function(f,g){return g%2}))},eq:function(f){var g=this.length,v=+f+(f<0?g:0);return this.pushStack(v>=0&&v<g?[this[v]]:[])},end:function(){return this.prevObject||this.constructor()},push:Tr,sort:ct.sort,splice:ct.splice},A.extend=A.fn.extend=function(){var f,g,v,y,D,M,O=arguments[0]||{},X=1,Y=arguments.length,oe=!1;for("boolean"==typeof O&&(oe=O,O=arguments[X]||{},X++),"object"!=typeof O&&!qe(O)&&(O={}),X===Y&&(O=this,X--);X<Y;X++)if(null!=(f=arguments[X]))for(g in f)y=f[g],"__proto__"!==g&&O!==y&&(oe&&y&&(A.isPlainObject(y)||(D=Array.isArray(y)))?(v=O[g],M=D&&!Array.isArray(v)?[]:D||A.isPlainObject(v)?v:{},D=!1,O[g]=A.extend(oe,M,y)):void 0!==y&&(O[g]=y));return O},A.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var g,v;return!(!f||"[object Object]"!==an.call(f)||(g=Me(f))&&("function"!=typeof(v=Vn.call(g,"constructor")&&g.constructor)||Ar.call(v)!==Gr))},isEmptyObject:function(f){var g;for(g in f)return!1;return!0},globalEval:function(f,g,v){mt(f,{nonce:g&&g.nonce},v)},each:function(f,g){var v,y=0;if(ti(f))for(v=f.length;y<v&&!1!==g.call(f[y],y,f[y]);y++);else for(y in f)if(!1===g.call(f[y],y,f[y]))break;return f},makeArray:function(f,g){var v=g||[];return null!=f&&(ti(Object(f))?A.merge(v,"string"==typeof f?[f]:f):Tr.call(v,f)),v},inArray:function(f,g,v){return null==g?-1:$t.call(g,f,v)},merge:function(f,g){for(var v=+g.length,y=0,D=f.length;y<v;y++)f[D++]=g[y];return f.length=D,f},grep:function(f,g,v){for(var D=[],M=0,O=f.length,X=!v;M<O;M++)!g(f[M],M)!==X&&D.push(f[M]);return D},map:function(f,g,v){var y,D,M=0,O=[];if(ti(f))for(y=f.length;M<y;M++)null!=(D=g(f[M],M,v))&&O.push(D);else for(M in f)null!=(D=g(f[M],M,v))&&O.push(D);return di(O)},guid:1,support:jt}),"function"==typeof Symbol&&(A.fn[Symbol.iterator]=ct[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,g){dr["[object "+g+"]"]=g.toLowerCase()});var _n=function(f){var g,v,y,D,M,O,X,Y,oe,me,Ee,he,fe,Ve,Ot,Xe,Tn,Qn,Kn,Ke="sizzle"+1*new Date,ht=f.document,pi=0,Bt=0,Gn=Le(),Tu=Le(),yl=Le(),fs=Le(),en=function(R,q){return R===q&&(Ee=!0),0},lo={}.hasOwnProperty,Rr=[],Wi=Rr.pop,Vt=Rr.push,ds=Rr.push,Ya=Rr.slice,Ss=function(R,q){for(var ne=0,ve=R.length;ne<ve;ne++)if(R[ne]===q)return ne;return-1},Pu="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Wt="[\\x20\\t\\r\\n\\f]",Hi="(?:\\\\[\\da-fA-F]{1,6}"+Wt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Il="\\["+Wt+"*("+Hi+")(?:"+Wt+"*([*^$|!~]?=)"+Wt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Hi+"))|)"+Wt+"*\\]",ha=":("+Hi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Il+")*)|.*)\\)|)",yf=new RegExp(Wt+"+","g"),Xr=new RegExp("^"+Wt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Wt+"+$","g"),Cl=new RegExp("^"+Wt+"*,"+Wt+"*"),ga=new RegExp("^"+Wt+"*([>+~]|"+Wt+")"+Wt+"*"),Lo=new RegExp(Wt+"|>"),If=new RegExp(ha),Cf=new RegExp("^"+Hi+"$"),Mr={ID:new RegExp("^#("+Hi+")"),CLASS:new RegExp("^\\.("+Hi+")"),TAG:new RegExp("^("+Hi+"|[*])"),ATTR:new RegExp("^"+Il),PSEUDO:new RegExp("^"+ha),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Wt+"*(even|odd|(([+-]|)(\\d*)n|)"+Wt+"*(?:([+-]|)"+Wt+"*(\\d+)|))"+Wt+"*\\)|)","i"),bool:new RegExp("^(?:"+Pu+")$","i"),needsContext:new RegExp("^"+Wt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Wt+"*((?:-\\d)?\\d*)"+Wt+"*\\)|)(?=[^-]|$)","i")},Ti=/HTML$/i,ii=/^(?:input|select|textarea|button)$/i,ko=/^h\d$/i,si=/^[^{]+\{\s*\[native \w/,hs=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xa=/[+~]/,Yi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Wt+"?|\\\\([^\\r\\n\\f])","g"),Pi=function(R,q){var ne="0x"+R.slice(1)-65536;return q||(ne<0?String.fromCharCode(ne+65536):String.fromCharCode(ne>>10|55296,1023&ne|56320))},gs=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Es=function(R,q){return q?"\0"===R?"\ufffd":R.slice(0,-1)+"\\"+R.charCodeAt(R.length-1).toString(16)+" ":"\\"+R},$r=function(){he()},ah=Be(function(R){return!0===R.disabled&&"fieldset"===R.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{ds.apply(Rr=Ya.call(ht.childNodes),ht.childNodes)}catch(R){ds={apply:Rr.length?function(q,ne){Vt.apply(q,Ya.call(ne))}:function(q,ne){for(var ve=q.length,se=0;q[ve++]=ne[se++];);q.length=ve-1}}}function Ht(R,q,ne,ve){var se,be,ye,Re,Oe,at,ft,vt=q&&q.ownerDocument,Yt=q?q.nodeType:9;if(ne=ne||[],"string"!=typeof R||!R||1!==Yt&&9!==Yt&&11!==Yt)return ne;if(!ve&&(he(q),q=q||fe,Ot)){if(11!==Yt&&(Oe=hs.exec(R)))if(se=Oe[1]){if(9===Yt){if(!(ye=q.getElementById(se)))return ne;if(ye.id===se)return ne.push(ye),ne}else if(vt&&(ye=vt.getElementById(se))&&Kn(q,ye)&&ye.id===se)return ne.push(ye),ne}else{if(Oe[2])return ds.apply(ne,q.getElementsByTagName(R)),ne;if((se=Oe[3])&&v.getElementsByClassName&&q.getElementsByClassName)return ds.apply(ne,q.getElementsByClassName(se)),ne}if(v.qsa&&!fs[R+" "]&&(!Xe||!Xe.test(R))&&(1!==Yt||"object"!==q.nodeName.toLowerCase())){if(ft=R,vt=q,1===Yt&&(Lo.test(R)||ga.test(R))){for(((vt=Xa.test(R)&&re(q.parentNode)||q)!==q||!v.scope)&&((Re=q.getAttribute("id"))?Re=Re.replace(gs,Es):q.setAttribute("id",Re=Ke)),be=(at=O(R)).length;be--;)at[be]=(Re?"#"+Re:":scope")+" "+pe(at[be]);ft=at.join(",")}try{return ds.apply(ne,vt.querySelectorAll(ft)),ne}catch(Mn){fs(R,!0)}finally{Re===Ke&&q.removeAttribute("id")}}}return Y(R.replace(Xr,"$1"),q,ne,ve)}function Le(){var R=[];return function q(ne,ve){return R.push(ne+" ")>y.cacheLength&&delete q[R.shift()],q[ne+" "]=ve}}function tt(R){return R[Ke]=!0,R}function tn(R){var q=fe.createElement("fieldset");try{return!!R(q)}catch(ne){return!1}finally{q.parentNode&&q.parentNode.removeChild(q),q=null}}function mi(R,q){for(var ne=R.split("|"),ve=ne.length;ve--;)y.attrHandle[ne[ve]]=q}function Fo(R,q){var ne=q&&R,ve=ne&&1===R.nodeType&&1===q.nodeType&&R.sourceIndex-q.sourceIndex;if(ve)return ve;if(ne)for(;ne=ne.nextSibling;)if(ne===q)return-1;return R?1:-1}function Lr(R){return function(q){return"input"===q.nodeName.toLowerCase()&&q.type===R}}function pa(R){return function(q){var ne=q.nodeName.toLowerCase();return("input"===ne||"button"===ne)&&q.type===R}}function er(R){return function(q){return"form"in q?q.parentNode&&!1===q.disabled?"label"in q?"label"in q.parentNode?q.parentNode.disabled===R:q.disabled===R:q.isDisabled===R||q.isDisabled!==!R&&ah(q)===R:q.disabled===R:"label"in q&&q.disabled===R}}function Oi(R){return tt(function(q){return q=+q,tt(function(ne,ve){for(var se,be=R([],ne.length,q),ye=be.length;ye--;)ne[se=be[ye]]&&(ne[se]=!(ve[se]=ne[se]))})})}function re(R){return R&&void 0!==R.getElementsByTagName&&R}for(g in v=Ht.support={},M=Ht.isXML=function(R){var ne=R&&(R.ownerDocument||R).documentElement;return!Ti.test(R&&R.namespaceURI||ne&&ne.nodeName||"HTML")},he=Ht.setDocument=function(R){var q,ne,ve=R?R.ownerDocument||R:ht;return ve==fe||9!==ve.nodeType||!ve.documentElement||(Ve=(fe=ve).documentElement,Ot=!M(fe),ht!=fe&&(ne=fe.defaultView)&&ne.top!==ne&&(ne.addEventListener?ne.addEventListener("unload",$r,!1):ne.attachEvent&&ne.attachEvent("onunload",$r)),v.scope=tn(function(se){return Ve.appendChild(se).appendChild(fe.createElement("div")),void 0!==se.querySelectorAll&&!se.querySelectorAll(":scope fieldset div").length}),v.attributes=tn(function(se){return se.className="i",!se.getAttribute("className")}),v.getElementsByTagName=tn(function(se){return se.appendChild(fe.createComment("")),!se.getElementsByTagName("*").length}),v.getElementsByClassName=si.test(fe.getElementsByClassName),v.getById=tn(function(se){return Ve.appendChild(se).id=Ke,!fe.getElementsByName||!fe.getElementsByName(Ke).length}),v.getById?(y.filter.ID=function(se){var be=se.replace(Yi,Pi);return function(ye){return ye.getAttribute("id")===be}},y.find.ID=function(se,be){if(void 0!==be.getElementById&&Ot){var ye=be.getElementById(se);return ye?[ye]:[]}}):(y.filter.ID=function(se){var be=se.replace(Yi,Pi);return function(ye){var Re=void 0!==ye.getAttributeNode&&ye.getAttributeNode("id");return Re&&Re.value===be}},y.find.ID=function(se,be){if(void 0!==be.getElementById&&Ot){var ye,Re,Oe,at=be.getElementById(se);if(at){if((ye=at.getAttributeNode("id"))&&ye.value===se)return[at];for(Oe=be.getElementsByName(se),Re=0;at=Oe[Re++];)if((ye=at.getAttributeNode("id"))&&ye.value===se)return[at]}return[]}}),y.find.TAG=v.getElementsByTagName?function(se,be){return void 0!==be.getElementsByTagName?be.getElementsByTagName(se):v.qsa?be.querySelectorAll(se):void 0}:function(se,be){var ye,Re=[],Oe=0,at=be.getElementsByTagName(se);if("*"===se){for(;ye=at[Oe++];)1===ye.nodeType&&Re.push(ye);return Re}return at},y.find.CLASS=v.getElementsByClassName&&function(se,be){if(void 0!==be.getElementsByClassName&&Ot)return be.getElementsByClassName(se)},Tn=[],Xe=[],(v.qsa=si.test(fe.querySelectorAll))&&(tn(function(se){var be;Ve.appendChild(se).innerHTML="<a id='"+Ke+"'></a><select id='"+Ke+"-\r\\' msallowcapture=''><option selected=''></option></select>",se.querySelectorAll("[msallowcapture^='']").length&&Xe.push("[*^$]="+Wt+"*(?:''|\"\")"),se.querySelectorAll("[selected]").length||Xe.push("\\["+Wt+"*(?:value|"+Pu+")"),se.querySelectorAll("[id~="+Ke+"-]").length||Xe.push("~="),(be=fe.createElement("input")).setAttribute("name",""),se.appendChild(be),se.querySelectorAll("[name='']").length||Xe.push("\\["+Wt+"*name"+Wt+"*="+Wt+"*(?:''|\"\")"),se.querySelectorAll(":checked").length||Xe.push(":checked"),se.querySelectorAll("a#"+Ke+"+*").length||Xe.push(".#.+[+~]"),se.querySelectorAll("\\\f"),Xe.push("[\\r\\n\\f]")}),tn(function(se){se.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var be=fe.createElement("input");be.setAttribute("type","hidden"),se.appendChild(be).setAttribute("name","D"),se.querySelectorAll("[name=d]").length&&Xe.push("name"+Wt+"*[*^$|!~]?="),2!==se.querySelectorAll(":enabled").length&&Xe.push(":enabled",":disabled"),Ve.appendChild(se).disabled=!0,2!==se.querySelectorAll(":disabled").length&&Xe.push(":enabled",":disabled"),se.querySelectorAll("*,:x"),Xe.push(",.*:")})),(v.matchesSelector=si.test(Qn=Ve.matches||Ve.webkitMatchesSelector||Ve.mozMatchesSelector||Ve.oMatchesSelector||Ve.msMatchesSelector))&&tn(function(se){v.disconnectedMatch=Qn.call(se,"*"),Qn.call(se,"[s!='']:x"),Tn.push("!=",ha)}),Xe=Xe.length&&new RegExp(Xe.join("|")),Tn=Tn.length&&new RegExp(Tn.join("|")),q=si.test(Ve.compareDocumentPosition),Kn=q||si.test(Ve.contains)?function(se,be){var ye=9===se.nodeType?se.documentElement:se,Re=be&&be.parentNode;return se===Re||!(!Re||1!==Re.nodeType||!(ye.contains?ye.contains(Re):se.compareDocumentPosition&&16&se.compareDocumentPosition(Re)))}:function(se,be){if(be)for(;be=be.parentNode;)if(be===se)return!0;return!1},en=q?function(se,be){if(se===be)return Ee=!0,0;var ye=!se.compareDocumentPosition-!be.compareDocumentPosition;return ye||(1&(ye=(se.ownerDocument||se)==(be.ownerDocument||be)?se.compareDocumentPosition(be):1)||!v.sortDetached&&be.compareDocumentPosition(se)===ye?se==fe||se.ownerDocument==ht&&Kn(ht,se)?-1:be==fe||be.ownerDocument==ht&&Kn(ht,be)?1:me?Ss(me,se)-Ss(me,be):0:4&ye?-1:1)}:function(se,be){if(se===be)return Ee=!0,0;var ye,Re=0,Oe=se.parentNode,at=be.parentNode,ft=[se],vt=[be];if(!Oe||!at)return se==fe?-1:be==fe?1:Oe?-1:at?1:me?Ss(me,se)-Ss(me,be):0;if(Oe===at)return Fo(se,be);for(ye=se;ye=ye.parentNode;)ft.unshift(ye);for(ye=be;ye=ye.parentNode;)vt.unshift(ye);for(;ft[Re]===vt[Re];)Re++;return Re?Fo(ft[Re],vt[Re]):ft[Re]==ht?-1:vt[Re]==ht?1:0}),fe},Ht.matches=function(R,q){return Ht(R,null,null,q)},Ht.matchesSelector=function(R,q){if(he(R),v.matchesSelector&&Ot&&!fs[q+" "]&&(!Tn||!Tn.test(q))&&(!Xe||!Xe.test(q)))try{var ne=Qn.call(R,q);if(ne||v.disconnectedMatch||R.document&&11!==R.document.nodeType)return ne}catch(ve){fs(q,!0)}return Ht(q,fe,null,[R]).length>0},Ht.contains=function(R,q){return(R.ownerDocument||R)!=fe&&he(R),Kn(R,q)},Ht.attr=function(R,q){(R.ownerDocument||R)!=fe&&he(R);var ne=y.attrHandle[q.toLowerCase()],ve=ne&&lo.call(y.attrHandle,q.toLowerCase())?ne(R,q,!Ot):void 0;return void 0!==ve?ve:v.attributes||!Ot?R.getAttribute(q):(ve=R.getAttributeNode(q))&&ve.specified?ve.value:null},Ht.escape=function(R){return(R+"").replace(gs,Es)},Ht.error=function(R){throw new Error("Syntax error, unrecognized expression: "+R)},Ht.uniqueSort=function(R){var q,ne=[],ve=0,se=0;if(Ee=!v.detectDuplicates,me=!v.sortStable&&R.slice(0),R.sort(en),Ee){for(;q=R[se++];)q===R[se]&&(ve=ne.push(se));for(;ve--;)R.splice(ne[ve],1)}return me=null,R},D=Ht.getText=function(R){var q,ne="",ve=0,se=R.nodeType;if(se){if(1===se||9===se||11===se){if("string"==typeof R.textContent)return R.textContent;for(R=R.firstChild;R;R=R.nextSibling)ne+=D(R)}else if(3===se||4===se)return R.nodeValue}else for(;q=R[ve++];)ne+=D(q);return ne},(y=Ht.selectors={cacheLength:50,createPseudo:tt,match:Mr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(R){return R[1]=R[1].replace(Yi,Pi),R[3]=(R[3]||R[4]||R[5]||"").replace(Yi,Pi),"~="===R[2]&&(R[3]=" "+R[3]+" "),R.slice(0,4)},CHILD:function(R){return R[1]=R[1].toLowerCase(),"nth"===R[1].slice(0,3)?(R[3]||Ht.error(R[0]),R[4]=+(R[4]?R[5]+(R[6]||1):2*("even"===R[3]||"odd"===R[3])),R[5]=+(R[7]+R[8]||"odd"===R[3])):R[3]&&Ht.error(R[0]),R},PSEUDO:function(R){var q,ne=!R[6]&&R[2];return Mr.CHILD.test(R[0])?null:(R[3]?R[2]=R[4]||R[5]||"":ne&&If.test(ne)&&(q=O(ne,!0))&&(q=ne.indexOf(")",ne.length-q)-ne.length)&&(R[0]=R[0].slice(0,q),R[2]=ne.slice(0,q)),R.slice(0,3))}},filter:{TAG:function(R){var q=R.replace(Yi,Pi).toLowerCase();return"*"===R?function(){return!0}:function(ne){return ne.nodeName&&ne.nodeName.toLowerCase()===q}},CLASS:function(R){var q=Gn[R+" "];return q||(q=new RegExp("(^|"+Wt+")"+R+"("+Wt+"|$)"))&&Gn(R,function(ne){return q.test("string"==typeof ne.className&&ne.className||void 0!==ne.getAttribute&&ne.getAttribute("class")||"")})},ATTR:function(R,q,ne){return function(ve){var se=Ht.attr(ve,R);return null==se?"!="===q:!q||(se+="","="===q?se===ne:"!="===q?se!==ne:"^="===q?ne&&0===se.indexOf(ne):"*="===q?ne&&se.indexOf(ne)>-1:"$="===q?ne&&se.slice(-ne.length)===ne:"~="===q?(" "+se.replace(yf," ")+" ").indexOf(ne)>-1:"|="===q&&(se===ne||se.slice(0,ne.length+1)===ne+"-"))}},CHILD:function(R,q,ne,ve,se){var be="nth"!==R.slice(0,3),ye="last"!==R.slice(-4),Re="of-type"===q;return 1===ve&&0===se?function(Oe){return!!Oe.parentNode}:function(Oe,at,ft){var vt,Yt,Mn,rt,ar,oi,vi=be!==ye?"nextSibling":"previousSibling",Zn=Oe.parentNode,Ou=Re&&Oe.nodeName.toLowerCase(),ma=!ft&&!Re,Xi=!1;if(Zn){if(be){for(;vi;){for(rt=Oe;rt=rt[vi];)if(Re?rt.nodeName.toLowerCase()===Ou:1===rt.nodeType)return!1;oi=vi="only"===R&&!oi&&"nextSibling"}return!0}if(oi=[ye?Zn.firstChild:Zn.lastChild],ye&&ma){for(Xi=(ar=(vt=(Yt=(Mn=(rt=Zn)[Ke]||(rt[Ke]={}))[rt.uniqueID]||(Mn[rt.uniqueID]={}))[R]||[])[0]===pi&&vt[1])&&vt[2],rt=ar&&Zn.childNodes[ar];rt=++ar&&rt&&rt[vi]||(Xi=ar=0)||oi.pop();)if(1===rt.nodeType&&++Xi&&rt===Oe){Yt[R]=[pi,ar,Xi];break}}else if(ma&&(Xi=ar=(vt=(Yt=(Mn=(rt=Oe)[Ke]||(rt[Ke]={}))[rt.uniqueID]||(Mn[rt.uniqueID]={}))[R]||[])[0]===pi&&vt[1]),!1===Xi)for(;(rt=++ar&&rt&&rt[vi]||(Xi=ar=0)||oi.pop())&&((Re?rt.nodeName.toLowerCase()!==Ou:1!==rt.nodeType)||!++Xi||(ma&&((Yt=(Mn=rt[Ke]||(rt[Ke]={}))[rt.uniqueID]||(Mn[rt.uniqueID]={}))[R]=[pi,Xi]),rt!==Oe)););return(Xi-=se)===ve||Xi%ve==0&&Xi/ve>=0}}},PSEUDO:function(R,q){var ne,ve=y.pseudos[R]||y.setFilters[R.toLowerCase()]||Ht.error("unsupported pseudo: "+R);return ve[Ke]?ve(q):ve.length>1?(ne=[R,R,"",q],y.setFilters.hasOwnProperty(R.toLowerCase())?tt(function(se,be){for(var ye,Re=ve(se,q),Oe=Re.length;Oe--;)se[ye=Ss(se,Re[Oe])]=!(be[ye]=Re[Oe])}):function(se){return ve(se,0,ne)}):ve}},pseudos:{not:tt(function(R){var q=[],ne=[],ve=X(R.replace(Xr,"$1"));return ve[Ke]?tt(function(se,be,ye,Re){for(var Oe,at=ve(se,null,Re,[]),ft=se.length;ft--;)(Oe=at[ft])&&(se[ft]=!(be[ft]=Oe))}):function(se,be,ye){return q[0]=se,ve(q,null,ye,ne),q[0]=null,!ne.pop()}}),has:tt(function(R){return function(q){return Ht(R,q).length>0}}),contains:tt(function(R){return R=R.replace(Yi,Pi),function(q){return(q.textContent||D(q)).indexOf(R)>-1}}),lang:tt(function(R){return Cf.test(R||"")||Ht.error("unsupported lang: "+R),R=R.replace(Yi,Pi).toLowerCase(),function(q){var ne;do{if(ne=Ot?q.lang:q.getAttribute("xml:lang")||q.getAttribute("lang"))return(ne=ne.toLowerCase())===R||0===ne.indexOf(R+"-")}while((q=q.parentNode)&&1===q.nodeType);return!1}}),target:function(R){var q=f.location&&f.location.hash;return q&&q.slice(1)===R.id},root:function(R){return R===Ve},focus:function(R){return R===fe.activeElement&&(!fe.hasFocus||fe.hasFocus())&&!!(R.type||R.href||~R.tabIndex)},enabled:er(!1),disabled:er(!0),checked:function(R){var q=R.nodeName.toLowerCase();return"input"===q&&!!R.checked||"option"===q&&!!R.selected},selected:function(R){return!0===R.selected},empty:function(R){for(R=R.firstChild;R;R=R.nextSibling)if(R.nodeType<6)return!1;return!0},parent:function(R){return!y.pseudos.empty(R)},header:function(R){return ko.test(R.nodeName)},input:function(R){return ii.test(R.nodeName)},button:function(R){var q=R.nodeName.toLowerCase();return"input"===q&&"button"===R.type||"button"===q},text:function(R){var q;return"input"===R.nodeName.toLowerCase()&&"text"===R.type&&(null==(q=R.getAttribute("type"))||"text"===q.toLowerCase())},first:Oi(function(){return[0]}),last:Oi(function(R,q){return[q-1]}),eq:Oi(function(R,q,ne){return[ne<0?ne+q:ne]}),even:Oi(function(R,q){for(var ne=0;ne<q;ne+=2)R.push(ne);return R}),odd:Oi(function(R,q){for(var ne=1;ne<q;ne+=2)R.push(ne);return R}),lt:Oi(function(R,q,ne){for(var ve=ne<0?ne+q:ne>q?q:ne;--ve>=0;)R.push(ve);return R}),gt:Oi(function(R,q,ne){for(var ve=ne<0?ne+q:ne;++ve<q;)R.push(ve);return R})}}).pseudos.nth=y.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[g]=Lr(g);for(g in{submit:!0,reset:!0})y.pseudos[g]=pa(g);function de(){}function pe(R){for(var q=0,ne=R.length,ve="";q<ne;q++)ve+=R[q].value;return ve}function Be(R,q,ne){var ve=q.dir,se=q.next,be=se||ve,ye=ne&&"parentNode"===be,Re=Bt++;return q.first?function(Oe,at,ft){for(;Oe=Oe[ve];)if(1===Oe.nodeType||ye)return R(Oe,at,ft);return!1}:function(Oe,at,ft){var vt,Yt,Mn,rt=[pi,Re];if(ft){for(;Oe=Oe[ve];)if((1===Oe.nodeType||ye)&&R(Oe,at,ft))return!0}else for(;Oe=Oe[ve];)if(1===Oe.nodeType||ye)if(Yt=(Mn=Oe[Ke]||(Oe[Ke]={}))[Oe.uniqueID]||(Mn[Oe.uniqueID]={}),se&&se===Oe.nodeName.toLowerCase())Oe=Oe[ve]||Oe;else{if((vt=Yt[be])&&vt[0]===pi&&vt[1]===Re)return rt[2]=vt[2];if(Yt[be]=rt,rt[2]=R(Oe,at,ft))return!0}return!1}}function At(R){return R.length>1?function(q,ne,ve){for(var se=R.length;se--;)if(!R[se](q,ne,ve))return!1;return!0}:R[0]}function nn(R,q,ne,ve,se){for(var be,ye=[],Re=0,Oe=R.length,at=null!=q;Re<Oe;Re++)(be=R[Re])&&(!ne||ne(be,ve,se))&&(ye.push(be),at&&q.push(Re));return ye}function hn(R,q,ne,ve,se,be){return ve&&!ve[Ke]&&(ve=hn(ve)),se&&!se[Ke]&&(se=hn(se,be)),tt(function(ye,Re,Oe,at){var ft,vt,Yt,Mn=[],rt=[],ar=Re.length,oi=ye||function(R,q,ne){for(var ve=0,se=q.length;ve<se;ve++)Ht(R,q[ve],ne);return ne}(q||"*",Oe.nodeType?[Oe]:Oe,[]),vi=!R||!ye&&q?oi:nn(oi,Mn,R,Oe,at),Zn=ne?se||(ye?R:ar||ve)?[]:Re:vi;if(ne&&ne(vi,Zn,Oe,at),ve)for(ft=nn(Zn,rt),ve(ft,[],Oe,at),vt=ft.length;vt--;)(Yt=ft[vt])&&(Zn[rt[vt]]=!(vi[rt[vt]]=Yt));if(ye){if(se||R){if(se){for(ft=[],vt=Zn.length;vt--;)(Yt=Zn[vt])&&ft.push(vi[vt]=Yt);se(null,Zn=[],ft,at)}for(vt=Zn.length;vt--;)(Yt=Zn[vt])&&(ft=se?Ss(ye,Yt):Mn[vt])>-1&&(ye[ft]=!(Re[ft]=Yt))}}else Zn=nn(Zn===Re?Zn.splice(ar,Zn.length):Zn),se?se(null,Re,Zn,at):ds.apply(Re,Zn)})}function $s(R){for(var q,ne,ve,se=R.length,be=y.relative[R[0].type],ye=be||y.relative[" "],Re=be?1:0,Oe=Be(function(vt){return vt===q},ye,!0),at=Be(function(vt){return Ss(q,vt)>-1},ye,!0),ft=[function(vt,Yt,Mn){var rt=!be&&(Mn||Yt!==oe)||((q=Yt).nodeType?Oe(vt,Yt,Mn):at(vt,Yt,Mn));return q=null,rt}];Re<se;Re++)if(ne=y.relative[R[Re].type])ft=[Be(At(ft),ne)];else{if((ne=y.filter[R[Re].type].apply(null,R[Re].matches))[Ke]){for(ve=++Re;ve<se&&!y.relative[R[ve].type];ve++);return hn(Re>1&&At(ft),Re>1&&pe(R.slice(0,Re-1).concat({value:" "===R[Re-2].type?"*":""})).replace(Xr,"$1"),ne,Re<ve&&$s(R.slice(Re,ve)),ve<se&&$s(R=R.slice(ve)),ve<se&&pe(R))}ft.push(ne)}return At(ft)}return de.prototype=y.filters=y.pseudos,y.setFilters=new de,O=Ht.tokenize=function(R,q){var ne,ve,se,be,ye,Re,Oe,at=Tu[R+" "];if(at)return q?0:at.slice(0);for(ye=R,Re=[],Oe=y.preFilter;ye;){for(be in(!ne||(ve=Cl.exec(ye)))&&(ve&&(ye=ye.slice(ve[0].length)||ye),Re.push(se=[])),ne=!1,(ve=ga.exec(ye))&&(ne=ve.shift(),se.push({value:ne,type:ve[0].replace(Xr," ")}),ye=ye.slice(ne.length)),y.filter)(ve=Mr[be].exec(ye))&&(!Oe[be]||(ve=Oe[be](ve)))&&(ne=ve.shift(),se.push({value:ne,type:be,matches:ve}),ye=ye.slice(ne.length));if(!ne)break}return q?ye.length:ye?Ht.error(R):Tu(R,Re).slice(0)},X=Ht.compile=function(R,q){var ne,ve=[],se=[],be=yl[R+" "];if(!be){for(q||(q=O(R)),ne=q.length;ne--;)(be=$s(q[ne]))[Ke]?ve.push(be):se.push(be);be=yl(R,function(R,q){var ne=q.length>0,ve=R.length>0,se=function(be,ye,Re,Oe,at){var ft,vt,Yt,Mn=0,rt="0",ar=be&&[],oi=[],vi=oe,Zn=be||ve&&y.find.TAG("*",at),Ou=pi+=null==vi?1:Math.random()||.1,ma=Zn.length;for(at&&(oe=ye==fe||ye||at);rt!==ma&&null!=(ft=Zn[rt]);rt++){if(ve&&ft){for(vt=0,!ye&&ft.ownerDocument!=fe&&(he(ft),Re=!Ot);Yt=R[vt++];)if(Yt(ft,ye||fe,Re)){Oe.push(ft);break}at&&(pi=Ou)}ne&&((ft=!Yt&&ft)&&Mn--,be&&ar.push(ft))}if(Mn+=rt,ne&&rt!==Mn){for(vt=0;Yt=q[vt++];)Yt(ar,oi,ye,Re);if(be){if(Mn>0)for(;rt--;)ar[rt]||oi[rt]||(oi[rt]=Wi.call(Oe));oi=nn(oi)}ds.apply(Oe,oi),at&&!be&&oi.length>0&&Mn+q.length>1&&Ht.uniqueSort(Oe)}return at&&(pi=Ou,oe=vi),ar};return ne?tt(se):se}(se,ve)),be.selector=R}return be},Y=Ht.select=function(R,q,ne,ve){var se,be,ye,Re,Oe,at="function"==typeof R&&R,ft=!ve&&O(R=at.selector||R);if(ne=ne||[],1===ft.length){if((be=ft[0]=ft[0].slice(0)).length>2&&"ID"===(ye=be[0]).type&&9===q.nodeType&&Ot&&y.relative[be[1].type]){if(!(q=(y.find.ID(ye.matches[0].replace(Yi,Pi),q)||[])[0]))return ne;at&&(q=q.parentNode),R=R.slice(be.shift().value.length)}for(se=Mr.needsContext.test(R)?0:be.length;se--&&!y.relative[Re=(ye=be[se]).type];)if((Oe=y.find[Re])&&(ve=Oe(ye.matches[0].replace(Yi,Pi),Xa.test(be[0].type)&&re(q.parentNode)||q))){if(be.splice(se,1),!(R=ve.length&&pe(be)))return ds.apply(ne,ve),ne;break}}return(at||X(R,ft))(ve,q,!Ot,ne,!q||Xa.test(R)&&re(q.parentNode)||q),ne},v.sortStable=Ke.split("").sort(en).join("")===Ke,v.detectDuplicates=!!Ee,he(),v.sortDetached=tn(function(R){return 1&R.compareDocumentPosition(fe.createElement("fieldset"))}),tn(function(R){return R.innerHTML="<a href='#'></a>","#"===R.firstChild.getAttribute("href")})||mi("type|href|height|width",function(R,q,ne){if(!ne)return R.getAttribute(q,"type"===q.toLowerCase()?1:2)}),(!v.attributes||!tn(function(R){return R.innerHTML="<input/>",R.firstChild.setAttribute("value",""),""===R.firstChild.getAttribute("value")}))&&mi("value",function(R,q,ne){if(!ne&&"input"===R.nodeName.toLowerCase())return R.defaultValue}),tn(function(R){return null==R.getAttribute("disabled")})||mi(Pu,function(R,q,ne){var ve;if(!ne)return!0===R[q]?q.toLowerCase():(ve=R.getAttributeNode(q))&&ve.specified?ve.value:null}),Ht}(B);A.find=_n,A.expr=_n.selectors,A.expr[":"]=A.expr.pseudos,A.uniqueSort=A.unique=_n.uniqueSort,A.text=_n.getText,A.isXMLDoc=_n.isXML,A.contains=_n.contains,A.escapeSelector=_n.escape;var hi=function(f,g,v){for(var y=[],D=void 0!==v;(f=f[g])&&9!==f.nodeType;)if(1===f.nodeType){if(D&&A(f).is(v))break;y.push(f)}return y},Do=function(f,g){for(var v=[];f;f=f.nextSibling)1===f.nodeType&&f!==g&&v.push(f);return v},xo=A.expr.match.needsContext;function Yn(f,g){return f.nodeName&&f.nodeName.toLowerCase()===g.toLowerCase()}var as=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function no(f,g,v){return qe(g)?A.grep(f,function(y,D){return!!g.call(y,D,y)!==v}):g.nodeType?A.grep(f,function(y){return y===g!==v}):"string"!=typeof g?A.grep(f,function(y){return $t.call(g,y)>-1!==v}):A.filter(g,f,v)}A.filter=function(f,g,v){var y=g[0];return v&&(f=":not("+f+")"),1===g.length&&1===y.nodeType?A.find.matchesSelector(y,f)?[y]:[]:A.find.matches(f,A.grep(g,function(D){return 1===D.nodeType}))},A.fn.extend({find:function(f){var g,v,y=this.length,D=this;if("string"!=typeof f)return this.pushStack(A(f).filter(function(){for(g=0;g<y;g++)if(A.contains(D[g],this))return!0}));for(v=this.pushStack([]),g=0;g<y;g++)A.find(f,D[g],v);return y>1?A.uniqueSort(v):v},filter:function(f){return this.pushStack(no(this,f||[],!1))},not:function(f){return this.pushStack(no(this,f||[],!0))},is:function(f){return!!no(this,"string"==typeof f&&xo.test(f)?A(f):f||[],!1).length}});var ro,Fn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Mi=A.fn.init=function(f,g,v){var y,D;if(!f)return this;if(v=v||ro,"string"==typeof f){if(!(y="<"===f[0]&&">"===f[f.length-1]&&f.length>=3?[null,f,null]:Fn.exec(f))||!y[1]&&g)return!g||g.jquery?(g||v).find(f):this.constructor(g).find(f);if(y[1]){if(A.merge(this,A.parseHTML(y[1],(g=g instanceof A?g[0]:g)&&g.nodeType?g.ownerDocument||g:Fe,!0)),as.test(y[1])&&A.isPlainObject(g))for(y in g)qe(this[y])?this[y](g[y]):this.attr(y,g[y]);return this}return(D=Fe.getElementById(y[2]))&&(this[0]=D,this.length=1),this}return f.nodeType?(this[0]=f,this.length=1,this):qe(f)?void 0!==v.ready?v.ready(f):f(A):A.makeArray(f,this)};Mi.prototype=A.fn,ro=A(Fe);var na=/^(?:parents|prev(?:Until|All))/,us={children:!0,contents:!0,next:!0,prev:!0};function ir(f,g){for(;(f=f[g])&&1!==f.nodeType;);return f}A.fn.extend({has:function(f){var g=A(f,this),v=g.length;return this.filter(function(){for(var y=0;y<v;y++)if(A.contains(this,g[y]))return!0})},closest:function(f,g){var v,y=0,D=this.length,M=[],O="string"!=typeof f&&A(f);if(!xo.test(f))for(;y<D;y++)for(v=this[y];v&&v!==g;v=v.parentNode)if(v.nodeType<11&&(O?O.index(v)>-1:1===v.nodeType&&A.find.matchesSelector(v,f))){M.push(v);break}return this.pushStack(M.length>1?A.uniqueSort(M):M)},index:function(f){return f?"string"==typeof f?$t.call(A(f),this[0]):$t.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,g){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(f,g))))},addBack:function(f){return this.add(null==f?this.prevObject:this.prevObject.filter(f))}}),A.each({parent:function(f){var g=f.parentNode;return g&&11!==g.nodeType?g:null},parents:function(f){return hi(f,"parentNode")},parentsUntil:function(f,g,v){return hi(f,"parentNode",v)},next:function(f){return ir(f,"nextSibling")},prev:function(f){return ir(f,"previousSibling")},nextAll:function(f){return hi(f,"nextSibling")},prevAll:function(f){return hi(f,"previousSibling")},nextUntil:function(f,g,v){return hi(f,"nextSibling",v)},prevUntil:function(f,g,v){return hi(f,"previousSibling",v)},siblings:function(f){return Do((f.parentNode||{}).firstChild,f)},children:function(f){return Do(f.firstChild)},contents:function(f){return null!=f.contentDocument&&Me(f.contentDocument)?f.contentDocument:(Yn(f,"template")&&(f=f.content||f),A.merge([],f.childNodes))}},function(f,g){A.fn[f]=function(v,y){var D=A.map(this,g,v);return"Until"!==f.slice(-5)&&(y=v),y&&"string"==typeof y&&(D=A.filter(y,D)),this.length>1&&(us[f]||A.uniqueSort(D),na.test(f)&&D.reverse()),this.pushStack(D)}});var hr=/[^\x20\t\r\n\f]+/g;function gr(f){return f}function Ur(f){throw f}function Ui(f,g,v,y){var D;try{f&&qe(D=f.promise)?D.call(f).done(g).fail(v):f&&qe(D=f.then)?D.call(f,g,v):g.apply(void 0,[f].slice(y))}catch(M){v.apply(void 0,[M])}}A.Callbacks=function(f){f="string"==typeof f?function(f){var g={};return A.each(f.match(hr)||[],function(v,y){g[y]=!0}),g}(f):A.extend({},f);var g,v,y,D,M=[],O=[],X=-1,Y=function(){for(D=D||f.once,y=g=!0;O.length;X=-1)for(v=O.shift();++X<M.length;)!1===M[X].apply(v[0],v[1])&&f.stopOnFalse&&(X=M.length,v=!1);f.memory||(v=!1),g=!1,D&&(M=v?[]:"")},oe={add:function(){return M&&(v&&!g&&(X=M.length-1,O.push(v)),function me(Ee){A.each(Ee,function(he,fe){qe(fe)?(!f.unique||!oe.has(fe))&&M.push(fe):fe&&fe.length&&"string"!==je(fe)&&me(fe)})}(arguments),v&&!g&&Y()),this},remove:function(){return A.each(arguments,function(me,Ee){for(var he;(he=A.inArray(Ee,M,he))>-1;)M.splice(he,1),he<=X&&X--}),this},has:function(me){return me?A.inArray(me,M)>-1:M.length>0},empty:function(){return M&&(M=[]),this},disable:function(){return D=O=[],M=v="",this},disabled:function(){return!M},lock:function(){return D=O=[],!v&&!g&&(M=v=""),this},locked:function(){return!!D},fireWith:function(me,Ee){return D||(Ee=[me,(Ee=Ee||[]).slice?Ee.slice():Ee],O.push(Ee),g||Y()),this},fire:function(){return oe.fireWith(this,arguments),this},fired:function(){return!!y}};return oe},A.extend({Deferred:function(f){var g=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],v="pending",y={state:function(){return v},always:function(){return D.done(arguments).fail(arguments),this},catch:function(M){return y.then(null,M)},pipe:function(){var M=arguments;return A.Deferred(function(O){A.each(g,function(X,Y){var oe=qe(M[Y[4]])&&M[Y[4]];D[Y[1]](function(){var me=oe&&oe.apply(this,arguments);me&&qe(me.promise)?me.promise().progress(O.notify).done(O.resolve).fail(O.reject):O[Y[0]+"With"](this,oe?[me]:arguments)})}),M=null}).promise()},then:function(M,O,X){var Y=0;function oe(me,Ee,he,fe){return function(){var Ve=this,Ot=arguments,Xe=function(){var Qn,Kn;if(!(me<Y)){if((Qn=he.apply(Ve,Ot))===Ee.promise())throw new TypeError("Thenable self-resolution");qe(Kn=Qn&&("object"==typeof Qn||"function"==typeof Qn)&&Qn.then)?fe?Kn.call(Qn,oe(Y,Ee,gr,fe),oe(Y,Ee,Ur,fe)):(Y++,Kn.call(Qn,oe(Y,Ee,gr,fe),oe(Y,Ee,Ur,fe),oe(Y,Ee,gr,Ee.notifyWith))):(he!==gr&&(Ve=void 0,Ot=[Qn]),(fe||Ee.resolveWith)(Ve,Ot))}},Tn=fe?Xe:function(){try{Xe()}catch(Qn){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(Qn,Tn.stackTrace),me+1>=Y&&(he!==Ur&&(Ve=void 0,Ot=[Qn]),Ee.rejectWith(Ve,Ot))}};me?Tn():(A.Deferred.getStackHook&&(Tn.stackTrace=A.Deferred.getStackHook()),B.setTimeout(Tn))}}return A.Deferred(function(me){g[0][3].add(oe(0,me,qe(X)?X:gr,me.notifyWith)),g[1][3].add(oe(0,me,qe(M)?M:gr)),g[2][3].add(oe(0,me,qe(O)?O:Ur))}).promise()},promise:function(M){return null!=M?A.extend(M,y):y}},D={};return A.each(g,function(M,O){var X=O[2],Y=O[5];y[O[1]]=X.add,Y&&X.add(function(){v=Y},g[3-M][2].disable,g[3-M][3].disable,g[0][2].lock,g[0][3].lock),X.add(O[3].fire),D[O[0]]=function(){return D[O[0]+"With"](this===D?void 0:this,arguments),this},D[O[0]+"With"]=X.fireWith}),y.promise(D),f&&f.call(D,D),D},when:function(f){var g=arguments.length,v=g,y=Array(v),D=on.call(arguments),M=A.Deferred(),O=function(X){return function(Y){y[X]=this,D[X]=arguments.length>1?on.call(arguments):Y,--g||M.resolveWith(y,D)}};if(g<=1&&(Ui(f,M.done(O(v)).resolve,M.reject,!g),"pending"===M.state()||qe(D[v]&&D[v].then)))return M.then();for(;v--;)Ui(D[v],O(v),M.reject);return M.promise()}});var ra=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(f,g){B.console&&B.console.warn&&f&&ra.test(f.name)&&B.console.warn("jQuery.Deferred exception: "+f.message,f.stack,g)},A.readyException=function(f){B.setTimeout(function(){throw f})};var Si=A.Deferred();function pr(){Fe.removeEventListener("DOMContentLoaded",pr),B.removeEventListener("load",pr),A.ready()}A.fn.ready=function(f){return Si.then(f).catch(function(g){A.readyException(g)}),this},A.extend({isReady:!1,readyWait:1,ready:function(f){(!0===f?--A.readyWait:A.isReady)||(A.isReady=!0,!(!0!==f&&--A.readyWait>0)&&Si.resolveWith(Fe,[A]))}}),A.ready.then=Si.then,"complete"===Fe.readyState||"loading"!==Fe.readyState&&!Fe.documentElement.doScroll?B.setTimeout(A.ready):(Fe.addEventListener("DOMContentLoaded",pr),B.addEventListener("load",pr));var ni=function(f,g,v,y,D,M,O){var X=0,Y=f.length,oe=null==v;if("object"===je(v))for(X in D=!0,v)ni(f,g,X,v[X],!0,M,O);else if(void 0!==y&&(D=!0,qe(y)||(O=!0),oe&&(O?(g.call(f,y),g=null):(oe=g,g=function(me,Ee,he){return oe.call(A(me),he)})),g))for(;X<Y;X++)g(f[X],v,O?y:y.call(f[X],X,g(f[X],v)));return D?f:oe?g.call(f):Y?g(f[0],v):M},Vr=/^-ms-/,ia=/-([a-z])/g;function sa(f,g){return g.toUpperCase()}function xt(f){return f.replace(Vr,"ms-").replace(ia,sa)}var wn=function(f){return 1===f.nodeType||9===f.nodeType||!+f.nodeType};function N(){this.expando=A.expando+N.uid++}N.uid=1,N.prototype={cache:function(f){var g=f[this.expando];return g||(g={},wn(f)&&(f.nodeType?f[this.expando]=g:Object.defineProperty(f,this.expando,{value:g,configurable:!0}))),g},set:function(f,g,v){var y,D=this.cache(f);if("string"==typeof g)D[xt(g)]=v;else for(y in g)D[xt(y)]=g[y];return D},get:function(f,g){return void 0===g?this.cache(f):f[this.expando]&&f[this.expando][xt(g)]},access:function(f,g,v){return void 0===g||g&&"string"==typeof g&&void 0===v?this.get(f,g):(this.set(f,g,v),void 0!==v?v:g)},remove:function(f,g){var v,y=f[this.expando];if(void 0!==y){if(void 0!==g)for((v=(g=Array.isArray(g)?g.map(xt):(g=xt(g))in y?[g]:g.match(hr)||[]).length);v--;)delete y[g[v]];(void 0===g||A.isEmptyObject(y))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var g=f[this.expando];return void 0!==g&&!A.isEmptyObject(g)}};var P=new N,H=new N,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/[A-Z]/g;function Pe(f,g,v){var y;if(void 0===v&&1===f.nodeType)if(y="data-"+g.replace(Ae,"-$&").toLowerCase(),"string"==typeof(v=f.getAttribute(y))){try{v=function(f){return"true"===f||"false"!==f&&("null"===f?null:f===+f+""?+f:ee.test(f)?JSON.parse(f):f)}(v)}catch(D){}H.set(f,g,v)}else v=void 0;return v}A.extend({hasData:function(f){return H.hasData(f)||P.hasData(f)},data:function(f,g,v){return H.access(f,g,v)},removeData:function(f,g){H.remove(f,g)},_data:function(f,g,v){return P.access(f,g,v)},_removeData:function(f,g){P.remove(f,g)}}),A.fn.extend({data:function(f,g){var v,y,D,M=this[0],O=M&&M.attributes;if(void 0===f){if(this.length&&(D=H.get(M),1===M.nodeType&&!P.get(M,"hasDataAttrs"))){for(v=O.length;v--;)O[v]&&0===(y=O[v].name).indexOf("data-")&&(y=xt(y.slice(5)),Pe(M,y,D[y]));P.set(M,"hasDataAttrs",!0)}return D}return"object"==typeof f?this.each(function(){H.set(this,f)}):ni(this,function(X){var Y;if(M&&void 0===X)return void 0!==(Y=H.get(M,f))||void 0!==(Y=Pe(M,f))?Y:void 0;this.each(function(){H.set(this,f,X)})},null,g,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){H.remove(this,f)})}}),A.extend({queue:function(f,g,v){var y;if(f)return y=P.get(f,g=(g||"fx")+"queue"),v&&(!y||Array.isArray(v)?y=P.access(f,g,A.makeArray(v)):y.push(v)),y||[]},dequeue:function(f,g){var v=A.queue(f,g=g||"fx"),y=v.length,D=v.shift(),M=A._queueHooks(f,g);"inprogress"===D&&(D=v.shift(),y--),D&&("fx"===g&&v.unshift("inprogress"),delete M.stop,D.call(f,function(){A.dequeue(f,g)},M)),!y&&M&&M.empty.fire()},_queueHooks:function(f,g){var v=g+"queueHooks";return P.get(f,v)||P.access(f,v,{empty:A.Callbacks("once memory").add(function(){P.remove(f,[g+"queue",v])})})}}),A.fn.extend({queue:function(f,g){var v=2;return"string"!=typeof f&&(g=f,f="fx",v--),arguments.length<v?A.queue(this[0],f):void 0===g?this:this.each(function(){var y=A.queue(this,f,g);A._queueHooks(this,f),"fx"===f&&"inprogress"!==y[0]&&A.dequeue(this,f)})},dequeue:function(f){return this.each(function(){A.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,g){var v,y=1,D=A.Deferred(),M=this,O=this.length,X=function(){--y||D.resolveWith(M,[M])};for("string"!=typeof f&&(g=f,f=void 0),f=f||"fx";O--;)(v=P.get(M[O],f+"queueHooks"))&&v.empty&&(y++,v.empty.add(X));return X(),D.promise(g)}});var Qe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+Qe+")([a-z%]*)$","i"),un=["Top","Right","Bottom","Left"],jn=Fe.documentElement,Zt=function(f){return A.contains(f.ownerDocument,f)},qn={composed:!0};jn.getRootNode&&(Zt=function(f){return A.contains(f.ownerDocument,f)||f.getRootNode(qn)===f.ownerDocument});var xs=function(f,g){return"none"===(f=g||f).style.display||""===f.style.display&&Zt(f)&&"none"===A.css(f,"display")};function Mo(f,g,v,y){var D,M,O=20,X=y?function(){return y.cur()}:function(){return A.css(f,g,"")},Y=X(),oe=v&&v[3]||(A.cssNumber[g]?"":"px"),me=f.nodeType&&(A.cssNumber[g]||"px"!==oe&&+Y)&&ot.exec(A.css(f,g));if(me&&me[3]!==oe){for(oe=oe||me[3],me=+(Y/=2)||1;O--;)A.style(f,g,me+oe),(1-M)*(1-(M=X()/Y||.5))<=0&&(O=0),me/=M;A.style(f,g,(me*=2)+oe),v=v||[]}return v&&(me=+me||+Y||0,D=v[1]?me+(v[1]+1)*v[2]:+v[2],y&&(y.unit=oe,y.start=me,y.end=D)),D}var Bn={};function sr(f){var g,v=f.ownerDocument,y=f.nodeName,D=Bn[y];return D||(g=v.body.appendChild(v.createElement(y)),D=A.css(g,"display"),g.parentNode.removeChild(g),"none"===D&&(D="block"),Bn[y]=D,D)}function mr(f,g){for(var v,y,D=[],M=0,O=f.length;M<O;M++)(y=f[M]).style&&(v=y.style.display,g?("none"===v&&(D[M]=P.get(y,"display")||null,D[M]||(y.style.display="")),""===y.style.display&&xs(y)&&(D[M]=sr(y))):"none"!==v&&(D[M]="none",P.set(y,"display",v)));for(M=0;M<O;M++)null!=D[M]&&(f[M].style.display=D[M]);return f}A.fn.extend({show:function(){return mr(this,!0)},hide:function(){return mr(this)},toggle:function(f){return"boolean"==typeof f?f?this.show():this.hide():this.each(function(){xs(this)?A(this).show():A(this).hide()})}});var g,v,Ei=/^(?:checkbox|radio)$/i,So=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_i=/^$|^module$|\/(?:java|ecma)script/i;g=Fe.createDocumentFragment().appendChild(Fe.createElement("div")),(v=Fe.createElement("input")).setAttribute("type","radio"),v.setAttribute("checked","checked"),v.setAttribute("name","t"),g.appendChild(v),jt.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",jt.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",jt.option=!!g.lastChild;var wr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function br(f,g){var v;return v=void 0!==f.getElementsByTagName?f.getElementsByTagName(g||"*"):void 0!==f.querySelectorAll?f.querySelectorAll(g||"*"):[],void 0===g||g&&Yn(f,g)?A.merge([f],v):v}function ka(f,g){for(var v=0,y=f.length;v<y;v++)P.set(f[v],"globalEval",!g||P.get(g[v],"globalEval"))}wr.tbody=wr.tfoot=wr.colgroup=wr.caption=wr.thead,wr.th=wr.td,jt.option||(wr.optgroup=wr.option=[1,"<select multiple='multiple'>","</select>"]);var ac=/<|&#?\w+;/;function Ni(f,g,v,y,D){for(var M,O,X,Y,oe,me,Ee=g.createDocumentFragment(),he=[],fe=0,Ve=f.length;fe<Ve;fe++)if((M=f[fe])||0===M)if("object"===je(M))A.merge(he,M.nodeType?[M]:M);else if(ac.test(M)){for(O=O||Ee.appendChild(g.createElement("div")),X=(So.exec(M)||["",""])[1].toLowerCase(),O.innerHTML=(Y=wr[X]||wr._default)[1]+A.htmlPrefilter(M)+Y[2],me=Y[0];me--;)O=O.lastChild;A.merge(he,O.childNodes),(O=Ee.firstChild).textContent=""}else he.push(g.createTextNode(M));for(Ee.textContent="",fe=0;M=he[fe++];)if(y&&A.inArray(M,y)>-1)D&&D.push(M);else if(oe=Zt(M),O=br(Ee.appendChild(M),"script"),oe&&ka(O),v)for(me=0;M=O[me++];)_i.test(M.type||"")&&v.push(M);return Ee}var Fa=/^([^.]*)(?:\.(.+)|)/;function Eo(){return!0}function io(){return!1}function ja(f,g){return f===function(){try{return Fe.activeElement}catch(f){}}()==("focus"===g)}function Ba(f,g,v,y,D,M){var O,X;if("object"==typeof g){for(X in"string"!=typeof v&&(y=y||v,v=void 0),g)Ba(f,X,v,y,g[X],M);return f}if(null==y&&null==D?(D=v,y=v=void 0):null==D&&("string"==typeof v?(D=y,y=void 0):(D=y,y=v,v=void 0)),!1===D)D=io;else if(!D)return f;return 1===M&&(O=D,D=function(Y){return A().off(Y),O.apply(this,arguments)},D.guid=O.guid||(O.guid=A.guid++)),f.each(function(){A.event.add(this,g,D,y,v)})}function oa(f,g,v){v?(P.set(f,g,!1),A.event.add(f,g,{namespace:!1,handler:function(y){var D,M,O=P.get(this,g);if(1&y.isTrigger&&this[g]){if(O.length)(A.event.special[g]||{}).delegateType&&y.stopPropagation();else if(O=on.call(arguments),P.set(this,g,O),D=v(this,g),this[g](),O!==(M=P.get(this,g))||D?P.set(this,g,!1):M={},O!==M)return y.stopImmediatePropagation(),y.preventDefault(),M&&M.value}else O.length&&(P.set(this,g,{value:A.event.trigger(A.extend(O[0],A.Event.prototype),O.slice(1),this)}),y.stopImmediatePropagation())}})):void 0===P.get(f,g)&&A.event.add(f,g,Eo)}A.event={global:{},add:function(f,g,v,y,D){var M,O,X,Y,oe,me,Ee,he,fe,Ve,Ot,Xe=P.get(f);if(wn(f))for(v.handler&&(v=(M=v).handler,D=M.selector),D&&A.find.matchesSelector(jn,D),v.guid||(v.guid=A.guid++),(Y=Xe.events)||(Y=Xe.events=Object.create(null)),(O=Xe.handle)||(O=Xe.handle=function(Tn){return void 0!==A&&A.event.triggered!==Tn.type?A.event.dispatch.apply(f,arguments):void 0}),oe=(g=(g||"").match(hr)||[""]).length;oe--;)fe=Ot=(X=Fa.exec(g[oe])||[])[1],Ve=(X[2]||"").split(".").sort(),fe&&(Ee=A.event.special[fe]||{},Ee=A.event.special[fe=(D?Ee.delegateType:Ee.bindType)||fe]||{},me=A.extend({type:fe,origType:Ot,data:y,handler:v,guid:v.guid,selector:D,needsContext:D&&A.expr.match.needsContext.test(D),namespace:Ve.join(".")},M),(he=Y[fe])||((he=Y[fe]=[]).delegateCount=0,(!Ee.setup||!1===Ee.setup.call(f,y,Ve,O))&&f.addEventListener&&f.addEventListener(fe,O)),Ee.add&&(Ee.add.call(f,me),me.handler.guid||(me.handler.guid=v.guid)),D?he.splice(he.delegateCount++,0,me):he.push(me),A.event.global[fe]=!0)},remove:function(f,g,v,y,D){var M,O,X,Y,oe,me,Ee,he,fe,Ve,Ot,Xe=P.hasData(f)&&P.get(f);if(Xe&&(Y=Xe.events)){for(oe=(g=(g||"").match(hr)||[""]).length;oe--;)if(fe=Ot=(X=Fa.exec(g[oe])||[])[1],Ve=(X[2]||"").split(".").sort(),fe){for(Ee=A.event.special[fe]||{},he=Y[fe=(y?Ee.delegateType:Ee.bindType)||fe]||[],X=X[2]&&new RegExp("(^|\\.)"+Ve.join("\\.(?:.*\\.|)")+"(\\.|$)"),O=M=he.length;M--;)me=he[M],(D||Ot===me.origType)&&(!v||v.guid===me.guid)&&(!X||X.test(me.namespace))&&(!y||y===me.selector||"**"===y&&me.selector)&&(he.splice(M,1),me.selector&&he.delegateCount--,Ee.remove&&Ee.remove.call(f,me));O&&!he.length&&((!Ee.teardown||!1===Ee.teardown.call(f,Ve,Xe.handle))&&A.removeEvent(f,fe,Xe.handle),delete Y[fe])}else for(fe in Y)A.event.remove(f,fe+g[oe],v,y,!0);A.isEmptyObject(Y)&&P.remove(f,"handle events")}},dispatch:function(f){var g,v,y,D,M,O,X=new Array(arguments.length),Y=A.event.fix(f),oe=(P.get(this,"events")||Object.create(null))[Y.type]||[],me=A.event.special[Y.type]||{};for(X[0]=Y,g=1;g<arguments.length;g++)X[g]=arguments[g];if(Y.delegateTarget=this,!me.preDispatch||!1!==me.preDispatch.call(this,Y)){for(O=A.event.handlers.call(this,Y,oe),g=0;(D=O[g++])&&!Y.isPropagationStopped();)for(Y.currentTarget=D.elem,v=0;(M=D.handlers[v++])&&!Y.isImmediatePropagationStopped();)(!Y.rnamespace||!1===M.namespace||Y.rnamespace.test(M.namespace))&&(Y.handleObj=M,Y.data=M.data,void 0!==(y=((A.event.special[M.origType]||{}).handle||M.handler).apply(D.elem,X))&&!1===(Y.result=y)&&(Y.preventDefault(),Y.stopPropagation()));return me.postDispatch&&me.postDispatch.call(this,Y),Y.result}},handlers:function(f,g){var v,y,D,M,O,X=[],Y=g.delegateCount,oe=f.target;if(Y&&oe.nodeType&&!("click"===f.type&&f.button>=1))for(;oe!==this;oe=oe.parentNode||this)if(1===oe.nodeType&&("click"!==f.type||!0!==oe.disabled)){for(M=[],O={},v=0;v<Y;v++)void 0===O[D=(y=g[v]).selector+" "]&&(O[D]=y.needsContext?A(D,this).index(oe)>-1:A.find(D,this,null,[oe]).length),O[D]&&M.push(y);M.length&&X.push({elem:oe,handlers:M})}return oe=this,Y<g.length&&X.push({elem:oe,handlers:g.slice(Y)}),X},addProp:function(f,g){Object.defineProperty(A.Event.prototype,f,{enumerable:!0,configurable:!0,get:qe(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(v){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:v})}})},fix:function(f){return f[A.expando]?f:new A.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var g=this||f;return Ei.test(g.type)&&g.click&&Yn(g,"input")&&oa(g,"click",Eo),!1},trigger:function(f){var g=this||f;return Ei.test(g.type)&&g.click&&Yn(g,"input")&&oa(g,"click"),!0},_default:function(f){var g=f.target;return Ei.test(g.type)&&g.click&&Yn(g,"input")&&P.get(g,"click")||Yn(g,"a")}},beforeunload:{postDispatch:function(f){void 0!==f.result&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}},A.removeEvent=function(f,g,v){f.removeEventListener&&f.removeEventListener(g,v)},A.Event=function(f,g){if(!(this instanceof A.Event))return new A.Event(f,g);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||void 0===f.defaultPrevented&&!1===f.returnValue?Eo:io,this.target=f.target&&3===f.target.nodeType?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,g&&A.extend(this,g),this.timeStamp=f&&f.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:io,isPropagationStopped:io,isImmediatePropagationStopped:io,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Eo,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Eo,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Eo,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},function(f,g){A.event.special[f]={setup:function(){return oa(this,f,ja),!1},trigger:function(){return oa(this,f),!0},_default:function(){return!0},delegateType:g}}),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,g){A.event.special[f]={delegateType:g,bindType:g,handle:function(v){var y,D=this,M=v.relatedTarget,O=v.handleObj;return(!M||M!==D&&!A.contains(D,M))&&(v.type=O.origType,y=O.handler.apply(this,arguments),v.type=g),y}}}),A.fn.extend({on:function(f,g,v,y){return Ba(this,f,g,v,y)},one:function(f,g,v,y){return Ba(this,f,g,v,y,1)},off:function(f,g,v){var y,D;if(f&&f.preventDefault&&f.handleObj)return y=f.handleObj,A(f.delegateTarget).off(y.namespace?y.origType+"."+y.namespace:y.origType,y.selector,y.handler),this;if("object"==typeof f){for(D in f)this.off(D,g,f[D]);return this}return(!1===g||"function"==typeof g)&&(v=g,g=void 0),!1===v&&(v=io),this.each(function(){A.event.remove(this,f,v,g)})}});var za=/<script|<style|<link/i,ul=/checked\s*(?:[^=]|=\s*.checked.)/i,Hs=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ga(f,g){return Yn(f,"table")&&Yn(11!==g.nodeType?g:g.firstChild,"tr")&&A(f).children("tbody")[0]||f}function _o(f){return f.type=(null!==f.getAttribute("type"))+"/"+f.type,f}function Zr(f){return"true/"===(f.type||"").slice(0,5)?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Ua(f,g){var v,y,D,O,X,Y;if(1===g.nodeType){if(P.hasData(f)&&(Y=P.get(f).events))for(D in P.remove(g,"handle events"),Y)for(v=0,y=Y[D].length;v<y;v++)A.event.add(g,D,Y[D][v]);H.hasData(f)&&(O=H.access(f),X=A.extend({},O),H.set(g,X))}}function bu(f,g){var v=g.nodeName.toLowerCase();"input"===v&&Ei.test(f.type)?g.checked=f.checked:("input"===v||"textarea"===v)&&(g.defaultValue=f.defaultValue)}function Vi(f,g,v,y){g=di(g);var D,M,O,X,Y,oe,me=0,Ee=f.length,he=Ee-1,fe=g[0],Ve=qe(fe);if(Ve||Ee>1&&"string"==typeof fe&&!jt.checkClone&&ul.test(fe))return f.each(function(Ot){var Xe=f.eq(Ot);Ve&&(g[0]=fe.call(this,Ot,Xe.html())),Vi(Xe,g,v,y)});if(Ee&&(M=(D=Ni(g,f[0].ownerDocument,!1,f,y)).firstChild,1===D.childNodes.length&&(D=M),M||y)){for(X=(O=A.map(br(D,"script"),_o)).length;me<Ee;me++)Y=D,me!==he&&(Y=A.clone(Y,!0,!0),X&&A.merge(O,br(Y,"script"))),v.call(f[me],Y,me);if(X)for(oe=O[O.length-1].ownerDocument,A.map(O,Zr),me=0;me<X;me++)_i.test((Y=O[me]).type||"")&&!P.access(Y,"globalEval")&&A.contains(oe,Y)&&(Y.src&&"module"!==(Y.type||"").toLowerCase()?A._evalUrl&&!Y.noModule&&A._evalUrl(Y.src,{nonce:Y.nonce||Y.getAttribute("nonce")},oe):mt(Y.textContent.replace(Hs,""),Y,oe))}return f}function Va(f,g,v){for(var y,D=g?A.filter(g,f):f,M=0;null!=(y=D[M]);M++)!v&&1===y.nodeType&&A.cleanData(br(y)),y.parentNode&&(v&&Zt(y)&&ka(br(y,"script")),y.parentNode.removeChild(y));return f}A.extend({htmlPrefilter:function(f){return f},clone:function(f,g,v){var y,D,M,O,X=f.cloneNode(!0),Y=Zt(f);if(!(jt.noCloneChecked||1!==f.nodeType&&11!==f.nodeType||A.isXMLDoc(f)))for(O=br(X),y=0,D=(M=br(f)).length;y<D;y++)bu(M[y],O[y]);if(g)if(v)for(M=M||br(f),O=O||br(X),y=0,D=M.length;y<D;y++)Ua(M[y],O[y]);else Ua(f,X);return(O=br(X,"script")).length>0&&ka(O,!Y&&br(f,"script")),X},cleanData:function(f){for(var g,v,y,D=A.event.special,M=0;void 0!==(v=f[M]);M++)if(wn(v)){if(g=v[P.expando]){if(g.events)for(y in g.events)D[y]?A.event.remove(v,y):A.removeEvent(v,y,g.handle);v[P.expando]=void 0}v[H.expando]&&(v[H.expando]=void 0)}}}),A.fn.extend({detach:function(f){return Va(this,f,!0)},remove:function(f){return Va(this,f)},text:function(f){return ni(this,function(g){return void 0===g?A.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=g)})},null,f,arguments.length)},append:function(){return Vi(this,arguments,function(f){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ga(this,f).appendChild(f)})},prepend:function(){return Vi(this,arguments,function(f){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var g=Ga(this,f);g.insertBefore(f,g.firstChild)}})},before:function(){return Vi(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return Vi(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,g=0;null!=(f=this[g]);g++)1===f.nodeType&&(A.cleanData(br(f,!1)),f.textContent="");return this},clone:function(f,g){return f=null!=f&&f,g=null==g?f:g,this.map(function(){return A.clone(this,f,g)})},html:function(f){return ni(this,function(g){var v=this[0]||{},y=0,D=this.length;if(void 0===g&&1===v.nodeType)return v.innerHTML;if("string"==typeof g&&!za.test(g)&&!wr[(So.exec(g)||["",""])[1].toLowerCase()]){g=A.htmlPrefilter(g);try{for(;y<D;y++)1===(v=this[y]||{}).nodeType&&(A.cleanData(br(v,!1)),v.innerHTML=g);v=0}catch(M){}}v&&this.empty().append(g)},null,f,arguments.length)},replaceWith:function(){var f=[];return Vi(this,arguments,function(g){var v=this.parentNode;A.inArray(this,f)<0&&(A.cleanData(br(this)),v&&v.replaceChild(g,this))},f)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,g){A.fn[f]=function(v){for(var y,D=[],M=A(v),O=M.length-1,X=0;X<=O;X++)y=X===O?this:this.clone(!0),A(M[X])[g](y),Tr.apply(D,y.get());return this.pushStack(D)}});var aa=new RegExp("^("+Qe+")(?!px)[a-z%]+$","i"),ua=function(f){var g=f.ownerDocument.defaultView;return(!g||!g.opener)&&(g=B),g.getComputedStyle(f)},ls=function(f,g,v){var y,D,M={};for(D in g)M[D]=f.style[D],f.style[D]=g[D];for(D in y=v.call(f),g)f.style[D]=M[D];return y},ll=new RegExp(un.join("|"),"i");function so(f,g,v){var y,D,M,O,X=f.style;return(v=v||ua(f))&&(""===(O=v.getPropertyValue(g)||v[g])&&!Zt(f)&&(O=A.style(f,g)),!jt.pixelBoxStyles()&&aa.test(O)&&ll.test(g)&&(y=X.width,D=X.minWidth,M=X.maxWidth,X.minWidth=X.maxWidth=X.width=O,O=v.width,X.width=y,X.minWidth=D,X.maxWidth=M)),void 0!==O?O+"":O}function cl(f,g){return{get:function(){if(!f())return(this.get=g).apply(this,arguments);delete this.get}}}!function(){function f(){if(oe){Y.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",oe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",jn.appendChild(Y).appendChild(oe);var me=B.getComputedStyle(oe);v="1%"!==me.top,X=12===g(me.marginLeft),oe.style.right="60%",M=36===g(me.right),y=36===g(me.width),oe.style.position="absolute",D=12===g(oe.offsetWidth/3),jn.removeChild(Y),oe=null}}function g(me){return Math.round(parseFloat(me))}var v,y,D,M,O,X,Y=Fe.createElement("div"),oe=Fe.createElement("div");!oe.style||(oe.style.backgroundClip="content-box",oe.cloneNode(!0).style.backgroundClip="",jt.clearCloneStyle="content-box"===oe.style.backgroundClip,A.extend(jt,{boxSizingReliable:function(){return f(),y},pixelBoxStyles:function(){return f(),M},pixelPosition:function(){return f(),v},reliableMarginLeft:function(){return f(),X},scrollboxSize:function(){return f(),D},reliableTrDimensions:function(){var me,Ee,he,fe;return null==O&&(me=Fe.createElement("table"),Ee=Fe.createElement("tr"),he=Fe.createElement("div"),me.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ee.style.cssText="border:1px solid",Ee.style.height="1px",he.style.height="9px",he.style.display="block",jn.appendChild(me).appendChild(Ee).appendChild(he),fe=B.getComputedStyle(Ee),O=parseInt(fe.height,10)+parseInt(fe.borderTopWidth,10)+parseInt(fe.borderBottomWidth,10)===Ee.offsetHeight,jn.removeChild(me)),O}}))}();var fl=["Webkit","Moz","ms"],Du=Fe.createElement("div").style,dl={};function Wr(f){return A.cssProps[f]||dl[f]||(f in Du?f:dl[f]=function(f){for(var g=f[0].toUpperCase()+f.slice(1),v=fl.length;v--;)if((f=fl[v]+g)in Du)return f}(f)||f)}var No=/^(none|table(?!-c[ea]).+)/,zn=/^--/,Dr={position:"absolute",visibility:"hidden",display:"block"},Pr={letterSpacing:"0",fontWeight:"400"};function lc(f,g,v){var y=ot.exec(g);return y?Math.max(0,y[2]-(v||0))+(y[3]||"px"):g}function la(f,g,v,y,D,M){var O="width"===g?1:0,X=0,Y=0;if(v===(y?"border":"content"))return 0;for(;O<4;O+=2)"margin"===v&&(Y+=A.css(f,v+un[O],!0,D)),y?("content"===v&&(Y-=A.css(f,"padding"+un[O],!0,D)),"margin"!==v&&(Y-=A.css(f,"border"+un[O]+"Width",!0,D))):(Y+=A.css(f,"padding"+un[O],!0,D),"padding"!==v?Y+=A.css(f,"border"+un[O]+"Width",!0,D):X+=A.css(f,"border"+un[O]+"Width",!0,D));return!y&&M>=0&&(Y+=Math.max(0,Math.ceil(f["offset"+g[0].toUpperCase()+g.slice(1)]-M-Y-X-.5))||0),Y}function xu(f,g,v){var y=ua(f),M=(!jt.boxSizingReliable()||v)&&"border-box"===A.css(f,"boxSizing",!1,y),O=M,X=so(f,g,y),Y="offset"+g[0].toUpperCase()+g.slice(1);if(aa.test(X)){if(!v)return X;X="auto"}return(!jt.boxSizingReliable()&&M||!jt.reliableTrDimensions()&&Yn(f,"tr")||"auto"===X||!parseFloat(X)&&"inline"===A.css(f,"display",!1,y))&&f.getClientRects().length&&(M="border-box"===A.css(f,"boxSizing",!1,y),(O=Y in f)&&(X=f[Y])),(X=parseFloat(X)||0)+la(f,g,v||(M?"border":"content"),O,y,X)+"px"}function or(f,g,v,y,D){return new or.prototype.init(f,g,v,y,D)}A.extend({cssHooks:{opacity:{get:function(f,g){if(g){var v=so(f,"opacity");return""===v?"1":v}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,g,v,y){if(f&&3!==f.nodeType&&8!==f.nodeType&&f.style){var D,M,O,X=xt(g),Y=zn.test(g),oe=f.style;if(Y||(g=Wr(X)),O=A.cssHooks[g]||A.cssHooks[X],void 0===v)return O&&"get"in O&&void 0!==(D=O.get(f,!1,y))?D:oe[g];if("string"==(M=typeof v)&&(D=ot.exec(v))&&D[1]&&(v=Mo(f,g,D),M="number"),null==v||v!=v)return;"number"===M&&!Y&&(v+=D&&D[3]||(A.cssNumber[X]?"":"px")),!jt.clearCloneStyle&&""===v&&0===g.indexOf("background")&&(oe[g]="inherit"),(!O||!("set"in O)||void 0!==(v=O.set(f,v,y)))&&(Y?oe.setProperty(g,v):oe[g]=v)}},css:function(f,g,v,y){var D,M,O,X=xt(g);return zn.test(g)||(g=Wr(X)),(O=A.cssHooks[g]||A.cssHooks[X])&&"get"in O&&(D=O.get(f,!0,v)),void 0===D&&(D=so(f,g,y)),"normal"===D&&g in Pr&&(D=Pr[g]),""===v||v?(M=parseFloat(D),!0===v||isFinite(M)?M||0:D):D}}),A.each(["height","width"],function(f,g){A.cssHooks[g]={get:function(v,y,D){if(y)return!No.test(A.css(v,"display"))||v.getClientRects().length&&v.getBoundingClientRect().width?xu(v,g,D):ls(v,Dr,function(){return xu(v,g,D)})},set:function(v,y,D){var M,O=ua(v),X=!jt.scrollboxSize()&&"absolute"===O.position,oe=(X||D)&&"border-box"===A.css(v,"boxSizing",!1,O),me=D?la(v,g,D,oe,O):0;return oe&&X&&(me-=Math.ceil(v["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(O[g])-la(v,g,"border",!1,O)-.5)),me&&(M=ot.exec(y))&&"px"!==(M[3]||"px")&&(v.style[g]=y,y=A.css(v,g)),lc(0,y,me)}}}),A.cssHooks.marginLeft=cl(jt.reliableMarginLeft,function(f,g){if(g)return(parseFloat(so(f,"marginLeft"))||f.getBoundingClientRect().left-ls(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),A.each({margin:"",padding:"",border:"Width"},function(f,g){A.cssHooks[f+g]={expand:function(v){for(var y=0,D={},M="string"==typeof v?v.split(" "):[v];y<4;y++)D[f+un[y]+g]=M[y]||M[y-2]||M[0];return D}},"margin"!==f&&(A.cssHooks[f+g].set=lc)}),A.fn.extend({css:function(f,g){return ni(this,function(v,y,D){var M,O,X={},Y=0;if(Array.isArray(y)){for(M=ua(v),O=y.length;Y<O;Y++)X[y[Y]]=A.css(v,y[Y],!1,M);return X}return void 0!==D?A.style(v,y,D):A.css(v,y)},f,g,arguments.length>1)}}),A.Tween=or,(or.prototype={constructor:or,init:function(f,g,v,y,D,M){this.elem=f,this.prop=v,this.easing=D||A.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=y,this.unit=M||(A.cssNumber[v]?"":"px")},cur:function(){var f=or.propHooks[this.prop];return f&&f.get?f.get(this):or.propHooks._default.get(this)},run:function(f){var g,v=or.propHooks[this.prop];return this.pos=g=this.options.duration?A.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):f,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),v&&v.set?v.set(this):or.propHooks._default.set(this),this}}).init.prototype=or.prototype,(or.propHooks={_default:{get:function(f){var g;return 1!==f.elem.nodeType||null!=f.elem[f.prop]&&null==f.elem.style[f.prop]?f.elem[f.prop]:(g=A.css(f.elem,f.prop,""))&&"auto"!==g?g:0},set:function(f){A.fx.step[f.prop]?A.fx.step[f.prop](f):1!==f.elem.nodeType||!A.cssHooks[f.prop]&&null==f.elem.style[Wr(f.prop)]?f.elem[f.prop]=f.now:A.style(f.elem,f.prop,f.now+f.unit)}}}).scrollTop=or.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},A.easing={linear:function(f){return f},swing:function(f){return.5-Math.cos(f*Math.PI)/2},_default:"swing"},A.fx=or.prototype.init,A.fx.step={};var oo,Ys,hl=/^(?:toggle|show|hide)$/,Mu=/queueHooks$/;function ao(){Ys&&(!1===Fe.hidden&&B.requestAnimationFrame?B.requestAnimationFrame(ao):B.setTimeout(ao,A.fx.interval),A.fx.tick())}function Za(){return B.setTimeout(function(){oo=void 0}),oo=Date.now()}function To(f,g){var v,y=0,D={height:f};for(g=g?1:0;y<4;y+=2-g)D["margin"+(v=un[y])]=D["padding"+v]=f;return g&&(D.opacity=D.width=f),D}function ca(f,g,v){for(var y,D=(Or.tweeners[g]||[]).concat(Or.tweeners["*"]),M=0,O=D.length;M<O;M++)if(y=D[M].call(v,g,f))return y}function Or(f,g,v){var y,D,M=0,O=Or.prefilters.length,X=A.Deferred().always(function(){delete Y.elem}),Y=function(){if(D)return!1;for(var Ee=oo||Za(),he=Math.max(0,oe.startTime+oe.duration-Ee),Ve=1-(he/oe.duration||0),Ot=0,Xe=oe.tweens.length;Ot<Xe;Ot++)oe.tweens[Ot].run(Ve);return X.notifyWith(f,[oe,Ve,he]),Ve<1&&Xe?he:(Xe||X.notifyWith(f,[oe,1,0]),X.resolveWith(f,[oe]),!1)},oe=X.promise({elem:f,props:A.extend({},g),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},v),originalProperties:g,originalOptions:v,startTime:oo||Za(),duration:v.duration,tweens:[],createTween:function(Ee,he){var fe=A.Tween(f,oe.opts,Ee,he,oe.opts.specialEasing[Ee]||oe.opts.easing);return oe.tweens.push(fe),fe},stop:function(Ee){var he=0,fe=Ee?oe.tweens.length:0;if(D)return this;for(D=!0;he<fe;he++)oe.tweens[he].run(1);return Ee?(X.notifyWith(f,[oe,1,0]),X.resolveWith(f,[oe,Ee])):X.rejectWith(f,[oe,Ee]),this}}),me=oe.props;for(function(f,g){var v,y,D,M,O;for(v in f)if(D=g[y=xt(v)],M=f[v],Array.isArray(M)&&(D=M[1],M=f[v]=M[0]),v!==y&&(f[y]=M,delete f[v]),(O=A.cssHooks[y])&&"expand"in O)for(v in M=O.expand(M),delete f[y],M)v in f||(f[v]=M[v],g[v]=D);else g[y]=D}(me,oe.opts.specialEasing);M<O;M++)if(y=Or.prefilters[M].call(oe,f,me,oe.opts))return qe(y.stop)&&(A._queueHooks(oe.elem,oe.opts.queue).stop=y.stop.bind(y)),y;return A.map(me,ca,oe),qe(oe.opts.start)&&oe.opts.start.call(f,oe),oe.progress(oe.opts.progress).done(oe.opts.done,oe.opts.complete).fail(oe.opts.fail).always(oe.opts.always),A.fx.timer(A.extend(Y,{elem:f,anim:oe,queue:oe.opts.queue})),oe}A.Animation=A.extend(Or,{tweeners:{"*":[function(f,g){var v=this.createTween(f,g);return Mo(v.elem,f,ot.exec(g),v),v}]},tweener:function(f,g){qe(f)?(g=f,f=["*"]):f=f.match(hr);for(var v,y=0,D=f.length;y<D;y++)(Or.tweeners[v=f[y]]=Or.tweeners[v]||[]).unshift(g)},prefilters:[function(f,g,v){var y,D,M,O,X,Y,oe,me,Ee="width"in g||"height"in g,he=this,fe={},Ve=f.style,Ot=f.nodeType&&xs(f),Xe=P.get(f,"fxshow");for(y in v.queue||(null==(O=A._queueHooks(f,"fx")).unqueued&&(O.unqueued=0,X=O.empty.fire,O.empty.fire=function(){O.unqueued||X()}),O.unqueued++,he.always(function(){he.always(function(){O.unqueued--,A.queue(f,"fx").length||O.empty.fire()})})),g)if(hl.test(D=g[y])){if(delete g[y],M=M||"toggle"===D,D===(Ot?"hide":"show")){if("show"!==D||!Xe||void 0===Xe[y])continue;Ot=!0}fe[y]=Xe&&Xe[y]||A.style(f,y)}if((Y=!A.isEmptyObject(g))||!A.isEmptyObject(fe))for(y in Ee&&1===f.nodeType&&(v.overflow=[Ve.overflow,Ve.overflowX,Ve.overflowY],null==(oe=Xe&&Xe.display)&&(oe=P.get(f,"display")),"none"===(me=A.css(f,"display"))&&(oe?me=oe:(mr([f],!0),oe=f.style.display||oe,me=A.css(f,"display"),mr([f]))),("inline"===me||"inline-block"===me&&null!=oe)&&"none"===A.css(f,"float")&&(Y||(he.done(function(){Ve.display=oe}),null==oe&&(oe="none"===(me=Ve.display)?"":me)),Ve.display="inline-block")),v.overflow&&(Ve.overflow="hidden",he.always(function(){Ve.overflow=v.overflow[0],Ve.overflowX=v.overflow[1],Ve.overflowY=v.overflow[2]})),Y=!1,fe)Y||(Xe?"hidden"in Xe&&(Ot=Xe.hidden):Xe=P.access(f,"fxshow",{display:oe}),M&&(Xe.hidden=!Ot),Ot&&mr([f],!0),he.done(function(){for(y in Ot||mr([f]),P.remove(f,"fxshow"),fe)A.style(f,y,fe[y])})),Y=ca(Ot?Xe[y]:0,y,he),y in Xe||(Xe[y]=Y.start,Ot&&(Y.end=Y.start,Y.start=0))}],prefilter:function(f,g){g?Or.prefilters.unshift(f):Or.prefilters.push(f)}}),A.speed=function(f,g,v){var y=f&&"object"==typeof f?A.extend({},f):{complete:v||!v&&g||qe(f)&&f,duration:f,easing:v&&g||g&&!qe(g)&&g};return A.fx.off?y.duration=0:"number"!=typeof y.duration&&(y.duration=y.duration in A.fx.speeds?A.fx.speeds[y.duration]:A.fx.speeds._default),(null==y.queue||!0===y.queue)&&(y.queue="fx"),y.old=y.complete,y.complete=function(){qe(y.old)&&y.old.call(this),y.queue&&A.dequeue(this,y.queue)},y},A.fn.extend({fadeTo:function(f,g,v,y){return this.filter(xs).css("opacity",0).show().end().animate({opacity:g},f,v,y)},animate:function(f,g,v,y){var D=A.isEmptyObject(f),M=A.speed(g,v,y),O=function(){var X=Or(this,A.extend({},f),M);(D||P.get(this,"finish"))&&X.stop(!0)};return O.finish=O,D||!1===M.queue?this.each(O):this.queue(M.queue,O)},stop:function(f,g,v){var y=function(D){var M=D.stop;delete D.stop,M(v)};return"string"!=typeof f&&(v=g,g=f,f=void 0),g&&this.queue(f||"fx",[]),this.each(function(){var D=!0,M=null!=f&&f+"queueHooks",O=A.timers,X=P.get(this);if(M)X[M]&&X[M].stop&&y(X[M]);else for(M in X)X[M]&&X[M].stop&&Mu.test(M)&&y(X[M]);for(M=O.length;M--;)O[M].elem===this&&(null==f||O[M].queue===f)&&(O[M].anim.stop(v),D=!1,O.splice(M,1));(D||!v)&&A.dequeue(this,f)})},finish:function(f){return!1!==f&&(f=f||"fx"),this.each(function(){var g,v=P.get(this),y=v[f+"queue"],D=v[f+"queueHooks"],M=A.timers,O=y?y.length:0;for(v.finish=!0,A.queue(this,f,[]),D&&D.stop&&D.stop.call(this,!0),g=M.length;g--;)M[g].elem===this&&M[g].queue===f&&(M[g].anim.stop(!0),M.splice(g,1));for(g=0;g<O;g++)y[g]&&y[g].finish&&y[g].finish.call(this);delete v.finish})}}),A.each(["toggle","show","hide"],function(f,g){var v=A.fn[g];A.fn[g]=function(y,D,M){return null==y||"boolean"==typeof y?v.apply(this,arguments):this.animate(To(g,!0),y,D,M)}}),A.each({slideDown:To("show"),slideUp:To("hide"),slideToggle:To("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,g){A.fn[f]=function(v,y,D){return this.animate(g,v,y,D)}}),A.timers=[],A.fx.tick=function(){var f,g=0,v=A.timers;for(oo=Date.now();g<v.length;g++)!(f=v[g])()&&v[g]===f&&v.splice(g--,1);v.length||A.fx.stop(),oo=void 0},A.fx.timer=function(f){A.timers.push(f),A.fx.start()},A.fx.interval=13,A.fx.start=function(){Ys||(Ys=!0,ao())},A.fx.stop=function(){Ys=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(f,g){return f=A.fx&&A.fx.speeds[f]||f,this.queue(g=g||"fx",function(v,y){var D=B.setTimeout(v,f);y.stop=function(){B.clearTimeout(D)}})},function(){var f=Fe.createElement("input"),v=Fe.createElement("select").appendChild(Fe.createElement("option"));f.type="checkbox",jt.checkOn=""!==f.value,jt.optSelected=v.selected,(f=Fe.createElement("input")).value="t",f.type="radio",jt.radioValue="t"===f.value}();var Zi,Dn=A.expr.attrHandle;A.fn.extend({attr:function(f,g){return ni(this,A.attr,f,g,arguments.length>1)},removeAttr:function(f){return this.each(function(){A.removeAttr(this,f)})}}),A.extend({attr:function(f,g,v){var y,D,M=f.nodeType;if(3!==M&&8!==M&&2!==M)return void 0===f.getAttribute?A.prop(f,g,v):((1!==M||!A.isXMLDoc(f))&&(D=A.attrHooks[g.toLowerCase()]||(A.expr.match.bool.test(g)?Zi:void 0)),void 0!==v?null===v?void A.removeAttr(f,g):D&&"set"in D&&void 0!==(y=D.set(f,v,g))?y:(f.setAttribute(g,v+""),v):D&&"get"in D&&null!==(y=D.get(f,g))?y:null==(y=A.find.attr(f,g))?void 0:y)},attrHooks:{type:{set:function(f,g){if(!jt.radioValue&&"radio"===g&&Yn(f,"input")){var v=f.value;return f.setAttribute("type",g),v&&(f.value=v),g}}}},removeAttr:function(f,g){var v,y=0,D=g&&g.match(hr);if(D&&1===f.nodeType)for(;v=D[y++];)f.removeAttribute(v)}}),Zi={set:function(f,g,v){return!1===g?A.removeAttr(f,v):f.setAttribute(v,v),v}},A.each(A.expr.match.bool.source.match(/\w+/g),function(f,g){var v=Dn[g]||A.find.attr;Dn[g]=function(y,D,M){var O,X,Y=D.toLowerCase();return M||(X=Dn[Y],Dn[Y]=O,O=null!=v(y,D,M)?Y:null,Dn[Y]=X),O}});var Eu=/^(?:input|select|textarea|button)$/i,uo=/^(?:a|area)$/i;function cs(f){return(f.match(hr)||[]).join(" ")}function ri(f){return f.getAttribute&&f.getAttribute("class")||""}function dn(f){return Array.isArray(f)?f:"string"==typeof f&&f.match(hr)||[]}A.fn.extend({prop:function(f,g){return ni(this,A.prop,f,g,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[A.propFix[f]||f]})}}),A.extend({prop:function(f,g,v){var y,D,M=f.nodeType;if(3!==M&&8!==M&&2!==M)return(1!==M||!A.isXMLDoc(f))&&(D=A.propHooks[g=A.propFix[g]||g]),void 0!==v?D&&"set"in D&&void 0!==(y=D.set(f,v,g))?y:f[g]=v:D&&"get"in D&&null!==(y=D.get(f,g))?y:f[g]},propHooks:{tabIndex:{get:function(f){var g=A.find.attr(f,"tabindex");return g?parseInt(g,10):Eu.test(f.nodeName)||uo.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),jt.optSelected||(A.propHooks.selected={get:function(f){return null},set:function(f){}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this}),A.fn.extend({addClass:function(f){var g,v,y,D,M,O,X,Y=0;if(qe(f))return this.each(function(oe){A(this).addClass(f.call(this,oe,ri(this)))});if((g=dn(f)).length)for(;v=this[Y++];)if(D=ri(v),y=1===v.nodeType&&" "+cs(D)+" "){for(O=0;M=g[O++];)y.indexOf(" "+M+" ")<0&&(y+=M+" ");D!==(X=cs(y))&&v.setAttribute("class",X)}return this},removeClass:function(f){var g,v,y,D,M,O,X,Y=0;if(qe(f))return this.each(function(oe){A(this).removeClass(f.call(this,oe,ri(this)))});if(!arguments.length)return this.attr("class","");if((g=dn(f)).length)for(;v=this[Y++];)if(D=ri(v),y=1===v.nodeType&&" "+cs(D)+" "){for(O=0;M=g[O++];)for(;y.indexOf(" "+M+" ")>-1;)y=y.replace(" "+M+" "," ");D!==(X=cs(y))&&v.setAttribute("class",X)}return this},toggleClass:function(f,g){var v=typeof f,y="string"===v||Array.isArray(f);return"boolean"==typeof g&&y?g?this.addClass(f):this.removeClass(f):qe(f)?this.each(function(D){A(this).toggleClass(f.call(this,D,ri(this),g),g)}):this.each(function(){var D,M,O,X;if(y)for(M=0,O=A(this),X=dn(f);D=X[M++];)O.hasClass(D)?O.removeClass(D):O.addClass(D);else(void 0===f||"boolean"===v)&&((D=ri(this))&&P.set(this,"__className__",D),this.setAttribute&&this.setAttribute("class",D||!1===f?"":P.get(this,"__className__")||""))})},hasClass:function(f){var g,v,y=0;for(g=" "+f+" ";v=this[y++];)if(1===v.nodeType&&(" "+cs(ri(v))+" ").indexOf(g)>-1)return!0;return!1}});var Po=/\r/g;A.fn.extend({val:function(f){var g,v,y,D=this[0];return arguments.length?(y=qe(f),this.each(function(M){var O;1===this.nodeType&&(null==(O=y?f.call(this,M,A(this).val()):f)?O="":"number"==typeof O?O+="":Array.isArray(O)&&(O=A.map(O,function(X){return null==X?"":X+""})),(!(g=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])||!("set"in g)||void 0===g.set(this,O,"value"))&&(this.value=O))})):D?(g=A.valHooks[D.type]||A.valHooks[D.nodeName.toLowerCase()])&&"get"in g&&void 0!==(v=g.get(D,"value"))?v:"string"==typeof(v=D.value)?v.replace(Po,""):null==v?"":v:void 0}}),A.extend({valHooks:{option:{get:function(f){var g=A.find.attr(f,"value");return null!=g?g:cs(A.text(f))}},select:{get:function(f){var g,v,y,D=f.options,M=f.selectedIndex,O="select-one"===f.type,X=O?null:[],Y=O?M+1:D.length;for(y=M<0?Y:O?M:0;y<Y;y++)if(((v=D[y]).selected||y===M)&&!v.disabled&&(!v.parentNode.disabled||!Yn(v.parentNode,"optgroup"))){if(g=A(v).val(),O)return g;X.push(g)}return X},set:function(f,g){for(var v,y,D=f.options,M=A.makeArray(g),O=D.length;O--;)((y=D[O]).selected=A.inArray(A.valHooks.option.get(y),M)>-1)&&(v=!0);return v||(f.selectedIndex=-1),M}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(f,g){if(Array.isArray(g))return f.checked=A.inArray(A(f).val(),g)>-1}},jt.checkOn||(A.valHooks[this].get=function(f){return null===f.getAttribute("value")?"on":f.value})}),jt.focusin="onfocusin"in B;var Mt=/^(?:focusinfocus|focusoutblur)$/,Ms=function(f){f.stopPropagation()};A.extend(A.event,{trigger:function(f,g,v,y){var D,M,O,X,Y,oe,me,Ee,he=[v||Fe],fe=Vn.call(f,"type")?f.type:f,Ve=Vn.call(f,"namespace")?f.namespace.split("."):[];if(M=Ee=O=v=v||Fe,3!==v.nodeType&&8!==v.nodeType&&!Mt.test(fe+A.event.triggered)&&(fe.indexOf(".")>-1&&(Ve=fe.split("."),fe=Ve.shift(),Ve.sort()),Y=fe.indexOf(":")<0&&"on"+fe,(f=f[A.expando]?f:new A.Event(fe,"object"==typeof f&&f)).isTrigger=y?2:3,f.namespace=Ve.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Ve.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=v),g=null==g?[f]:A.makeArray(g,[f]),me=A.event.special[fe]||{},y||!me.trigger||!1!==me.trigger.apply(v,g))){if(!y&&!me.noBubble&&!Ue(v)){for(Mt.test((X=me.delegateType||fe)+fe)||(M=M.parentNode);M;M=M.parentNode)he.push(M),O=M;O===(v.ownerDocument||Fe)&&he.push(O.defaultView||O.parentWindow||B)}for(D=0;(M=he[D++])&&!f.isPropagationStopped();)Ee=M,f.type=D>1?X:me.bindType||fe,(oe=(P.get(M,"events")||Object.create(null))[f.type]&&P.get(M,"handle"))&&oe.apply(M,g),(oe=Y&&M[Y])&&oe.apply&&wn(M)&&(f.result=oe.apply(M,g),!1===f.result&&f.preventDefault());return f.type=fe,!y&&!f.isDefaultPrevented()&&(!me._default||!1===me._default.apply(he.pop(),g))&&wn(v)&&Y&&qe(v[fe])&&!Ue(v)&&((O=v[Y])&&(v[Y]=null),A.event.triggered=fe,f.isPropagationStopped()&&Ee.addEventListener(fe,Ms),v[fe](),f.isPropagationStopped()&&Ee.removeEventListener(fe,Ms),A.event.triggered=void 0,O&&(v[Y]=O)),f.result}},simulate:function(f,g,v){var y=A.extend(new A.Event,v,{type:f,isSimulated:!0});A.event.trigger(y,null,g)}}),A.fn.extend({trigger:function(f,g){return this.each(function(){A.event.trigger(f,g,this)})},triggerHandler:function(f,g){var v=this[0];if(v)return A.event.trigger(f,g,v,!0)}}),jt.focusin||A.each({focus:"focusin",blur:"focusout"},function(f,g){var v=function(y){A.event.simulate(g,y.target,A.event.fix(y))};A.event.special[g]={setup:function(){var y=this.ownerDocument||this.document||this,D=P.access(y,g);D||y.addEventListener(f,v,!0),P.access(y,g,(D||0)+1)},teardown:function(){var y=this.ownerDocument||this.document||this,D=P.access(y,g)-1;D?P.access(y,g,D):(y.removeEventListener(f,v,!0),P.remove(y,g))}}});var Xs=B.location,Oo={guid:Date.now()},Tt=/\?/;A.parseXML=function(f){var g,v;if(!f||"string"!=typeof f)return null;try{g=(new B.DOMParser).parseFromString(f,"text/xml")}catch(y){}return v=g&&g.getElementsByTagName("parsererror")[0],(!g||v)&&A.error("Invalid XML: "+(v?A.map(v.childNodes,function(y){return y.textContent}).join("\n"):f)),g};var Wa=/\[\]$/,_u=/\r?\n/g,xr=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;function fa(f,g,v,y){var D;if(Array.isArray(g))A.each(g,function(M,O){v||Wa.test(f)?y(f,O):fa(f+"["+("object"==typeof O&&null!=O?M:"")+"]",O,v,y)});else if(v||"object"!==je(g))y(f,g);else for(D in g)fa(f+"["+D+"]",g[D],v,y)}A.param=function(f,g){var v,y=[],D=function(M,O){var X=qe(O)?O():O;y[y.length]=encodeURIComponent(M)+"="+encodeURIComponent(null==X?"":X)};if(null==f)return"";if(Array.isArray(f)||f.jquery&&!A.isPlainObject(f))A.each(f,function(){D(this.name,this.value)});else for(v in f)fa(v,f[v],g,D);return y.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=A.prop(this,"elements");return f?A.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!A(this).is(":disabled")&&cc.test(this.nodeName)&&!xr.test(f)&&(this.checked||!Ei.test(f))}).map(function(f,g){var v=A(this).val();return null==v?null:Array.isArray(v)?A.map(v,function(y){return{name:g.name,value:y.replace(_u,"\r\n")}}):{name:g.name,value:v.replace(_u,"\r\n")}}).get()}});var _t=/%20/g,Hr=/#.*$/,pl=/([?&])_=[^&]*/,fc=/^(.*?):[ \t]*([^\r\n]*)$/gm,da=/^(?:GET|HEAD)$/,Yr=/^\/\//,Ro={},Ha={},dc="*/".concat("*"),gi=Fe.createElement("a");function hc(f){return function(g,v){"string"!=typeof g&&(v=g,g="*");var y,D=0,M=g.toLowerCase().match(hr)||[];if(qe(v))for(;y=M[D++];)"+"===y[0]?(y=y.slice(1)||"*",(f[y]=f[y]||[]).unshift(v)):(f[y]=f[y]||[]).push(v)}}function Nu(f,g,v,y){var D={},M=f===Ha;function O(X){var Y;return D[X]=!0,A.each(f[X]||[],function(oe,me){var Ee=me(g,v,y);return"string"!=typeof Ee||M||D[Ee]?M?!(Y=Ee):void 0:(g.dataTypes.unshift(Ee),O(Ee),!1)}),Y}return O(g.dataTypes[0])||!D["*"]&&O("*")}function Nn(f,g){var v,y,D=A.ajaxSettings.flatOptions||{};for(v in g)void 0!==g[v]&&((D[v]?f:y||(y={}))[v]=g[v]);return y&&A.extend(!0,f,y),f}gi.href=Xs.href,A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xs.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Xs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,g){return g?Nn(Nn(f,A.ajaxSettings),g):Nn(A.ajaxSettings,f)},ajaxPrefilter:hc(Ro),ajaxTransport:hc(Ha),ajax:function(f,g){"object"==typeof f&&(g=f,f=void 0);var v,y,D,M,O,X,Y,oe,me,Ee,he=A.ajaxSetup({},g=g||{}),fe=he.context||he,Ve=he.context&&(fe.nodeType||fe.jquery)?A(fe):A.event,Ot=A.Deferred(),Xe=A.Callbacks("once memory"),Tn=he.statusCode||{},Qn={},Kn={},Ke="canceled",ht={readyState:0,getResponseHeader:function(Bt){var Gn;if(Y){if(!M)for(M={};Gn=fc.exec(D);)M[Gn[1].toLowerCase()+" "]=(M[Gn[1].toLowerCase()+" "]||[]).concat(Gn[2]);Gn=M[Bt.toLowerCase()+" "]}return null==Gn?null:Gn.join(", ")},getAllResponseHeaders:function(){return Y?D:null},setRequestHeader:function(Bt,Gn){return null==Y&&(Bt=Kn[Bt.toLowerCase()]=Kn[Bt.toLowerCase()]||Bt,Qn[Bt]=Gn),this},overrideMimeType:function(Bt){return null==Y&&(he.mimeType=Bt),this},statusCode:function(Bt){var Gn;if(Bt)if(Y)ht.always(Bt[ht.status]);else for(Gn in Bt)Tn[Gn]=[Tn[Gn],Bt[Gn]];return this},abort:function(Bt){var Gn=Bt||Ke;return v&&v.abort(Gn),pi(0,Gn),this}};if(Ot.promise(ht),he.url=((f||he.url||Xs.href)+"").replace(Yr,Xs.protocol+"//"),he.type=g.method||g.type||he.method||he.type,he.dataTypes=(he.dataType||"*").toLowerCase().match(hr)||[""],null==he.crossDomain){X=Fe.createElement("a");try{X.href=he.url,X.href=X.href,he.crossDomain=gi.protocol+"//"+gi.host!=X.protocol+"//"+X.host}catch(Bt){he.crossDomain=!0}}if(he.data&&he.processData&&"string"!=typeof he.data&&(he.data=A.param(he.data,he.traditional)),Nu(Ro,he,g,ht),Y)return ht;for(me in(oe=A.event&&he.global)&&0==A.active++&&A.event.trigger("ajaxStart"),he.type=he.type.toUpperCase(),he.hasContent=!da.test(he.type),y=he.url.replace(Hr,""),he.hasContent?he.data&&he.processData&&0===(he.contentType||"").indexOf("application/x-www-form-urlencoded")&&(he.data=he.data.replace(_t,"+")):(Ee=he.url.slice(y.length),he.data&&(he.processData||"string"==typeof he.data)&&(y+=(Tt.test(y)?"&":"?")+he.data,delete he.data),!1===he.cache&&(y=y.replace(pl,"$1"),Ee=(Tt.test(y)?"&":"?")+"_="+Oo.guid+++Ee),he.url=y+Ee),he.ifModified&&(A.lastModified[y]&&ht.setRequestHeader("If-Modified-Since",A.lastModified[y]),A.etag[y]&&ht.setRequestHeader("If-None-Match",A.etag[y])),(he.data&&he.hasContent&&!1!==he.contentType||g.contentType)&&ht.setRequestHeader("Content-Type",he.contentType),ht.setRequestHeader("Accept",he.dataTypes[0]&&he.accepts[he.dataTypes[0]]?he.accepts[he.dataTypes[0]]+("*"!==he.dataTypes[0]?", "+dc+"; q=0.01":""):he.accepts["*"]),he.headers)ht.setRequestHeader(me,he.headers[me]);if(he.beforeSend&&(!1===he.beforeSend.call(fe,ht,he)||Y))return ht.abort();if(Ke="abort",Xe.add(he.complete),ht.done(he.success),ht.fail(he.error),v=Nu(Ha,he,g,ht)){if(ht.readyState=1,oe&&Ve.trigger("ajaxSend",[ht,he]),Y)return ht;he.async&&he.timeout>0&&(O=B.setTimeout(function(){ht.abort("timeout")},he.timeout));try{Y=!1,v.send(Qn,pi)}catch(Bt){if(Y)throw Bt;pi(-1,Bt)}}else pi(-1,"No Transport");function pi(Bt,Gn,Tu,yl){var fs,en,lo,Rr,Wi,Vt=Gn;Y||(Y=!0,O&&B.clearTimeout(O),v=void 0,D=yl||"",ht.readyState=Bt>0?4:0,fs=Bt>=200&&Bt<300||304===Bt,Tu&&(Rr=function(f,g,v){for(var y,D,M,O,X=f.contents,Y=f.dataTypes;"*"===Y[0];)Y.shift(),void 0===y&&(y=f.mimeType||g.getResponseHeader("Content-Type"));if(y)for(D in X)if(X[D]&&X[D].test(y)){Y.unshift(D);break}if(Y[0]in v)M=Y[0];else{for(D in v){if(!Y[0]||f.converters[D+" "+Y[0]]){M=D;break}O||(O=D)}M=M||O}if(M)return M!==Y[0]&&Y.unshift(M),v[M]}(he,ht,Tu)),!fs&&A.inArray("script",he.dataTypes)>-1&&A.inArray("json",he.dataTypes)<0&&(he.converters["text script"]=function(){}),Rr=function(f,g,v,y){var D,M,O,X,Y,oe={},me=f.dataTypes.slice();if(me[1])for(O in f.converters)oe[O.toLowerCase()]=f.converters[O];for(M=me.shift();M;)if(f.responseFields[M]&&(v[f.responseFields[M]]=g),!Y&&y&&f.dataFilter&&(g=f.dataFilter(g,f.dataType)),Y=M,M=me.shift())if("*"===M)M=Y;else if("*"!==Y&&Y!==M){if(!(O=oe[Y+" "+M]||oe["* "+M]))for(D in oe)if((X=D.split(" "))[1]===M&&(O=oe[Y+" "+X[0]]||oe["* "+X[0]])){!0===O?O=oe[D]:!0!==oe[D]&&(M=X[0],me.unshift(X[1]));break}if(!0!==O)if(O&&f.throws)g=O(g);else try{g=O(g)}catch(Ee){return{state:"parsererror",error:O?Ee:"No conversion from "+Y+" to "+M}}}return{state:"success",data:g}}(he,Rr,ht,fs),fs?(he.ifModified&&((Wi=ht.getResponseHeader("Last-Modified"))&&(A.lastModified[y]=Wi),(Wi=ht.getResponseHeader("etag"))&&(A.etag[y]=Wi)),204===Bt||"HEAD"===he.type?Vt="nocontent":304===Bt?Vt="notmodified":(Vt=Rr.state,en=Rr.data,fs=!(lo=Rr.error))):(lo=Vt,(Bt||!Vt)&&(Vt="error",Bt<0&&(Bt=0))),ht.status=Bt,ht.statusText=(Gn||Vt)+"",fs?Ot.resolveWith(fe,[en,Vt,ht]):Ot.rejectWith(fe,[ht,Vt,lo]),ht.statusCode(Tn),Tn=void 0,oe&&Ve.trigger(fs?"ajaxSuccess":"ajaxError",[ht,he,fs?en:lo]),Xe.fireWith(fe,[ht,Vt]),oe&&(Ve.trigger("ajaxComplete",[ht,he]),--A.active||A.event.trigger("ajaxStop")))}return ht},getJSON:function(f,g,v){return A.get(f,g,v,"json")},getScript:function(f,g){return A.get(f,void 0,g,"script")}}),A.each(["get","post"],function(f,g){A[g]=function(v,y,D,M){return qe(y)&&(M=M||D,D=y,y=void 0),A.ajax(A.extend({url:v,type:g,dataType:M,data:y,success:D},A.isPlainObject(v)&&v))}}),A.ajaxPrefilter(function(f){var g;for(g in f.headers)"content-type"===g.toLowerCase()&&(f.contentType=f.headers[g]||"")}),A._evalUrl=function(f,g,v){return A.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(y){A.globalEval(y,g,v)}})},A.fn.extend({wrapAll:function(f){var g;return this[0]&&(qe(f)&&(f=f.call(this[0])),g=A(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var v=this;v.firstElementChild;)v=v.firstElementChild;return v}).append(this)),this},wrapInner:function(f){return qe(f)?this.each(function(g){A(this).wrapInner(f.call(this,g))}):this.each(function(){var g=A(this),v=g.contents();v.length?v.wrapAll(f):g.append(f)})},wrap:function(f){var g=qe(f);return this.each(function(v){A(this).wrapAll(g?f.call(this,v):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}}),A.expr.pseudos.hidden=function(f){return!A.expr.pseudos.visible(f)},A.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new B.XMLHttpRequest}catch(f){}};var vl={0:200,1223:204},x=A.ajaxSettings.xhr();jt.cors=!!x&&"withCredentials"in x,jt.ajax=x=!!x,A.ajaxTransport(function(f){var g,v;if(jt.cors||x&&!f.crossDomain)return{send:function(y,D){var M,O=f.xhr();if(O.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(M in f.xhrFields)O[M]=f.xhrFields[M];for(M in f.mimeType&&O.overrideMimeType&&O.overrideMimeType(f.mimeType),!f.crossDomain&&!y["X-Requested-With"]&&(y["X-Requested-With"]="XMLHttpRequest"),y)O.setRequestHeader(M,y[M]);g=function(X){return function(){g&&(g=v=O.onload=O.onerror=O.onabort=O.ontimeout=O.onreadystatechange=null,"abort"===X?O.abort():"error"===X?"number"!=typeof O.status?D(0,"error"):D(O.status,O.statusText):D(vl[O.status]||O.status,O.statusText,"text"!==(O.responseType||"text")||"string"!=typeof O.responseText?{binary:O.response}:{text:O.responseText},O.getAllResponseHeaders()))}},O.onload=g(),v=O.onerror=O.ontimeout=g("error"),void 0!==O.onabort?O.onabort=v:O.onreadystatechange=function(){4===O.readyState&&B.setTimeout(function(){g&&v()})},g=g("abort");try{O.send(f.hasContent&&f.data||null)}catch(X){if(g)throw X}},abort:function(){g&&g()}}}),A.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return A.globalEval(f),f}}}),A.ajaxPrefilter("script",function(f){void 0===f.cache&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),A.ajaxTransport("script",function(f){var g,v;if(f.crossDomain||f.scriptAttrs)return{send:function(y,D){g=A("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",v=function(M){g.remove(),v=null,M&&D("error"===M.type?404:200,M.type)}),Fe.head.appendChild(g[0])},abort:function(){v&&v()}}});var f,k=[],Z=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=k.pop()||A.expando+"_"+Oo.guid++;return this[f]=!0,f}}),A.ajaxPrefilter("json jsonp",function(f,g,v){var y,D,M,O=!1!==f.jsonp&&(Z.test(f.url)?"url":"string"==typeof f.data&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&Z.test(f.data)&&"data");if(O||"jsonp"===f.dataTypes[0])return y=f.jsonpCallback=qe(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,O?f[O]=f[O].replace(Z,"$1"+y):!1!==f.jsonp&&(f.url+=(Tt.test(f.url)?"&":"?")+f.jsonp+"="+y),f.converters["script json"]=function(){return M||A.error(y+" was not called"),M[0]},f.dataTypes[0]="json",D=B[y],B[y]=function(){M=arguments},v.always(function(){void 0===D?A(B).removeProp(y):B[y]=D,f[y]&&(f.jsonpCallback=g.jsonpCallback,k.push(y)),M&&qe(D)&&D(M[0]),M=D=void 0}),"script"}),jt.createHTMLDocument=((f=Fe.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===f.childNodes.length),A.parseHTML=function(f,g,v){return"string"!=typeof f?[]:("boolean"==typeof g&&(v=g,g=!1),g||(jt.createHTMLDocument?((y=(g=Fe.implementation.createHTMLDocument("")).createElement("base")).href=Fe.location.href,g.head.appendChild(y)):g=Fe),M=!v&&[],(D=as.exec(f))?[g.createElement(D[1])]:(D=Ni([f],g,M),M&&M.length&&A(M).remove(),A.merge([],D.childNodes)));var y,D,M},A.fn.load=function(f,g,v){var y,D,M,O=this,X=f.indexOf(" ");return X>-1&&(y=cs(f.slice(X)),f=f.slice(0,X)),qe(g)?(v=g,g=void 0):g&&"object"==typeof g&&(D="POST"),O.length>0&&A.ajax({url:f,type:D||"GET",dataType:"html",data:g}).done(function(Y){M=arguments,O.html(y?A("<div>").append(A.parseHTML(Y)).find(y):Y)}).always(v&&function(Y,oe){O.each(function(){v.apply(this,M||[Y.responseText,oe,Y])})}),this},A.expr.pseudos.animated=function(f){return A.grep(A.timers,function(g){return f===g.elem}).length},A.offset={setOffset:function(f,g,v){var y,D,M,O,X,Y,me=A.css(f,"position"),Ee=A(f),he={};"static"===me&&(f.style.position="relative"),X=Ee.offset(),M=A.css(f,"top"),Y=A.css(f,"left"),("absolute"===me||"fixed"===me)&&(M+Y).indexOf("auto")>-1?(O=(y=Ee.position()).top,D=y.left):(O=parseFloat(M)||0,D=parseFloat(Y)||0),qe(g)&&(g=g.call(f,v,A.extend({},X))),null!=g.top&&(he.top=g.top-X.top+O),null!=g.left&&(he.left=g.left-X.left+D),"using"in g?g.using.call(f,he):Ee.css(he)}},A.fn.extend({offset:function(f){if(arguments.length)return void 0===f?this:this.each(function(D){A.offset.setOffset(this,f,D)});var g,v,y=this[0];return y?y.getClientRects().length?{top:(g=y.getBoundingClientRect()).top+(v=y.ownerDocument.defaultView).pageYOffset,left:g.left+v.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var f,g,v,y=this[0],D={top:0,left:0};if("fixed"===A.css(y,"position"))g=y.getBoundingClientRect();else{for(g=this.offset(),v=y.ownerDocument,f=y.offsetParent||v.documentElement;f&&(f===v.body||f===v.documentElement)&&"static"===A.css(f,"position");)f=f.parentNode;f&&f!==y&&1===f.nodeType&&((D=A(f).offset()).top+=A.css(f,"borderTopWidth",!0),D.left+=A.css(f,"borderLeftWidth",!0))}return{top:g.top-D.top-A.css(y,"marginTop",!0),left:g.left-D.left-A.css(y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&"static"===A.css(f,"position");)f=f.offsetParent;return f||jn})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,g){var v="pageYOffset"===g;A.fn[f]=function(y){return ni(this,function(D,M,O){var X;if(Ue(D)?X=D:9===D.nodeType&&(X=D.defaultView),void 0===O)return X?X[g]:D[M];X?X.scrollTo(v?X.pageXOffset:O,v?O:X.pageYOffset):D[M]=O},f,y,arguments.length)}}),A.each(["top","left"],function(f,g){A.cssHooks[g]=cl(jt.pixelPosition,function(v,y){if(y)return y=so(v,g),aa.test(y)?A(v).position()[g]+"px":y})}),A.each({Height:"height",Width:"width"},function(f,g){A.each({padding:"inner"+f,content:g,"":"outer"+f},function(v,y){A.fn[y]=function(D,M){var O=arguments.length&&(v||"boolean"!=typeof D),X=v||(!0===D||!0===M?"margin":"border");return ni(this,function(Y,oe,me){var Ee;return Ue(Y)?0===y.indexOf("outer")?Y["inner"+f]:Y.document.documentElement["client"+f]:9===Y.nodeType?(Ee=Y.documentElement,Math.max(Y.body["scroll"+f],Ee["scroll"+f],Y.body["offset"+f],Ee["offset"+f],Ee["client"+f])):void 0===me?A.css(Y,oe,X):A.style(Y,oe,me,X)},g,O?D:void 0,O)}})}),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,g){A.fn[g]=function(v){return this.on(g,v)}}),A.fn.extend({bind:function(f,g,v){return this.on(f,null,g,v)},unbind:function(f,g){return this.off(f,null,g)},delegate:function(f,g,v,y){return this.on(g,f,v,y)},undelegate:function(f,g,v){return 1===arguments.length?this.off(f,"**"):this.off(g,f||"**",v)},hover:function(f,g){return this.mouseenter(f).mouseleave(g||f)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,g){A.fn[g]=function(v,y){return arguments.length>0?this.on(g,null,v,y):this.trigger(g)}});var W=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;A.proxy=function(f,g){var v,y,D;if("string"==typeof g&&(v=f[g],g=f,f=v),qe(f))return y=on.call(arguments,2),D=function(){return f.apply(g||this,y.concat(on.call(arguments)))},D.guid=f.guid=f.guid||A.guid++,D},A.holdReady=function(f){f?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=Yn,A.isFunction=qe,A.isWindow=Ue,A.camelCase=xt,A.type=je,A.now=Date.now,A.isNumeric=function(f){var g=A.type(f);return("number"===g||"string"===g)&&!isNaN(f-parseFloat(f))},A.trim=function(f){return null==f?"":(f+"").replace(W,"")},void 0!==(rr=function(){return A}.apply(fi,[]))&&(ei.exports=rr);var ce=B.jQuery,ie=B.$;return A.noConflict=function(f){return B.$===A&&(B.$=ie),f&&B.jQuery===A&&(B.jQuery=ce),A},void 0===fr&&(B.jQuery=B.$=A),A})},489:function(ei,fi,et){var rr;ei=et.nmd(ei),function(){var B,on="Expected a function",Tr="__lodash_hash_undefined__",dr="__lodash_placeholder__",A=128,Fn=1/0,Mi=9007199254740991,ir=4294967295,gr=[["ary",A],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ur="[object Arguments]",Ui="[object Array]",Si="[object Boolean]",pr="[object Date]",Vr="[object Error]",ia="[object Function]",sa="[object GeneratorFunction]",xt="[object Map]",wn="[object Number]",P="[object Object]",H="[object Promise]",Ae="[object RegExp]",we="[object Set]",Pe="[object String]",Qe="[object Symbol]",un="[object WeakMap]",Zt="[object ArrayBuffer]",qn="[object DataView]",xs="[object Float32Array]",Mo="[object Float64Array]",Bn="[object Int8Array]",sr="[object Int16Array]",mr="[object Int32Array]",Ei="[object Uint8Array]",So="[object Uint8ClampedArray]",_i="[object Uint16Array]",wr="[object Uint32Array]",br=/\b__p \+= '';/g,ka=/\b(__p \+=) '' \+/g,ac=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ni=/&(?:amp|lt|gt|quot|#39);/g,Fa=/[&<>"']/g,Eo=RegExp(Ni.source),io=RegExp(Fa.source),ja=/<%-([\s\S]+?)%>/g,wu=/<%([\s\S]+?)%>/g,Ba=/<%=([\s\S]+?)%>/g,oa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,za=/^\w*$/,ul=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hs=/[\\^$.*+?()[\]{}|]/g,Ga=RegExp(Hs.source),_o=/^\s+/,Zr=/\s/,Ua=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bu=/\{\n\/\* \[wrapped with (.+)\] \*/,Vi=/,? & /,Va=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,aa=/[()=,{}\[\]\/\s]/,ua=/\\(\\)?/g,ls=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ll=/\w*$/,so=/^[-+]0x[0-9a-f]+$/i,cl=/^0b[01]+$/i,fl=/^\[object .+?Constructor\]$/,Du=/^0o[0-7]+$/i,dl=/^(?:0|[1-9]\d*)$/,uc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wr=/($^)/,No=/['\n\r\u2028\u2029\\]/g,zn="\\ud800-\\udfff",la="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xu="\\u2700-\\u27bf",or="a-z\\xdf-\\xf6\\xf8-\\xff",ao="A-Z\\xc0-\\xd6\\xd8-\\xde",Za="\\ufe0e\\ufe0f",To="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gl="["+zn+"]",Su="["+To+"]",Or="["+la+"]",Zi="\\d+",Dn="["+xu+"]",Eu="["+or+"]",uo="[^"+zn+To+Zi+xu+or+ao+"]",cs="\\ud83c[\\udffb-\\udfff]",dn="[^"+zn+"]",Po="(?:\\ud83c[\\udde6-\\uddff]){2}",Mt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ms="["+ao+"]",Oo="(?:"+Eu+"|"+uo+")",Tt="(?:"+Ms+"|"+uo+")",Wa="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",_u="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",xr="(?:"+Or+"|"+cs+")?",cc="["+Za+"]?",pl=cc+xr+"(?:\\u200d(?:"+[dn,Po,Mt].join("|")+")"+cc+xr+")*",fc="(?:"+[Dn,Po,Mt].join("|")+")"+pl,vf="(?:"+[dn+Or+"?",Or,Po,Mt,gl].join("|")+")",da=RegExp("['\u2019]","g"),Yr=RegExp(Or,"g"),Ro=RegExp(cs+"(?="+cs+")|"+vf+pl,"g"),Ha=RegExp([Ms+"?"+Eu+"+"+Wa+"(?="+[Su,Ms,"$"].join("|")+")",Tt+"+"+_u+"(?="+[Su,Ms+Oo,"$"].join("|")+")",Ms+"?"+Oo+"+"+Wa,Ms+"+"+_u,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zi,fc].join("|"),"g"),dc=RegExp("[\\u200d"+zn+la+Za+"]"),gi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nu=-1,Nn={};Nn[xs]=Nn[Mo]=Nn[Bn]=Nn[sr]=Nn[mr]=Nn[Ei]=Nn[So]=Nn[_i]=Nn[wr]=!0,Nn[Ur]=Nn[Ui]=Nn[Zt]=Nn[Si]=Nn[qn]=Nn[pr]=Nn[Vr]=Nn[ia]=Nn[xt]=Nn[wn]=Nn[P]=Nn[Ae]=Nn[we]=Nn[Pe]=Nn[un]=!1;var xn={};xn[Ur]=xn[Ui]=xn[Zt]=xn[qn]=xn[Si]=xn[pr]=xn[xs]=xn[Mo]=xn[Bn]=xn[sr]=xn[mr]=xn[xt]=xn[wn]=xn[P]=xn[Ae]=xn[we]=xn[Pe]=xn[Qe]=xn[Ei]=xn[So]=xn[_i]=xn[wr]=!0,xn[Vr]=xn[ia]=xn[un]=!1;var k={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Z=parseFloat,W=parseInt,ce="object"==typeof global&&global&&global.Object===Object&&global,ie="object"==typeof self&&self&&self.Object===Object&&self,f=ce||ie||Function("return this")(),g=fi&&!fi.nodeType&&fi,v=g&&ei&&!ei.nodeType&&ei,y=v&&v.exports===g,D=y&&ce.process,M=function(){try{return v&&v.require&&v.require("util").types||D&&D.binding&&D.binding("util")}catch(de){}}(),O=M&&M.isArrayBuffer,X=M&&M.isDate,Y=M&&M.isMap,oe=M&&M.isRegExp,me=M&&M.isSet,Ee=M&&M.isTypedArray;function he(re,de,pe){switch(pe.length){case 0:return re.call(de);case 1:return re.call(de,pe[0]);case 2:return re.call(de,pe[0],pe[1]);case 3:return re.call(de,pe[0],pe[1],pe[2])}return re.apply(de,pe)}function fe(re,de,pe,Be){for(var At=-1,Qt=null==re?0:re.length;++At<Qt;){var nn=re[At];de(Be,nn,pe(nn),re)}return Be}function Ve(re,de){for(var pe=-1,Be=null==re?0:re.length;++pe<Be&&!1!==de(re[pe],pe,re););return re}function Ot(re,de){for(var pe=null==re?0:re.length;pe--&&!1!==de(re[pe],pe,re););return re}function Xe(re,de){for(var pe=-1,Be=null==re?0:re.length;++pe<Be;)if(!de(re[pe],pe,re))return!1;return!0}function Tn(re,de){for(var pe=-1,Be=null==re?0:re.length,At=0,Qt=[];++pe<Be;){var nn=re[pe];de(nn,pe,re)&&(Qt[At++]=nn)}return Qt}function Qn(re,de){return!(null==re||!re.length)&&Rr(re,de,0)>-1}function Kn(re,de,pe){for(var Be=-1,At=null==re?0:re.length;++Be<At;)if(pe(de,re[Be]))return!0;return!1}function Ke(re,de){for(var pe=-1,Be=null==re?0:re.length,At=Array(Be);++pe<Be;)At[pe]=de(re[pe],pe,re);return At}function ht(re,de){for(var pe=-1,Be=de.length,At=re.length;++pe<Be;)re[At+pe]=de[pe];return re}function pi(re,de,pe,Be){var At=-1,Qt=null==re?0:re.length;for(Be&&Qt&&(pe=re[++At]);++At<Qt;)pe=de(pe,re[At],At,re);return pe}function Bt(re,de,pe,Be){var At=null==re?0:re.length;for(Be&&At&&(pe=re[--At]);At--;)pe=de(pe,re[At],At,re);return pe}function Gn(re,de){for(var pe=-1,Be=null==re?0:re.length;++pe<Be;)if(de(re[pe],pe,re))return!0;return!1}var Tu=Ya("length");function en(re,de,pe){var Be;return pe(re,function(At,Qt,nn){if(de(At,Qt,nn))return Be=Qt,!1}),Be}function lo(re,de,pe,Be){for(var At=re.length,Qt=pe+(Be?1:-1);Be?Qt--:++Qt<At;)if(de(re[Qt],Qt,re))return Qt;return-1}function Rr(re,de,pe){return de==de?function(re,de,pe){for(var Be=pe-1,At=re.length;++Be<At;)if(re[Be]===de)return Be;return-1}(re,de,pe):lo(re,Vt,pe)}function Wi(re,de,pe,Be){for(var At=pe-1,Qt=re.length;++At<Qt;)if(Be(re[At],de))return At;return-1}function Vt(re){return re!=re}function ds(re,de){var pe=null==re?0:re.length;return pe?Hi(re,de)/pe:NaN}function Ya(re){return function(de){return null==de?B:de[re]}}function Ss(re){return function(de){return null==re?B:re[de]}}function Pu(re,de,pe,Be,At){return At(re,function(Qt,nn,hn){pe=Be?(Be=!1,Qt):de(pe,Qt,nn,hn)}),pe}function Hi(re,de){for(var pe,Be=-1,At=re.length;++Be<At;){var Qt=de(re[Be]);Qt!==B&&(pe=pe===B?Qt:pe+Qt)}return pe}function Il(re,de){for(var pe=-1,Be=Array(re);++pe<re;)Be[pe]=de(pe);return Be}function yf(re){return re&&re.slice(0,tn(re)+1).replace(_o,"")}function Xr(re){return function(de){return re(de)}}function Cl(re,de){return Ke(de,function(pe){return re[pe]})}function ga(re,de){return re.has(de)}function Lo(re,de){for(var pe=-1,Be=re.length;++pe<Be&&Rr(de,re[pe],0)>-1;);return pe}function If(re,de){for(var pe=re.length;pe--&&Rr(de,re[pe],0)>-1;);return pe}function Cf(re,de){for(var pe=re.length,Be=0;pe--;)re[pe]===de&&++Be;return Be}var Mr=Ss({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ti=Ss({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ii(re){return"\\"+k[re]}function si(re){return dc.test(re)}function Yi(re){var de=-1,pe=Array(re.size);return re.forEach(function(Be,At){pe[++de]=[At,Be]}),pe}function Pi(re,de){return function(pe){return re(de(pe))}}function gs(re,de){for(var pe=-1,Be=re.length,At=0,Qt=[];++pe<Be;){var nn=re[pe];(nn===de||nn===dr)&&(re[pe]=dr,Qt[At++]=pe)}return Qt}function Es(re){var de=-1,pe=Array(re.size);return re.forEach(function(Be){pe[++de]=Be}),pe}function Le(re){return si(re)?function(re){for(var de=Ro.lastIndex=0;Ro.test(re);)++de;return de}(re):Tu(re)}function tt(re){return si(re)?function(re){return re.match(Ro)||[]}(re):function(re){return re.split("")}(re)}function tn(re){for(var de=re.length;de--&&Zr.test(re.charAt(de)););return de}var mi=Ss({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Oi=function re(de){var u,pe=(de=null==de?f:Oi.defaults(f.Object(),de,Oi.pick(f,hc))).Array,Be=de.Date,At=de.Error,Qt=de.Function,nn=de.Math,hn=de.Object,$s=de.RegExp,_s=de.String,R=de.TypeError,q=pe.prototype,ve=hn.prototype,se=de["__core-js_shared__"],be=Qt.prototype.toString,ye=ve.hasOwnProperty,Re=0,Oe=(u=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",at=ve.toString,ft=be.call(hn),vt=f._,Yt=$s("^"+be.call(ye).replace(Hs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mn=y?de.Buffer:B,rt=de.Symbol,ar=de.Uint8Array,oi=Mn?Mn.allocUnsafe:B,vi=Pi(hn.getPrototypeOf,hn),Zn=hn.create,Ou=ve.propertyIsEnumerable,ma=q.splice,Xi=rt?rt.isConcatSpreadable:B,Af=rt?rt.iterator:B,Al=rt?rt.toStringTag:B,uh=function(){try{var u=Li(hn,"defineProperty");return u({},"",{}),u}catch(c){}}(),Ob=de.clearTimeout!==f.clearTimeout&&de.clearTimeout,Rb=Be&&Be.now!==f.Date.now&&Be.now,Ip=de.setTimeout!==f.setTimeout&&de.setTimeout,wl=nn.ceil,lh=nn.floor,Cp=hn.getOwnPropertySymbols,Lb=Mn?Mn.isBuffer:B,$a=de.isFinite,jy=q.join,Ru=Pi(hn.keys,hn),kr=nn.max,Ri=nn.min,By=Be.now,Ap=de.parseInt,ch=nn.random,zy=q.reverse,gc=Li(de,"DataView"),pc=Li(de,"Map"),ps=Li(de,"Promise"),Lu=Li(de,"Set"),bl=Li(de,"WeakMap"),ku=Li(hn,"create"),wf=bl&&new bl,Ja={},kb=Hu(gc),vr=Hu(pc),wp=Hu(ps),Gy=Hu(Lu),Fr=Hu(bl),bf=rt?rt.prototype:B,Df=bf?bf.valueOf:B,mc=bf?bf.toString:B;function L(u){if(cr(u)&&!Lt(u)&&!(u instanceof Nt)){if(u instanceof yi)return u;if(ye.call(u,"__wrapped__"))return C0(u)}return new yi(u)}var Dl=function(){function u(){}return function(c){if(!lr(c))return{};if(Zn)return Zn(c);u.prototype=c;var m=new u;return u.prototype=B,m}}();function xl(){}function yi(u,c){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=B}function Nt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ir,this.__views__=[]}function ms(u){var c=-1,m=null==u?0:u.length;for(this.clear();++c<m;){var C=u[c];this.set(C[0],C[1])}}function va(u){var c=-1,m=null==u?0:u.length;for(this.clear();++c<m;){var C=u[c];this.set(C[0],C[1])}}function Ut(u){var c=-1,m=null==u?0:u.length;for(this.clear();++c<m;){var C=u[c];this.set(C[0],C[1])}}function ya(u){var c=-1,m=null==u?0:u.length;for(this.__data__=new Ut;++c<m;)this.add(u[c])}function co(u){var c=this.__data__=new va(u);this.size=c.size}function Fu(u,c){var m=Lt(u),C=!m&&au(u),_=!m&&!C&&Wo(u),F=!m&&!C&&!_&&Vl(u),J=m||C||_||F,te=J?Il(u.length,_s):[],ue=te.length;for(var De in u)(c||ye.call(u,De))&&(!J||!("length"==De||_&&("offset"==De||"parent"==De)||F&&("buffer"==De||"byteLength"==De||"byteOffset"==De)||iu(De,ue)))&&te.push(De);return te}function Bo(u){var c=u.length;return c?u[Ff(0,c-1)]:B}function Xy(u,c){return Kf(qi(u),zo(c,0,u.length))}function Ep(u){return Kf(qi(u))}function gh(u,c,m){(m!==B&&!Js(u[c],m)||m===B&&!(c in u))&&Ca(u,c,m)}function yc(u,c,m){var C=u[c];(!ye.call(u,c)||!Js(C,m)||m===B&&!(c in u))&&Ca(u,c,m)}function Ml(u,c){for(var m=u.length;m--;)if(Js(u[m][0],c))return m;return-1}function ph(u,c,m,C){return Qa(u,function(_,F,J){c(C,_,m(_),J)}),C}function mh(u,c){return u&&Rs(c,wi(c),u)}function Ca(u,c,m){"__proto__"==c&&uh?uh(u,c,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[c]=m}function Sf(u,c){for(var m=-1,C=c.length,_=pe(C),F=null==u;++m<C;)_[m]=F?B:pd(u,c[m]);return _}function zo(u,c,m){return u==u&&(m!==B&&(u=u<=m?u:m),c!==B&&(u=u>=c?u:c)),u}function Ns(u,c,m,C,_,F){var J,te=1&c,ue=2&c,De=4&c;if(m&&(J=_?m(u,C,_,F):m(u)),J!==B)return J;if(!lr(u))return u;var xe=Lt(u);if(xe){if(J=function(u){var c=u.length,m=new u.constructor(c);return c&&"string"==typeof u[0]&&ye.call(u,"index")&&(m.index=u.index,m.input=u.input),m}(u),!te)return qi(u,J)}else{var Se=Ai(u),ze=Se==ia||Se==sa;if(Wo(u))return a0(u,te);if(Se==P||Se==Ur||ze&&!_){if(J=ue||ze?{}:Jp(u),!te)return ue?function(u,c){return Rs(u,$p(u),c)}(u,function(u,c){return u&&Rs(c,Fs(c),u)}(J,u)):function(u,c){return Rs(u,ru(u),c)}(u,mh(J,u))}else{if(!xn[Se])return _?u:{};J=function(u,c,m){var C=u.constructor;switch(c){case Zt:return Vu(u);case Si:case pr:return new C(+u);case qn:return function(u,c){var m=c?Vu(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}(u,m);case xs:case Mo:case Bn:case sr:case mr:case Ei:case So:case _i:case wr:return Ol(u,m);case xt:return new C;case wn:case Pe:return new C(u);case Ae:return function(u){var c=new u.constructor(u.source,ll.exec(u));return c.lastIndex=u.lastIndex,c}(u);case we:return new C;case Qe:return function(u){return Df?hn(Df.call(u)):{}}(u)}}(u,Se,te)}}F||(F=new co);var nt=F.get(u);if(nt)return nt;F.set(u,J),Rm(u)?u.forEach(function(bt){J.add(Ns(bt,c,m,bt,u,F))}):Tm(u)&&u.forEach(function(bt,rn){J.set(rn,Ns(bt,c,m,rn,u,F))});var kt=xe?B:(De?ue?Yp:Hf:ue?Fs:wi)(u);return Ve(kt||u,function(bt,rn){kt&&(bt=u[rn=bt]),yc(J,rn,Ns(bt,c,m,rn,u,F))}),J}function yh(u,c,m){var C=m.length;if(null==u)return!C;for(u=hn(u);C--;){var _=m[C],J=u[_];if(J===B&&!(_ in u)||!(0,c[_])(J))return!1}return!0}function Ih(u,c,m){if("function"!=typeof u)throw new R(on);return Tc(function(){u.apply(B,m)},c)}function qa(u,c,m,C){var _=-1,F=Qn,J=!0,te=u.length,ue=[],De=c.length;if(!te)return ue;m&&(c=Ke(c,Xr(m))),C?(F=Kn,J=!1):c.length>=200&&(F=ga,J=!1,c=new ya(c));e:for(;++_<te;){var xe=u[_],Se=null==m?xe:m(xe);if(xe=C||0!==xe?xe:0,J&&Se==Se){for(var ze=De;ze--;)if(c[ze]===Se)continue e;ue.push(xe)}else F(c,Se,C)||ue.push(xe)}return ue}L.templateSettings={escape:ja,evaluate:wu,interpolate:Ba,variable:"",imports:{_:L}},(L.prototype=xl.prototype).constructor=L,(yi.prototype=Dl(xl.prototype)).constructor=yi,(Nt.prototype=Dl(xl.prototype)).constructor=Nt,ms.prototype.clear=function(){this.__data__=ku?ku(null):{},this.size=0},ms.prototype.delete=function(u){var c=this.has(u)&&delete this.__data__[u];return this.size-=c?1:0,c},ms.prototype.get=function(u){var c=this.__data__;if(ku){var m=c[u];return m===Tr?B:m}return ye.call(c,u)?c[u]:B},ms.prototype.has=function(u){var c=this.__data__;return ku?c[u]!==B:ye.call(c,u)},ms.prototype.set=function(u,c){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=ku&&c===B?Tr:c,this},va.prototype.clear=function(){this.__data__=[],this.size=0},va.prototype.delete=function(u){var c=this.__data__,m=Ml(c,u);return!(m<0||(m==c.length-1?c.pop():ma.call(c,m,1),--this.size,0))},va.prototype.get=function(u){var c=this.__data__,m=Ml(c,u);return m<0?B:c[m][1]},va.prototype.has=function(u){return Ml(this.__data__,u)>-1},va.prototype.set=function(u,c){var m=this.__data__,C=Ml(m,u);return C<0?(++this.size,m.push([u,c])):m[C][1]=c,this},Ut.prototype.clear=function(){this.size=0,this.__data__={hash:new ms,map:new(pc||va),string:new ms}},Ut.prototype.delete=function(u){var c=Yf(this,u).delete(u);return this.size-=c?1:0,c},Ut.prototype.get=function(u){return Yf(this,u).get(u)},Ut.prototype.has=function(u){return Yf(this,u).has(u)},Ut.prototype.set=function(u,c){var m=Yf(this,u),C=m.size;return m.set(u,c),this.size+=m.size==C?0:1,this},ya.prototype.add=ya.prototype.push=function(u){return this.__data__.set(u,Tr),this},ya.prototype.has=function(u){return this.__data__.has(u)},co.prototype.clear=function(){this.__data__=new va,this.size=0},co.prototype.delete=function(u){var c=this.__data__,m=c.delete(u);return this.size=c.size,m},co.prototype.get=function(u){return this.__data__.get(u)},co.prototype.has=function(u){return this.__data__.has(u)},co.prototype.set=function(u,c){var m=this.__data__;if(m instanceof va){var C=m.__data__;if(!pc||C.length<199)return C.push([u,c]),this.size=++m.size,this;m=this.__data__=new Ut(C)}return m.set(u,c),this.size=m.size,this};var Qa=c0(Go),Np=c0(Ah,!0);function Ji(u,c){var m=!0;return Qa(u,function(C,_,F){return m=!!c(C,_,F)}),m}function fo(u,c,m){for(var C=-1,_=u.length;++C<_;){var F=u[C],J=c(F);if(null!=J&&(te===B?J==J&&!ut(J):m(J,te)))var te=J,ue=F}return ue}function Tp(u,c){var m=[];return Qa(u,function(C,_,F){c(C,_,F)&&m.push(C)}),m}function Ii(u,c,m,C,_){var F=-1,J=u.length;for(m||(m=p0),_||(_=[]);++F<J;){var te=u[F];c>0&&m(te)?c>1?Ii(te,c-1,m,C,_):ht(_,te):C||(_[_.length]=te)}return _}var Ch=f0(),Pp=f0(!0);function Go(u,c){return u&&Ch(u,c,wi)}function Ah(u,c){return u&&Pp(u,c,wi)}function ju(u,c){return Tn(c,function(m){return Ho(u[m])})}function Uo(u,c){for(var m=0,C=(c=Gu(c,u)).length;null!=u&&m<C;)u=u[ys(c[m++])];return m&&m==C?u:B}function Ic(u,c,m){var C=c(u);return Lt(u)?C:ht(C,m(u))}function Ci(u){return null==u?u===B?"[object Undefined]":"[object Null]":Al&&Al in hn(u)?function(u){var c=ye.call(u,Al),m=u[Al];try{u[Al]=B;var C=!0}catch(F){}var _=at.call(u);return C&&(c?u[Al]=m:delete u[Al]),_}(u):function(u){return at.call(u)}(u)}function Ef(u,c){return u>c}function $y(u,c){return null!=u&&ye.call(u,c)}function Ka(u,c){return null!=u&&c in hn(u)}function wh(u,c,m){for(var C=m?Kn:Qn,_=u[0].length,F=u.length,J=F,te=pe(F),ue=1/0,De=[];J--;){var xe=u[J];J&&c&&(xe=Ke(xe,Xr(c))),ue=Ri(xe.length,ue),te[J]=!m&&(c||_>=120&&xe.length>=120)?new ya(J&&xe):B}xe=u[0];var Se=-1,ze=te[0];e:for(;++Se<_&&De.length<ue;){var nt=xe[Se],wt=c?c(nt):nt;if(nt=m||0!==nt?nt:0,!(ze?ga(ze,wt):C(De,wt,m))){for(J=F;--J;){var kt=te[J];if(!(kt?ga(kt,wt):C(u[J],wt,m)))continue e}ze&&ze.push(wt),De.push(nt)}}return De}function Aa(u,c,m){var C=null==(u=jh(u,c=Gu(c,u)))?u:u[ys(po(c))];return null==C?B:he(C,u,m)}function _f(u){return cr(u)&&Ci(u)==Ur}function Nf(u,c,m,C,_){return u===c||(null==u||null==c||!cr(u)&&!cr(c)?u!=u&&c!=c:function(u,c,m,C,_,F){var J=Lt(u),te=Lt(c),ue=J?Ui:Ai(u),De=te?Ui:Ai(c),xe=(ue=ue==Ur?P:ue)==P,Se=(De=De==Ur?P:De)==P,ze=ue==De;if(ze&&Wo(u)){if(!Wo(c))return!1;J=!0,xe=!1}if(ze&&!xe)return F||(F=new co),J||Vl(u)?kl(u,c,m,C,_,F):function(u,c,m,C,_,F,J){switch(m){case qn:if(u.byteLength!=c.byteLength||u.byteOffset!=c.byteOffset)return!1;u=u.buffer,c=c.buffer;case Zt:return!(u.byteLength!=c.byteLength||!F(new ar(u),new ar(c)));case Si:case pr:case wn:return Js(+u,+c);case Vr:return u.name==c.name&&u.message==c.message;case Ae:case Pe:return u==c+"";case xt:var te=Yi;case we:if(te||(te=Es),u.size!=c.size&&!(1&C))return!1;var De=J.get(u);if(De)return De==c;C|=2,J.set(u,c);var xe=kl(te(u),te(c),C,_,F,J);return J.delete(u),xe;case Qe:if(Df)return Df.call(u)==Df.call(c)}return!1}(u,c,ue,m,C,_,F);if(!(1&m)){var nt=xe&&ye.call(u,"__wrapped__"),wt=Se&&ye.call(c,"__wrapped__");if(nt||wt){var kt=nt?u.value():u,bt=wt?c.value():c;return F||(F=new co),_(kt,bt,m,C,F)}}return!!ze&&(F||(F=new co),function(u,c,m,C,_,F){var J=1&m,te=Hf(u),ue=te.length;if(ue!=Hf(c).length&&!J)return!1;for(var Se=ue;Se--;){var ze=te[Se];if(!(J?ze in c:ye.call(c,ze)))return!1}var nt=F.get(u),wt=F.get(c);if(nt&&wt)return nt==c&&wt==u;var kt=!0;F.set(u,c),F.set(c,u);for(var bt=J;++Se<ue;){var rn=u[ze=te[Se]],gn=c[ze];if(C)var Bs=J?C(gn,rn,ze,c,u,F):C(rn,gn,ze,u,c,F);if(!(Bs===B?rn===gn||_(rn,gn,m,C,F):Bs)){kt=!1;break}bt||(bt="constructor"==ze)}if(kt&&!bt){var Pn=u.constructor,es=c.constructor;Pn!=es&&"constructor"in u&&"constructor"in c&&!("function"==typeof Pn&&Pn instanceof Pn&&"function"==typeof es&&es instanceof es)&&(kt=!1)}return F.delete(u),F.delete(c),kt}(u,c,m,C,_,F))}(u,c,m,C,Nf,_))}function Pf(u,c,m,C){var _=m.length,F=_,J=!C;if(null==u)return!F;for(u=hn(u);_--;){var te=m[_];if(J&&te[2]?te[1]!==u[te[0]]:!(te[0]in u))return!1}for(;++_<F;){var ue=(te=m[_])[0],De=u[ue],xe=te[1];if(J&&te[2]){if(De===B&&!(ue in u))return!1}else{var Se=new co;if(C)var ze=C(De,xe,ue,u,c,Se);if(!(ze===B?Nf(xe,De,3,C,Se):ze))return!1}}return!0}function Of(u){return!(!lr(u)||function(u){return!!Oe&&Oe in u}(u))&&(Ho(u)?Yt:fl).test(Hu(u))}function Bu(u){return"function"==typeof u?u:null==u?Is:"object"==typeof u?Lt(u)?Dh(u[0],u[1]):Ky(u):wd(u)}function bh(u){if(!su(u))return Ru(u);var c=[];for(var m in hn(u))ye.call(u,m)&&"constructor"!=m&&c.push(m);return c}function Ac(u,c){return u<c}function wc(u,c){var m=-1,C=Ki(u)?pe(u.length):[];return Qa(u,function(_,F,J){C[++m]=c(_,F,J)}),C}function Ky(u){var c=Zu(u);return 1==c.length&&c[0][2]?Wu(c[0][0],c[0][1]):function(m){return m===u||Pf(m,u,c)}}function Dh(u,c){return kh(u)&&$f(c)?Wu(ys(u),c):function(m){var C=pd(m,u);return C===B&&C===c?Uc(m,u):Nf(c,C,3)}}function bc(u,c,m,C,_){u!==c&&Ch(c,function(F,J){if(_||(_=new co),lr(F))!function(u,c,m,C,_,F,J){var te=Qf(u,m),ue=Qf(c,m),De=J.get(ue);if(De)gh(u,m,De);else{var xe=F?F(te,ue,m+"",u,c,J):B,Se=xe===B;if(Se){var ze=Lt(ue),nt=!ze&&Wo(ue),wt=!ze&&!nt&&Vl(ue);xe=ue,ze||nt||wt?Lt(te)?xe=te:ur(te)?xe=qi(te):nt?(Se=!1,xe=a0(ue,!0)):wt?(Se=!1,xe=Ol(ue,!0)):xe=[]:zc(ue)||au(ue)?(xe=te,au(te)?xe=gd(te):(!lr(te)||Ho(te))&&(xe=Jp(ue))):Se=!1}Se&&(J.set(ue,xe),_(xe,ue,C,F,J),J.delete(ue)),gh(u,m,xe)}}(u,c,J,m,bc,C,_);else{var te=C?C(Qf(u,J),F,J+"",u,c,_):B;te===B&&(te=F),gh(u,J,te)}},Fs)}function Lp(u,c){var m=u.length;if(m)return iu(c+=c<0?m:0,m)?u[c]:B}function El(u,c,m){c=c.length?Ke(c,function(F){return Lt(F)?function(J){return Uo(J,1===F.length?F[0]:F)}:F}):[Is];var C=-1;return c=Ke(c,Xr(It())),function(re,de){var pe=re.length;for(re.sort(function(F,J){return function(u,c,m){for(var C=-1,_=u.criteria,F=c.criteria,J=_.length,te=m.length;++C<J;){var ue=u0(_[C],F[C]);if(ue)return C>=te?ue:ue*("desc"==m[C]?-1:1)}return u.index-c.index}(F,J,m)});pe--;)re[pe]=re[pe].value;return re}(wc(u,function(F,J,te){return{criteria:Ke(c,function(De){return De(F)}),index:++C,value:F}}))}function Lf(u,c,m){for(var C=-1,_=c.length,F={};++C<_;){var J=c[C],te=Uo(u,J);m(te,J)&&eu(F,Gu(J,u),te)}return F}function _l(u,c,m,C){var _=C?Wi:Rr,F=-1,J=c.length,te=u;for(u===c&&(c=qi(c)),m&&(te=Ke(u,Xr(m)));++F<J;)for(var ue=0,De=c[F],xe=m?m(De):De;(ue=_(te,xe,ue,C))>-1;)te!==u&&ma.call(te,ue,1),ma.call(u,ue,1);return u}function kp(u,c){for(var m=u?c.length:0,C=m-1;m--;){var _=c[m];if(m==C||_!==F){var F=_;iu(_)?ma.call(u,_,1):zf(u,_)}}return u}function Ff(u,c){return u+lh(ch()*(c-u+1))}function jf(u,c){var m="";if(!u||c<1||c>Mi)return m;do{c%2&&(m+=u),(c=lh(c/2))&&(u+=u)}while(c);return m}function Xt(u,c){return zh(qf(u,c,Is),u+"")}function t0(u){return Bo(Zl(u))}function n0(u,c){var m=Zl(u);return Kf(m,zo(c,0,m.length))}function eu(u,c,m,C){if(!lr(u))return u;for(var _=-1,F=(c=Gu(c,u)).length,J=F-1,te=u;null!=te&&++_<F;){var ue=ys(c[_]),De=m;if("__proto__"===ue||"constructor"===ue||"prototype"===ue)return u;if(_!=J){var xe=te[ue];(De=C?C(xe,ue,te):B)===B&&(De=lr(xe)?xe:iu(c[_+1])?[]:{})}yc(te,ue,De),te=te[ue]}return u}var Nl=wf?function(u,c){return wf.set(u,c),u}:Is,r0=uh?function(u,c){return uh(u,"toString",{configurable:!0,enumerable:!1,value:Cd(c),writable:!0})}:Is;function jp(u){return Kf(Zl(u))}function Ts(u,c,m){var C=-1,_=u.length;c<0&&(c=-c>_?0:_+c),(m=m>_?_:m)<0&&(m+=_),_=c>m?0:m-c>>>0,c>>>=0;for(var F=pe(_);++C<_;)F[C]=u[C+c];return F}function Tl(u,c){var m;return Qa(u,function(C,_,F){return!(m=c(C,_,F))}),!!m}function Bf(u,c,m){var C=0,_=null==u?C:u.length;if("number"==typeof c&&c==c&&_<=2147483647){for(;C<_;){var F=C+_>>>1,J=u[F];null!==J&&!ut(J)&&(m?J<=c:J<c)?C=F+1:_=F}return _}return Dc(u,c,Is,m)}function Dc(u,c,m,C){var _=0,F=null==u?0:u.length;if(0===F)return 0;for(var J=(c=m(c))!=c,te=null===c,ue=ut(c),De=c===B;_<F;){var xe=lh((_+F)/2),Se=m(u[xe]),ze=Se!==B,nt=null===Se,wt=Se==Se,kt=ut(Se);if(J)var bt=C||wt;else bt=De?wt&&(C||ze):te?wt&&ze&&(C||!nt):ue?wt&&ze&&!nt&&(C||!kt):!nt&&!kt&&(C?Se<=c:Se<c);bt?_=xe+1:F=xe}return Ri(F,4294967294)}function Pl(u,c){for(var m=-1,C=u.length,_=0,F=[];++m<C;){var J=u[m],te=c?c(J):J;if(!m||!Js(te,ue)){var ue=te;F[_++]=0===J?0:J}}return F}function zu(u){return"number"==typeof u?u:ut(u)?NaN:+u}function ai(u){if("string"==typeof u)return u;if(Lt(u))return Ke(u,ai)+"";if(ut(u))return mc?mc.call(u):"";var c=u+"";return"0"==c&&1/u==-Fn?"-0":c}function Ps(u,c,m){var C=-1,_=Qn,F=u.length,J=!0,te=[],ue=te;if(m)J=!1,_=Kn;else if(F>=200){var De=c?null:Wf(u);if(De)return Es(De);J=!1,_=ga,ue=new ya}else ue=c?[]:te;e:for(;++C<F;){var xe=u[C],Se=c?c(xe):xe;if(xe=m||0!==xe?xe:0,J&&Se==Se){for(var ze=ue.length;ze--;)if(ue[ze]===Se)continue e;c&&ue.push(Se),te.push(xe)}else _(ue,Se,m)||(ue!==te&&ue.push(Se),te.push(xe))}return te}function zf(u,c){return null==(u=jh(u,c=Gu(c,u)))||delete u[ys(po(c))]}function Gf(u,c,m,C){return eu(u,c,m(Uo(u,c)),C)}function wa(u,c,m,C){for(var _=u.length,F=C?_:-1;(C?F--:++F<_)&&c(u[F],F,u););return m?Ts(u,C?0:F,C?F+1:_):Ts(u,C?F+1:0,C?_:F)}function s0(u,c){var m=u;return m instanceof Nt&&(m=m.value()),pi(c,function(C,_){return _.func.apply(_.thisArg,ht([C],_.args))},m)}function Mh(u,c,m){var C=u.length;if(C<2)return C?Ps(u[0]):[];for(var _=-1,F=pe(C);++_<C;)for(var J=u[_],te=-1;++te<C;)te!=_&&(F[_]=qa(F[_]||J,u[te],c,m));return Ps(Ii(F,1),c,m)}function yn(u,c,m){for(var C=-1,_=u.length,F=c.length,J={};++C<_;)m(J,u[C],C<F?c[C]:B);return J}function Sh(u){return ur(u)?u:[]}function Bp(u){return"function"==typeof u?u:Is}function Gu(u,c){return Lt(u)?u:kh(u,c)?[u]:Da(Sn(u))}var zb=Xt;function Uu(u,c,m){var C=u.length;return m=m===B?C:m,!c&&m>=C?u:Ts(u,c,m)}var o0=Ob||function(u){return f.clearTimeout(u)};function a0(u,c){if(c)return u.slice();var m=u.length,C=oi?oi(m):new u.constructor(m);return u.copy(C),C}function Vu(u){var c=new u.constructor(u.byteLength);return new ar(c).set(new ar(u)),c}function Ol(u,c){var m=c?Vu(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function u0(u,c){if(u!==c){var m=u!==B,C=null===u,_=u==u,F=ut(u),J=c!==B,te=null===c,ue=c==c,De=ut(c);if(!te&&!De&&!F&&u>c||F&&J&&ue&&!te&&!De||C&&J&&ue||!m&&ue||!_)return 1;if(!C&&!F&&!De&&u<c||De&&m&&_&&!C&&!F||te&&m&&_||!J&&_||!ue)return-1}return 0}function Os(u,c,m,C){for(var _=-1,F=u.length,J=m.length,te=-1,ue=c.length,De=kr(F-J,0),xe=pe(ue+De),Se=!C;++te<ue;)xe[te]=c[te];for(;++_<J;)(Se||_<F)&&(xe[m[_]]=u[_]);for(;De--;)xe[te++]=u[_++];return xe}function ho(u,c,m,C){for(var _=-1,F=u.length,J=-1,te=m.length,ue=-1,De=c.length,xe=kr(F-te,0),Se=pe(xe+De),ze=!C;++_<xe;)Se[_]=u[_];for(var nt=_;++ue<De;)Se[nt+ue]=c[ue];for(;++J<te;)(ze||_<F)&&(Se[nt+m[J]]=u[_++]);return Se}function qi(u,c){var m=-1,C=u.length;for(c||(c=pe(C));++m<C;)c[m]=u[m];return c}function Rs(u,c,m,C){var _=!m;m||(m={});for(var F=-1,J=c.length;++F<J;){var te=c[F],ue=C?C(m[te],u[te],te,m,u):B;ue===B&&(ue=u[te]),_?Ca(m,te,ue):yc(m,te,ue)}return m}function Uf(u,c){return function(m,C){var _=Lt(m)?fe:ph,F=c?c():{};return _(m,u,It(C,2),F)}}function Rl(u){return Xt(function(c,m){var C=-1,_=m.length,F=_>1?m[_-1]:B,J=_>2?m[2]:B;for(F=u.length>3&&"function"==typeof F?(_--,F):B,J&&ki(m[0],m[1],J)&&(F=_<3?B:F,_=1),c=hn(c);++C<_;){var te=m[C];te&&u(c,te,C,F)}return c})}function c0(u,c){return function(m,C){if(null==m)return m;if(!Ki(m))return u(m,C);for(var _=m.length,F=c?_:-1,J=hn(m);(c?F--:++F<_)&&!1!==C(J[F],F,J););return m}}function f0(u){return function(c,m,C){for(var _=-1,F=hn(c),J=C(c),te=J.length;te--;){var ue=J[u?te:++_];if(!1===m(F[ue],ue,F))break}return c}}function vs(u){return function(c){var m=si(c=Sn(c))?tt(c):B,C=m?m[0]:c.charAt(0),_=m?Uu(m,1).join(""):c.slice(1);return C[u]()+_}}function tu(u){return function(c){return pi(Id($u(c).replace(da,"")),u,"")}}function Vo(u){return function(){var c=arguments;switch(c.length){case 0:return new u;case 1:return new u(c[0]);case 2:return new u(c[0],c[1]);case 3:return new u(c[0],c[1],c[2]);case 4:return new u(c[0],c[1],c[2],c[3]);case 5:return new u(c[0],c[1],c[2],c[3],c[4]);case 6:return new u(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new u(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var m=Dl(u.prototype),C=u.apply(m,c);return lr(C)?C:m}}function _h(u){return function(c,m,C){var _=hn(c);if(!Ki(c)){var F=It(m,3);c=wi(c),m=function(te){return F(_[te],te,_)}}var J=u(c,m,C);return J>-1?_[F?c[J]:J]:B}}function Up(u){return lt(function(c){var m=c.length,C=m,_=yi.prototype.thru;for(u&&c.reverse();C--;){var F=c[C];if("function"!=typeof F)throw new R(on);if(_&&!J&&"wrapper"==nu(F))var J=new yi([],!0)}for(C=J?C:m;++C<m;){var te=nu(F=c[C]),ue="wrapper"==te?_c(F):B;J=ue&&Fh(ue[0])&&424==ue[1]&&!ue[4].length&&1==ue[9]?J[nu(ue[0])].apply(J,ue[3]):1==F.length&&Fh(F)?J[te]():J.thru(F)}return function(){var De=arguments,xe=De[0];if(J&&1==De.length&&Lt(xe))return J.plant(xe).value();for(var Se=0,ze=m?c[Se].apply(this,De):xe;++Se<m;)ze=c[Se].call(this,ze);return ze}})}function Vf(u,c,m,C,_,F,J,te,ue,De){var xe=c&A,Se=1&c,ze=2&c,nt=24&c,wt=512&c,kt=ze?B:Vo(u);return function bt(){for(var rn=arguments.length,gn=pe(rn),Bs=rn;Bs--;)gn[Bs]=arguments[Bs];if(nt)var Pn=Fl(bt),es=Cf(gn,Pn);if(C&&(gn=Os(gn,C,_,nt)),F&&(gn=ho(gn,F,J,nt)),rn-=es,nt&&rn<De){var Ir=gs(gn,Pn);return Ll(u,c,Vf,bt.placeholder,m,gn,Ir,te,ue,De-rn)}var qs=Se?m:this,Xo=ze?qs[u]:u;return rn=gn.length,te?gn=qp(gn,te):wt&&rn>1&&gn.reverse(),xe&&ue<rn&&(gn.length=ue),this&&this!==f&&this instanceof bt&&(Xo=kt||Vo(Xo)),Xo.apply(qs,gn)}}function Vp(u,c){return function(m,C){return function(u,c,m,C){return Go(u,function(_,F,J){c(C,m(_),F,J)}),C}(m,u,c(C),{})}}function Zf(u,c){return function(m,C){var _;if(m===B&&C===B)return c;if(m!==B&&(_=m),C!==B){if(_===B)return C;"string"==typeof m||"string"==typeof C?(m=ai(m),C=ai(C)):(m=zu(m),C=zu(C)),_=u(m,C)}return _}}function Nh(u){return lt(function(c){return c=Ke(c,Xr(It())),Xt(function(m){var C=this;return u(c,function(_){return he(_,C,m)})})})}function Mc(u,c){var m=(c=c===B?" ":ai(c)).length;if(m<2)return m?jf(c,u):c;var C=jf(c,wl(u/Le(c)));return si(c)?Uu(tt(C),0,u).join(""):C.slice(0,u)}function Sc(u){return function(c,m,C){return C&&"number"!=typeof C&&ki(c,m,C)&&(m=C=B),c=yo(c),m===B?(m=c,c=0):m=yo(m),function(u,c,m,C){for(var _=-1,F=kr(wl((c-u)/(m||1)),0),J=pe(F);F--;)J[C?F:++_]=u,u+=m;return J}(c,m,C=C===B?c<m?1:-1:yo(C),u)}}function Ph(u){return function(c,m){return"string"==typeof c&&"string"==typeof m||(c=ks(c),m=ks(m)),u(c,m)}}function Ll(u,c,m,C,_,F,J,te,ue,De){var xe=8&c;c|=xe?32:64,4&(c&=~(xe?64:32))||(c&=-4);var kt=[u,c,_,xe?F:B,xe?J:B,xe?B:F,xe?B:J,te,ue,De],bt=m.apply(B,kt);return Fh(u)&&Bh(bt,kt),bt.placeholder=C,Qp(bt,u,c)}function Ec(u){var c=nn[u];return function(m,C){if(m=ks(m),(C=null==C?0:Ri(St(C),292))&&$a(m)){var _=(Sn(m)+"e").split("e");return+((_=(Sn(c(_[0]+"e"+(+_[1]+C)))+"e").split("e"))[0]+"e"+(+_[1]-C))}return c(m)}}var Wf=Lu&&1/Es(new Lu([,-0]))[1]==Fn?function(u){return new Lu(u)}:rv;function Zp(u){return function(c){var m=Ai(c);return m==xt?Yi(c):m==we?function(re){var de=-1,pe=Array(re.size);return re.forEach(function(Be){pe[++de]=[Be,Be]}),pe}(c):function(re,de){return Ke(de,function(pe){return[pe,re[pe]]})}(c,u(c))}}function ba(u,c,m,C,_,F,J,te){var ue=2&c;if(!ue&&"function"!=typeof u)throw new R(on);var De=C?C.length:0;if(De||(c&=-97,C=_=B),J=J===B?J:kr(St(J),0),te=te===B?te:St(te),De-=_?_.length:0,64&c){var xe=C,Se=_;C=_=B}var ze=ue?B:_c(u),nt=[u,c,m,C,_,xe,Se,F,J,te];if(ze&&function(u,c){var m=u[1],C=c[1],_=m|C;if(!(_<131||(C==A&&8==m||C==A&&256==m&&u[7].length<=c[8]||384==C&&c[7].length<=c[8]&&8==m)))return u;1&C&&(u[2]=c[2],_|=1&m?0:4);var te=c[3];if(te){var ue=u[3];u[3]=ue?Os(ue,te,c[4]):te,u[4]=ue?gs(u[3],dr):c[4]}(te=c[5])&&(u[5]=(ue=u[5])?ho(ue,te,c[6]):te,u[6]=ue?gs(u[5],dr):c[6]),(te=c[7])&&(u[7]=te),C&A&&(u[8]=null==u[8]?c[8]:Ri(u[8],c[8])),null==u[9]&&(u[9]=c[9]),u[0]=c[0],u[1]=_}(nt,ze),u=nt[0],c=nt[1],m=nt[2],C=nt[3],_=nt[4],!(te=nt[9]=nt[9]===B?ue?0:u.length:kr(nt[9]-De,0))&&24&c&&(c&=-25),c&&1!=c)wt=8==c||16==c?function(u,c,m){var C=Vo(u);return function _(){for(var F=arguments.length,J=pe(F),te=F,ue=Fl(_);te--;)J[te]=arguments[te];var De=F<3&&J[0]!==ue&&J[F-1]!==ue?[]:gs(J,ue);return(F-=De.length)<m?Ll(u,c,Vf,_.placeholder,B,J,De,B,B,m-F):he(this&&this!==f&&this instanceof _?C:u,this,J)}}(u,c,te):32!=c&&33!=c||_.length?Vf.apply(B,nt):function(u,c,m,C){var _=1&c,F=Vo(u);return function J(){for(var te=-1,ue=arguments.length,De=-1,xe=C.length,Se=pe(xe+ue),ze=this&&this!==f&&this instanceof J?F:u;++De<xe;)Se[De]=C[De];for(;ue--;)Se[De++]=arguments[++te];return he(ze,_?m:this,Se)}}(u,c,m,C);else var wt=function(u,c,m){var C=1&c,_=Vo(u);return function F(){return(this&&this!==f&&this instanceof F?_:u).apply(C?m:this,arguments)}}(u,c,m);return Qp((ze?Nl:Bh)(wt,nt),u,c)}function Wp(u,c,m,C){return u===B||Js(u,ve[m])&&!ye.call(C,m)?c:u}function Oh(u,c,m,C,_,F){return lr(u)&&lr(c)&&(F.set(c,u),bc(u,c,B,Oh,F),F.delete(c)),u}function d0(u){return zc(u)?B:u}function kl(u,c,m,C,_,F){var J=1&m,te=u.length,ue=c.length;if(te!=ue&&!(J&&ue>te))return!1;var De=F.get(u),xe=F.get(c);if(De&&xe)return De==c&&xe==u;var Se=-1,ze=!0,nt=2&m?new ya:B;for(F.set(u,c),F.set(c,u);++Se<te;){var wt=u[Se],kt=c[Se];if(C)var bt=J?C(kt,wt,Se,c,u,F):C(wt,kt,Se,u,c,F);if(bt!==B){if(bt)continue;ze=!1;break}if(nt){if(!Gn(c,function(rn,gn){if(!ga(nt,gn)&&(wt===rn||_(wt,rn,m,C,F)))return nt.push(gn)})){ze=!1;break}}else if(wt!==kt&&!_(wt,kt,m,C,F)){ze=!1;break}}return F.delete(u),F.delete(c),ze}function lt(u){return zh(qf(u,B,Bl),u+"")}function Hf(u){return Ic(u,wi,ru)}function Yp(u){return Ic(u,Fs,$p)}var _c=wf?function(u){return wf.get(u)}:rv;function nu(u){for(var c=u.name+"",m=Ja[c],C=ye.call(Ja,c)?m.length:0;C--;){var _=m[C],F=_.func;if(null==F||F==u)return _.name}return c}function Fl(u){return(ye.call(L,"placeholder")?L:u).placeholder}function It(){var u=L.iteratee||Ad;return u=u===Ad?Bu:u,arguments.length?u(arguments[0],arguments[1]):u}function Yf(u,c){var m=u.__data__;return function(u){var c=typeof u;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==u:null===u}(c)?m["string"==typeof c?"string":"hash"]:m.map}function Zu(u){for(var c=wi(u),m=c.length;m--;){var C=c[m],_=u[C];c[m]=[C,_,$f(_)]}return c}function Li(u,c){var m=function(re,de){return null==re?B:re[de]}(u,c);return Of(m)?m:B}var ru=Cp?function(u){return null==u?[]:(u=hn(u),Tn(Cp(u),function(c){return Ou.call(u,c)}))}:Wc,$p=Cp?function(u){for(var c=[];u;)ht(c,ru(u)),u=vi(u);return c}:Wc,Ai=Ci;function Lh(u,c,m){for(var C=-1,_=(c=Gu(c,u)).length,F=!1;++C<_;){var J=ys(c[C]);if(!(F=null!=u&&m(u,J)))break;u=u[J]}return F||++C!=_?F:!!(_=null==u?0:u.length)&&Bc(_)&&iu(J,_)&&(Lt(u)||au(u))}function Jp(u){return"function"!=typeof u.constructor||su(u)?{}:Dl(vi(u))}function p0(u){return Lt(u)||au(u)||!!(Xi&&u&&u[Xi])}function iu(u,c){var m=typeof u;return!!(c=null==c?Mi:c)&&("number"==m||"symbol"!=m&&dl.test(u))&&u>-1&&u%1==0&&u<c}function ki(u,c,m){if(!lr(m))return!1;var C=typeof c;return!!("number"==C?Ki(m)&&iu(c,m.length):"string"==C&&c in m)&&Js(m[c],u)}function kh(u,c){if(Lt(u))return!1;var m=typeof u;return!("number"!=m&&"symbol"!=m&&"boolean"!=m&&null!=u&&!ut(u))||za.test(u)||!oa.test(u)||null!=c&&u in hn(c)}function Fh(u){var c=nu(u),m=L[c];if("function"!=typeof m||!(c in Nt.prototype))return!1;if(u===m)return!0;var C=_c(m);return!!C&&u===C[0]}(gc&&Ai(new gc(new ArrayBuffer(1)))!=qn||pc&&Ai(new pc)!=xt||ps&&Ai(ps.resolve())!=H||Lu&&Ai(new Lu)!=we||bl&&Ai(new bl)!=un)&&(Ai=function(u){var c=Ci(u),m=c==P?u.constructor:B,C=m?Hu(m):"";if(C)switch(C){case kb:return qn;case vr:return xt;case wp:return H;case Gy:return we;case Fr:return un}return c});var v0=se?Ho:yg;function su(u){var c=u&&u.constructor;return u===("function"==typeof c&&c.prototype||ve)}function $f(u){return u==u&&!lr(u)}function Wu(u,c){return function(m){return null!=m&&m[u]===c&&(c!==B||u in hn(m))}}function qf(u,c,m){return c=kr(c===B?u.length-1:c,0),function(){for(var C=arguments,_=-1,F=kr(C.length-c,0),J=pe(F);++_<F;)J[_]=C[c+_];_=-1;for(var te=pe(c+1);++_<c;)te[_]=C[_];return te[c]=m(J),he(u,this,te)}}function jh(u,c){return c.length<2?u:Uo(u,Ts(c,0,-1))}function qp(u,c){for(var m=u.length,C=Ri(c.length,m),_=qi(u);C--;){var F=c[C];u[C]=iu(F,m)?_[F]:B}return u}function Qf(u,c){if(("constructor"!==c||"function"!=typeof u[c])&&"__proto__"!=c)return u[c]}var Bh=Kp(Nl),Tc=Ip||function(u,c){return f.setTimeout(u,c)},zh=Kp(r0);function Qp(u,c,m){var C=c+"";return zh(u,function(u,c){var m=c.length;if(!m)return u;var C=m-1;return c[C]=(m>1?"& ":"")+c[C],c=c.join(m>2?", ":" "),u.replace(Ua,"{\n/* [wrapped with "+c+"] */\n")}(C,function(u,c){return Ve(gr,function(m){var C="_."+m[0];c&m[1]&&!Qn(u,C)&&u.push(C)}),u.sort()}(function(u){var c=u.match(bu);return c?c[1].split(Vi):[]}(C),m)))}function Kp(u){var c=0,m=0;return function(){var C=By(),_=16-(C-m);if(m=C,_>0){if(++c>=800)return arguments[0]}else c=0;return u.apply(B,arguments)}}function Kf(u,c){var m=-1,C=u.length,_=C-1;for(c=c===B?C:c;++m<c;){var F=Ff(m,_),J=u[F];u[F]=u[m],u[m]=J}return u.length=c,u}var c,m,Da=(c=sd(function(u){var c=[];return 46===u.charCodeAt(0)&&c.push(""),u.replace(ul,function(m,C,_,F){c.push(_?F.replace(ua,"$1"):C||m)}),c},function(C){return 500===m.size&&m.clear(),C}),m=c.cache,c);function ys(u){if("string"==typeof u||ut(u))return u;var c=u+"";return"0"==c&&1/u==-Fn?"-0":c}function Hu(u){if(null!=u){try{return be.call(u)}catch(c){}try{return u+""}catch(c){}}return""}function C0(u){if(u instanceof Nt)return u.clone();var c=new yi(u.__wrapped__,u.__chain__);return c.__actions__=qi(u.__actions__),c.__index__=u.__index__,c.__values__=u.__values__,c}var em=Xt(function(u,c){return ur(u)?qa(u,Ii(c,1,ur,!0)):[]}),A0=Xt(function(u,c){var m=po(c);return ur(m)&&(m=B),ur(u)?qa(u,Ii(c,1,ur,!0),It(m,2)):[]}),w0=Xt(function(u,c){var m=po(c);return ur(m)&&(m=B),ur(u)?qa(u,Ii(c,1,ur,!0),B,m):[]});function Gh(u,c,m){var C=null==u?0:u.length;if(!C)return-1;var _=null==m?0:St(m);return _<0&&(_=kr(C+_,0)),lo(u,It(c,3),_)}function go(u,c,m){var C=null==u?0:u.length;if(!C)return-1;var _=C-1;return m!==B&&(_=St(m),_=m<0?kr(C+_,0):Ri(_,C-1)),lo(u,It(c,3),_,!0)}function Bl(u){return null!=u&&u.length?Ii(u,1):[]}function M0(u){return u&&u.length?u[0]:B}var Uh=Xt(function(u){var c=Ke(u,Sh);return c.length&&c[0]===u[0]?wh(c):[]}),Vh=Xt(function(u){var c=po(u),m=Ke(u,Sh);return c===po(m)?c=B:m.pop(),m.length&&m[0]===u[0]?wh(m,It(c,2)):[]}),Zh=Xt(function(u){var c=po(u),m=Ke(u,Sh);return(c="function"==typeof c?c:B)&&m.pop(),m.length&&m[0]===u[0]?wh(m,B,c):[]});function po(u){var c=null==u?0:u.length;return c?u[c-1]:B}var E0=Xt(sm);function sm(u,c){return u&&u.length&&c&&c.length?_l(u,c):u}var td=lt(function(u,c){var m=null==u?0:u.length,C=Sf(u,c);return kp(u,Ke(c,function(_){return iu(_,m)?+_:_}).sort(u0)),C});function Pc(u){return null==u?u:zy.call(u)}var Qi=Xt(function(u){return Ps(Ii(u,1,ur,!0))}),Hh=Xt(function(u){var c=po(u);return ur(c)&&(c=B),Ps(Ii(u,1,ur,!0),It(c,2))}),um=Xt(function(u){var c=po(u);return c="function"==typeof c?c:B,Ps(Ii(u,1,ur,!0),B,c)});function Lc(u){if(!u||!u.length)return[];var c=0;return u=Tn(u,function(m){if(ur(m))return c=kr(m.length,c),!0}),Il(c,function(m){return Ke(u,Ya(m))})}function cm(u,c){if(!u||!u.length)return[];var m=Lc(u);return null==c?m:Ke(m,function(C){return he(c,B,C)})}var B0=Xt(function(u,c){return ur(u)?qa(u,c):[]}),fm=Xt(function(u){return Mh(Tn(u,ur))}),z0=Xt(function(u){var c=po(u);return ur(c)&&(c=B),Mh(Tn(u,ur),It(c,2))}),dm=Xt(function(u){var c=po(u);return c="function"==typeof c?c:B,Mh(Tn(u,ur),B,c)}),G0=Xt(Lc),V0=Xt(function(u){var c=u.length,m=c>1?u[c-1]:B;return m="function"==typeof m?(u.pop(),m):B,cm(u,m)});function gm(u){var c=L(u);return c.__chain__=!0,c}function nd(u,c){return c(u)}var Z0=lt(function(u){var c=u.length,m=c?u[0]:0,C=this.__wrapped__,_=function(F){return Sf(F,u)};return!(c>1||this.__actions__.length)&&C instanceof Nt&&iu(m)?((C=C.slice(m,+m+(c?1:0))).__actions__.push({func:nd,args:[_],thisArg:B}),new yi(C,this.__chain__).thru(function(F){return c&&!F.length&&F.push(B),F})):this.thru(_)}),$0=Uf(function(u,c,m){ye.call(u,m)?++u[m]:Ca(u,m,1)}),pm=_h(Gh),Q0=_h(go);function $h(u,c){return(Lt(u)?Ve:Qa)(u,It(c,3))}function mm(u,c){return(Lt(u)?Ot:Np)(u,It(c,3))}var nI=Uf(function(u,c,m){ye.call(u,m)?u[m].push(c):Ca(u,m,[c])}),Gl=Xt(function(u,c,m){var C=-1,_="function"==typeof c,F=Ki(u)?pe(u.length):[];return Qa(u,function(J){F[++C]=_?he(c,J,m):Aa(J,c,m)}),F}),Zo=Uf(function(u,c,m){Ca(u,m,c)});function Jh(u,c){return(Lt(u)?Ke:wc)(u,It(c,3))}var vm=Uf(function(u,c,m){u[m?0:1].push(c)},function(){return[[],[]]}),Cm=Xt(function(u,c){if(null==u)return[];var m=c.length;return m>1&&ki(u,c[0],c[1])?c=[]:m>2&&ki(c[0],c[1],c[2])&&(c=[c[0]]),El(u,Ii(c,1),[])}),Ul=Rb||function(){return f.Date.now()};function eg(u,c,m){return c=m?B:c,ba(u,A,B,B,B,B,c=u&&null==c?u.length:c)}function sI(u,c){var m;if("function"!=typeof c)throw new R(on);return u=St(u),function(){return--u>0&&(m=c.apply(this,arguments)),u<=1&&(c=B),m}}var ou=Xt(function(u,c,m){var C=1;if(m.length){var _=gs(m,Fl(ou));C|=32}return ba(u,C,c,m,_)}),rd=Xt(function(u,c,m){var C=3;if(m.length){var _=gs(m,Fl(rd));C|=32}return ba(c,C,u,m,_)});function id(u,c,m){var C,_,F,J,te,ue,De=0,xe=!1,Se=!1,ze=!0;if("function"!=typeof u)throw new R(on);function nt(Ir){var qs=C,Xo=_;return C=_=B,De=Ir,J=u.apply(Xo,qs)}function wt(Ir){return De=Ir,te=Tc(rn,c),xe?nt(Ir):J}function bt(Ir){var qs=Ir-ue;return ue===B||qs>=c||qs<0||Se&&Ir-De>=F}function rn(){var Ir=Ul();if(bt(Ir))return gn(Ir);te=Tc(rn,function(Ir){var Dg=c-(Ir-ue);return Se?Ri(Dg,F-(Ir-De)):Dg}(Ir))}function gn(Ir){return te=B,ze&&C?nt(Ir):(C=_=B,J)}function es(){var Ir=Ul(),qs=bt(Ir);if(C=arguments,_=this,ue=Ir,qs){if(te===B)return wt(ue);if(Se)return o0(te),te=Tc(rn,c),nt(ue)}return te===B&&(te=Tc(rn,c)),J}return c=ks(c)||0,lr(m)&&(xe=!!m.leading,F=(Se="maxWait"in m)?kr(ks(m.maxWait)||0,c):F,ze="trailing"in m?!!m.trailing:ze),es.cancel=function(){te!==B&&o0(te),De=0,C=ue=_=te=B},es.flush=function(){return te===B?J:gn(Ul())},es}var oI=Xt(function(u,c){return Ih(u,1,c)}),aI=Xt(function(u,c,m){return Ih(u,ks(c)||0,m)});function sd(u,c){if("function"!=typeof u||null!=c&&"function"!=typeof c)throw new R(on);var m=function(){var C=arguments,_=c?c.apply(this,C):C[0],F=m.cache;if(F.has(_))return F.get(_);var J=u.apply(this,C);return m.cache=F.set(_,J)||F,J};return m.cache=new(sd.Cache||Ut),m}function od(u){if("function"!=typeof u)throw new R(on);return function(){var c=arguments;switch(c.length){case 0:return!u.call(this);case 1:return!u.call(this,c[0]);case 2:return!u.call(this,c[0],c[1]);case 3:return!u.call(this,c[0],c[1],c[2])}return!u.apply(this,c)}}sd.Cache=Ut;var wm=zb(function(u,c){var m=(c=1==c.length&&Lt(c[0])?Ke(c[0],Xr(It())):Ke(Ii(c,1),Xr(It()))).length;return Xt(function(C){for(var _=-1,F=Ri(C.length,m);++_<F;)C[_]=c[_].call(this,C[_]);return he(u,this,C)})}),Fc=Xt(function(u,c){var m=gs(c,Fl(Fc));return ba(u,32,B,c,m)}),ng=Xt(function(u,c){var m=gs(c,Fl(ng));return ba(u,64,B,c,m)}),rg=lt(function(u,c){return ba(u,256,B,B,B,c)});function Js(u,c){return u===c||u!=u&&c!=c}var Em=Ph(Ef),ig=Ph(function(u,c){return u>=c}),au=_f(function(){return arguments}())?_f:function(u){return cr(u)&&ye.call(u,"callee")&&!Ou.call(u,"callee")},Lt=pe.isArray,ud=O?Xr(O):function(u){return cr(u)&&Ci(u)==Zt};function Ki(u){return null!=u&&Bc(u.length)&&!Ho(u)}function ur(u){return cr(u)&&Ki(u)}var Wo=Lb||yg,jc=X?Xr(X):function(u){return cr(u)&&Ci(u)==pr};function ld(u){if(!cr(u))return!1;var c=Ci(u);return c==Vr||"[object DOMException]"==c||"string"==typeof u.message&&"string"==typeof u.name&&!zc(u)}function Ho(u){if(!lr(u))return!1;var c=Ci(u);return c==ia||c==sa||"[object AsyncFunction]"==c||"[object Proxy]"==c}function vI(u){return"number"==typeof u&&u==St(u)}function Bc(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=Mi}function lr(u){var c=typeof u;return null!=u&&("object"==c||"function"==c)}function cr(u){return null!=u&&"object"==typeof u}var Tm=Y?Xr(Y):function(u){return cr(u)&&Ai(u)==xt};function Om(u){return"number"==typeof u||cr(u)&&Ci(u)==wn}function zc(u){if(!cr(u)||Ci(u)!=P)return!1;var c=vi(u);if(null===c)return!0;var m=ye.call(c,"constructor")&&c.constructor;return"function"==typeof m&&m instanceof m&&be.call(m)==ft}var cd=oe?Xr(oe):function(u){return cr(u)&&Ci(u)==Ae},Rm=me?Xr(me):function(u){return cr(u)&&Ai(u)==we};function fd(u){return"string"==typeof u||!Lt(u)&&cr(u)&&Ci(u)==Pe}function ut(u){return"symbol"==typeof u||cr(u)&&Ci(u)==Qe}var Vl=Ee?Xr(Ee):function(u){return cr(u)&&Bc(u.length)&&!!Nn[Ci(u)]},vo=Ph(Ac),Fm=Ph(function(u,c){return u<=c});function jm(u){if(!u)return[];if(Ki(u))return fd(u)?tt(u):qi(u);if(Af&&u[Af])return function(re){for(var de,pe=[];!(de=re.next()).done;)pe.push(de.value);return pe}(u[Af]());var c=Ai(u);return(c==xt?Yi:c==we?Es:Zl)(u)}function yo(u){return u?(u=ks(u))===Fn||u===-Fn?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function St(u){var c=yo(u),m=c%1;return c==c?m?c-m:c:0}function hd(u){return u?zo(St(u),0,ir):0}function ks(u){if("number"==typeof u)return u;if(ut(u))return NaN;if(lr(u)){var c="function"==typeof u.valueOf?u.valueOf():u;u=lr(c)?c+"":c}if("string"!=typeof u)return 0===u?u:+u;u=yf(u);var m=cl.test(u);return m||Du.test(u)?W(u.slice(2),m?2:8):so.test(u)?NaN:+u}function gd(u){return Rs(u,Fs(u))}function Sn(u){return null==u?"":ai(u)}var s1=Rl(function(u,c){if(su(c)||Ki(c))Rs(c,wi(c),u);else for(var m in c)ye.call(c,m)&&yc(u,m,c[m])}),Gc=Rl(function(u,c){Rs(c,Fs(c),u)}),Xu=Rl(function(u,c,m,C){Rs(c,Fs(c),u,C)}),og=Rl(function(u,c,m,C){Rs(c,wi(c),u,C)}),ag=lt(Sf),o1=Xt(function(u,c){u=hn(u);var m=-1,C=c.length,_=C>2?c[2]:B;for(_&&ki(c[0],c[1],_)&&(C=1);++m<C;)for(var F=c[m],J=Fs(F),te=-1,ue=J.length;++te<ue;){var De=J[te],xe=u[De];(xe===B||Js(xe,ve[De])&&!ye.call(u,De))&&(u[De]=F[De])}return u}),bI=Xt(function(u){return u.push(B,Oh),he(_I,B,u)});function pd(u,c,m){var C=null==u?B:Uo(u,c);return C===B?m:C}function Uc(u,c){return null!=u&&Lh(u,c,Ka)}var l1=Vp(function(u,c,m){null!=c&&"function"!=typeof c.toString&&(c=at.call(c)),u[c]=m},Cd(Is)),c1=Vp(function(u,c,m){null!=c&&"function"!=typeof c.toString&&(c=at.call(c)),ye.call(u,c)?u[c].push(m):u[c]=[m]},It),f1=Xt(Aa);function wi(u){return Ki(u)?Fu(u):bh(u)}function Fs(u){return Ki(u)?Fu(u,!0):function(u){if(!lr(u))return function(u){var c=[];if(null!=u)for(var m in hn(u))c.push(m);return c}(u);var c=su(u),m=[];for(var C in u)"constructor"==C&&(c||!ye.call(u,C))||m.push(C);return m}(u)}var g1=Rl(function(u,c,m){bc(u,c,m)}),_I=Rl(function(u,c,m,C){bc(u,c,m,C)}),p1=lt(function(u,c){var m={};if(null==u)return m;var C=!1;c=Ke(c,function(F){return F=Gu(F,u),C||(C=F.length>1),F}),Rs(u,Yp(u),m),C&&(m=Ns(m,7,d0));for(var _=c.length;_--;)zf(m,c[_]);return m}),lg=lt(function(u,c){return null==u?{}:function(u,c){return Lf(u,c,function(m,C){return Uc(u,C)})}(u,c)});function Gm(u,c){if(null==u)return{};var m=Ke(Yp(u),function(C){return[C]});return c=It(c),Lf(u,m,function(C,_){return c(C,_[0])})}var md=Zp(wi),Zm=Zp(Fs);function Zl(u){return null==u?[]:Cl(u,wi(u))}var Wl=tu(function(u,c,m){return c=c.toLowerCase(),u+(m?vd(c):c)});function vd(u){return gg(Sn(u).toLowerCase())}function $u(u){return(u=Sn(u))&&u.replace(uc,Mr).replace(Yr,"")}var Ym=tu(function(u,c,m){return u+(m?"-":"")+c.toLowerCase()}),Xm=tu(function(u,c,m){return u+(m?" ":"")+c.toLowerCase()}),dg=vs("toLowerCase"),qm=tu(function(u,c,m){return u+(m?"_":"")+c.toLowerCase()}),LI=tu(function(u,c,m){return u+(m?" ":"")+gg(c)}),I1=tu(function(u,c,m){return u+(m?" ":"")+c.toUpperCase()}),gg=vs("toUpperCase");function Id(u,c,m){return u=Sn(u),(c=m?B:c)===B?function(re){return gi.test(re)}(u)?function(re){return re.match(Ha)||[]}(u):function(re){return re.match(Va)||[]}(u):u.match(c)||[]}var pg=Xt(function(u,c){try{return he(u,B,c)}catch(m){return ld(m)?m:new At(m)}}),zI=lt(function(u,c){return Ve(c,function(m){m=ys(m),Ca(u,m,ou(u[m],u))}),u});function Cd(u){return function(){return u}}var tv=Up(),ZI=Up(!0);function Is(u){return u}function Ad(u){return Bu("function"==typeof u?u:Ns(u,1))}var Yo=Xt(function(u,c){return function(m){return Aa(m,u,c)}}),mg=Xt(function(u,c){return function(m){return Aa(u,m,c)}});function vg(u,c,m){var C=wi(c),_=ju(c,C);null==m&&(!lr(c)||!_.length&&C.length)&&(m=c,c=u,u=this,_=ju(c,wi(c)));var F=!(lr(m)&&"chain"in m&&!m.chain),J=Ho(u);return Ve(_,function(te){var ue=c[te];u[te]=ue,J&&(u.prototype[te]=function(){var De=this.__chain__;if(F||De){var xe=u(this.__wrapped__),Se=xe.__actions__=qi(this.__actions__);return Se.push({func:ue,args:arguments,thisArg:u}),xe.__chain__=De,xe}return ue.apply(u,ht([this.value()],arguments))})}),u}function rv(){}var YI=Nh(Ke),XI=Nh(Xe),$I=Nh(Gn);function wd(u){return kh(u)?Ya(ys(u)):function(u){return function(c){return Uo(c,u)}}(u)}var qI=Sc(),bd=Sc(!0);function Wc(){return[]}function yg(){return!1}var C1=Zf(function(u,c){return u+c},0),eC=Ec("ceil"),ov=Zf(function(u,c){return u/c},1),av=Ec("floor"),nC=Zf(function(u,c){return u*c},1),A1=Ec("round"),wg=Zf(function(u,c){return u-c},0);return L.after=function(u,c){if("function"!=typeof c)throw new R(on);return u=St(u),function(){if(--u<1)return c.apply(this,arguments)}},L.ary=eg,L.assign=s1,L.assignIn=Gc,L.assignInWith=Xu,L.assignWith=og,L.at=ag,L.before=sI,L.bind=ou,L.bindAll=zI,L.bindKey=rd,L.castArray=function(){if(!arguments.length)return[];var u=arguments[0];return Lt(u)?u:[u]},L.chain=gm,L.chunk=function(u,c,m){c=(m?ki(u,c,m):c===B)?1:kr(St(c),0);var C=null==u?0:u.length;if(!C||c<1)return[];for(var _=0,F=0,J=pe(wl(C/c));_<C;)J[F++]=Ts(u,_,_+=c);return J},L.compact=function(u){for(var c=-1,m=null==u?0:u.length,C=0,_=[];++c<m;){var F=u[c];F&&(_[C++]=F)}return _},L.concat=function(){var u=arguments.length;if(!u)return[];for(var c=pe(u-1),m=arguments[0],C=u;C--;)c[C-1]=arguments[C];return ht(Lt(m)?qi(m):[m],Ii(c,1))},L.cond=function(u){var c=null==u?0:u.length,m=It();return u=c?Ke(u,function(C){if("function"!=typeof C[1])throw new R(on);return[m(C[0]),C[1]]}):[],Xt(function(C){for(var _=-1;++_<c;){var F=u[_];if(he(F[0],this,C))return he(F[1],this,C)}})},L.conforms=function(u){return function(u){var c=wi(u);return function(m){return yh(m,u,c)}}(Ns(u,1))},L.constant=Cd,L.countBy=$0,L.create=function(u,c){var m=Dl(u);return null==c?m:mh(m,c)},L.curry=function tg(u,c,m){var C=ba(u,8,B,B,B,B,B,c=m?B:c);return C.placeholder=tg.placeholder,C},L.curryRight=function Am(u,c,m){var C=ba(u,16,B,B,B,B,B,c=m?B:c);return C.placeholder=Am.placeholder,C},L.debounce=id,L.defaults=o1,L.defaultsDeep=bI,L.defer=oI,L.delay=aI,L.difference=em,L.differenceBy=A0,L.differenceWith=w0,L.drop=function(u,c,m){var C=null==u?0:u.length;return C?Ts(u,(c=m||c===B?1:St(c))<0?0:c,C):[]},L.dropRight=function(u,c,m){var C=null==u?0:u.length;return C?Ts(u,0,(c=C-(c=m||c===B?1:St(c)))<0?0:c):[]},L.dropRightWhile=function(u,c){return u&&u.length?wa(u,It(c,3),!0,!0):[]},L.dropWhile=function(u,c){return u&&u.length?wa(u,It(c,3),!0):[]},L.fill=function(u,c,m,C){var _=null==u?0:u.length;return _?(m&&"number"!=typeof m&&ki(u,c,m)&&(m=0,C=_),function(u,c,m,C){var _=u.length;for((m=St(m))<0&&(m=-m>_?0:_+m),(C=C===B||C>_?_:St(C))<0&&(C+=_),C=m>C?0:hd(C);m<C;)u[m++]=c;return u}(u,c,m,C)):[]},L.filter=function(u,c){return(Lt(u)?Tn:Tp)(u,It(c,3))},L.flatMap=function(u,c){return Ii(Jh(u,c),1)},L.flatMapDeep=function(u,c){return Ii(Jh(u,c),Fn)},L.flatMapDepth=function(u,c,m){return m=m===B?1:St(m),Ii(Jh(u,c),m)},L.flatten=Bl,L.flattenDeep=function(u){return null!=u&&u.length?Ii(u,Fn):[]},L.flattenDepth=function(u,c){return null!=u&&u.length?Ii(u,c=c===B?1:St(c)):[]},L.flip=function(u){return ba(u,512)},L.flow=tv,L.flowRight=ZI,L.fromPairs=function(u){for(var c=-1,m=null==u?0:u.length,C={};++c<m;){var _=u[c];C[_[0]]=_[1]}return C},L.functions=function(u){return null==u?[]:ju(u,wi(u))},L.functionsIn=function(u){return null==u?[]:ju(u,Fs(u))},L.groupBy=nI,L.initial=function(u){return null!=u&&u.length?Ts(u,0,-1):[]},L.intersection=Uh,L.intersectionBy=Vh,L.intersectionWith=Zh,L.invert=l1,L.invertBy=c1,L.invokeMap=Gl,L.iteratee=Ad,L.keyBy=Zo,L.keys=wi,L.keysIn=Fs,L.map=Jh,L.mapKeys=function(u,c){var m={};return c=It(c,3),Go(u,function(C,_,F){Ca(m,c(C,_,F),C)}),m},L.mapValues=function(u,c){var m={};return c=It(c,3),Go(u,function(C,_,F){Ca(m,_,c(C,_,F))}),m},L.matches=function(u){return Ky(Ns(u,1))},L.matchesProperty=function(u,c){return Dh(u,Ns(c,1))},L.memoize=sd,L.merge=g1,L.mergeWith=_I,L.method=Yo,L.methodOf=mg,L.mixin=vg,L.negate=od,L.nthArg=function(u){return u=St(u),Xt(function(c){return Lp(c,u)})},L.omit=p1,L.omitBy=function(u,c){return Gm(u,od(It(c)))},L.once=function(u){return sI(2,u)},L.orderBy=function(u,c,m,C){return null==u?[]:(Lt(c)||(c=null==c?[]:[c]),Lt(m=C?B:m)||(m=null==m?[]:[m]),El(u,c,m))},L.over=YI,L.overArgs=wm,L.overEvery=XI,L.overSome=$I,L.partial=Fc,L.partialRight=ng,L.partition=vm,L.pick=lg,L.pickBy=Gm,L.property=wd,L.propertyOf=function(u){return function(c){return null==u?B:Uo(u,c)}},L.pull=E0,L.pullAll=sm,L.pullAllBy=function(u,c,m){return u&&u.length&&c&&c.length?_l(u,c,It(m,2)):u},L.pullAllWith=function(u,c,m){return u&&u.length&&c&&c.length?_l(u,c,B,m):u},L.pullAt=td,L.range=qI,L.rangeRight=bd,L.rearg=rg,L.reject=function(u,c){return(Lt(u)?Tn:Tp)(u,od(It(c,3)))},L.remove=function(u,c){var m=[];if(!u||!u.length)return m;var C=-1,_=[],F=u.length;for(c=It(c,3);++C<F;){var J=u[C];c(J,C,u)&&(m.push(J),_.push(C))}return kp(u,_),m},L.rest=function(u,c){if("function"!=typeof u)throw new R(on);return Xt(u,c=c===B?c:St(c))},L.reverse=Pc,L.sampleSize=function(u,c,m){return c=(m?ki(u,c,m):c===B)?1:St(c),(Lt(u)?Xy:n0)(u,c)},L.set=function(u,c,m){return null==u?u:eu(u,c,m)},L.setWith=function(u,c,m,C){return C="function"==typeof C?C:B,null==u?u:eu(u,c,m,C)},L.shuffle=function(u){return(Lt(u)?Ep:jp)(u)},L.slice=function(u,c,m){var C=null==u?0:u.length;return C?(m&&"number"!=typeof m&&ki(u,c,m)?(c=0,m=C):(c=null==c?0:St(c),m=m===B?C:St(m)),Ts(u,c,m)):[]},L.sortBy=Cm,L.sortedUniq=function(u){return u&&u.length?Pl(u):[]},L.sortedUniqBy=function(u,c){return u&&u.length?Pl(u,It(c,2)):[]},L.split=function(u,c,m){return m&&"number"!=typeof m&&ki(u,c,m)&&(c=m=B),(m=m===B?ir:m>>>0)?(u=Sn(u))&&("string"==typeof c||null!=c&&!cd(c))&&!(c=ai(c))&&si(u)?Uu(tt(u),0,m):u.split(c,m):[]},L.spread=function(u,c){if("function"!=typeof u)throw new R(on);return c=null==c?0:kr(St(c),0),Xt(function(m){var C=m[c],_=Uu(m,0,c);return C&&ht(_,C),he(u,this,_)})},L.tail=function(u){var c=null==u?0:u.length;return c?Ts(u,1,c):[]},L.take=function(u,c,m){return u&&u.length?Ts(u,0,(c=m||c===B?1:St(c))<0?0:c):[]},L.takeRight=function(u,c,m){var C=null==u?0:u.length;return C?Ts(u,(c=C-(c=m||c===B?1:St(c)))<0?0:c,C):[]},L.takeRightWhile=function(u,c){return u&&u.length?wa(u,It(c,3),!1,!0):[]},L.takeWhile=function(u,c){return u&&u.length?wa(u,It(c,3)):[]},L.tap=function(u,c){return c(u),u},L.throttle=function(u,c,m){var C=!0,_=!0;if("function"!=typeof u)throw new R(on);return lr(m)&&(C="leading"in m?!!m.leading:C,_="trailing"in m?!!m.trailing:_),id(u,c,{leading:C,maxWait:c,trailing:_})},L.thru=nd,L.toArray=jm,L.toPairs=md,L.toPairsIn=Zm,L.toPath=function(u){return Lt(u)?Ke(u,ys):ut(u)?[u]:qi(Da(Sn(u)))},L.toPlainObject=gd,L.transform=function(u,c,m){var C=Lt(u),_=C||Wo(u)||Vl(u);if(c=It(c,4),null==m){var F=u&&u.constructor;m=_?C?new F:[]:lr(u)&&Ho(F)?Dl(vi(u)):{}}return(_?Ve:Go)(u,function(J,te,ue){return c(m,J,te,ue)}),m},L.unary=function(u){return eg(u,1)},L.union=Qi,L.unionBy=Hh,L.unionWith=um,L.uniq=function(u){return u&&u.length?Ps(u):[]},L.uniqBy=function(u,c){return u&&u.length?Ps(u,It(c,2)):[]},L.uniqWith=function(u,c){return c="function"==typeof c?c:B,u&&u.length?Ps(u,B,c):[]},L.unset=function(u,c){return null==u||zf(u,c)},L.unzip=Lc,L.unzipWith=cm,L.update=function(u,c,m){return null==u?u:Gf(u,c,Bp(m))},L.updateWith=function(u,c,m,C){return C="function"==typeof C?C:B,null==u?u:Gf(u,c,Bp(m),C)},L.values=Zl,L.valuesIn=function(u){return null==u?[]:Cl(u,Fs(u))},L.without=B0,L.words=Id,L.wrap=function(u,c){return Fc(Bp(c),u)},L.xor=fm,L.xorBy=z0,L.xorWith=dm,L.zip=G0,L.zipObject=function(u,c){return yn(u||[],c||[],yc)},L.zipObjectDeep=function(u,c){return yn(u||[],c||[],eu)},L.zipWith=V0,L.entries=md,L.entriesIn=Zm,L.extend=Gc,L.extendWith=Xu,vg(L,L),L.add=C1,L.attempt=pg,L.camelCase=Wl,L.capitalize=vd,L.ceil=eC,L.clamp=function(u,c,m){return m===B&&(m=c,c=B),m!==B&&(m=(m=ks(m))==m?m:0),c!==B&&(c=(c=ks(c))==c?c:0),zo(ks(u),c,m)},L.clone=function(u){return Ns(u,4)},L.cloneDeep=function(u){return Ns(u,5)},L.cloneDeepWith=function(u,c){return Ns(u,5,c="function"==typeof c?c:B)},L.cloneWith=function(u,c){return Ns(u,4,c="function"==typeof c?c:B)},L.conformsTo=function(u,c){return null==c||yh(u,c,wi(c))},L.deburr=$u,L.defaultTo=function(u,c){return null==u||u!=u?c:u},L.divide=ov,L.endsWith=function(u,c,m){u=Sn(u),c=ai(c);var C=u.length,_=m=m===B?C:zo(St(m),0,C);return(m-=c.length)>=0&&u.slice(m,_)==c},L.eq=Js,L.escape=function(u){return(u=Sn(u))&&io.test(u)?u.replace(Fa,Ti):u},L.escapeRegExp=function(u){return(u=Sn(u))&&Ga.test(u)?u.replace(Hs,"\\$&"):u},L.every=function(u,c,m){var C=Lt(u)?Xe:Ji;return m&&ki(u,c,m)&&(c=B),C(u,It(c,3))},L.find=pm,L.findIndex=Gh,L.findKey=function(u,c){return en(u,It(c,3),Go)},L.findLast=Q0,L.findLastIndex=go,L.findLastKey=function(u,c){return en(u,It(c,3),Ah)},L.floor=av,L.forEach=$h,L.forEachRight=mm,L.forIn=function(u,c){return null==u?u:Ch(u,It(c,3),Fs)},L.forInRight=function(u,c){return null==u?u:Pp(u,It(c,3),Fs)},L.forOwn=function(u,c){return u&&Go(u,It(c,3))},L.forOwnRight=function(u,c){return u&&Ah(u,It(c,3))},L.get=pd,L.gt=Em,L.gte=ig,L.has=function(u,c){return null!=u&&Lh(u,c,$y)},L.hasIn=Uc,L.head=M0,L.identity=Is,L.includes=function(u,c,m,C){u=Ki(u)?u:Zl(u),m=m&&!C?St(m):0;var _=u.length;return m<0&&(m=kr(_+m,0)),fd(u)?m<=_&&u.indexOf(c,m)>-1:!!_&&Rr(u,c,m)>-1},L.indexOf=function(u,c,m){var C=null==u?0:u.length;if(!C)return-1;var _=null==m?0:St(m);return _<0&&(_=kr(C+_,0)),Rr(u,c,_)},L.inRange=function(u,c,m){return c=yo(c),m===B?(m=c,c=0):m=yo(m),function(u,c,m){return u>=Ri(c,m)&&u<kr(c,m)}(u=ks(u),c,m)},L.invoke=f1,L.isArguments=au,L.isArray=Lt,L.isArrayBuffer=ud,L.isArrayLike=Ki,L.isArrayLikeObject=ur,L.isBoolean=function(u){return!0===u||!1===u||cr(u)&&Ci(u)==Si},L.isBuffer=Wo,L.isDate=jc,L.isElement=function(u){return cr(u)&&1===u.nodeType&&!zc(u)},L.isEmpty=function(u){if(null==u)return!0;if(Ki(u)&&(Lt(u)||"string"==typeof u||"function"==typeof u.splice||Wo(u)||Vl(u)||au(u)))return!u.length;var c=Ai(u);if(c==xt||c==we)return!u.size;if(su(u))return!bh(u).length;for(var m in u)if(ye.call(u,m))return!1;return!0},L.isEqual=function(u,c){return Nf(u,c)},L.isEqualWith=function(u,c,m){var C=(m="function"==typeof m?m:B)?m(u,c):B;return C===B?Nf(u,c,B,m):!!C},L.isError=ld,L.isFinite=function(u){return"number"==typeof u&&$a(u)},L.isFunction=Ho,L.isInteger=vI,L.isLength=Bc,L.isMap=Tm,L.isMatch=function(u,c){return u===c||Pf(u,c,Zu(c))},L.isMatchWith=function(u,c,m){return m="function"==typeof m?m:B,Pf(u,c,Zu(c),m)},L.isNaN=function(u){return Om(u)&&u!=+u},L.isNative=function(u){if(v0(u))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Of(u)},L.isNil=function(u){return null==u},L.isNull=function(u){return null===u},L.isNumber=Om,L.isObject=lr,L.isObjectLike=cr,L.isPlainObject=zc,L.isRegExp=cd,L.isSafeInteger=function(u){return vI(u)&&u>=-Mi&&u<=Mi},L.isSet=Rm,L.isString=fd,L.isSymbol=ut,L.isTypedArray=Vl,L.isUndefined=function(u){return u===B},L.isWeakMap=function(u){return cr(u)&&Ai(u)==un},L.isWeakSet=function(u){return cr(u)&&"[object WeakSet]"==Ci(u)},L.join=function(u,c){return null==u?"":jy.call(u,c)},L.kebabCase=Ym,L.last=po,L.lastIndexOf=function(u,c,m){var C=null==u?0:u.length;if(!C)return-1;var _=C;return m!==B&&(_=(_=St(m))<0?kr(C+_,0):Ri(_,C-1)),c==c?function(re,de,pe){for(var Be=pe+1;Be--;)if(re[Be]===de)return Be;return Be}(u,c,_):lo(u,Vt,_,!0)},L.lowerCase=Xm,L.lowerFirst=dg,L.lt=vo,L.lte=Fm,L.max=function(u){return u&&u.length?fo(u,Is,Ef):B},L.maxBy=function(u,c){return u&&u.length?fo(u,It(c,2),Ef):B},L.mean=function(u){return ds(u,Is)},L.meanBy=function(u,c){return ds(u,It(c,2))},L.min=function(u){return u&&u.length?fo(u,Is,Ac):B},L.minBy=function(u,c){return u&&u.length?fo(u,It(c,2),Ac):B},L.stubArray=Wc,L.stubFalse=yg,L.stubObject=function(){return{}},L.stubString=function(){return""},L.stubTrue=function(){return!0},L.multiply=nC,L.nth=function(u,c){return u&&u.length?Lp(u,St(c)):B},L.noConflict=function(){return f._===this&&(f._=vt),this},L.noop=rv,L.now=Ul,L.pad=function(u,c,m){u=Sn(u);var C=(c=St(c))?Le(u):0;if(!c||C>=c)return u;var _=(c-C)/2;return Mc(lh(_),m)+u+Mc(wl(_),m)},L.padEnd=function(u,c,m){u=Sn(u);var C=(c=St(c))?Le(u):0;return c&&C<c?u+Mc(c-C,m):u},L.padStart=function(u,c,m){u=Sn(u);var C=(c=St(c))?Le(u):0;return c&&C<c?Mc(c-C,m)+u:u},L.parseInt=function(u,c,m){return m||null==c?c=0:c&&(c=+c),Ap(Sn(u).replace(_o,""),c||0)},L.random=function(u,c,m){if(m&&"boolean"!=typeof m&&ki(u,c,m)&&(c=m=B),m===B&&("boolean"==typeof c?(m=c,c=B):"boolean"==typeof u&&(m=u,u=B)),u===B&&c===B?(u=0,c=1):(u=yo(u),c===B?(c=u,u=0):c=yo(c)),u>c){var C=u;u=c,c=C}if(m||u%1||c%1){var _=ch();return Ri(u+_*(c-u+Z("1e-"+((_+"").length-1))),c)}return Ff(u,c)},L.reduce=function(u,c,m){var C=Lt(u)?pi:Pu,_=arguments.length<3;return C(u,It(c,4),m,_,Qa)},L.reduceRight=function(u,c,m){var C=Lt(u)?Bt:Pu,_=arguments.length<3;return C(u,It(c,4),m,_,Np)},L.repeat=function(u,c,m){return c=(m?ki(u,c,m):c===B)?1:St(c),jf(Sn(u),c)},L.replace=function(){var u=arguments,c=Sn(u[0]);return u.length<3?c:c.replace(u[1],u[2])},L.result=function(u,c,m){var C=-1,_=(c=Gu(c,u)).length;for(_||(_=1,u=B);++C<_;){var F=null==u?B:u[ys(c[C])];F===B&&(C=_,F=m),u=Ho(F)?F.call(u):F}return u},L.round=A1,L.runInContext=re,L.sample=function(u){return(Lt(u)?Bo:t0)(u)},L.size=function(u){if(null==u)return 0;if(Ki(u))return fd(u)?Le(u):u.length;var c=Ai(u);return c==xt||c==we?u.size:bh(u).length},L.snakeCase=qm,L.some=function(u,c,m){var C=Lt(u)?Gn:Tl;return m&&ki(u,c,m)&&(c=B),C(u,It(c,3))},L.sortedIndex=function(u,c){return Bf(u,c)},L.sortedIndexBy=function(u,c,m){return Dc(u,c,It(m,2))},L.sortedIndexOf=function(u,c){var m=null==u?0:u.length;if(m){var C=Bf(u,c);if(C<m&&Js(u[C],c))return C}return-1},L.sortedLastIndex=function(u,c){return Bf(u,c,!0)},L.sortedLastIndexBy=function(u,c,m){return Dc(u,c,It(m,2),!0)},L.sortedLastIndexOf=function(u,c){if(null!=u&&u.length){var C=Bf(u,c,!0)-1;if(Js(u[C],c))return C}return-1},L.startCase=LI,L.startsWith=function(u,c,m){return u=Sn(u),m=null==m?0:zo(St(m),0,u.length),c=ai(c),u.slice(m,m+c.length)==c},L.subtract=wg,L.sum=function(u){return u&&u.length?Hi(u,Is):0},L.sumBy=function(u,c){return u&&u.length?Hi(u,It(c,2)):0},L.template=function(u,c,m){var C=L.templateSettings;m&&ki(u,c,m)&&(c=B),u=Sn(u),c=Xu({},c,C,Wp);var te,ue,_=Xu({},c.imports,C.imports,Wp),F=wi(_),J=Cl(_,F),De=0,xe=c.interpolate||Wr,Se="__p += '",ze=$s((c.escape||Wr).source+"|"+xe.source+"|"+(xe===Ba?ls:Wr).source+"|"+(c.evaluate||Wr).source+"|$","g"),nt="//# sourceURL="+(ye.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Nu+"]")+"\n";u.replace(ze,function(bt,rn,gn,Bs,Pn,es){return gn||(gn=Bs),Se+=u.slice(De,es).replace(No,ii),rn&&(te=!0,Se+="' +\n__e("+rn+") +\n'"),Pn&&(ue=!0,Se+="';\n"+Pn+";\n__p += '"),gn&&(Se+="' +\n((__t = ("+gn+")) == null ? '' : __t) +\n'"),De=es+bt.length,bt}),Se+="';\n";var wt=ye.call(c,"variable")&&c.variable;if(wt){if(aa.test(wt))throw new At("Invalid `variable` option passed into `_.template`")}else Se="with (obj) {\n"+Se+"\n}\n";Se=(ue?Se.replace(br,""):Se).replace(ka,"$1").replace(ac,"$1;"),Se="function("+(wt||"obj")+") {\n"+(wt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(te?", __e = _.escape":"")+(ue?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Se+"return __p\n}";var kt=pg(function(){return Qt(F,nt+"return "+Se).apply(B,J)});if(kt.source=Se,ld(kt))throw kt;return kt},L.times=function(u,c){if((u=St(u))<1||u>Mi)return[];var m=ir,C=Ri(u,ir);c=It(c),u-=ir;for(var _=Il(C,c);++m<u;)c(m);return _},L.toFinite=yo,L.toInteger=St,L.toLength=hd,L.toLower=function(u){return Sn(u).toLowerCase()},L.toNumber=ks,L.toSafeInteger=function(u){return u?zo(St(u),-Mi,Mi):0===u?u:0},L.toString=Sn,L.toUpper=function(u){return Sn(u).toUpperCase()},L.trim=function(u,c,m){if((u=Sn(u))&&(m||c===B))return yf(u);if(!u||!(c=ai(c)))return u;var C=tt(u),_=tt(c);return Uu(C,Lo(C,_),If(C,_)+1).join("")},L.trimEnd=function(u,c,m){if((u=Sn(u))&&(m||c===B))return u.slice(0,tn(u)+1);if(!u||!(c=ai(c)))return u;var C=tt(u);return Uu(C,0,If(C,tt(c))+1).join("")},L.trimStart=function(u,c,m){if((u=Sn(u))&&(m||c===B))return u.replace(_o,"");if(!u||!(c=ai(c)))return u;var C=tt(u);return Uu(C,Lo(C,tt(c))).join("")},L.truncate=function(u,c){var m=30,C="...";if(lr(c)){var _="separator"in c?c.separator:_;m="length"in c?St(c.length):m,C="omission"in c?ai(c.omission):C}var F=(u=Sn(u)).length;if(si(u)){var J=tt(u);F=J.length}if(m>=F)return u;var te=m-Le(C);if(te<1)return C;var ue=J?Uu(J,0,te).join(""):u.slice(0,te);if(_===B)return ue+C;if(J&&(te+=ue.length-te),cd(_)){if(u.slice(te).search(_)){var De,xe=ue;for(_.global||(_=$s(_.source,Sn(ll.exec(_))+"g")),_.lastIndex=0;De=_.exec(xe);)var Se=De.index;ue=ue.slice(0,Se===B?te:Se)}}else if(u.indexOf(ai(_),te)!=te){var ze=ue.lastIndexOf(_);ze>-1&&(ue=ue.slice(0,ze))}return ue+C},L.unescape=function(u){return(u=Sn(u))&&Eo.test(u)?u.replace(Ni,mi):u},L.uniqueId=function(u){var c=++Re;return Sn(u)+c},L.upperCase=I1,L.upperFirst=gg,L.each=$h,L.eachRight=mm,L.first=M0,vg(L,function(){var u={};return Go(L,function(c,m){ye.call(L.prototype,m)||(u[m]=c)}),u}(),{chain:!1}),L.VERSION="4.17.21",Ve(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){L[u].placeholder=L}),Ve(["drop","take"],function(u,c){Nt.prototype[u]=function(m){m=m===B?1:kr(St(m),0);var C=this.__filtered__&&!c?new Nt(this):this.clone();return C.__filtered__?C.__takeCount__=Ri(m,C.__takeCount__):C.__views__.push({size:Ri(m,ir),type:u+(C.__dir__<0?"Right":"")}),C},Nt.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),Ve(["filter","map","takeWhile"],function(u,c){var m=c+1,C=1==m||3==m;Nt.prototype[u]=function(_){var F=this.clone();return F.__iteratees__.push({iteratee:It(_,3),type:m}),F.__filtered__=F.__filtered__||C,F}}),Ve(["head","last"],function(u,c){var m="take"+(c?"Right":"");Nt.prototype[u]=function(){return this[m](1).value()[0]}}),Ve(["initial","tail"],function(u,c){var m="drop"+(c?"":"Right");Nt.prototype[u]=function(){return this.__filtered__?new Nt(this):this[m](1)}}),Nt.prototype.compact=function(){return this.filter(Is)},Nt.prototype.find=function(u){return this.filter(u).head()},Nt.prototype.findLast=function(u){return this.reverse().find(u)},Nt.prototype.invokeMap=Xt(function(u,c){return"function"==typeof u?new Nt(this):this.map(function(m){return Aa(m,u,c)})}),Nt.prototype.reject=function(u){return this.filter(od(It(u)))},Nt.prototype.slice=function(u,c){u=St(u);var m=this;return m.__filtered__&&(u>0||c<0)?new Nt(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),c!==B&&(m=(c=St(c))<0?m.dropRight(-c):m.take(c-u)),m)},Nt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Nt.prototype.toArray=function(){return this.take(ir)},Go(Nt.prototype,function(u,c){var m=/^(?:filter|find|map|reject)|While$/.test(c),C=/^(?:head|last)$/.test(c),_=L[C?"take"+("last"==c?"Right":""):c],F=C||/^find/.test(c);!_||(L.prototype[c]=function(){var J=this.__wrapped__,te=C?[1]:arguments,ue=J instanceof Nt,De=te[0],xe=ue||Lt(J),Se=function(rn){var gn=_.apply(L,ht([rn],te));return C&&ze?gn[0]:gn};xe&&m&&"function"==typeof De&&1!=De.length&&(ue=xe=!1);var ze=this.__chain__,nt=!!this.__actions__.length,wt=F&&!ze,kt=ue&&!nt;if(!F&&xe){J=kt?J:new Nt(this);var bt=u.apply(J,te);return bt.__actions__.push({func:nd,args:[Se],thisArg:B}),new yi(bt,ze)}return wt&&kt?u.apply(this,te):(bt=this.thru(Se),wt?C?bt.value()[0]:bt.value():bt)})}),Ve(["pop","push","shift","sort","splice","unshift"],function(u){var c=q[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",C=/^(?:pop|shift)$/.test(u);L.prototype[u]=function(){var _=arguments;if(C&&!this.__chain__){var F=this.value();return c.apply(Lt(F)?F:[],_)}return this[m](function(J){return c.apply(Lt(J)?J:[],_)})}}),Go(Nt.prototype,function(u,c){var m=L[c];if(m){var C=m.name+"";ye.call(Ja,C)||(Ja[C]=[]),Ja[C].push({name:c,func:m})}}),Ja[Vf(B,2).name]=[{name:"wrapper",func:B}],Nt.prototype.clone=function(){var u=new Nt(this.__wrapped__);return u.__actions__=qi(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=qi(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=qi(this.__views__),u},Nt.prototype.reverse=function(){if(this.__filtered__){var u=new Nt(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Nt.prototype.value=function(){var u=this.__wrapped__.value(),c=this.__dir__,m=Lt(u),C=c<0,_=m?u.length:0,F=function(u,c,m){for(var C=-1,_=m.length;++C<_;){var F=m[C],J=F.size;switch(F.type){case"drop":u+=J;break;case"dropRight":c-=J;break;case"take":c=Ri(c,u+J);break;case"takeRight":u=kr(u,c-J)}}return{start:u,end:c}}(0,_,this.__views__),J=F.start,te=F.end,ue=te-J,De=C?te:J-1,xe=this.__iteratees__,Se=xe.length,ze=0,nt=Ri(ue,this.__takeCount__);if(!m||!C&&_==ue&&nt==ue)return s0(u,this.__actions__);var wt=[];e:for(;ue--&&ze<nt;){for(var kt=-1,bt=u[De+=c];++kt<Se;){var rn=xe[kt],Bs=rn.type,Pn=(0,rn.iteratee)(bt);if(2==Bs)bt=Pn;else if(!Pn){if(1==Bs)continue e;break e}}wt[ze++]=bt}return wt},L.prototype.at=Z0,L.prototype.chain=function(){return gm(this)},L.prototype.commit=function(){return new yi(this.value(),this.__chain__)},L.prototype.next=function(){this.__values__===B&&(this.__values__=jm(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?B:this.__values__[this.__index__++]}},L.prototype.plant=function(u){for(var c,m=this;m instanceof xl;){var C=C0(m);C.__index__=0,C.__values__=B,c?_.__wrapped__=C:c=C;var _=C;m=m.__wrapped__}return _.__wrapped__=u,c},L.prototype.reverse=function(){var u=this.__wrapped__;if(u instanceof Nt){var c=u;return this.__actions__.length&&(c=new Nt(this)),(c=c.reverse()).__actions__.push({func:nd,args:[Pc],thisArg:B}),new yi(c,this.__chain__)}return this.thru(Pc)},L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=function(){return s0(this.__wrapped__,this.__actions__)},L.prototype.first=L.prototype.head,Af&&(L.prototype[Af]=function(){return this}),L}();f._=Oi,(rr=function(){return Oi}.call(fi,et,fi,ei))!==B&&(ei.exports=rr)}.call(this)},610:function(ei){ei.exports=function(){var et="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},rr=Array.prototype,B=Object.prototype,fr="undefined"!=typeof Symbol?Symbol.prototype:null,ct=rr.push,Me=rr.slice,on=B.toString,di=B.hasOwnProperty,Tr="undefined"!=typeof ArrayBuffer,$t="undefined"!=typeof DataView,dr=Array.isArray,an=Object.keys,Vn=Object.create,Ar=Tr&&ArrayBuffer.isView,Gr=isNaN,jt=isFinite,qe=!{toString:null}.propertyIsEnumerable("toString"),Ue=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Fe=Math.pow(2,53)-1;function Je(x,k){return k=null==k?x.length-1:+k,function(){for(var Z=Math.max(arguments.length-k,0),W=Array(Z),ce=0;ce<Z;ce++)W[ce]=arguments[ce+k];switch(k){case 0:return x.call(this,W);case 1:return x.call(this,arguments[0],W);case 2:return x.call(this,arguments[0],arguments[1],W)}var ie=Array(k+1);for(ce=0;ce<k;ce++)ie[ce]=arguments[ce];return ie[k]=W,x.apply(this,ie)}}function mt(x){var k=typeof x;return"function"===k||"object"===k&&!!x}function je(x){return void 0===x}function Ln(x){return!0===x||!1===x||"[object Boolean]"===on.call(x)}function A(x){var k="[object "+x+"]";return function(Z){return on.call(Z)===k}}var ti=A("String"),_n=A("Number"),hi=A("Date"),Do=A("RegExp"),xo=A("Error"),Yn=A("Symbol"),as=A("ArrayBuffer"),no=A("Function");"object"!=typeof Int8Array&&"function"!=typeof(et.document&&et.document.childNodes)&&(no=function(x){return"function"==typeof x||!1});var Fn=no,Mi=A("Object"),na=$t&&Mi(new DataView(new ArrayBuffer(8))),us="undefined"!=typeof Map&&Mi(new Map),ir=A("DataView"),hr=na?function(x){return null!=x&&Fn(x.getInt8)&&as(x.buffer)}:ir,Ds=dr||A("Array");function gr(x,k){return null!=x&&di.call(x,k)}var Ur=A("Arguments");!function(){Ur(arguments)||(Ur=function(x){return gr(x,"callee")})}();var Ui=Ur;function ra(x){return _n(x)&&Gr(x)}function Si(x){return function(){return x}}function pr(x){return function(k){var Z=x(k);return"number"==typeof Z&&Z>=0&&Z<=Fe}}function ni(x){return function(k){return null==k?void 0:k[x]}}var Vr=ni("byteLength"),ia=pr(Vr),sa=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,xt=Tr?function(x){return Ar?Ar(x)&&!hr(x):ia(x)&&sa.test(on.call(x))}:Si(!1),wn=ni("length");function N(x,k){k=function(f){for(var g={},v=f.length,y=0;y<v;++y)g[f[y]]=!0;return{contains:function(D){return!0===g[D]},push:function(D){return g[D]=!0,f.push(D)}}}(k);var Z=Ue.length,W=x.constructor,ce=Fn(W)&&W.prototype||B,ie="constructor";for(gr(x,ie)&&!k.contains(ie)&&k.push(ie);Z--;)(ie=Ue[Z])in x&&x[ie]!==ce[ie]&&!k.contains(ie)&&k.push(ie)}function P(x){if(!mt(x))return[];if(an)return an(x);var k=[];for(var Z in x)gr(x,Z)&&k.push(Z);return qe&&N(x,k),k}function H(x,k){var Z=P(k),W=Z.length;if(null==x)return!W;for(var ce=Object(x),ie=0;ie<W;ie++){var f=Z[ie];if(k[f]!==ce[f]||!(f in ce))return!1}return!0}function ee(x){return x instanceof ee?x:this instanceof ee?void(this._wrapped=x):new ee(x)}function Ae(x){return new Uint8Array(x.buffer||x,x.byteOffset||0,Vr(x))}ee.VERSION="1.13.2",ee.prototype.valueOf=ee.prototype.toJSON=ee.prototype.value=function(){return this._wrapped},ee.prototype.toString=function(){return String(this._wrapped)};var we="[object DataView]";function Pe(x,k,Z,W){if(x===k)return 0!==x||1/x==1/k;if(null==x||null==k)return!1;if(x!=x)return k!=k;var ce=typeof x;return("function"===ce||"object"===ce||"object"==typeof k)&&function ie(f,g,v,y){f instanceof ee&&(f=f._wrapped),g instanceof ee&&(g=g._wrapped);var D=on.call(f);if(D!==on.call(g))return!1;if(na&&"[object Object]"==D&&hr(f)){if(!hr(g))return!1;D=we}switch(D){case"[object RegExp]":case"[object String]":return""+f==""+g;case"[object Number]":return+f!=+f?+g!=+g:0==+f?1/+f==1/g:+f==+g;case"[object Date]":case"[object Boolean]":return+f==+g;case"[object Symbol]":return fr.valueOf.call(f)===fr.valueOf.call(g);case"[object ArrayBuffer]":case we:return ie(Ae(f),Ae(g),v,y)}var M="[object Array]"===D;if(!M&&xt(f)){if(Vr(f)!==Vr(g))return!1;if(f.buffer===g.buffer&&f.byteOffset===g.byteOffset)return!0;M=!0}if(!M){if("object"!=typeof f||"object"!=typeof g)return!1;var O=f.constructor,X=g.constructor;if(O!==X&&!(Fn(O)&&O instanceof O&&Fn(X)&&X instanceof X)&&"constructor"in f&&"constructor"in g)return!1}y=y||[];for(var Y=(v=v||[]).length;Y--;)if(v[Y]===f)return y[Y]===g;if(v.push(f),y.push(g),M){if((Y=f.length)!==g.length)return!1;for(;Y--;)if(!Pe(f[Y],g[Y],v,y))return!1}else{var oe,me=P(f);if(Y=me.length,P(g).length!==Y)return!1;for(;Y--;)if(!gr(g,oe=me[Y])||!Pe(f[oe],g[oe],v,y))return!1}return v.pop(),y.pop(),!0}(x,k,Z,W)}function Qe(x){if(!mt(x))return[];var k=[];for(var Z in x)k.push(Z);return qe&&N(x,k),k}function ot(x){var k=wn(x);return function(Z){if(null==Z)return!1;var W=Qe(Z);if(wn(W))return!1;for(var ce=0;ce<k;ce++)if(!Fn(Z[x[ce]]))return!1;return x!==Mo||!Fn(Z[un])}}var un="forEach",Zt=["clear","delete"],qn=["get","has","set"],xs=Zt.concat(un,qn),Mo=Zt.concat(qn),Bn=["add"].concat(Zt,un,"has"),sr=us?ot(xs):A("Map"),mr=us?ot(Mo):A("WeakMap"),Ei=us?ot(Bn):A("Set"),So=A("WeakSet");function _i(x){for(var k=P(x),Z=k.length,W=Array(Z),ce=0;ce<Z;ce++)W[ce]=x[k[ce]];return W}function wr(x){for(var k={},Z=P(x),W=0,ce=Z.length;W<ce;W++)k[x[Z[W]]]=Z[W];return k}function br(x){var k=[];for(var Z in x)Fn(x[Z])&&k.push(Z);return k.sort()}function ka(x,k){return function(Z){var W=arguments.length;if(k&&(Z=Object(Z)),W<2||null==Z)return Z;for(var ce=1;ce<W;ce++)for(var ie=arguments[ce],f=x(ie),g=f.length,v=0;v<g;v++){var y=f[v];k&&void 0!==Z[y]||(Z[y]=ie[y])}return Z}}var ac=ka(Qe),Ni=ka(P),Fa=ka(Qe,!0);function Eo(x){if(!mt(x))return{};if(Vn)return Vn(x);var k=function(){};k.prototype=x;var Z=new k;return k.prototype=null,Z}function io(x){return Ds(x)?x:[x]}function ja(x){return ee.toPath(x)}function wu(x,k){for(var Z=k.length,W=0;W<Z;W++){if(null==x)return;x=x[k[W]]}return Z?x:void 0}function Ba(x,k,Z){var W=wu(x,ja(k));return je(W)?Z:W}function oa(x){return x}function za(x){return x=Ni({},x),function(k){return H(k,x)}}function ul(x){return x=ja(x),function(k){return wu(k,x)}}function Hs(x,k,Z){if(void 0===k)return x;switch(null==Z?3:Z){case 1:return function(W){return x.call(k,W)};case 3:return function(W,ce,ie){return x.call(k,W,ce,ie)};case 4:return function(W,ce,ie,f){return x.call(k,W,ce,ie,f)}}return function(){return x.apply(k,arguments)}}function Ga(x,k,Z){return null==x?oa:Fn(x)?Hs(x,k,Z):mt(x)&&!Ds(x)?za(x):ul(x)}function _o(x,k){return Ga(x,k,1/0)}function Zr(x,k,Z){return ee.iteratee!==_o?ee.iteratee(x,k):Ga(x,k,Z)}function Ua(){}function bu(x,k){return null==k&&(k=x,x=0),x+Math.floor(Math.random()*(k-x+1))}ee.toPath=io,ee.iteratee=_o;var Vi=Date.now||function(){return(new Date).getTime()};function Va(x){var k=function(ie){return x[ie]},Z="(?:"+P(x).join("|")+")",W=RegExp(Z),ce=RegExp(Z,"g");return function(ie){return W.test(ie=null==ie?"":""+ie)?ie.replace(ce,k):ie}}var aa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ua=Va(aa),ls=Va(wr(aa)),ll=ee.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},so=/(.)^/,cl={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},fl=/\\|'|\r|\n|\u2028|\u2029/g;function Du(x){return"\\"+cl[x]}var dl=/^\s*(\w|\$)+\s*$/,uc=0;function Wr(x,k,Z,W,ce){if(!(W instanceof k))return x.apply(Z,ce);var ie=Eo(x.prototype),f=x.apply(ie,ce);return mt(f)?f:ie}var No=Je(function(x,k){var Z=No.placeholder,W=function(){for(var ce=0,ie=k.length,f=Array(ie),g=0;g<ie;g++)f[g]=k[g]===Z?arguments[ce++]:k[g];for(;ce<arguments.length;)f.push(arguments[ce++]);return Wr(x,W,this,this,f)};return W});No.placeholder=ee;var zn=Je(function(x,k,Z){if(!Fn(x))throw new TypeError("Bind must be called on a function");var W=Je(function(ce){return Wr(x,W,k,this,Z.concat(ce))});return W}),Dr=pr(wn);function Pr(x,k,Z,W){if(W=W||[],k||0===k){if(k<=0)return W.concat(x)}else k=1/0;for(var ce=W.length,ie=0,f=wn(x);ie<f;ie++){var g=x[ie];if(Dr(g)&&(Ds(g)||Ui(g)))if(k>1)Pr(g,k-1,Z,W),ce=W.length;else for(var v=0,y=g.length;v<y;)W[ce++]=g[v++];else Z||(W[ce++]=g)}return W}var lc=Je(function(x,k){var Z=(k=Pr(k,!1,!1)).length;if(Z<1)throw new Error("bindAll must be passed function names");for(;Z--;){var W=k[Z];x[W]=zn(x[W],x)}return x}),la=Je(function(x,k,Z){return setTimeout(function(){return x.apply(null,Z)},k)}),xu=No(la,ee,1);function or(x){return function(){return!x.apply(this,arguments)}}function oo(x,k){var Z;return function(){return--x>0&&(Z=k.apply(this,arguments)),x<=1&&(k=null),Z}}var Ys=No(oo,2);function hl(x,k,Z){k=Zr(k,Z);for(var W,ce=P(x),ie=0,f=ce.length;ie<f;ie++)if(k(x[W=ce[ie]],W,x))return W}function Mu(x){return function(k,Z,W){Z=Zr(Z,W);for(var ce=wn(k),ie=x>0?0:ce-1;ie>=0&&ie<ce;ie+=x)if(Z(k[ie],ie,k))return ie;return-1}}var ao=Mu(1),Za=Mu(-1);function To(x,k,Z,W){for(var ce=(Z=Zr(Z,W,1))(k),ie=0,f=wn(x);ie<f;){var g=Math.floor((ie+f)/2);Z(x[g])<ce?ie=g+1:f=g}return ie}function ca(x,k,Z){return function(W,ce,ie){var f=0,g=wn(W);if("number"==typeof ie)x>0?f=ie>=0?ie:Math.max(ie+g,f):g=ie>=0?Math.min(ie+1,g):ie+g+1;else if(Z&&ie&&g)return W[ie=Z(W,ce)]===ce?ie:-1;if(ce!=ce)return(ie=k(Me.call(W,f,g),ra))>=0?ie+f:-1;for(ie=x>0?f:g-1;ie>=0&&ie<g;ie+=x)if(W[ie]===ce)return ie;return-1}}var gl=ca(1,ao,To),Su=ca(-1,Za);function Or(x,k,Z){var W=(Dr(x)?ao:hl)(x,k,Z);if(void 0!==W&&-1!==W)return x[W]}function Zi(x,k,Z){var W,ce;if(k=Hs(k,Z),Dr(x))for(W=0,ce=x.length;W<ce;W++)k(x[W],W,x);else{var ie=P(x);for(W=0,ce=ie.length;W<ce;W++)k(x[ie[W]],ie[W],x)}return x}function Dn(x,k,Z){k=Zr(k,Z);for(var W=!Dr(x)&&P(x),ce=(W||x).length,ie=Array(ce),f=0;f<ce;f++){var g=W?W[f]:f;ie[f]=k(x[g],g,x)}return ie}function Eu(x){var k=function(Z,W,ce,ie){var f=!Dr(Z)&&P(Z),g=(f||Z).length,v=x>0?0:g-1;for(ie||(ce=Z[f?f[v]:v],v+=x);v>=0&&v<g;v+=x){var y=f?f[v]:v;ce=W(ce,Z[y],y,Z)}return ce};return function(Z,W,ce,ie){var f=arguments.length>=3;return k(Z,Hs(W,ie,4),ce,f)}}var uo=Eu(1),cs=Eu(-1);function ri(x,k,Z){var W=[];return k=Zr(k,Z),Zi(x,function(ce,ie,f){k(ce,ie,f)&&W.push(ce)}),W}function dn(x,k,Z){k=Zr(k,Z);for(var W=!Dr(x)&&P(x),ce=(W||x).length,ie=0;ie<ce;ie++){var f=W?W[ie]:ie;if(!k(x[f],f,x))return!1}return!0}function Po(x,k,Z){k=Zr(k,Z);for(var W=!Dr(x)&&P(x),ce=(W||x).length,ie=0;ie<ce;ie++){var f=W?W[ie]:ie;if(k(x[f],f,x))return!0}return!1}function Mt(x,k,Z,W){return Dr(x)||(x=_i(x)),("number"!=typeof Z||W)&&(Z=0),gl(x,k,Z)>=0}var Ms=Je(function(x,k,Z){var W,ce;return Fn(k)?ce=k:(k=ja(k),W=k.slice(0,-1),k=k[k.length-1]),Dn(x,function(ie){var f=ce;if(!f){if(W&&W.length&&(ie=wu(ie,W)),null==ie)return;f=ie[k]}return null==f?f:f.apply(ie,Z)})});function Xs(x,k){return Dn(x,ul(k))}function Oo(x,k,Z){var W,ce,ie=-1/0,f=-1/0;if(null==k||"number"==typeof k&&"object"!=typeof x[0]&&null!=x)for(var g=0,v=(x=Dr(x)?x:_i(x)).length;g<v;g++)null!=(W=x[g])&&W>ie&&(ie=W);else k=Zr(k,Z),Zi(x,function(y,D,M){((ce=k(y,D,M))>f||ce===-1/0&&ie===-1/0)&&(ie=y,f=ce)});return ie}var Tt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Wa(x){return x?Ds(x)?Me.call(x):ti(x)?x.match(Tt):Dr(x)?Dn(x,oa):_i(x):[]}function _u(x,k,Z){if(null==k||Z)return Dr(x)||(x=_i(x)),x[bu(x.length-1)];var W=Wa(x),ce=wn(W);k=Math.max(Math.min(k,ce),0);for(var ie=ce-1,f=0;f<k;f++){var g=bu(f,ie),v=W[f];W[f]=W[g],W[g]=v}return W.slice(0,k)}function xr(x,k){return function(Z,W,ce){var ie=k?[[],[]]:{};return W=Zr(W,ce),Zi(Z,function(f,g){var v=W(f,g,Z);x(ie,f,v)}),ie}}var cc=xr(function(x,k,Z){gr(x,Z)?x[Z].push(k):x[Z]=[k]}),fa=xr(function(x,k,Z){x[Z]=k}),_t=xr(function(x,k,Z){gr(x,Z)?x[Z]++:x[Z]=1}),Hr=xr(function(x,k,Z){x[Z?0:1].push(k)},!0);function pl(x,k,Z){return k in Z}var fc=Je(function(x,k){var Z={},W=k[0];if(null==x)return Z;Fn(W)?(k.length>1&&(W=Hs(W,k[1])),k=Qe(x)):(W=pl,k=Pr(k,!1,!1),x=Object(x));for(var ce=0,ie=k.length;ce<ie;ce++){var f=k[ce],g=x[f];W(g,f,x)&&(Z[f]=g)}return Z}),vf=Je(function(x,k){var Z,W=k[0];return Fn(W)?(W=or(W),k.length>1&&(Z=k[1])):(k=Dn(Pr(k,!1,!1),String),W=function(ce,ie){return!Mt(k,ie)}),fc(x,W,Z)});function da(x,k,Z){return Me.call(x,0,Math.max(0,x.length-(null==k||Z?1:k)))}function Yr(x,k,Z){return null==x||x.length<1?null==k||Z?void 0:[]:null==k||Z?x[0]:da(x,x.length-k)}function Ro(x,k,Z){return Me.call(x,null==k||Z?1:k)}var Ha=Je(function(x,k){return k=Pr(k,!0,!0),ri(x,function(Z){return!Mt(k,Z)})}),dc=Je(function(x,k){return Ha(x,k)});function gi(x,k,Z,W){Ln(k)||(W=Z,Z=k,k=!1),null!=Z&&(Z=Zr(Z,W));for(var ce=[],ie=[],f=0,g=wn(x);f<g;f++){var v=x[f],y=Z?Z(v,f,x):v;k&&!Z?(f&&ie===y||ce.push(v),ie=y):Z?Mt(ie,y)||(ie.push(y),ce.push(v)):Mt(ce,v)||ce.push(v)}return ce}var hc=Je(function(x){return gi(Pr(x,!0,!0))});function Nu(x){for(var k=x&&Oo(x,wn).length||0,Z=Array(k),W=0;W<k;W++)Z[W]=Xs(x,W);return Z}var Nn=Je(Nu);function xn(x,k){return x._chain?ee(k).chain():k}function ml(x){return Zi(br(x),function(k){var Z=ee[k]=x[k];ee.prototype[k]=function(){var W=[this._wrapped];return ct.apply(W,arguments),xn(this,Z.apply(ee,W))}}),ee}Zi(["pop","push","reverse","shift","sort","splice","unshift"],function(x){var k=rr[x];ee.prototype[x]=function(){var Z=this._wrapped;return null!=Z&&(k.apply(Z,arguments),"shift"!==x&&"splice"!==x||0!==Z.length||delete Z[0]),xn(this,Z)}}),Zi(["concat","join","slice"],function(x){var k=rr[x];ee.prototype[x]=function(){var Z=this._wrapped;return null!=Z&&(Z=k.apply(Z,arguments)),xn(this,Z)}});var vl=ml({__proto__:null,VERSION:"1.13.2",restArguments:Je,isObject:mt,isNull:function(x){return null===x},isUndefined:je,isBoolean:Ln,isElement:function(x){return!(!x||1!==x.nodeType)},isString:ti,isNumber:_n,isDate:hi,isRegExp:Do,isError:xo,isSymbol:Yn,isArrayBuffer:as,isDataView:hr,isArray:Ds,isFunction:Fn,isArguments:Ui,isFinite:function(x){return!Yn(x)&&jt(x)&&!isNaN(parseFloat(x))},isNaN:ra,isTypedArray:xt,isEmpty:function(x){if(null==x)return!0;var k=wn(x);return"number"==typeof k&&(Ds(x)||ti(x)||Ui(x))?0===k:0===wn(P(x))},isMatch:H,isEqual:function(x,k){return Pe(x,k)},isMap:sr,isWeakMap:mr,isSet:Ei,isWeakSet:So,keys:P,allKeys:Qe,values:_i,pairs:function(x){for(var k=P(x),Z=k.length,W=Array(Z),ce=0;ce<Z;ce++)W[ce]=[k[ce],x[k[ce]]];return W},invert:wr,functions:br,methods:br,extend:ac,extendOwn:Ni,assign:Ni,defaults:Fa,create:function(x,k){var Z=Eo(x);return k&&Ni(Z,k),Z},clone:function(x){return mt(x)?Ds(x)?x.slice():ac({},x):x},tap:function(x,k){return k(x),x},get:Ba,has:function(x,k){for(var Z=(k=ja(k)).length,W=0;W<Z;W++){var ce=k[W];if(!gr(x,ce))return!1;x=x[ce]}return!!Z},mapObject:function(x,k,Z){k=Zr(k,Z);for(var W=P(x),ce=W.length,ie={},f=0;f<ce;f++){var g=W[f];ie[g]=k(x[g],g,x)}return ie},identity:oa,constant:Si,noop:Ua,toPath:io,property:ul,propertyOf:function(x){return null==x?Ua:function(k){return Ba(x,k)}},matcher:za,matches:za,times:function(x,k,Z){var W=Array(Math.max(0,x));k=Hs(k,Z,1);for(var ce=0;ce<x;ce++)W[ce]=k(ce);return W},random:bu,now:Vi,escape:ua,unescape:ls,templateSettings:ll,template:function(x,k,Z){!k&&Z&&(k=Z),k=Fa({},k,ee.templateSettings);var W=RegExp([(k.escape||so).source,(k.interpolate||so).source,(k.evaluate||so).source].join("|")+"|$","g"),ce=0,ie="__p+='";x.replace(W,function(y,D,M,O,X){return ie+=x.slice(ce,X).replace(fl,Du),ce=X+y.length,D?ie+="'+\n((__t=("+D+"))==null?'':_.escape(__t))+\n'":M?ie+="'+\n((__t=("+M+"))==null?'':__t)+\n'":O&&(ie+="';\n"+O+"\n__p+='"),y}),ie+="';\n";var f,g=k.variable;if(g){if(!dl.test(g))throw new Error("variable is not a bare identifier: "+g)}else ie="with(obj||{}){\n"+ie+"}\n",g="obj";ie="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+ie+"return __p;\n";try{f=new Function(g,"_",ie)}catch(y){throw y.source=ie,y}var v=function(y){return f.call(this,y,ee)};return v.source="function("+g+"){\n"+ie+"}",v},result:function(x,k,Z){var W=(k=ja(k)).length;if(!W)return Fn(Z)?Z.call(x):Z;for(var ce=0;ce<W;ce++){var ie=null==x?void 0:x[k[ce]];void 0===ie&&(ie=Z,ce=W),x=Fn(ie)?ie.call(x):ie}return x},uniqueId:function(x){var k=++uc+"";return x?x+k:k},chain:function(x){var k=ee(x);return k._chain=!0,k},iteratee:_o,partial:No,bind:zn,bindAll:lc,memoize:function(x,k){var Z=function(W){var ce=Z.cache,ie=""+(k?k.apply(this,arguments):W);return gr(ce,ie)||(ce[ie]=x.apply(this,arguments)),ce[ie]};return Z.cache={},Z},delay:la,defer:xu,throttle:function(x,k,Z){var W,ce,ie,f,g=0;Z||(Z={});var v=function(){g=!1===Z.leading?0:Vi(),W=null,f=x.apply(ce,ie),W||(ce=ie=null)},y=function(){var D=Vi();g||!1!==Z.leading||(g=D);var M=k-(D-g);return ce=this,ie=arguments,M<=0||M>k?(W&&(clearTimeout(W),W=null),g=D,f=x.apply(ce,ie),W||(ce=ie=null)):W||!1===Z.trailing||(W=setTimeout(v,M)),f};return y.cancel=function(){clearTimeout(W),g=0,W=ce=ie=null},y},debounce:function(x,k,Z){var W,ce,ie,f,g,v=function(){var D=Vi()-ce;k>D?W=setTimeout(v,k-D):(W=null,Z||(f=x.apply(g,ie)),W||(ie=g=null))},y=Je(function(D){return g=this,ie=D,ce=Vi(),W||(W=setTimeout(v,k),Z&&(f=x.apply(g,ie))),f});return y.cancel=function(){clearTimeout(W),W=ie=g=null},y},wrap:function(x,k){return No(k,x)},negate:or,compose:function(){var x=arguments,k=x.length-1;return function(){for(var Z=k,W=x[k].apply(this,arguments);Z--;)W=x[Z].call(this,W);return W}},after:function(x,k){return function(){if(--x<1)return k.apply(this,arguments)}},before:oo,once:Ys,findKey:hl,findIndex:ao,findLastIndex:Za,sortedIndex:To,indexOf:gl,lastIndexOf:Su,find:Or,detect:Or,findWhere:function(x,k){return Or(x,za(k))},each:Zi,forEach:Zi,map:Dn,collect:Dn,reduce:uo,foldl:uo,inject:uo,reduceRight:cs,foldr:cs,filter:ri,select:ri,reject:function(x,k,Z){return ri(x,or(Zr(k)),Z)},every:dn,all:dn,some:Po,any:Po,contains:Mt,includes:Mt,include:Mt,invoke:Ms,pluck:Xs,where:function(x,k){return ri(x,za(k))},max:Oo,min:function(x,k,Z){var W,ce,ie=1/0,f=1/0;if(null==k||"number"==typeof k&&"object"!=typeof x[0]&&null!=x)for(var g=0,v=(x=Dr(x)?x:_i(x)).length;g<v;g++)null!=(W=x[g])&&W<ie&&(ie=W);else k=Zr(k,Z),Zi(x,function(y,D,M){((ce=k(y,D,M))<f||ce===1/0&&ie===1/0)&&(ie=y,f=ce)});return ie},shuffle:function(x){return _u(x,1/0)},sample:_u,sortBy:function(x,k,Z){var W=0;return k=Zr(k,Z),Xs(Dn(x,function(ce,ie,f){return{value:ce,index:W++,criteria:k(ce,ie,f)}}).sort(function(ce,ie){var f=ce.criteria,g=ie.criteria;if(f!==g){if(f>g||void 0===f)return 1;if(f<g||void 0===g)return-1}return ce.index-ie.index}),"value")},groupBy:cc,indexBy:fa,countBy:_t,partition:Hr,toArray:Wa,size:function(x){return null==x?0:Dr(x)?x.length:P(x).length},pick:fc,omit:vf,first:Yr,head:Yr,take:Yr,initial:da,last:function(x,k,Z){return null==x||x.length<1?null==k||Z?void 0:[]:null==k||Z?x[x.length-1]:Ro(x,Math.max(0,x.length-k))},rest:Ro,tail:Ro,drop:Ro,compact:function(x){return ri(x,Boolean)},flatten:function(x,k){return Pr(x,k,!1)},without:dc,uniq:gi,unique:gi,union:hc,intersection:function(x){for(var k=[],Z=arguments.length,W=0,ce=wn(x);W<ce;W++){var ie=x[W];if(!Mt(k,ie)){var f;for(f=1;f<Z&&Mt(arguments[f],ie);f++);f===Z&&k.push(ie)}}return k},difference:Ha,unzip:Nu,transpose:Nu,zip:Nn,object:function(x,k){for(var Z={},W=0,ce=wn(x);W<ce;W++)k?Z[x[W]]=k[W]:Z[x[W][0]]=x[W][1];return Z},range:function(x,k,Z){null==k&&(k=x||0,x=0),Z||(Z=k<x?-1:1);for(var W=Math.max(Math.ceil((k-x)/Z),0),ce=Array(W),ie=0;ie<W;ie++,x+=Z)ce[ie]=x;return ce},chunk:function(x,k){if(null==k||k<1)return[];for(var Z=[],W=0,ce=x.length;W<ce;)Z.push(Me.call(x,W,W+=k));return Z},mixin:ml,default:ee});return vl._=vl,vl}()}},ei=>{ei(ei.s=996)}]);